webpackJsonp([1],{"++K3":function(e,t){var i,n,r,o,s,a,l,c,h,u,d,f,p,m,g,v=!1;function b(){if(!v){v=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),b=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(f=/\b(iPhone|iP[ao]d)/.exec(e),p=/\b(iP[ao]d)/.exec(e),u=/Android/i.exec(e),m=/FBAN\/\w+;/i.exec(e),g=/Mobile/i.exec(e),d=!!/Win64/.exec(e),t){(i=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(i=document.documentMode);var _=/(?:Trident\/(\d+.\d+))/.exec(e);a=_?parseFloat(_[1])+4:i,n=t[2]?parseFloat(t[2]):NaN,r=t[3]?parseFloat(t[3]):NaN,(o=t[4]?parseFloat(t[4]):NaN)?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),s=t&&t[1]?parseFloat(t[1]):NaN):s=NaN}else i=n=r=s=o=NaN;if(b){if(b[1]){var y=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);l=!y||parseFloat(y[1].replace("_","."))}else l=!1;c=!!b[2],h=!!b[3]}else l=c=h=!1}}var _={ie:function(){return b()||i},ieCompatibilityMode:function(){return b()||a>i},ie64:function(){return _.ie()&&d},firefox:function(){return b()||n},opera:function(){return b()||r},webkit:function(){return b()||o},safari:function(){return _.webkit()},chrome:function(){return b()||s},windows:function(){return b()||c},osx:function(){return b()||l},linux:function(){return b()||h},iphone:function(){return b()||f},mobile:function(){return b()||f||p||u||g},nativeApp:function(){return b()||m},android:function(){return b()||u},ipad:function(){return b()||p}};e.exports=_},"+E39":function(e,t,i){e.exports=!i("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+ZMJ":function(e,t,i){var n=i("lOnJ");e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},"+tPU":function(e,t,i){i("xGkn");for(var n=i("7KvD"),r=i("hJx8"),o=i("/bQp"),s=i("dSzd")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var c=a[l],h=n[c],u=h&&h.prototype;u&&!u[s]&&r(u,s,c),o[c]=o.Array}},"/bQp":function(e,t){e.exports={}},"/n6Q":function(e,t,i){i("zQR9"),i("+tPU"),e.exports=i("Kh4W").f("iterator")},"/ocq":function(e,t,i){"use strict";
/*!
  * vue-router v3.4.9
  * (c) 2020 Evan You
  * @license MIT
  */function n(e,t){0}function r(e,t){for(var i in t)e[i]=t[i];return e}var o=/[!'()*]/g,s=function(e){return"%"+e.charCodeAt(0).toString(16)},a=/%2C/g,l=function(e){return encodeURIComponent(e).replace(o,s).replace(a,",")};function c(e){try{return decodeURIComponent(e)}catch(e){0}return e}var h=function(e){return null==e||"object"==typeof e?e:String(e)};function u(e){var t={};return(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var i=e.replace(/\+/g," ").split("="),n=c(i.shift()),r=i.length>0?c(i.join("=")):null;void 0===t[n]?t[n]=r:Array.isArray(t[n])?t[n].push(r):t[n]=[t[n],r]}),t):t}function d(e){var t=e?Object.keys(e).map(function(t){var i=e[t];if(void 0===i)return"";if(null===i)return l(t);if(Array.isArray(i)){var n=[];return i.forEach(function(e){void 0!==e&&(null===e?n.push(l(t)):n.push(l(t)+"="+l(e)))}),n.join("&")}return l(t)+"="+l(i)}).filter(function(e){return e.length>0}).join("&"):null;return t?"?"+t:""}var f=/\/?$/;function p(e,t,i,n){var r=n&&n.options.stringifyQuery,o=t.query||{};try{o=m(o)}catch(e){}var s={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:o,params:t.params||{},fullPath:v(t,r),matched:e?function(e){var t=[];for(;e;)t.unshift(e),e=e.parent;return t}(e):[]};return i&&(s.redirectedFrom=v(i,r)),Object.freeze(s)}function m(e){if(Array.isArray(e))return e.map(m);if(e&&"object"==typeof e){var t={};for(var i in e)t[i]=m(e[i]);return t}return e}var g=p(null,{path:"/"});function v(e,t){var i=e.path,n=e.query;void 0===n&&(n={});var r=e.hash;return void 0===r&&(r=""),(i||"/")+(t||d)(n)+r}function b(e,t){return t===g?e===t:!!t&&(e.path&&t.path?e.path.replace(f,"")===t.path.replace(f,"")&&e.hash===t.hash&&_(e.query,t.query):!(!e.name||!t.name)&&(e.name===t.name&&e.hash===t.hash&&_(e.query,t.query)&&_(e.params,t.params)))}function _(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var i=Object.keys(e).sort(),n=Object.keys(t).sort();return i.length===n.length&&i.every(function(i,r){var o=e[i];if(n[r]!==i)return!1;var s=t[i];return null==o||null==s?o===s:"object"==typeof o&&"object"==typeof s?_(o,s):String(o)===String(s)})}function y(e){for(var t=0;t<e.matched.length;t++){var i=e.matched[t];for(var n in i.instances){var r=i.instances[n],o=i.enteredCbs[n];if(r&&o){delete i.enteredCbs[n];for(var s=0;s<o.length;s++)r._isBeingDestroyed||o[s](r)}}}}var w={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var i=t.props,n=t.children,o=t.parent,s=t.data;s.routerView=!0;for(var a=o.$createElement,l=i.name,c=o.$route,h=o._routerViewCache||(o._routerViewCache={}),u=0,d=!1;o&&o._routerRoot!==o;){var f=o.$vnode?o.$vnode.data:{};f.routerView&&u++,f.keepAlive&&o._directInactive&&o._inactive&&(d=!0),o=o.$parent}if(s.routerViewDepth=u,d){var p=h[l],m=p&&p.component;return m?(p.configProps&&C(m,s,p.route,p.configProps),a(m,s,n)):a()}var g=c.matched[u],v=g&&g.components[l];if(!g||!v)return h[l]=null,a();h[l]={component:v},s.registerRouteInstance=function(e,t){var i=g.instances[l];(t&&i!==e||!t&&i===e)&&(g.instances[l]=t)},(s.hook||(s.hook={})).prepatch=function(e,t){g.instances[l]=t.componentInstance},s.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==g.instances[l]&&(g.instances[l]=e.componentInstance),y(c)};var b=g.props&&g.props[l];return b&&(r(h[l],{route:c,configProps:b}),C(v,s,c,b)),a(v,s,n)}};function C(e,t,i,n){var o=t.props=function(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}(i,n);if(o){o=t.props=r({},o);var s=t.attrs=t.attrs||{};for(var a in o)e.props&&a in e.props||(s[a]=o[a],delete o[a])}}function S(e,t,i){var n=e.charAt(0);if("/"===n)return e;if("?"===n||"#"===n)return t+e;var r=t.split("/");i&&r[r.length-1]||r.pop();for(var o=e.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];".."===a?r.pop():"."!==a&&r.push(a)}return""!==r[0]&&r.unshift(""),r.join("/")}function x(e){return e.replace(/\/\//g,"/")}var k=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},L=W,D=M,E=function(e,t){return A(M(e,t),t)},N=A,T=B,O=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function M(e,t){for(var i,n=[],r=0,o=0,s="",a=t&&t.delimiter||"/";null!=(i=O.exec(e));){var l=i[0],c=i[1],h=i.index;if(s+=e.slice(o,h),o=h+l.length,c)s+=c[1];else{var u=e[o],d=i[2],f=i[3],p=i[4],m=i[5],g=i[6],v=i[7];s&&(n.push(s),s="");var b=null!=d&&null!=u&&u!==d,_="+"===g||"*"===g,y="?"===g||"*"===g,w=i[2]||a,C=p||m;n.push({name:f||r++,prefix:d||"",delimiter:w,optional:y,repeat:_,partial:b,asterisk:!!v,pattern:C?R(C):v?".*":"[^"+P(w)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&n.push(s),n}function I(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function A(e,t){for(var i=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(i[n]=new RegExp("^(?:"+e[n].pattern+")$",V(t)));return function(t,n){for(var r="",o=t||{},s=(n||{}).pretty?I:encodeURIComponent,a=0;a<e.length;a++){var l=e[a];if("string"!=typeof l){var c,h=o[l.name];if(null==h){if(l.optional){l.partial&&(r+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(k(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var u=0;u<h.length;u++){if(c=s(h[u]),!i[a].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");r+=(0===u?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(h).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):s(h),!i[a].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');r+=l.prefix+c}}else r+=l}return r}}function P(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function R(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function F(e,t){return e.keys=t,e}function V(e){return e&&e.sensitive?"":"i"}function B(e,t,i){k(t)||(i=t||i,t=[]);for(var n=(i=i||{}).strict,r=!1!==i.end,o="",s=0;s<e.length;s++){var a=e[s];if("string"==typeof a)o+=P(a);else{var l=P(a.prefix),c="(?:"+a.pattern+")";t.push(a),a.repeat&&(c+="(?:"+l+c+")*"),o+=c=a.optional?a.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var h=P(i.delimiter||"/"),u=o.slice(-h.length)===h;return n||(o=(u?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),o+=r?"$":n&&u?"":"(?="+h+"|$)",F(new RegExp("^"+o,V(i)),t)}function W(e,t,i){return k(t)||(i=t||i,t=[]),i=i||{},e instanceof RegExp?function(e,t){var i=e.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return F(e,t)}(e,t):k(e)?function(e,t,i){for(var n=[],r=0;r<e.length;r++)n.push(W(e[r],t,i).source);return F(new RegExp("(?:"+n.join("|")+")",V(i)),t)}(e,t,i):function(e,t,i){return B(M(e,i),t,i)}(e,t,i)}L.parse=D,L.compile=E,L.tokensToFunction=N,L.tokensToRegExp=T;var $=Object.create(null);function z(e,t,i){t=t||{};try{var n=$[e]||($[e]=L.compile(e));return"string"==typeof t.pathMatch&&(t[0]=t.pathMatch),n(t,{pretty:!0})}catch(e){return""}finally{delete t[0]}}function H(e,t,i,n){var o="string"==typeof e?{path:e}:e;if(o._normalized)return o;if(o.name){var s=(o=r({},e)).params;return s&&"object"==typeof s&&(o.params=r({},s)),o}if(!o.path&&o.params&&t){(o=r({},o))._normalized=!0;var a=r(r({},t.params),o.params);if(t.name)o.name=t.name,o.params=a;else if(t.matched.length){var l=t.matched[t.matched.length-1].path;o.path=z(l,a,t.path)}else 0;return o}var c=function(e){var t="",i="",n=e.indexOf("#");n>=0&&(t=e.slice(n),e=e.slice(0,n));var r=e.indexOf("?");return r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),{path:e,query:i,hash:t}}(o.path||""),d=t&&t.path||"/",f=c.path?S(c.path,d,i||o.append):d,p=function(e,t,i){void 0===t&&(t={});var n,r=i||u;try{n=r(e||"")}catch(e){n={}}for(var o in t){var s=t[o];n[o]=Array.isArray(s)?s.map(h):h(s)}return n}(c.query,o.query,n&&n.options.parseQuery),m=o.hash||c.hash;return m&&"#"!==m.charAt(0)&&(m="#"+m),{_normalized:!0,path:f,query:p,hash:m}}var j,U=[String,Object],K=[String,Array],q=function(){},G={name:"RouterLink",props:{to:{type:U,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:K,default:"click"}},render:function(e){var t=this,i=this.$router,n=this.$route,o=i.resolve(this.to,n,this.append),s=o.location,a=o.route,l=o.href,c={},h=i.options.linkActiveClass,u=i.options.linkExactActiveClass,d=null==h?"router-link-active":h,m=null==u?"router-link-exact-active":u,g=null==this.activeClass?d:this.activeClass,v=null==this.exactActiveClass?m:this.exactActiveClass,_=a.redirectedFrom?p(null,H(a.redirectedFrom),null,i):a;c[v]=b(n,_),c[g]=this.exact?c[v]:function(e,t){return 0===e.path.replace(f,"/").indexOf(t.path.replace(f,"/"))&&(!t.hash||e.hash===t.hash)&&function(e,t){for(var i in t)if(!(i in e))return!1;return!0}(e.query,t.query)}(n,_);var y=c[v]?this.ariaCurrentValue:null,w=function(e){Y(e)&&(t.replace?i.replace(s,q):i.push(s,q))},C={click:Y};Array.isArray(this.event)?this.event.forEach(function(e){C[e]=w}):C[this.event]=w;var S={class:c},x=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:a,navigate:w,isActive:c[g],isExactActive:c[v]});if(x){if(1===x.length)return x[0];if(x.length>1||!x.length)return 0===x.length?e():e("span",{},x)}if("a"===this.tag)S.on=C,S.attrs={href:l,"aria-current":y};else{var k=function e(t){if(t)for(var i,n=0;n<t.length;n++){if("a"===(i=t[n]).tag)return i;if(i.children&&(i=e(i.children)))return i}}(this.$slots.default);if(k){k.isStatic=!1;var L=k.data=r({},k.data);for(var D in L.on=L.on||{},L.on){var E=L.on[D];D in C&&(L.on[D]=Array.isArray(E)?E:[E])}for(var N in C)N in L.on?L.on[N].push(C[N]):L.on[N]=w;var T=k.data.attrs=r({},k.data.attrs);T.href=l,T["aria-current"]=y}else S.on=C}return e(this.tag,S,this.$slots.default)}};function Y(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function X(e){if(!X.installed||j!==e){X.installed=!0,j=e;var t=function(e){return void 0!==e},i=function(e,i){var n=e.$options._parentVnode;t(n)&&t(n=n.data)&&t(n=n.registerRouteInstance)&&n(e,i)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",w),e.component("RouterLink",G);var n=e.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.beforeRouteUpdate=n.created}}var Z="undefined"!=typeof window;function Q(e,t,i,n){var r=t||[],o=i||Object.create(null),s=n||Object.create(null);e.forEach(function(e){!function e(t,i,n,r,o,s){var a=r.path;var l=r.name;0;var c=r.pathToRegexpOptions||{};var h=function(e,t,i){i||(e=e.replace(/\/$/,""));if("/"===e[0])return e;if(null==t)return e;return x(t.path+"/"+e)}(a,o,c.strict);"boolean"==typeof r.caseSensitive&&(c.sensitive=r.caseSensitive);var u={path:h,regex:function(e,t){var i=L(e,[],t);return i}(h,c),components:r.components||{default:r.component},instances:{},enteredCbs:{},name:l,parent:o,matchAs:s,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};r.children&&r.children.forEach(function(r){var o=s?x(s+"/"+r.path):void 0;e(t,i,n,r,u,o)});i[u.path]||(t.push(u.path),i[u.path]=u);if(void 0!==r.alias)for(var d=Array.isArray(r.alias)?r.alias:[r.alias],f=0;f<d.length;++f){var p=d[f];0;var m={path:p,children:r.children};e(t,i,n,m,o,u.path||"/")}l&&(n[l]||(n[l]=u))}(r,o,s,e)});for(var a=0,l=r.length;a<l;a++)"*"===r[a]&&(r.push(r.splice(a,1)[0]),l--,a--);return{pathList:r,pathMap:o,nameMap:s}}function J(e,t){var i=Q(e),n=i.pathList,r=i.pathMap,o=i.nameMap;function s(e,i,s){var a=H(e,i,!1,t),c=a.name;if(c){var h=o[c];if(!h)return l(null,a);var u=h.regex.keys.filter(function(e){return!e.optional}).map(function(e){return e.name});if("object"!=typeof a.params&&(a.params={}),i&&"object"==typeof i.params)for(var d in i.params)!(d in a.params)&&u.indexOf(d)>-1&&(a.params[d]=i.params[d]);return a.path=z(h.path,a.params),l(h,a,s)}if(a.path){a.params={};for(var f=0;f<n.length;f++){var p=n[f],m=r[p];if(ee(m.regex,a.path,a.params))return l(m,a,s)}}return l(null,a)}function a(e,i){var n=e.redirect,r="function"==typeof n?n(p(e,i,null,t)):n;if("string"==typeof r&&(r={path:r}),!r||"object"!=typeof r)return l(null,i);var a=r,c=a.name,h=a.path,u=i.query,d=i.hash,f=i.params;if(u=a.hasOwnProperty("query")?a.query:u,d=a.hasOwnProperty("hash")?a.hash:d,f=a.hasOwnProperty("params")?a.params:f,c){o[c];return s({_normalized:!0,name:c,query:u,hash:d,params:f},void 0,i)}if(h){var m=function(e,t){return S(e,t.parent?t.parent.path:"/",!0)}(h,e);return s({_normalized:!0,path:z(m,f),query:u,hash:d},void 0,i)}return l(null,i)}function l(e,i,n){return e&&e.redirect?a(e,n||i):e&&e.matchAs?function(e,t,i){var n=s({_normalized:!0,path:z(i,t.params)});if(n){var r=n.matched,o=r[r.length-1];return t.params=n.params,l(o,t)}return l(null,t)}(0,i,e.matchAs):p(e,i,n,t)}return{match:s,addRoutes:function(e){Q(e,n,r,o)}}}function ee(e,t,i){var n=t.match(e);if(!n)return!1;if(!i)return!0;for(var r=1,o=n.length;r<o;++r){var s=e.keys[r-1];s&&(i[s.name||"pathMatch"]="string"==typeof n[r]?c(n[r]):n[r])}return!0}var te=Z&&window.performance&&window.performance.now?window.performance:Date;function ie(){return te.now().toFixed(3)}var ne=ie();function re(){return ne}function oe(e){return ne=e}var se=Object.create(null);function ae(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),i=r({},window.history.state);return i.key=re(),window.history.replaceState(i,"",t),window.addEventListener("popstate",he),function(){window.removeEventListener("popstate",he)}}function le(e,t,i,n){if(e.app){var r=e.options.scrollBehavior;r&&e.app.$nextTick(function(){var o=function(){var e=re();if(e)return se[e]}(),s=r.call(e,t,i,n?o:null);s&&("function"==typeof s.then?s.then(function(e){me(e,o)}).catch(function(e){0}):me(s,o))})}}function ce(){var e=re();e&&(se[e]={x:window.pageXOffset,y:window.pageYOffset})}function he(e){ce(),e.state&&e.state.key&&oe(e.state.key)}function ue(e){return fe(e.x)||fe(e.y)}function de(e){return{x:fe(e.x)?e.x:window.pageXOffset,y:fe(e.y)?e.y:window.pageYOffset}}function fe(e){return"number"==typeof e}var pe=/^#\d/;function me(e,t){var i,n="object"==typeof e;if(n&&"string"==typeof e.selector){var r=pe.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(r){var o=e.offset&&"object"==typeof e.offset?e.offset:{};t=function(e,t){var i=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{x:n.left-i.left-t.x,y:n.top-i.top-t.y}}(r,o={x:fe((i=o).x)?i.x:0,y:fe(i.y)?i.y:0})}else ue(e)&&(t=de(e))}else n&&ue(e)&&(t=de(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}var ge,ve=Z&&((-1===(ge=window.navigator.userAgent).indexOf("Android 2.")&&-1===ge.indexOf("Android 4.0")||-1===ge.indexOf("Mobile Safari")||-1!==ge.indexOf("Chrome")||-1!==ge.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function be(e,t){ce();var i=window.history;try{if(t){var n=r({},i.state);n.key=re(),i.replaceState(n,"",e)}else i.pushState({key:oe(ie())},"",e)}catch(i){window.location[t?"replace":"assign"](e)}}function _e(e){be(e,!0)}function ye(e,t,i){var n=function(r){r>=e.length?i():e[r]?t(e[r],function(){n(r+1)}):n(r+1)};n(0)}var we={redirected:2,aborted:4,cancelled:8,duplicated:16};function Ce(e,t){return xe(e,t,we.redirected,'Redirected when going from "'+e.fullPath+'" to "'+function(e){if("string"==typeof e)return e;if("path"in e)return e.path;var t={};return ke.forEach(function(i){i in e&&(t[i]=e[i])}),JSON.stringify(t,null,2)}(t)+'" via a navigation guard.')}function Se(e,t){return xe(e,t,we.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function xe(e,t,i,n){var r=new Error(n);return r._isRouter=!0,r.from=e,r.to=t,r.type=i,r}var ke=["params","query","hash"];function Le(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function De(e,t){return Le(e)&&e._isRouter&&(null==t||e.type===t)}function Ee(e){return function(t,i,n){var r=!1,o=0,s=null;Ne(e,function(e,t,i,a){if("function"==typeof e&&void 0===e.cid){r=!0,o++;var l,c=Me(function(t){var r;((r=t).__esModule||Oe&&"Module"===r[Symbol.toStringTag])&&(t=t.default),e.resolved="function"==typeof t?t:j.extend(t),i.components[a]=t,--o<=0&&n()}),h=Me(function(e){var t="Failed to resolve async component "+a+": "+e;s||(s=Le(e)?e:new Error(t),n(s))});try{l=e(c,h)}catch(e){h(e)}if(l)if("function"==typeof l.then)l.then(c,h);else{var u=l.component;u&&"function"==typeof u.then&&u.then(c,h)}}}),r||n()}}function Ne(e,t){return Te(e.map(function(e){return Object.keys(e.components).map(function(i){return t(e.components[i],e.instances[i],e,i)})}))}function Te(e){return Array.prototype.concat.apply([],e)}var Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Me(e){var t=!1;return function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];if(!t)return t=!0,e.apply(this,i)}}var Ie=function(e,t){this.router=e,this.base=function(e){if(!e)if(Z){var t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else e="/";"/"!==e.charAt(0)&&(e="/"+e);return e.replace(/\/$/,"")}(t),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Ae(e,t,i,n){var r=Ne(e,function(e,n,r,o){var s=function(e,t){"function"!=typeof e&&(e=j.extend(e));return e.options[t]}(e,t);if(s)return Array.isArray(s)?s.map(function(e){return i(e,n,r,o)}):i(s,n,r,o)});return Te(n?r.reverse():r)}function Pe(e,t){if(t)return function(){return e.apply(t,arguments)}}Ie.prototype.listen=function(e){this.cb=e},Ie.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},Ie.prototype.onError=function(e){this.errorCbs.push(e)},Ie.prototype.transitionTo=function(e,t,i){var n,r=this;try{n=this.router.match(e,this.current)}catch(e){throw this.errorCbs.forEach(function(t){t(e)}),e}var o=this.current;this.confirmTransition(n,function(){r.updateRoute(n),t&&t(n),r.ensureURL(),r.router.afterHooks.forEach(function(e){e&&e(n,o)}),r.ready||(r.ready=!0,r.readyCbs.forEach(function(e){e(n)}))},function(e){i&&i(e),e&&!r.ready&&(De(e,we.redirected)&&o===g||(r.ready=!0,r.readyErrorCbs.forEach(function(t){t(e)})))})},Ie.prototype.confirmTransition=function(e,t,i){var r=this,o=this.current;this.pending=e;var s,a,l=function(e){!De(e)&&Le(e)&&(r.errorCbs.length?r.errorCbs.forEach(function(t){t(e)}):(n(),console.error(e))),i&&i(e)},c=e.matched.length-1,h=o.matched.length-1;if(b(e,o)&&c===h&&e.matched[c]===o.matched[h])return this.ensureURL(),l(((a=xe(s=o,e,we.duplicated,'Avoided redundant navigation to current location: "'+s.fullPath+'".')).name="NavigationDuplicated",a));var u=function(e,t){var i,n=Math.max(e.length,t.length);for(i=0;i<n&&e[i]===t[i];i++);return{updated:t.slice(0,i),activated:t.slice(i),deactivated:e.slice(i)}}(this.current.matched,e.matched),d=u.updated,f=u.deactivated,p=u.activated,m=function(t,i){if(r.pending!==e)return l(Se(o,e));try{t(e,o,function(t){!1===t?(r.ensureURL(!0),l(function(e,t){return xe(e,t,we.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}(o,e))):Le(t)?(r.ensureURL(!0),l(t)):"string"==typeof t||"object"==typeof t&&("string"==typeof t.path||"string"==typeof t.name)?(l(Ce(o,e)),"object"==typeof t&&t.replace?r.replace(t):r.push(t)):i(t)})}catch(e){l(e)}};ye([].concat(function(e){return Ae(e,"beforeRouteLeave",Pe,!0)}(f),this.router.beforeHooks,function(e){return Ae(e,"beforeRouteUpdate",Pe)}(d),p.map(function(e){return e.beforeEnter}),Ee(p)),m,function(){ye(function(e){return Ae(e,"beforeRouteEnter",function(e,t,i,n){return function(e,t,i){return function(n,r,o){return e(n,r,function(e){"function"==typeof e&&(t.enteredCbs[i]||(t.enteredCbs[i]=[]),t.enteredCbs[i].push(e)),o(e)})}}(e,i,n)})}(p).concat(r.router.resolveHooks),m,function(){if(r.pending!==e)return l(Se(o,e));r.pending=null,t(e),r.router.app&&r.router.app.$nextTick(function(){y(e)})})})},Ie.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},Ie.prototype.setupListeners=function(){},Ie.prototype.teardown=function(){this.listeners.forEach(function(e){e()}),this.listeners=[],this.current=g,this.pending=null};var Re=function(e){function t(t,i){e.call(this,t,i),this._startLocation=Fe(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,i=t.options.scrollBehavior,n=ve&&i;n&&this.listeners.push(ae());var r=function(){var i=e.current,r=Fe(e.base);e.current===g&&r===e._startLocation||e.transitionTo(r,function(e){n&&le(t,e,i,!0)})};window.addEventListener("popstate",r),this.listeners.push(function(){window.removeEventListener("popstate",r)})}},t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,i){var n=this,r=this.current;this.transitionTo(e,function(e){be(x(n.base+e.fullPath)),le(n.router,e,r,!1),t&&t(e)},i)},t.prototype.replace=function(e,t,i){var n=this,r=this.current;this.transitionTo(e,function(e){_e(x(n.base+e.fullPath)),le(n.router,e,r,!1),t&&t(e)},i)},t.prototype.ensureURL=function(e){if(Fe(this.base)!==this.current.fullPath){var t=x(this.base+this.current.fullPath);e?be(t):_e(t)}},t.prototype.getCurrentLocation=function(){return Fe(this.base)},t}(Ie);function Fe(e){var t=window.location.pathname;return e&&0===t.toLowerCase().indexOf(e.toLowerCase())&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var Ve=function(e){function t(t,i,n){e.call(this,t,i),n&&function(e){var t=Fe(e);if(!/^\/#/.test(t))return window.location.replace(x(e+"/#"+t)),!0}(this.base)||Be()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router.options.scrollBehavior,i=ve&&t;i&&this.listeners.push(ae());var n=function(){var t=e.current;Be()&&e.transitionTo(We(),function(n){i&&le(e.router,n,t,!0),ve||He(n.fullPath)})},r=ve?"popstate":"hashchange";window.addEventListener(r,n),this.listeners.push(function(){window.removeEventListener(r,n)})}},t.prototype.push=function(e,t,i){var n=this,r=this.current;this.transitionTo(e,function(e){ze(e.fullPath),le(n.router,e,r,!1),t&&t(e)},i)},t.prototype.replace=function(e,t,i){var n=this,r=this.current;this.transitionTo(e,function(e){He(e.fullPath),le(n.router,e,r,!1),t&&t(e)},i)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;We()!==t&&(e?ze(t):He(t))},t.prototype.getCurrentLocation=function(){return We()},t}(Ie);function Be(){var e=We();return"/"===e.charAt(0)||(He("/"+e),!1)}function We(){var e=window.location.href,t=e.indexOf("#");return t<0?"":e=e.slice(t+1)}function $e(e){var t=window.location.href,i=t.indexOf("#");return(i>=0?t.slice(0,i):t)+"#"+e}function ze(e){ve?be($e(e)):window.location.hash=e}function He(e){ve?_e($e(e)):window.location.replace($e(e))}var je=function(e){function t(t,i){e.call(this,t,i),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,i){var n=this;this.transitionTo(e,function(e){n.stack=n.stack.slice(0,n.index+1).concat(e),n.index++,t&&t(e)},i)},t.prototype.replace=function(e,t,i){var n=this;this.transitionTo(e,function(e){n.stack=n.stack.slice(0,n.index).concat(e),t&&t(e)},i)},t.prototype.go=function(e){var t=this,i=this.index+e;if(!(i<0||i>=this.stack.length)){var n=this.stack[i];this.confirmTransition(n,function(){var e=t.current;t.index=i,t.updateRoute(n),t.router.afterHooks.forEach(function(t){t&&t(n,e)})},function(e){De(e,we.duplicated)&&(t.index=i)})}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(Ie),Ue=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=J(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!ve&&!1!==e.fallback,this.fallback&&(t="hash"),Z||(t="abstract"),this.mode=t,t){case"history":this.history=new Re(this,e.base);break;case"hash":this.history=new Ve(this,e.base,this.fallback);break;case"abstract":this.history=new je(this,e.base);break;default:0}},Ke={currentRoute:{configurable:!0}};function qe(e,t){return e.push(t),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}Ue.prototype.match=function(e,t,i){return this.matcher.match(e,t,i)},Ke.currentRoute.get=function(){return this.history&&this.history.current},Ue.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",function(){var i=t.apps.indexOf(e);i>-1&&t.apps.splice(i,1),t.app===e&&(t.app=t.apps[0]||null),t.app||t.history.teardown()}),!this.app){this.app=e;var i=this.history;if(i instanceof Re||i instanceof Ve){var n=function(e){i.setupListeners(),function(e){var n=i.current,r=t.options.scrollBehavior;ve&&r&&"fullPath"in e&&le(t,e,n,!1)}(e)};i.transitionTo(i.getCurrentLocation(),n,n)}i.listen(function(e){t.apps.forEach(function(t){t._route=e})})}},Ue.prototype.beforeEach=function(e){return qe(this.beforeHooks,e)},Ue.prototype.beforeResolve=function(e){return qe(this.resolveHooks,e)},Ue.prototype.afterEach=function(e){return qe(this.afterHooks,e)},Ue.prototype.onReady=function(e,t){this.history.onReady(e,t)},Ue.prototype.onError=function(e){this.history.onError(e)},Ue.prototype.push=function(e,t,i){var n=this;if(!t&&!i&&"undefined"!=typeof Promise)return new Promise(function(t,i){n.history.push(e,t,i)});this.history.push(e,t,i)},Ue.prototype.replace=function(e,t,i){var n=this;if(!t&&!i&&"undefined"!=typeof Promise)return new Promise(function(t,i){n.history.replace(e,t,i)});this.history.replace(e,t,i)},Ue.prototype.go=function(e){this.history.go(e)},Ue.prototype.back=function(){this.go(-1)},Ue.prototype.forward=function(){this.go(1)},Ue.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map(function(e){return Object.keys(e.components).map(function(t){return e.components[t]})})):[]},Ue.prototype.resolve=function(e,t,i){var n=H(e,t=t||this.history.current,i,this),r=this.match(n,t),o=r.redirectedFrom||r.fullPath;return{location:n,route:r,href:function(e,t,i){var n="hash"===i?"#"+t:t;return e?x(e+"/"+n):n}(this.history.base,o,this.mode),normalizedTo:n,resolved:r}},Ue.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Ue.prototype,Ke),Ue.install=X,Ue.version="3.4.9",Ue.isNavigationFailure=De,Ue.NavigationFailureType=we,Z&&window.Vue&&window.Vue.use(Ue),t.a=Ue},"02w1":function(e,t,i){"use strict";t.__esModule=!0,t.removeResizeListener=t.addResizeListener=void 0;var n,r=i("z+gd"),o=(n=r)&&n.__esModule?n:{default:n};var s="undefined"==typeof window,a=function(e){var t=e,i=Array.isArray(t),n=0;for(t=i?t:t[Symbol.iterator]();;){var r;if(i){if(n>=t.length)break;r=t[n++]}else{if((n=t.next()).done)break;r=n.value}var o=r.target.__resizeListeners__||[];o.length&&o.forEach(function(e){e()})}};t.addResizeListener=function(e,t){s||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new o.default(a),e.__ro__.observe(e)),e.__resizeListeners__.push(t))},t.removeResizeListener=function(e,t){e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||e.__ro__.disconnect())}},"06OY":function(e,t,i){var n=i("3Eo+")("meta"),r=i("EqjI"),o=i("D2L2"),s=i("evD5").f,a=0,l=Object.isExtensible||function(){return!0},c=!i("S82l")(function(){return l(Object.preventExtensions({}))}),h=function(e){s(e,n,{value:{i:"O"+ ++a,w:{}}})},u=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!l(e))return"F";if(!t)return"E";h(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!l(e))return!0;if(!t)return!1;h(e)}return e[n].w},onFreeze:function(e){return c&&u.NEED&&l(e)&&!o(e,n)&&h(e),e}}},"0kY3":function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=114)}({0:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}i.d(t,"a",function(){return n})},10:function(e,t){e.exports=i("HJMx")},114:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["el-input-number",e.inputNumberSize?"el-input-number--"+e.inputNumberSize:"",{"is-disabled":e.inputNumberDisabled},{"is-without-controls":!e.controls},{"is-controls-right":e.controlsAtRight}],on:{dragstart:function(e){e.preventDefault()}}},[e.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":e.minDisabled},attrs:{role:"button"},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.decrease(t):null}}},[i("i",{class:"el-icon-"+(e.controlsAtRight?"arrow-down":"minus")})]):e._e(),e.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":e.maxDisabled},attrs:{role:"button"},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.increase(t):null}}},[i("i",{class:"el-icon-"+(e.controlsAtRight?"arrow-up":"plus")})]):e._e(),i("el-input",{ref:"input",attrs:{value:e.displayValue,placeholder:e.placeholder,disabled:e.inputNumberDisabled,size:e.inputNumberSize,max:e.max,min:e.min,name:e.name,label:e.label},on:{blur:e.handleBlur,focus:e.handleFocus,input:e.handleInput,change:e.handleInputChange},nativeOn:{keydown:[function(t){return"button"in t||!e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?(t.preventDefault(),e.increase(t)):null},function(t){return"button"in t||!e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?(t.preventDefault(),e.decrease(t)):null}]}})],1)};n._withStripped=!0;var r=i(10),o=i.n(r),s=i(22),a=i.n(s),l=i(30),c={name:"ElInputNumber",mixins:[a()("input")],inject:{elForm:{default:""},elFormItem:{default:""}},directives:{repeatClick:l.a},components:{ElInput:o.a},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(e){return e>=0&&e===parseInt(e,10)}}},data:function(){return{currentValue:0,userInput:null}},watch:{value:{immediate:!0,handler:function(e){var t=void 0===e?e:Number(e);if(void 0!==t){if(isNaN(t))return;if(this.stepStrictly){var i=this.getPrecision(this.step),n=Math.pow(10,i);t=Math.round(t/this.step)*n*this.step/n}void 0!==this.precision&&(t=this.toPrecision(t,this.precision))}t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),this.currentValue=t,this.userInput=null,this.$emit("input",t)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var e=this.value,t=this.step,i=this.getPrecision,n=this.precision,r=i(t);return void 0!==n?(r>n&&console.warn("[Element Warn][InputNumber]precision should not be less than the decimal places of step"),n):Math.max(i(e),r)},controlsAtRight:function(){return this.controls&&"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||!!(this.elForm||{}).disabled},displayValue:function(){if(null!==this.userInput)return this.userInput;var e=this.currentValue;if("number"==typeof e){if(this.stepStrictly){var t=this.getPrecision(this.step),i=Math.pow(10,t);e=Math.round(e/this.step)*i*this.step/i}void 0!==this.precision&&(e=e.toFixed(this.precision))}return e}},methods:{toPrecision:function(e,t){return void 0===t&&(t=this.numPrecision),parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t))},getPrecision:function(e){if(void 0===e)return 0;var t=e.toString(),i=t.indexOf("."),n=0;return-1!==i&&(n=t.length-i-1),n},_increase:function(e,t){if("number"!=typeof e&&void 0!==e)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*e+i*t)/i)},_decrease:function(e,t){if("number"!=typeof e&&void 0!==e)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*e-i*t)/i)},increase:function(){if(!this.inputNumberDisabled&&!this.maxDisabled){var e=this.value||0,t=this._increase(e,this.step);this.setCurrentValue(t)}},decrease:function(){if(!this.inputNumberDisabled&&!this.minDisabled){var e=this.value||0,t=this._decrease(e,this.step);this.setCurrentValue(t)}},handleBlur:function(e){this.$emit("blur",e)},handleFocus:function(e){this.$emit("focus",e)},setCurrentValue:function(e){var t=this.currentValue;"number"==typeof e&&void 0!==this.precision&&(e=this.toPrecision(e,this.precision)),e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),t!==e&&(this.userInput=null,this.$emit("input",e),this.$emit("change",e,t),this.currentValue=e)},handleInput:function(e){this.userInput=e},handleInputChange:function(e){var t=""===e?void 0:Number(e);isNaN(t)&&""!==e||this.setCurrentValue(t),this.userInput=null},select:function(){this.$refs.input.select()}},mounted:function(){var e=this.$refs.input.$refs.input;e.setAttribute("role","spinbutton"),e.setAttribute("aria-valuemax",this.max),e.setAttribute("aria-valuemin",this.min),e.setAttribute("aria-valuenow",this.currentValue),e.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){this.$refs&&this.$refs.input&&this.$refs.input.$refs.input.setAttribute("aria-valuenow",this.currentValue)}},h=i(0),u=Object(h.a)(c,n,[],!1,null,null,null);u.options.__file="packages/input-number/src/input-number.vue";var d=u.exports;d.install=function(e){e.component(d.name,d)};t.default=d},2:function(e,t){e.exports=i("2kvA")},22:function(e,t){e.exports=i("1oZe")},30:function(e,t,i){"use strict";var n=i(2);t.a={bind:function(e,t,i){var r=null,o=void 0,s=function(){return i.context[t.expression].apply()},a=function(){Date.now()-o<100&&s(),clearInterval(r),r=null};Object(n.on)(e,"mousedown",function(e){0===e.button&&(o=Date.now(),Object(n.once)(document,"mouseup",a),clearInterval(r),r=setInterval(s,100))})}}}})},"1kS7":function(e,t){t.f=Object.getOwnPropertySymbols},"1oZe":function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){return{methods:{focus:function(){this.$refs[e].focus()}}}}},"21It":function(e,t,i){"use strict";var n=i("FtD3");e.exports=function(e,t,i){var r=i.config.validateStatus;i.status&&r&&!r(i.status)?t(n("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)}},"2kvA":function(e,t,i){"use strict";t.__esModule=!0,t.isInContainer=t.getScrollContainer=t.isScroll=t.getStyle=t.once=t.off=t.on=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.hasClass=p,t.addClass=function(e,t){if(!e)return;for(var i=e.className,n=(t||"").split(" "),r=0,o=n.length;r<o;r++){var s=n[r];s&&(e.classList?e.classList.add(s):p(e,s)||(i+=" "+s))}e.classList||(e.className=i)},t.removeClass=function(e,t){if(!e||!t)return;for(var i=t.split(" "),n=" "+e.className+" ",r=0,o=i.length;r<o;r++){var s=i[r];s&&(e.classList?e.classList.remove(s):p(e,s)&&(n=n.replace(" "+s+" "," ")))}e.classList||(e.className=h(n))},t.setStyle=function e(t,i,r){if(!t||!i)return;if("object"===(void 0===i?"undefined":n(i)))for(var o in i)i.hasOwnProperty(o)&&e(t,o,i[o]);else"opacity"===(i=u(i))&&c<9?t.style.filter=isNaN(r)?"":"alpha(opacity="+100*r+")":t.style[i]=r};var r,o=i("7+uW");var s=((r=o)&&r.__esModule?r:{default:r}).default.prototype.$isServer,a=/([\:\-\_]+(.))/g,l=/^moz([A-Z])/,c=s?0:Number(document.documentMode),h=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")},u=function(e){return e.replace(a,function(e,t,i,n){return n?i.toUpperCase():i}).replace(l,"Moz$1")},d=t.on=!s&&document.addEventListener?function(e,t,i){e&&t&&i&&e.addEventListener(t,i,!1)}:function(e,t,i){e&&t&&i&&e.attachEvent("on"+t,i)},f=t.off=!s&&document.removeEventListener?function(e,t,i){e&&t&&e.removeEventListener(t,i,!1)}:function(e,t,i){e&&t&&e.detachEvent("on"+t,i)};t.once=function(e,t,i){d(e,t,function n(){i&&i.apply(this,arguments),f(e,t,n)})};function p(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}var m=t.getStyle=c<9?function(e,t){if(!s){if(!e||!t)return null;"float"===(t=u(t))&&(t="styleFloat");try{switch(t){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(e){return 1}default:return e.style[t]||e.currentStyle?e.currentStyle[t]:null}}catch(i){return e.style[t]}}}:function(e,t){if(!s){if(!e||!t)return null;"float"===(t=u(t))&&(t="cssFloat");try{var i=document.defaultView.getComputedStyle(e,"");return e.style[t]||i?i[t]:null}catch(i){return e.style[t]}}};var g=t.isScroll=function(e,t){if(!s)return m(e,null!==t||void 0!==t?t?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto)/)};t.getScrollContainer=function(e,t){if(!s){for(var i=e;i;){if([window,document,document.documentElement].includes(i))return window;if(g(i,t))return i;i=i.parentNode}return i}},t.isInContainer=function(e,t){if(s||!e||!t)return!1;var i=e.getBoundingClientRect(),n=void 0;return n=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),i.top<n.bottom&&i.bottom>n.top&&i.right>n.left&&i.left<n.right}},"3Eo+":function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},"3fo+":function(e,t,i){e.exports=i("YAhB")},"4mcu":function(e,t){e.exports=function(){}},"52gC":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"5IAE":function(e,t,i){(function(e){"use strict";e.defineMode("javascript",function(t,i){var n,r,o=t.indentUnit,s=i.statementIndent,a=i.jsonld,l=i.json||a,c=i.typescript,h=i.wordCharacters||/[\w$\xa1-\uffff]/,u=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),i=e("keyword b"),n=e("keyword c"),r=e("keyword d"),o=e("operator"),s={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:i,do:i,try:i,finally:i,return:r,break:r,continue:r,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:s,false:s,null:s,undefined:s,NaN:s,Infinity:s,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),d=/[+\-*&%=<>!?|~^@]/,f=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function p(e,t,i){return n=e,r=i,t}function m(e,t){var i,n=e.next();if('"'==n||"'"==n)return t.tokenize=(i=n,function(e,t){var n,r=!1;if(a&&"@"==e.peek()&&e.match(f))return t.tokenize=m,p("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=i||r);)r=!r&&"\\"==n;return r||(t.tokenize=m),p("string","string")}),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return p("number","number");if("."==n&&e.match(".."))return p("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return p(n);if("="==n&&e.eat(">"))return p("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return p("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),p("number","number");if("/"==n)return e.eat("*")?(t.tokenize=g,g(e,t)):e.eat("/")?(e.skipToEnd(),p("comment","comment")):Ge(e,t,1)?(function(e){for(var t,i=!1,n=!1;null!=(t=e.next());){if(!i){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}i=!i&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),p("regexp","string-2")):(e.eat("="),p("operator","operator",e.current()));if("`"==n)return t.tokenize=v,v(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),p("meta","meta");if("#"==n&&e.eatWhile(h))return p("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),p("comment","comment");if(d.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-|&?]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?p("."):p("operator","operator",e.current());if(h.test(n)){e.eatWhile(h);var r=e.current();if("."!=t.lastType){if(u.propertyIsEnumerable(r)){var o=u[r];return p(o.type,o.style,r)}if("async"==r&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return p("async","keyword",r)}return p("variable","variable",r)}}function g(e,t){for(var i,n=!1;i=e.next();){if("/"==i&&n){t.tokenize=m;break}n="*"==i}return p("comment","comment")}function v(e,t){for(var i,n=!1;null!=(i=e.next());){if(!n&&("`"==i||"$"==i&&e.eat("{"))){t.tokenize=m;break}n=!n&&"\\"==i}return p("quasi","string-2",e.current())}var b="([{}])";function _(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var i=e.string.indexOf("=>",e.start);if(!(i<0)){if(c){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,i));n&&(i=n.index)}for(var r=0,o=!1,s=i-1;s>=0;--s){var a=e.string.charAt(s),l=b.indexOf(a);if(l>=0&&l<3){if(!r){++s;break}if(0==--r){"("==a&&(o=!0);break}}else if(l>=3&&l<6)++r;else if(h.test(a))o=!0;else if(/["'\/`]/.test(a))for(;;--s){if(0==s)return;if(e.string.charAt(s-1)==a&&"\\"!=e.string.charAt(s-2)){s--;break}}else if(o&&!r){++s;break}}o&&!r&&(t.fatArrowAt=s)}}var y={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function w(e,t,i,n,r,o){this.indented=e,this.column=t,this.type=i,this.prev=r,this.info=o,null!=n&&(this.align=n)}function C(e,t){for(var i=e.localVars;i;i=i.next)if(i.name==t)return!0;for(var n=e.context;n;n=n.prev)for(i=n.vars;i;i=i.next)if(i.name==t)return!0}var S={state:null,column:null,marked:null,cc:null};function x(){for(var e=arguments.length-1;e>=0;e--)S.cc.push(arguments[e])}function k(){return x.apply(null,arguments),!0}function L(e,t){for(var i=t;i;i=i.next)if(i.name==e)return!0;return!1}function D(e){var t=S.state;if(S.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var n=function e(t,i){if(i){if(i.block){var n=e(t,i.prev);return n?n==i.prev?i:new N(n,i.vars,!0):null}return L(t,i.vars)?i:new N(i.prev,new T(t,i.vars),!1)}return null}(e,t.context);if(null!=n)return void(t.context=n)}else if(!L(e,t.localVars))return void(t.localVars=new T(e,t.localVars));i.globalVars&&!L(e,t.globalVars)&&(t.globalVars=new T(e,t.globalVars))}function E(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function N(e,t,i){this.prev=e,this.vars=t,this.block=i}function T(e,t){this.name=e,this.next=t}var O=new T("this",new T("arguments",null));function M(){S.state.context=new N(S.state.context,S.state.localVars,!1),S.state.localVars=O}function I(){S.state.context=new N(S.state.context,S.state.localVars,!0),S.state.localVars=null}function A(){S.state.localVars=S.state.context.vars,S.state.context=S.state.context.prev}function P(e,t){var i=function(){var i=S.state,n=i.indented;if("stat"==i.lexical.type)n=i.lexical.indented;else for(var r=i.lexical;r&&")"==r.type&&r.align;r=r.prev)n=r.indented;i.lexical=new w(n,S.stream.column(),e,null,i.lexical,t)};return i.lex=!0,i}function R(){var e=S.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function F(e){return function t(i){return i==e?k():";"==e||"}"==i||")"==i||"]"==i?x():k(t)}}function V(e,t){return"var"==e?k(P("vardef",t),_e,F(";"),R):"keyword a"==e?k(P("form"),z,V,R):"keyword b"==e?k(P("form"),V,R):"keyword d"==e?S.stream.match(/^\s*$/,!1)?k():k(P("stat"),j,F(";"),R):"debugger"==e?k(F(";")):"{"==e?k(P("}"),I,se,R,A):";"==e?k():"if"==e?("else"==S.state.lexical.info&&S.state.cc[S.state.cc.length-1]==R&&S.state.cc.pop()(),k(P("form"),z,V,R,ke)):"function"==e?k(Ne):"for"==e?k(P("form"),Le,V,R):"class"==e||c&&"interface"==t?(S.marked="keyword",k(P("form","class"==e?e:t),Ae,R)):"variable"==e?c&&"declare"==t?(S.marked="keyword",k(V)):c&&("module"==t||"enum"==t||"type"==t)&&S.stream.match(/^\s*\w/,!1)?(S.marked="keyword","enum"==t?k(Ke):"type"==t?k(Oe,F("operator"),ue,F(";")):k(P("form"),ye,F("{"),P("}"),se,R,R)):c&&"namespace"==t?(S.marked="keyword",k(P("form"),W,V,R)):c&&"abstract"==t?(S.marked="keyword",k(V)):k(P("stat"),J):"switch"==e?k(P("form"),z,F("{"),P("}","switch"),I,se,R,R,A):"case"==e?k(W,F(":")):"default"==e?k(F(":")):"catch"==e?k(P("form"),M,B,V,R,A):"export"==e?k(P("stat"),Ve,R):"import"==e?k(P("stat"),We,R):"async"==e?k(V):"@"==t?k(W,V):x(P("stat"),W,F(";"),R)}function B(e){if("("==e)return k(Me,F(")"))}function W(e,t){return H(e,t,!1)}function $(e,t){return H(e,t,!0)}function z(e){return"("!=e?x():k(P(")"),j,F(")"),R)}function H(e,t,i){if(S.state.fatArrowAt==S.stream.start){var n=i?X:Y;if("("==e)return k(M,P(")"),re(Me,")"),R,F("=>"),n,A);if("variable"==e)return x(M,ye,F("=>"),n,A)}var r=i?K:U;return y.hasOwnProperty(e)?k(r):"function"==e?k(Ne,r):"class"==e||c&&"interface"==t?(S.marked="keyword",k(P("form"),Ie,R)):"keyword c"==e||"async"==e?k(i?$:W):"("==e?k(P(")"),j,F(")"),R,r):"operator"==e||"spread"==e?k(i?$:W):"["==e?k(P("]"),Ue,R,r):"{"==e?oe(te,"}",null,r):"quasi"==e?x(q,r):"new"==e?k(function(e){return function(t){return"."==t?k(e?Q:Z):"variable"==t&&c?k(ge,e?K:U):x(e?$:W)}}(i)):"import"==e?k(W):k()}function j(e){return e.match(/[;\}\)\],]/)?x():x(W)}function U(e,t){return","==e?k(j):K(e,t,!1)}function K(e,t,i){var n=0==i?U:K,r=0==i?W:$;return"=>"==e?k(M,i?X:Y,A):"operator"==e?/\+\+|--/.test(t)||c&&"!"==t?k(n):c&&"<"==t&&S.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?k(P(">"),re(ue,">"),R,n):"?"==t?k(W,F(":"),r):k(r):"quasi"==e?x(q,n):";"!=e?"("==e?oe($,")","call",n):"."==e?k(ee,n):"["==e?k(P("]"),j,F("]"),R,n):c&&"as"==t?(S.marked="keyword",k(ue,n)):"regexp"==e?(S.state.lastType=S.marked="operator",S.stream.backUp(S.stream.pos-S.stream.start-1),k(r)):void 0:void 0}function q(e,t){return"quasi"!=e?x():"${"!=t.slice(t.length-2)?k(q):k(W,G)}function G(e){if("}"==e)return S.marked="string-2",S.state.tokenize=v,k(q)}function Y(e){return _(S.stream,S.state),x("{"==e?V:W)}function X(e){return _(S.stream,S.state),x("{"==e?V:$)}function Z(e,t){if("target"==t)return S.marked="keyword",k(U)}function Q(e,t){if("target"==t)return S.marked="keyword",k(K)}function J(e){return":"==e?k(R,V):x(U,F(";"),R)}function ee(e){if("variable"==e)return S.marked="property",k()}function te(e,t){if("async"==e)return S.marked="property",k(te);if("variable"==e||"keyword"==S.style){return S.marked="property","get"==t||"set"==t?k(ie):(c&&S.state.fatArrowAt==S.stream.start&&(i=S.stream.match(/^\s*:\s*/,!1))&&(S.state.fatArrowAt=S.stream.pos+i[0].length),k(ne));var i}else{if("number"==e||"string"==e)return S.marked=a?"property":S.style+" property",k(ne);if("jsonld-keyword"==e)return k(ne);if(c&&E(t))return S.marked="keyword",k(te);if("["==e)return k(W,ae,F("]"),ne);if("spread"==e)return k($,ne);if("*"==t)return S.marked="keyword",k(te);if(":"==e)return x(ne)}}function ie(e){return"variable"!=e?x(ne):(S.marked="property",k(Ne))}function ne(e){return":"==e?k($):"("==e?x(Ne):void 0}function re(e,t,i){function n(r,o){if(i?i.indexOf(r)>-1:","==r){var s=S.state.lexical;return"call"==s.info&&(s.pos=(s.pos||0)+1),k(function(i,n){return i==t||n==t?x():x(e)},n)}return r==t||o==t?k():i&&i.indexOf(";")>-1?x(e):k(F(t))}return function(i,r){return i==t||r==t?k():x(e,n)}}function oe(e,t,i){for(var n=3;n<arguments.length;n++)S.cc.push(arguments[n]);return k(P(t,i),re(e,t),R)}function se(e){return"}"==e?k():x(V,se)}function ae(e,t){if(c){if(":"==e)return k(ue);if("?"==t)return k(ae)}}function le(e,t){if(c&&(":"==e||"in"==t))return k(ue)}function ce(e){if(c&&":"==e)return S.stream.match(/^\s*\w+\s+is\b/,!1)?k(W,he,ue):k(ue)}function he(e,t){if("is"==t)return S.marked="keyword",k()}function ue(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(S.marked="keyword",k("typeof"==t?$:ue)):"variable"==e||"void"==t?(S.marked="type",k(me)):"|"==t||"&"==t?k(ue):"string"==e||"number"==e||"atom"==e?k(me):"["==e?k(P("]"),re(ue,"]",","),R,me):"{"==e?k(P("}"),re(fe,"}",",;"),R,me):"("==e?k(re(pe,")"),de,me):"<"==e?k(re(ue,">"),ue):void 0}function de(e){if("=>"==e)return k(ue)}function fe(e,t){return"variable"==e||"keyword"==S.style?(S.marked="property",k(fe)):"?"==t||"number"==e||"string"==e?k(fe):":"==e?k(ue):"["==e?k(F("variable"),le,F("]"),fe):"("==e?x(Te,fe):void 0}function pe(e,t){return"variable"==e&&S.stream.match(/^\s*[?:]/,!1)||"?"==t?k(pe):":"==e?k(ue):"spread"==e?k(pe):x(ue)}function me(e,t){return"<"==t?k(P(">"),re(ue,">"),R,me):"|"==t||"."==e||"&"==t?k(ue):"["==e?k(ue,F("]"),me):"extends"==t||"implements"==t?(S.marked="keyword",k(ue)):"?"==t?k(ue,F(":"),ue):void 0}function ge(e,t){if("<"==t)return k(P(">"),re(ue,">"),R,me)}function ve(){return x(ue,be)}function be(e,t){if("="==t)return k(ue)}function _e(e,t){return"enum"==t?(S.marked="keyword",k(Ke)):x(ye,ae,Se,xe)}function ye(e,t){return c&&E(t)?(S.marked="keyword",k(ye)):"variable"==e?(D(t),k()):"spread"==e?k(ye):"["==e?oe(Ce,"]"):"{"==e?oe(we,"}"):void 0}function we(e,t){return"variable"!=e||S.stream.match(/^\s*:/,!1)?("variable"==e&&(S.marked="property"),"spread"==e?k(ye):"}"==e?x():"["==e?k(W,F("]"),F(":"),we):k(F(":"),ye,Se)):(D(t),k(Se))}function Ce(){return x(ye,Se)}function Se(e,t){if("="==t)return k($)}function xe(e){if(","==e)return k(_e)}function ke(e,t){if("keyword b"==e&&"else"==t)return k(P("form","else"),V,R)}function Le(e,t){return"await"==t?k(Le):"("==e?k(P(")"),De,R):void 0}function De(e){return"var"==e?k(_e,Ee):"variable"==e?k(Ee):x(Ee)}function Ee(e,t){return")"==e?k():";"==e?k(Ee):"in"==t||"of"==t?(S.marked="keyword",k(W,Ee)):x(W,Ee)}function Ne(e,t){return"*"==t?(S.marked="keyword",k(Ne)):"variable"==e?(D(t),k(Ne)):"("==e?k(M,P(")"),re(Me,")"),R,ce,V,A):c&&"<"==t?k(P(">"),re(ve,">"),R,Ne):void 0}function Te(e,t){return"*"==t?(S.marked="keyword",k(Te)):"variable"==e?(D(t),k(Te)):"("==e?k(M,P(")"),re(Me,")"),R,ce,A):c&&"<"==t?k(P(">"),re(ve,">"),R,Te):void 0}function Oe(e,t){return"keyword"==e||"variable"==e?(S.marked="type",k(Oe)):"<"==t?k(P(">"),re(ve,">"),R):void 0}function Me(e,t){return"@"==t&&k(W,Me),"spread"==e?k(Me):c&&E(t)?(S.marked="keyword",k(Me)):c&&"this"==e?k(ae,Se):x(ye,ae,Se)}function Ie(e,t){return"variable"==e?Ae(e,t):Pe(e,t)}function Ae(e,t){if("variable"==e)return D(t),k(Pe)}function Pe(e,t){return"<"==t?k(P(">"),re(ve,">"),R,Pe):"extends"==t||"implements"==t||c&&","==e?("implements"==t&&(S.marked="keyword"),k(c?ue:W,Pe)):"{"==e?k(P("}"),Re,R):void 0}function Re(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||c&&E(t))&&S.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(S.marked="keyword",k(Re)):"variable"==e||"keyword"==S.style?(S.marked="property",k(Fe,Re)):"number"==e||"string"==e?k(Fe,Re):"["==e?k(W,ae,F("]"),Fe,Re):"*"==t?(S.marked="keyword",k(Re)):c&&"("==e?x(Te,Re):";"==e||","==e?k(Re):"}"==e?k():"@"==t?k(W,Re):void 0}function Fe(e,t){if("?"==t)return k(Fe);if(":"==e)return k(ue,Se);if("="==t)return k($);var i=S.state.lexical.prev;return x(i&&"interface"==i.info?Te:Ne)}function Ve(e,t){return"*"==t?(S.marked="keyword",k(je,F(";"))):"default"==t?(S.marked="keyword",k(W,F(";"))):"{"==e?k(re(Be,"}"),je,F(";")):x(V)}function Be(e,t){return"as"==t?(S.marked="keyword",k(F("variable"))):"variable"==e?x($,Be):void 0}function We(e){return"string"==e?k():"("==e?x(W):x($e,ze,je)}function $e(e,t){return"{"==e?oe($e,"}"):("variable"==e&&D(t),"*"==t&&(S.marked="keyword"),k(He))}function ze(e){if(","==e)return k($e,ze)}function He(e,t){if("as"==t)return S.marked="keyword",k($e)}function je(e,t){if("from"==t)return S.marked="keyword",k(W)}function Ue(e){return"]"==e?k():x(re($,"]"))}function Ke(){return x(P("form"),ye,F("{"),P("}"),re(qe,"}"),R,R)}function qe(){return x(ye,Se)}function Ge(e,t,i){return t.tokenize==m&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(i||0)))}return A.lex=!0,R.lex=!0,{startState:function(e){var t={tokenize:m,lastType:"sof",cc:[],lexical:new w((e||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new N(null,null,!1),indented:e||0};return i.globalVars&&"object"==typeof i.globalVars&&(t.globalVars=i.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),_(e,t)),t.tokenize!=g&&e.eatSpace())return null;var i=t.tokenize(e,t);return"comment"==n?i:(t.lastType="operator"!=n||"++"!=r&&"--"!=r?n:"incdec",function(e,t,i,n,r){var o=e.cc;for(S.state=e,S.stream=r,S.marked=null,S.cc=o,S.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():l?W:V)(i,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return S.marked?S.marked:"variable"==i&&C(e,n)?"variable-2":t}}(t,i,n,r,e))},indent:function(t,n){if(t.tokenize==g||t.tokenize==v)return e.Pass;if(t.tokenize!=m)return 0;var r,a=n&&n.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(n))for(var c=t.cc.length-1;c>=0;--c){var h=t.cc[c];if(h==R)l=l.prev;else if(h!=ke)break}for(;("stat"==l.type||"form"==l.type)&&("}"==a||(r=t.cc[t.cc.length-1])&&(r==U||r==K)&&!/^[,\.=+\-*:?[\(]/.test(n));)l=l.prev;s&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var u=l.type,f=a==u;return"vardef"==u?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==u&&"{"==a?l.indented:"form"==u?l.indented+o:"stat"==u?l.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||d.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,n)?s||o:0):"switch"!=l.info||f||0==i.doubleIndentSwitch?l.align?l.column+(f?0:1):l.indented+(f?0:o):l.indented+(/^(?:case|default)\b/.test(n)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:a,jsonMode:l,expressionAllowed:Ge,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=W&&t!=$||e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})(i("8U58"))},"5QVw":function(e,t,i){e.exports={default:i("BwfY"),__esModule:!0}},"5VQ+":function(e,t,i){"use strict";var n=i("cGG2");e.exports=function(e,t){n.forEach(e,function(i,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[n])})}},"6S2o":function(e,t,i){(function(e){"use strict";function t(e,t,i,n,r,o){this.indented=e,this.column=t,this.type=i,this.info=n,this.align=r,this.prev=o}function i(e,i,n,r){var o=e.indented;return e.context&&"statement"==e.context.type&&"statement"!=n&&(o=e.context.indented),e.context=new t(o,i,n,r,null,e.context)}function n(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function r(e,t,i){return"variable"==t.prevToken||"type"==t.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,i))||(!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0))}function o(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function s(e){for(var t={},i=e.split(" "),n=0;n<i.length;++n)t[i[n]]=!0;return t}function a(e,t){return"function"==typeof e?e(t):e.propertyIsEnumerable(t)}e.defineMode("clike",function(s,l){var c,h,u=s.indentUnit,d=l.statementIndentUnit||u,f=l.dontAlignCalls,p=l.keywords||{},m=l.types||{},g=l.builtin||{},v=l.blockKeywords||{},b=l.defKeywords||{},_=l.atoms||{},y=l.hooks||{},w=l.multiLineStrings,C=!1!==l.indentStatements,S=!1!==l.indentSwitch,x=l.namespaceSeparator,k=l.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,L=l.numberStart||/[\d\.]/,D=l.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,E=l.isOperatorChar||/[+\-*&%=<>!?|\/]/,N=l.isIdentifierChar||/[\w\$_\xa1-\uffff]/,T=l.isReservedIdentifier||!1;function O(e,t){var i,n=e.next();if(y[n]){var r=y[n](e,t);if(!1!==r)return r}if('"'==n||"'"==n)return t.tokenize=(i=n,function(e,t){for(var n,r=!1,o=!1;null!=(n=e.next());){if(n==i&&!r){o=!0;break}r=!r&&"\\"==n}return(o||!r&&!w)&&(t.tokenize=null),"string"}),t.tokenize(e,t);if(k.test(n))return c=n,null;if(L.test(n)){if(e.backUp(1),e.match(D))return"number";e.next()}if("/"==n){if(e.eat("*"))return t.tokenize=M,M(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(E.test(n)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(E););return"operator"}if(e.eatWhile(N),x)for(;e.match(x);)e.eatWhile(N);var o=e.current();return a(p,o)?(a(v,o)&&(c="newstatement"),a(b,o)&&(h=!0),"keyword"):a(m,o)?"type":a(g,o)||T&&T(o)?(a(v,o)&&(c="newstatement"),"builtin"):a(_,o)?"atom":"variable"}function M(e,t){for(var i,n=!1;i=e.next();){if("/"==i&&n){t.tokenize=null;break}n="*"==i}return"comment"}function I(e,t){l.typeFirstDefinitions&&e.eol()&&o(t.context)&&(t.typeAtEndOfLine=r(e,t,e.pos))}return{startState:function(e){return{tokenize:null,context:new t((e||0)-u,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var s=t.context;if(e.sol()&&(null==s.align&&(s.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return I(e,t),null;c=h=null;var a=(t.tokenize||O)(e,t);if("comment"==a||"meta"==a)return a;if(null==s.align&&(s.align=!0),";"==c||":"==c||","==c&&e.match(/^\s*(?:\/\/.*)?$/,!1))for(;"statement"==t.context.type;)n(t);else if("{"==c)i(t,e.column(),"}");else if("["==c)i(t,e.column(),"]");else if("("==c)i(t,e.column(),")");else if("}"==c){for(;"statement"==s.type;)s=n(t);for("}"==s.type&&(s=n(t));"statement"==s.type;)s=n(t)}else c==s.type?n(t):C&&(("}"==s.type||"top"==s.type)&&";"!=c||"statement"==s.type&&"newstatement"==c)&&i(t,e.column(),"statement",e.current());if("variable"==a&&("def"==t.prevToken||l.typeFirstDefinitions&&r(e,t,e.start)&&o(t.context)&&e.match(/^\s*\(/,!1))&&(a="def"),y.token){var u=y.token(e,t,a);void 0!==u&&(a=u)}return"def"==a&&!1===l.styleDefs&&(a="variable"),t.startOfLine=!1,t.prevToken=h?"def":a||c,I(e,t),a},indent:function(t,i){if(t.tokenize!=O&&null!=t.tokenize||t.typeAtEndOfLine)return e.Pass;var n=t.context,r=i&&i.charAt(0),o=r==n.type;if("statement"==n.type&&"}"==r&&(n=n.prev),l.dontIndentStatements)for(;"statement"==n.type&&l.dontIndentStatements.test(n.info);)n=n.prev;if(y.indent){var s=y.indent(t,n,i,u);if("number"==typeof s)return s}var a=n.prev&&"switch"==n.prev.info;if(l.allmanIndentation&&/[{(]/.test(r)){for(;"top"!=n.type&&"}"!=n.type;)n=n.prev;return n.indented}return"statement"==n.type?n.indented+("{"==r?0:d):!n.align||f&&")"==n.type?")"!=n.type||o?n.indented+(o?0:u)+(o||!a||/^(?:case|default)\b/.test(i)?0:u):n.indented+d:n.column+(o?0:1)},electricInput:S?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}});var l="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",c="alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq",h="bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available",u="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT",d=s("int long char short double float unsigned signed void bool"),f=s("SEL instancetype id Class Protocol BOOL");function p(e){return a(d,e)||/.+_t$/.test(e)}function m(e){return p(e)||a(f,e)}var g="case do else for if switch while struct enum union";function v(e,t){if(!t.startOfLine)return!1;for(var i,n=null;i=e.peek();){if("\\"==i&&e.match(/^.$/)){n=v;break}if("/"==i&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=n,"meta"}function b(e,t){return"type"==t.prevToken&&"type"}function _(e){return!(!e||e.length<2)&&("_"==e[0]&&("_"==e[1]||e[1]!==e[1].toLowerCase()))}function y(e){return e.eatWhile(/[\w\.']/),"number"}function w(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var i=e.match(/"([^\s\\()]{0,16})\(/);return!!i&&(t.cpp11RawStringDelim=i[1],t.tokenize=x,x(e,t))}return e.match(/(u8|u|U|L)/)?!!e.match(/["']/,!1)&&"string":(e.next(),!1)}function C(e){var t=/(\w+)::~?(\w+)$/.exec(e);return t&&t[1]==t[2]}function S(e,t){for(var i;null!=(i=e.next());)if('"'==i&&!e.eat('"')){t.tokenize=null;break}return"string"}function x(e,t){var i=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");return e.match(new RegExp(".*?\\)"+i+'"'))?t.tokenize=null:e.skipToEnd(),"string"}function k(t,i){"string"==typeof t&&(t=[t]);var n=[];function r(e){if(e)for(var t in e)e.hasOwnProperty(t)&&n.push(t)}r(i.keywords),r(i.types),r(i.builtin),r(i.atoms),n.length&&(i.helperType=t[0],e.registerHelper("hintWords",t[0],n));for(var o=0;o<t.length;++o)e.defineMIME(t[o],i)}function L(e,t){for(var i=!1;!e.eol();){if(!i&&e.match('"""')){t.tokenize=null;break}i="\\"==e.next()&&!i}return"string"}function D(e){return function(t,i){for(var n;n=t.next();){if("*"==n&&t.eat("/")){if(1==e){i.tokenize=null;break}return i.tokenize=D(e-1),i.tokenize(t,i)}if("/"==n&&t.eat("*"))return i.tokenize=D(e+1),i.tokenize(t,i)}return"comment"}}k(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:s(l),types:p,blockKeywords:s(g),defKeywords:s("struct enum union"),typeFirstDefinitions:!0,atoms:s("NULL true false"),isReservedIdentifier:_,hooks:{"#":v,"*":b},modeProps:{fold:["brace","include"]}}),k(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:s(l+" "+c),types:p,blockKeywords:s(g+" class try catch"),defKeywords:s("struct enum union class namespace"),typeFirstDefinitions:!0,atoms:s("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:_,hooks:{"#":v,"*":b,u:w,U:w,L:w,R:w,0:y,1:y,2:y,3:y,4:y,5:y,6:y,7:y,8:y,9:y,token:function(e,t,i){if("variable"==i&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&C(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),k("text/x-java",{name:"clike",keywords:s("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:s("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:s("catch class do else finally for if switch try while"),defKeywords:s("class interface enum @interface"),typeFirstDefinitions:!0,atoms:s("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return!e.match("interface",!1)&&(e.eatWhile(/[\w\$_]/),"meta")}},modeProps:{fold:["brace","import"]}}),k("text/x-csharp",{name:"clike",keywords:s("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:s("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:s("catch class do else finally for foreach if struct switch try while"),defKeywords:s("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:s("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=S,S(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),k("text/x-scala",{name:"clike",keywords:s("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:s("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:s("catch class enum do else finally for forSome if match switch try while"),defKeywords:s("class enum def object package trait type val var"),atoms:s("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return!!e.match('""')&&(t.tokenize=L,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,i){var n=i.context;return!("}"!=n.type||!n.align||!e.eat(">"))&&(i.context=new t(n.indented,n.column,n.type,n.info,null,n.prev),"operator")},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=D(1),t.tokenize(e,t))}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}}),k("text/x-kotlin",{name:"clike",keywords:s("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam"),types:s("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:s("catch class do else finally for if where try while enum"),defKeywords:s("class val var object interface fun"),atoms:s("true false null this"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},"*":function(e,t){return"."==t.prevToken?"variable":"operator"},'"':function(e,t){var i;return t.tokenize=(i=e.match('""'),function(e,t){for(var n,r=!1,o=!1;!e.eol();){if(!i&&!r&&e.match('"')){o=!0;break}if(i&&e.match('"""')){o=!0;break}n=e.next(),!r&&"$"==n&&e.match("{")&&e.skipTo("}"),r=!r&&"\\"==n&&!i}return!o&&i||(t.tokenize=null),"string"}),t.tokenize(e,t)},"/":function(e,t){return!!e.eat("*")&&(t.tokenize=D(1),t.tokenize(e,t))},indent:function(e,t,i,n){var r=i&&i.charAt(0);return"}"!=e.prevToken&&")"!=e.prevToken||""!=i?"operator"==e.prevToken&&"}"!=i&&"}"!=e.context.type||"variable"==e.prevToken&&"."==r||("}"==e.prevToken||")"==e.prevToken)&&"."==r?2*n+t.indented:t.align&&"}"==t.type?t.indented+(e.context.type==(i||"").charAt(0)?0:n):void 0:e.indented}},modeProps:{closeBrackets:{triples:'"'}}}),k(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:s("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:s("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:s("for while do if else struct"),builtin:s("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:s("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":v},modeProps:{fold:["brace","include"]}}),k("text/x-nesc",{name:"clike",keywords:s(l+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:p,blockKeywords:s(g),atoms:s("null true false"),hooks:{"#":v},modeProps:{fold:["brace","include"]}}),k("text/x-objectivec",{name:"clike",keywords:s(l+" "+h),types:m,builtin:s(u),blockKeywords:s(g+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:s("struct enum union @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:s("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:_,hooks:{"#":v,"*":b},modeProps:{fold:["brace","include"]}}),k("text/x-objectivec++",{name:"clike",keywords:s(l+" "+h+" "+c),types:m,builtin:s(u),blockKeywords:s(g+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),defKeywords:s("struct enum union @interface @implementation @protocol @class class namespace"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:!0,atoms:s("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:_,hooks:{"#":v,"*":b,u:w,U:w,L:w,R:w,0:y,1:y,2:y,3:y,4:y,5:y,6:y,7:y,8:y,9:y,token:function(e,t,i){if("variable"==i&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&C(e.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),k("text/x-squirrel",{name:"clike",keywords:s("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:p,blockKeywords:s("case catch class else for foreach if switch try while"),defKeywords:s("function local class"),typeFirstDefinitions:!0,atoms:s("true false null"),hooks:{"#":v},modeProps:{fold:["brace","include"]}});var E=null;k("text/x-ceylon",{name:"clike",keywords:s("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:s("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:s("class dynamic function interface module object package value"),builtin:s("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:s("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=function e(t){return function(i,n){for(var r,o=!1,s=!1;!i.eol();){if(!o&&i.match('"')&&("single"==t||i.match('""'))){s=!0;break}if(!o&&i.match("``")){E=e(t),s=!0;break}r=i.next(),o="single"==t&&!o&&"\\"==r}return s&&(n.tokenize=null),"string"}}(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return!(!E||!e.match("`"))&&(t.tokenize=E,E=null,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,i){if(("variable"==i||"type"==i)&&"."==t.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})})(i("8U58"))},"6Twh":function(e,t,i){"use strict";t.__esModule=!0,t.default=function(){if(o.default.prototype.$isServer)return 0;if(void 0!==s)return s;var e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var n=i.offsetWidth;return e.parentNode.removeChild(e),s=t-n};var n,r=i("7+uW"),o=(n=r)&&n.__esModule?n:{default:n};var s=void 0},"7+uW":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){
/*!
 * Vue.js v2.6.12
 * (c) 2014-2020 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function n(e){return void 0===e||null===e}function r(e){return void 0!==e&&null!==e}function o(e){return!0===e}function s(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function a(e){return null!==e&&"object"==typeof e}var l=Object.prototype.toString;function c(e){return"[object Object]"===l.call(e)}function h(e){return"[object RegExp]"===l.call(e)}function u(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function d(e){return r(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function f(e){return null==e?"":Array.isArray(e)||c(e)&&e.toString===l?JSON.stringify(e,null,2):String(e)}function p(e){var t=parseFloat(e);return isNaN(t)?e:t}function m(e,t){for(var i=Object.create(null),n=e.split(","),r=0;r<n.length;r++)i[n[r]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}var g=m("slot,component",!0),v=m("key,ref,slot,slot-scope,is");function b(e,t){if(e.length){var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}var _=Object.prototype.hasOwnProperty;function y(e,t){return _.call(e,t)}function w(e){var t=Object.create(null);return function(i){return t[i]||(t[i]=e(i))}}var C=/-(\w)/g,S=w(function(e){return e.replace(C,function(e,t){return t?t.toUpperCase():""})}),x=w(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),k=/\B([A-Z])/g,L=w(function(e){return e.replace(k,"-$1").toLowerCase()});var D=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function i(i){var n=arguments.length;return n?n>1?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i};function E(e,t){t=t||0;for(var i=e.length-t,n=new Array(i);i--;)n[i]=e[i+t];return n}function N(e,t){for(var i in t)e[i]=t[i];return e}function T(e){for(var t={},i=0;i<e.length;i++)e[i]&&N(t,e[i]);return t}function O(e,t,i){}var M=function(e,t,i){return!1},I=function(e){return e};function A(e,t){if(e===t)return!0;var i=a(e),n=a(t);if(!i||!n)return!i&&!n&&String(e)===String(t);try{var r=Array.isArray(e),o=Array.isArray(t);if(r&&o)return e.length===t.length&&e.every(function(e,i){return A(e,t[i])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||o)return!1;var s=Object.keys(e),l=Object.keys(t);return s.length===l.length&&s.every(function(i){return A(e[i],t[i])})}catch(e){return!1}}function P(e,t){for(var i=0;i<e.length;i++)if(A(e[i],t))return i;return-1}function R(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var F="data-server-rendered",V=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],W={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:M,isReservedAttr:M,isUnknownElement:M,getTagNamespace:O,parsePlatformTagName:I,mustUseProp:M,async:!0,_lifecycleHooks:B},$=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function z(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function H(e,t,i,n){Object.defineProperty(e,t,{value:i,enumerable:!!n,writable:!0,configurable:!0})}var j=new RegExp("[^"+$.source+".$_\\d]");var U,K="__proto__"in{},q="undefined"!=typeof window,G="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Y=G&&WXEnvironment.platform.toLowerCase(),X=q&&window.navigator.userAgent.toLowerCase(),Z=X&&/msie|trident/.test(X),Q=X&&X.indexOf("msie 9.0")>0,J=X&&X.indexOf("edge/")>0,ee=(X&&X.indexOf("android"),X&&/iphone|ipad|ipod|ios/.test(X)||"ios"===Y),te=(X&&/chrome\/\d+/.test(X),X&&/phantomjs/.test(X),X&&X.match(/firefox\/(\d+)/)),ie={}.watch,ne=!1;if(q)try{var re={};Object.defineProperty(re,"passive",{get:function(){ne=!0}}),window.addEventListener("test-passive",null,re)}catch(e){}var oe=function(){return void 0===U&&(U=!q&&!G&&void 0!==e&&(e.process&&"server"===e.process.env.VUE_ENV)),U},se=q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ae(e){return"function"==typeof e&&/native code/.test(e.toString())}var le,ce="undefined"!=typeof Symbol&&ae(Symbol)&&"undefined"!=typeof Reflect&&ae(Reflect.ownKeys);le="undefined"!=typeof Set&&ae(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var he=O,ue=0,de=function(){this.id=ue++,this.subs=[]};de.prototype.addSub=function(e){this.subs.push(e)},de.prototype.removeSub=function(e){b(this.subs,e)},de.prototype.depend=function(){de.target&&de.target.addDep(this)},de.prototype.notify=function(){var e=this.subs.slice();for(var t=0,i=e.length;t<i;t++)e[t].update()},de.target=null;var fe=[];function pe(e){fe.push(e),de.target=e}function me(){fe.pop(),de.target=fe[fe.length-1]}var ge=function(e,t,i,n,r,o,s,a){this.tag=e,this.data=t,this.children=i,this.text=n,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ve={child:{configurable:!0}};ve.child.get=function(){return this.componentInstance},Object.defineProperties(ge.prototype,ve);var be=function(e){void 0===e&&(e="");var t=new ge;return t.text=e,t.isComment=!0,t};function _e(e){return new ge(void 0,void 0,void 0,String(e))}function ye(e){var t=new ge(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var we=Array.prototype,Ce=Object.create(we);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=we[e];H(Ce,e,function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];var r,o=t.apply(this,i),s=this.__ob__;switch(e){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2)}return r&&s.observeArray(r),s.dep.notify(),o})});var Se=Object.getOwnPropertyNames(Ce),xe=!0;function ke(e){xe=e}var Le=function(e){var t;this.value=e,this.dep=new de,this.vmCount=0,H(e,"__ob__",this),Array.isArray(e)?(K?(t=Ce,e.__proto__=t):function(e,t,i){for(var n=0,r=i.length;n<r;n++){var o=i[n];H(e,o,t[o])}}(e,Ce,Se),this.observeArray(e)):this.walk(e)};function De(e,t){var i;if(a(e)&&!(e instanceof ge))return y(e,"__ob__")&&e.__ob__ instanceof Le?i=e.__ob__:xe&&!oe()&&(Array.isArray(e)||c(e))&&Object.isExtensible(e)&&!e._isVue&&(i=new Le(e)),t&&i&&i.vmCount++,i}function Ee(e,t,i,n,r){var o=new de,s=Object.getOwnPropertyDescriptor(e,t);if(!s||!1!==s.configurable){var a=s&&s.get,l=s&&s.set;a&&!l||2!==arguments.length||(i=e[t]);var c=!r&&De(i);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=a?a.call(e):i;return de.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(t)&&function e(t){for(var i=void 0,n=0,r=t.length;n<r;n++)(i=t[n])&&i.__ob__&&i.__ob__.dep.depend(),Array.isArray(i)&&e(i)}(t))),t},set:function(t){var n=a?a.call(e):i;t===n||t!=t&&n!=n||a&&!l||(l?l.call(e,t):i=t,c=!r&&De(t),o.notify())}})}}function Ne(e,t,i){if(Array.isArray(e)&&u(t))return e.length=Math.max(e.length,t),e.splice(t,1,i),i;if(t in e&&!(t in Object.prototype))return e[t]=i,i;var n=e.__ob__;return e._isVue||n&&n.vmCount?i:n?(Ee(n.value,t,i),n.dep.notify(),i):(e[t]=i,i)}function Te(e,t){if(Array.isArray(e)&&u(t))e.splice(t,1);else{var i=e.__ob__;e._isVue||i&&i.vmCount||y(e,t)&&(delete e[t],i&&i.dep.notify())}}Le.prototype.walk=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)Ee(e,t[i])},Le.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)De(e[t])};var Oe=W.optionMergeStrategies;function Me(e,t){if(!t)return e;for(var i,n,r,o=ce?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)"__ob__"!==(i=o[s])&&(n=e[i],r=t[i],y(e,i)?n!==r&&c(n)&&c(r)&&Me(n,r):Ne(e,i,r));return e}function Ie(e,t,i){return i?function(){var n="function"==typeof t?t.call(i,i):t,r="function"==typeof e?e.call(i,i):e;return n?Me(n,r):r}:t?e?function(){return Me("function"==typeof t?t.call(this,this):t,"function"==typeof e?e.call(this,this):e)}:t:e}function Ae(e,t){var i=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return i?function(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}(i):i}function Pe(e,t,i,n){var r=Object.create(e||null);return t?N(r,t):r}Oe.data=function(e,t,i){return i?Ie(e,t,i):t&&"function"!=typeof t?e:Ie(e,t)},B.forEach(function(e){Oe[e]=Ae}),V.forEach(function(e){Oe[e+"s"]=Pe}),Oe.watch=function(e,t,i,n){if(e===ie&&(e=void 0),t===ie&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var o in N(r,e),t){var s=r[o],a=t[o];s&&!Array.isArray(s)&&(s=[s]),r[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return r},Oe.props=Oe.methods=Oe.inject=Oe.computed=function(e,t,i,n){if(!e)return t;var r=Object.create(null);return N(r,e),t&&N(r,t),r},Oe.provide=Ie;var Re=function(e,t){return void 0===t?e:t};function Fe(e,t,i){if("function"==typeof t&&(t=t.options),function(e,t){var i=e.props;if(i){var n,r,o={};if(Array.isArray(i))for(n=i.length;n--;)"string"==typeof(r=i[n])&&(o[S(r)]={type:null});else if(c(i))for(var s in i)r=i[s],o[S(s)]=c(r)?r:{type:r};e.props=o}}(t),function(e,t){var i=e.inject;if(i){var n=e.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)n[i[r]]={from:i[r]};else if(c(i))for(var o in i){var s=i[o];n[o]=c(s)?N({from:o},s):{from:s}}}}(t),function(e){var t=e.directives;if(t)for(var i in t){var n=t[i];"function"==typeof n&&(t[i]={bind:n,update:n})}}(t),!t._base&&(t.extends&&(e=Fe(e,t.extends,i)),t.mixins))for(var n=0,r=t.mixins.length;n<r;n++)e=Fe(e,t.mixins[n],i);var o,s={};for(o in e)a(o);for(o in t)y(e,o)||a(o);function a(n){var r=Oe[n]||Re;s[n]=r(e[n],t[n],i,n)}return s}function Ve(e,t,i,n){if("string"==typeof i){var r=e[t];if(y(r,i))return r[i];var o=S(i);if(y(r,o))return r[o];var s=x(o);return y(r,s)?r[s]:r[i]||r[o]||r[s]}}function Be(e,t,i,n){var r=t[e],o=!y(i,e),s=i[e],a=ze(Boolean,r.type);if(a>-1)if(o&&!y(r,"default"))s=!1;else if(""===s||s===L(e)){var l=ze(String,r.type);(l<0||a<l)&&(s=!0)}if(void 0===s){s=function(e,t,i){if(!y(t,"default"))return;var n=t.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i])return e._props[i];return"function"==typeof n&&"Function"!==We(t.type)?n.call(e):n}(n,r,e);var c=xe;ke(!0),De(s),ke(c)}return s}function We(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function $e(e,t){return We(e)===We(t)}function ze(e,t){if(!Array.isArray(t))return $e(t,e)?0:-1;for(var i=0,n=t.length;i<n;i++)if($e(t[i],e))return i;return-1}function He(e,t,i){pe();try{if(t)for(var n=t;n=n.$parent;){var r=n.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{if(!1===r[o].call(n,e,t,i))return}catch(e){Ue(e,n,"errorCaptured hook")}}Ue(e,t,i)}finally{me()}}function je(e,t,i,n,r){var o;try{(o=i?e.apply(t,i):e.call(t))&&!o._isVue&&d(o)&&!o._handled&&(o.catch(function(e){return He(e,n,r+" (Promise/async)")}),o._handled=!0)}catch(e){He(e,n,r)}return o}function Ue(e,t,i){if(W.errorHandler)try{return W.errorHandler.call(null,e,t,i)}catch(t){t!==e&&Ke(t,null,"config.errorHandler")}Ke(e,t,i)}function Ke(e,t,i){if(!q&&!G||"undefined"==typeof console)throw e;console.error(e)}var qe,Ge=!1,Ye=[],Xe=!1;function Ze(){Xe=!1;var e=Ye.slice(0);Ye.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&ae(Promise)){var Qe=Promise.resolve();qe=function(){Qe.then(Ze),ee&&setTimeout(O)},Ge=!0}else if(Z||"undefined"==typeof MutationObserver||!ae(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())qe="undefined"!=typeof setImmediate&&ae(setImmediate)?function(){setImmediate(Ze)}:function(){setTimeout(Ze,0)};else{var Je=1,et=new MutationObserver(Ze),tt=document.createTextNode(String(Je));et.observe(tt,{characterData:!0}),qe=function(){Je=(Je+1)%2,tt.data=String(Je)},Ge=!0}function it(e,t){var i;if(Ye.push(function(){if(e)try{e.call(t)}catch(e){He(e,t,"nextTick")}else i&&i(t)}),Xe||(Xe=!0,qe()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){i=e})}var nt=new le;function rt(e){!function e(t,i){var n,r;var o=Array.isArray(t);if(!o&&!a(t)||Object.isFrozen(t)||t instanceof ge)return;if(t.__ob__){var s=t.__ob__.dep.id;if(i.has(s))return;i.add(s)}if(o)for(n=t.length;n--;)e(t[n],i);else for(r=Object.keys(t),n=r.length;n--;)e(t[r[n]],i)}(e,nt),nt.clear()}var ot=w(function(e){var t="&"===e.charAt(0),i="~"===(e=t?e.slice(1):e).charAt(0),n="!"===(e=i?e.slice(1):e).charAt(0);return{name:e=n?e.slice(1):e,once:i,capture:n,passive:t}});function st(e,t){function i(){var e=arguments,n=i.fns;if(!Array.isArray(n))return je(n,null,arguments,t,"v-on handler");for(var r=n.slice(),o=0;o<r.length;o++)je(r[o],null,e,t,"v-on handler")}return i.fns=e,i}function at(e,t,i,r,s,a){var l,c,h,u;for(l in e)c=e[l],h=t[l],u=ot(l),n(c)||(n(h)?(n(c.fns)&&(c=e[l]=st(c,a)),o(u.once)&&(c=e[l]=s(u.name,c,u.capture)),i(u.name,c,u.capture,u.passive,u.params)):c!==h&&(h.fns=c,e[l]=h));for(l in t)n(e[l])&&r((u=ot(l)).name,t[l],u.capture)}function lt(e,t,i){var s;e instanceof ge&&(e=e.data.hook||(e.data.hook={}));var a=e[t];function l(){i.apply(this,arguments),b(s.fns,l)}n(a)?s=st([l]):r(a.fns)&&o(a.merged)?(s=a).fns.push(l):s=st([a,l]),s.merged=!0,e[t]=s}function ct(e,t,i,n,o){if(r(t)){if(y(t,i))return e[i]=t[i],o||delete t[i],!0;if(y(t,n))return e[i]=t[n],o||delete t[n],!0}return!1}function ht(e){return s(e)?[_e(e)]:Array.isArray(e)?function e(t,i){var a=[];var l,c,h,u;for(l=0;l<t.length;l++)n(c=t[l])||"boolean"==typeof c||(h=a.length-1,u=a[h],Array.isArray(c)?c.length>0&&(ut((c=e(c,(i||"")+"_"+l))[0])&&ut(u)&&(a[h]=_e(u.text+c[0].text),c.shift()),a.push.apply(a,c)):s(c)?ut(u)?a[h]=_e(u.text+c):""!==c&&a.push(_e(c)):ut(c)&&ut(u)?a[h]=_e(u.text+c.text):(o(t._isVList)&&r(c.tag)&&n(c.key)&&r(i)&&(c.key="__vlist"+i+"_"+l+"__"),a.push(c)));return a}(e):void 0}function ut(e){return r(e)&&r(e.text)&&!1===e.isComment}function dt(e,t){if(e){for(var i=Object.create(null),n=ce?Reflect.ownKeys(e):Object.keys(e),r=0;r<n.length;r++){var o=n[r];if("__ob__"!==o){for(var s=e[o].from,a=t;a;){if(a._provided&&y(a._provided,s)){i[o]=a._provided[s];break}a=a.$parent}if(!a)if("default"in e[o]){var l=e[o].default;i[o]="function"==typeof l?l.call(t):l}else 0}}return i}}function ft(e,t){if(!e||!e.length)return{};for(var i={},n=0,r=e.length;n<r;n++){var o=e[n],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==t&&o.fnContext!==t||!s||null==s.slot)(i.default||(i.default=[])).push(o);else{var a=s.slot,l=i[a]||(i[a]=[]);"template"===o.tag?l.push.apply(l,o.children||[]):l.push(o)}}for(var c in i)i[c].every(pt)&&delete i[c];return i}function pt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function mt(e,t,n){var r,o=Object.keys(t).length>0,s=e?!!e.$stable:!o,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&n&&n!==i&&a===n.$key&&!o&&!n.$hasNormal)return n;for(var l in r={},e)e[l]&&"$"!==l[0]&&(r[l]=gt(t,l,e[l]))}else r={};for(var c in t)c in r||(r[c]=vt(t,c));return e&&Object.isExtensible(e)&&(e._normalized=r),H(r,"$stable",s),H(r,"$key",a),H(r,"$hasNormal",o),r}function gt(e,t,i){var n=function(){var e=arguments.length?i.apply(null,arguments):i({});return(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:ht(e))&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return i.proxy&&Object.defineProperty(e,t,{get:n,enumerable:!0,configurable:!0}),n}function vt(e,t){return function(){return e[t]}}function bt(e,t){var i,n,o,s,l;if(Array.isArray(e)||"string"==typeof e)for(i=new Array(e.length),n=0,o=e.length;n<o;n++)i[n]=t(e[n],n);else if("number"==typeof e)for(i=new Array(e),n=0;n<e;n++)i[n]=t(n+1,n);else if(a(e))if(ce&&e[Symbol.iterator]){i=[];for(var c=e[Symbol.iterator](),h=c.next();!h.done;)i.push(t(h.value,i.length)),h=c.next()}else for(s=Object.keys(e),i=new Array(s.length),n=0,o=s.length;n<o;n++)l=s[n],i[n]=t(e[l],l,n);return r(i)||(i=[]),i._isVList=!0,i}function _t(e,t,i,n){var r,o=this.$scopedSlots[e];o?(i=i||{},n&&(i=N(N({},n),i)),r=o(i)||t):r=this.$slots[e]||t;var s=i&&i.slot;return s?this.$createElement("template",{slot:s},r):r}function yt(e){return Ve(this.$options,"filters",e)||I}function wt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Ct(e,t,i,n,r){var o=W.keyCodes[t]||i;return r&&n&&!W.keyCodes[t]?wt(r,n):o?wt(o,e):n?L(n)!==t:void 0}function St(e,t,i,n,r){if(i)if(a(i)){var o;Array.isArray(i)&&(i=T(i));var s=function(s){if("class"===s||"style"===s||v(s))o=e;else{var a=e.attrs&&e.attrs.type;o=n||W.mustUseProp(t,a,s)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=S(s),c=L(s);l in o||c in o||(o[s]=i[s],r&&((e.on||(e.on={}))["update:"+s]=function(e){i[s]=e}))};for(var l in i)s(l)}else;return e}function xt(e,t){var i=this._staticTrees||(this._staticTrees=[]),n=i[e];return n&&!t?n:(Lt(n=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),n)}function kt(e,t,i){return Lt(e,"__once__"+t+(i?"_"+i:""),!0),e}function Lt(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]&&"string"!=typeof e[n]&&Dt(e[n],t+"_"+n,i);else Dt(e,t,i)}function Dt(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function Et(e,t){if(t)if(c(t)){var i=e.on=e.on?N({},e.on):{};for(var n in t){var r=i[n],o=t[n];i[n]=r?[].concat(r,o):o}}else;return e}function Nt(e,t,i,n){t=t||{$stable:!i};for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?Nt(o,t,i):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return n&&(t.$key=n),t}function Tt(e,t){for(var i=0;i<t.length;i+=2){var n=t[i];"string"==typeof n&&n&&(e[t[i]]=t[i+1])}return e}function Ot(e,t){return"string"==typeof e?t+e:e}function Mt(e){e._o=kt,e._n=p,e._s=f,e._l=bt,e._t=_t,e._q=A,e._i=P,e._m=xt,e._f=yt,e._k=Ct,e._b=St,e._v=_e,e._e=be,e._u=Nt,e._g=Et,e._d=Tt,e._p=Ot}function It(e,t,n,r,s){var a,l=this,c=s.options;y(r,"_uid")?(a=Object.create(r))._original=r:(a=r,r=r._original);var h=o(c._compiled),u=!h;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||i,this.injections=dt(c.inject,r),this.slots=function(){return l.$slots||mt(e.scopedSlots,l.$slots=ft(n,r)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return mt(e.scopedSlots,this.slots())}}),h&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=mt(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,i,n){var o=zt(a,e,t,i,n,u);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=r),o}:this._c=function(e,t,i,n){return zt(a,e,t,i,n,u)}}function At(e,t,i,n,r){var o=ye(e);return o.fnContext=i,o.fnOptions=n,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Pt(e,t){for(var i in t)e[S(i)]=t[i]}Mt(It.prototype);var Rt={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var i=e;Rt.prepatch(i,i)}else{(e.componentInstance=function(e,t){var i={_isComponent:!0,_parentVnode:e,parent:t},n=e.data.inlineTemplate;r(n)&&(i.render=n.render,i.staticRenderFns=n.staticRenderFns);return new e.componentOptions.Ctor(i)}(e,Qt)).$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions;!function(e,t,n,r,o){0;var s=r.data.scopedSlots,a=e.$scopedSlots,l=!!(s&&!s.$stable||a!==i&&!a.$stable||s&&e.$scopedSlots.$key!==s.$key),c=!!(o||e.$options._renderChildren||l);e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r);if(e.$options._renderChildren=o,e.$attrs=r.data.attrs||i,e.$listeners=n||i,t&&e.$options.props){ke(!1);for(var h=e._props,u=e.$options._propKeys||[],d=0;d<u.length;d++){var f=u[d],p=e.$options.props;h[f]=Be(f,p,t,e)}ke(!0),e.$options.propsData=t}n=n||i;var m=e.$options._parentListeners;e.$options._parentListeners=n,Zt(e,n,m),c&&(e.$slots=ft(o,r.context),e.$forceUpdate());0}(t.componentInstance=e.componentInstance,n.propsData,n.listeners,t,n.children)},insert:function(e){var t,i=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,ii(n,"mounted")),e.data.keepAlive&&(i._isMounted?((t=n)._inactive=!1,ri.push(t)):ti(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,i){if(i&&(t._directInactive=!0,ei(t)))return;if(!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)e(t.$children[n]);ii(t,"deactivated")}}(t,!0):t.$destroy())}},Ft=Object.keys(Rt);function Vt(e,t,s,l,c){if(!n(e)){var h=s.$options._base;if(a(e)&&(e=h.extend(e)),"function"==typeof e){var u;if(n(e.cid)&&void 0===(e=function(e,t){if(o(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;var i=jt;i&&r(e.owners)&&-1===e.owners.indexOf(i)&&e.owners.push(i);if(o(e.loading)&&r(e.loadingComp))return e.loadingComp;if(i&&!r(e.owners)){var s=e.owners=[i],l=!0,c=null,h=null;i.$on("hook:destroyed",function(){return b(s,i)});var u=function(e){for(var t=0,i=s.length;t<i;t++)s[t].$forceUpdate();e&&(s.length=0,null!==c&&(clearTimeout(c),c=null),null!==h&&(clearTimeout(h),h=null))},f=R(function(i){e.resolved=Ut(i,t),l?s.length=0:u(!0)}),p=R(function(t){r(e.errorComp)&&(e.error=!0,u(!0))}),m=e(f,p);return a(m)&&(d(m)?n(e.resolved)&&m.then(f,p):d(m.component)&&(m.component.then(f,p),r(m.error)&&(e.errorComp=Ut(m.error,t)),r(m.loading)&&(e.loadingComp=Ut(m.loading,t),0===m.delay?e.loading=!0:c=setTimeout(function(){c=null,n(e.resolved)&&n(e.error)&&(e.loading=!0,u(!1))},m.delay||200)),r(m.timeout)&&(h=setTimeout(function(){h=null,n(e.resolved)&&p(null)},m.timeout)))),l=!1,e.loading?e.loadingComp:e.resolved}}(u=e,h)))return function(e,t,i,n,r){var o=be();return o.asyncFactory=e,o.asyncMeta={data:t,context:i,children:n,tag:r},o}(u,t,s,l,c);t=t||{},xi(e),r(t.model)&&function(e,t){var i=e.model&&e.model.prop||"value",n=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[i]=t.model.value;var o=t.on||(t.on={}),s=o[n],a=t.model.callback;r(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(o[n]=[a].concat(s)):o[n]=a}(e.options,t);var f=function(e,t,i){var o=t.options.props;if(!n(o)){var s={},a=e.attrs,l=e.props;if(r(a)||r(l))for(var c in o){var h=L(c);ct(s,l,c,h,!0)||ct(s,a,c,h,!1)}return s}}(t,e);if(o(e.options.functional))return function(e,t,n,o,s){var a=e.options,l={},c=a.props;if(r(c))for(var h in c)l[h]=Be(h,c,t||i);else r(n.attrs)&&Pt(l,n.attrs),r(n.props)&&Pt(l,n.props);var u=new It(n,l,s,o,e),d=a.render.call(null,u._c,u);if(d instanceof ge)return At(d,n,u.parent,a);if(Array.isArray(d)){for(var f=ht(d)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=At(f[m],n,u.parent,a);return p}}(e,f,t,s,l);var p=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var m=t.slot;t={},m&&(t.slot=m)}!function(e){for(var t=e.hook||(e.hook={}),i=0;i<Ft.length;i++){var n=Ft[i],r=t[n],o=Rt[n];r===o||r&&r._merged||(t[n]=r?Bt(o,r):o)}}(t);var g=e.options.name||c;return new ge("vue-component-"+e.cid+(g?"-"+g:""),t,void 0,void 0,void 0,s,{Ctor:e,propsData:f,listeners:p,tag:c,children:l},u)}}}function Bt(e,t){var i=function(i,n){e(i,n),t(i,n)};return i._merged=!0,i}var Wt=1,$t=2;function zt(e,t,i,l,c,h){return(Array.isArray(i)||s(i))&&(c=l,l=i,i=void 0),o(h)&&(c=$t),function(e,t,i,s,l){if(r(i)&&r(i.__ob__))return be();r(i)&&r(i.is)&&(t=i.is);if(!t)return be();0;Array.isArray(s)&&"function"==typeof s[0]&&((i=i||{}).scopedSlots={default:s[0]},s.length=0);l===$t?s=ht(s):l===Wt&&(s=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(s));var c,h;if("string"==typeof t){var u;h=e.$vnode&&e.$vnode.ns||W.getTagNamespace(t),c=W.isReservedTag(t)?new ge(W.parsePlatformTagName(t),i,s,void 0,void 0,e):i&&i.pre||!r(u=Ve(e.$options,"components",t))?new ge(t,i,s,void 0,void 0,e):Vt(u,i,e,s,t)}else c=Vt(t,i,e,s);return Array.isArray(c)?c:r(c)?(r(h)&&function e(t,i,s){t.ns=i;"foreignObject"===t.tag&&(i=void 0,s=!0);if(r(t.children))for(var a=0,l=t.children.length;a<l;a++){var c=t.children[a];r(c.tag)&&(n(c.ns)||o(s)&&"svg"!==c.tag)&&e(c,i,s)}}(c,h),r(i)&&function(e){a(e.style)&&rt(e.style);a(e.class)&&rt(e.class)}(i),c):be()}(e,t,i,l,c)}var Ht,jt=null;function Ut(e,t){return(e.__esModule||ce&&"Module"===e[Symbol.toStringTag])&&(e=e.default),a(e)?t.extend(e):e}function Kt(e){return e.isComment&&e.asyncFactory}function qt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];if(r(i)&&(r(i.componentOptions)||Kt(i)))return i}}function Gt(e,t){Ht.$on(e,t)}function Yt(e,t){Ht.$off(e,t)}function Xt(e,t){var i=Ht;return function n(){null!==t.apply(null,arguments)&&i.$off(e,n)}}function Zt(e,t,i){Ht=e,at(t,i||{},Gt,Yt,Xt,e),Ht=void 0}var Qt=null;function Jt(e){var t=Qt;return Qt=e,function(){Qt=t}}function ei(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function ti(e,t){if(t){if(e._directInactive=!1,ei(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)ti(e.$children[i]);ii(e,"activated")}}function ii(e,t){pe();var i=e.$options[t],n=t+" hook";if(i)for(var r=0,o=i.length;r<o;r++)je(i[r],e,null,e,n);e._hasHookEvent&&e.$emit("hook:"+t),me()}var ni=[],ri=[],oi={},si=!1,ai=!1,li=0;var ci=0,hi=Date.now;if(q&&!Z){var ui=window.performance;ui&&"function"==typeof ui.now&&hi()>document.createEvent("Event").timeStamp&&(hi=function(){return ui.now()})}function di(){var e,t;for(ci=hi(),ai=!0,ni.sort(function(e,t){return e.id-t.id}),li=0;li<ni.length;li++)(e=ni[li]).before&&e.before(),t=e.id,oi[t]=null,e.run();var i=ri.slice(),n=ni.slice();li=ni.length=ri.length=0,oi={},si=ai=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,ti(e[t],!0)}(i),function(e){var t=e.length;for(;t--;){var i=e[t],n=i.vm;n._watcher===i&&n._isMounted&&!n._isDestroyed&&ii(n,"updated")}}(n),se&&W.devtools&&se.emit("flush")}var fi=0,pi=function(e,t,i,n,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++fi,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new le,this.newDepIds=new le,this.expression="","function"==typeof t?this.getter=t:(this.getter=function(e){if(!j.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}(t),this.getter||(this.getter=O)),this.value=this.lazy?void 0:this.get()};pi.prototype.get=function(){var e;pe(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;He(e,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&rt(e),me(),this.cleanupDeps()}return e},pi.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},pi.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},pi.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==oi[t]){if(oi[t]=!0,ai){for(var i=ni.length-1;i>li&&ni[i].id>e.id;)i--;ni.splice(i+1,0,e)}else ni.push(e);si||(si=!0,it(di))}}(this)},pi.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||a(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){He(e,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},pi.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},pi.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},pi.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||b(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var mi={enumerable:!0,configurable:!0,get:O,set:O};function gi(e,t,i){mi.get=function(){return this[t][i]},mi.set=function(e){this[t][i]=e},Object.defineProperty(e,i,mi)}function vi(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var i=e.$options.propsData||{},n=e._props={},r=e.$options._propKeys=[],o=!e.$parent;o||ke(!1);var s=function(o){r.push(o);var s=Be(o,t,i,e);Ee(n,o,s),o in e||gi(e,"_props",o)};for(var a in t)s(a);ke(!0)}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var i in t)e[i]="function"!=typeof t[i]?O:D(t[i],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;c(t=e._data="function"==typeof t?function(e,t){pe();try{return e.call(t,t)}catch(e){return He(e,t,"data()"),{}}finally{me()}}(t,e):t||{})||(t={});var i=Object.keys(t),n=e.$options.props,r=(e.$options.methods,i.length);for(;r--;){var o=i[r];0,n&&y(n,o)||z(o)||gi(e,"_data",o)}De(t,!0)}(e):De(e._data={},!0),t.computed&&function(e,t){var i=e._computedWatchers=Object.create(null),n=oe();for(var r in t){var o=t[r],s="function"==typeof o?o:o.get;0,n||(i[r]=new pi(e,s||O,O,bi)),r in e||_i(e,r,o)}}(e,t.computed),t.watch&&t.watch!==ie&&function(e,t){for(var i in t){var n=t[i];if(Array.isArray(n))for(var r=0;r<n.length;r++)Ci(e,i,n[r]);else Ci(e,i,n)}}(e,t.watch)}var bi={lazy:!0};function _i(e,t,i){var n=!oe();"function"==typeof i?(mi.get=n?yi(t):wi(i),mi.set=O):(mi.get=i.get?n&&!1!==i.cache?yi(t):wi(i.get):O,mi.set=i.set||O),Object.defineProperty(e,t,mi)}function yi(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),de.target&&t.depend(),t.value}}function wi(e){return function(){return e.call(this,this)}}function Ci(e,t,i,n){return c(i)&&(n=i,i=i.handler),"string"==typeof i&&(i=e[i]),e.$watch(t,i,n)}var Si=0;function xi(e){var t=e.options;if(e.super){var i=xi(e.super);if(i!==e.superOptions){e.superOptions=i;var n=function(e){var t,i=e.options,n=e.sealedOptions;for(var r in i)i[r]!==n[r]&&(t||(t={}),t[r]=i[r]);return t}(e);n&&N(e.extendOptions,n),(t=e.options=Fe(i,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function ki(e){this._init(e)}function Li(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var i=this,n=i.cid,r=e._Ctor||(e._Ctor={});if(r[n])return r[n];var o=e.name||i.options.name;var s=function(e){this._init(e)};return(s.prototype=Object.create(i.prototype)).constructor=s,s.cid=t++,s.options=Fe(i.options,e),s.super=i,s.options.props&&function(e){var t=e.options.props;for(var i in t)gi(e.prototype,"_props",i)}(s),s.options.computed&&function(e){var t=e.options.computed;for(var i in t)_i(e.prototype,i,t[i])}(s),s.extend=i.extend,s.mixin=i.mixin,s.use=i.use,V.forEach(function(e){s[e]=i[e]}),o&&(s.options.components[o]=s),s.superOptions=i.options,s.extendOptions=e,s.sealedOptions=N({},s.options),r[n]=s,s}}function Di(e){return e&&(e.Ctor.options.name||e.tag)}function Ei(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!h(e)&&e.test(t)}function Ni(e,t){var i=e.cache,n=e.keys,r=e._vnode;for(var o in i){var s=i[o];if(s){var a=Di(s.componentOptions);a&&!t(a)&&Ti(i,o,n,r)}}}function Ti(e,t,i,n){var r=e[t];!r||n&&r.tag===n.tag||r.componentInstance.$destroy(),e[t]=null,b(i,t)}!function(e){e.prototype._init=function(e){var t=this;t._uid=Si++,t._isVue=!0,e&&e._isComponent?function(e,t){var i=e.$options=Object.create(e.constructor.options),n=t._parentVnode;i.parent=t.parent,i._parentVnode=n;var r=n.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=Fe(xi(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){for(;i.$options.abstract&&i.$parent;)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Zt(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,r=n&&n.context;e.$slots=ft(t._renderChildren,r),e.$scopedSlots=i,e._c=function(t,i,n,r){return zt(e,t,i,n,r,!1)},e.$createElement=function(t,i,n,r){return zt(e,t,i,n,r,!0)};var o=n&&n.data;Ee(e,"$attrs",o&&o.attrs||i,null,!0),Ee(e,"$listeners",t._parentListeners||i,null,!0)}(t),ii(t,"beforeCreate"),function(e){var t=dt(e.$options.inject,e);t&&(ke(!1),Object.keys(t).forEach(function(i){Ee(e,i,t[i])}),ke(!0))}(t),vi(t),function(e){var t=e.$options.provide;t&&(e._provided="function"==typeof t?t.call(e):t)}(t),ii(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(ki),function(e){var t={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",i),e.prototype.$set=Ne,e.prototype.$delete=Te,e.prototype.$watch=function(e,t,i){if(c(t))return Ci(this,e,t,i);(i=i||{}).user=!0;var n=new pi(this,e,t,i);if(i.immediate)try{t.call(this,n.value)}catch(e){He(e,this,'callback for immediate watcher "'+n.expression+'"')}return function(){n.teardown()}}}(ki),function(e){var t=/^hook:/;e.prototype.$on=function(e,i){var n=this;if(Array.isArray(e))for(var r=0,o=e.length;r<o;r++)n.$on(e[r],i);else(n._events[e]||(n._events[e]=[])).push(i),t.test(e)&&(n._hasHookEvent=!0);return n},e.prototype.$once=function(e,t){var i=this;function n(){i.$off(e,n),t.apply(i,arguments)}return n.fn=t,i.$on(e,n),i},e.prototype.$off=function(e,t){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)i.$off(e[n],t);return i}var o,s=i._events[e];if(!s)return i;if(!t)return i._events[e]=null,i;for(var a=s.length;a--;)if((o=s[a])===t||o.fn===t){s.splice(a,1);break}return i},e.prototype.$emit=function(e){var t=this,i=t._events[e];if(i){i=i.length>1?E(i):i;for(var n=E(arguments,1),r='event handler for "'+e+'"',o=0,s=i.length;o<s;o++)je(i[o],t,n,t,r)}return t}}(ki),function(e){e.prototype._update=function(e,t){var i=this,n=i.$el,r=i._vnode,o=Jt(i);i._vnode=e,i.$el=r?i.__patch__(r,e):i.__patch__(i.$el,e,t,!1),o(),n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){ii(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||b(t.$children,e),e._watcher&&e._watcher.teardown();for(var i=e._watchers.length;i--;)e._watchers[i].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),ii(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(ki),function(e){Mt(e.prototype),e.prototype.$nextTick=function(e){return it(e,this)},e.prototype._render=function(){var e,t=this,i=t.$options,n=i.render,r=i._parentVnode;r&&(t.$scopedSlots=mt(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{jt=t,e=n.call(t._renderProxy,t.$createElement)}catch(i){He(i,t,"render"),e=t._vnode}finally{jt=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof ge||(e=be()),e.parent=r,e}}(ki);var Oi=[String,RegExp,Array],Mi={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Oi,exclude:Oi,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Ti(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",function(t){Ni(e,function(e){return Ei(t,e)})}),this.$watch("exclude",function(t){Ni(e,function(e){return!Ei(t,e)})})},render:function(){var e=this.$slots.default,t=qt(e),i=t&&t.componentOptions;if(i){var n=Di(i),r=this.include,o=this.exclude;if(r&&(!n||!Ei(r,n))||o&&n&&Ei(o,n))return t;var s=this.cache,a=this.keys,l=null==t.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):t.key;s[l]?(t.componentInstance=s[l].componentInstance,b(a,l),a.push(l)):(s[l]=t,a.push(l),this.max&&a.length>parseInt(this.max)&&Ti(s,a[0],a,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return W}};Object.defineProperty(e,"config",t),e.util={warn:he,extend:N,mergeOptions:Fe,defineReactive:Ee},e.set=Ne,e.delete=Te,e.nextTick=it,e.observable=function(e){return De(e),e},e.options=Object.create(null),V.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,N(e.options.components,Mi),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var i=E(arguments,1);return i.unshift(this),"function"==typeof e.install?e.install.apply(e,i):"function"==typeof e&&e.apply(null,i),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Fe(this.options,e),this}}(e),Li(e),function(e){V.forEach(function(t){e[t]=function(e,i){return i?("component"===t&&c(i)&&(i.name=i.name||e,i=this.options._base.extend(i)),"directive"===t&&"function"==typeof i&&(i={bind:i,update:i}),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}})}(e)}(ki),Object.defineProperty(ki.prototype,"$isServer",{get:oe}),Object.defineProperty(ki.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ki,"FunctionalRenderContext",{value:It}),ki.version="2.6.12";var Ii=m("style,class"),Ai=m("input,textarea,option,select,progress"),Pi=function(e,t,i){return"value"===i&&Ai(e)&&"button"!==t||"selected"===i&&"option"===e||"checked"===i&&"input"===e||"muted"===i&&"video"===e},Ri=m("contenteditable,draggable,spellcheck"),Fi=m("events,caret,typing,plaintext-only"),Vi=function(e,t){return Hi(t)||"false"===t?"false":"contenteditable"===e&&Fi(t)?t:"true"},Bi=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Wi="http://www.w3.org/1999/xlink",$i=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},zi=function(e){return $i(e)?e.slice(6,e.length):""},Hi=function(e){return null==e||!1===e};function ji(e){for(var t=e.data,i=e,n=e;r(n.componentInstance);)(n=n.componentInstance._vnode)&&n.data&&(t=Ui(n.data,t));for(;r(i=i.parent);)i&&i.data&&(t=Ui(t,i.data));return function(e,t){if(r(e)||r(t))return Ki(e,qi(t));return""}(t.staticClass,t.class)}function Ui(e,t){return{staticClass:Ki(e.staticClass,t.staticClass),class:r(e.class)?[e.class,t.class]:t.class}}function Ki(e,t){return e?t?e+" "+t:e:t||""}function qi(e){return Array.isArray(e)?function(e){for(var t,i="",n=0,o=e.length;n<o;n++)r(t=qi(e[n]))&&""!==t&&(i&&(i+=" "),i+=t);return i}(e):a(e)?function(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}(e):"string"==typeof e?e:""}var Gi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Yi=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Xi=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Zi=function(e){return Yi(e)||Xi(e)};function Qi(e){return Xi(e)?"svg":"math"===e?"math":void 0}var Ji=Object.create(null);var en=m("text,number,password,search,email,tel,url");function tn(e){if("string"==typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}var nn=Object.freeze({createElement:function(e,t){var i=document.createElement(e);return"select"!==e?i:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i)},createElementNS:function(e,t){return document.createElementNS(Gi[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,i){e.insertBefore(t,i)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),rn={create:function(e,t){on(t)},update:function(e,t){e.data.ref!==t.data.ref&&(on(e,!0),on(t))},destroy:function(e){on(e,!0)}};function on(e,t){var i=e.data.ref;if(r(i)){var n=e.context,o=e.componentInstance||e.elm,s=n.$refs;t?Array.isArray(s[i])?b(s[i],o):s[i]===o&&(s[i]=void 0):e.data.refInFor?Array.isArray(s[i])?s[i].indexOf(o)<0&&s[i].push(o):s[i]=[o]:s[i]=o}}var sn=new ge("",{},[]),an=["create","activate","update","remove","destroy"];function ln(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&r(e.data)===r(t.data)&&function(e,t){if("input"!==e.tag)return!0;var i,n=r(i=e.data)&&r(i=i.attrs)&&i.type,o=r(i=t.data)&&r(i=i.attrs)&&i.type;return n===o||en(n)&&en(o)}(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&n(t.asyncFactory.error))}function cn(e,t,i){var n,o,s={};for(n=t;n<=i;++n)r(o=e[n].key)&&(s[o]=n);return s}var hn={create:un,update:un,destroy:function(e){un(e,sn)}};function un(e,t){(e.data.directives||t.data.directives)&&function(e,t){var i,n,r,o=e===sn,s=t===sn,a=fn(e.data.directives,e.context),l=fn(t.data.directives,t.context),c=[],h=[];for(i in l)n=a[i],r=l[i],n?(r.oldValue=n.value,r.oldArg=n.arg,mn(r,"update",t,e),r.def&&r.def.componentUpdated&&h.push(r)):(mn(r,"bind",t,e),r.def&&r.def.inserted&&c.push(r));if(c.length){var u=function(){for(var i=0;i<c.length;i++)mn(c[i],"inserted",t,e)};o?lt(t,"insert",u):u()}h.length&&lt(t,"postpatch",function(){for(var i=0;i<h.length;i++)mn(h[i],"componentUpdated",t,e)});if(!o)for(i in a)l[i]||mn(a[i],"unbind",e,e,s)}(e,t)}var dn=Object.create(null);function fn(e,t){var i,n,r=Object.create(null);if(!e)return r;for(i=0;i<e.length;i++)(n=e[i]).modifiers||(n.modifiers=dn),r[pn(n)]=n,n.def=Ve(t.$options,"directives",n.name);return r}function pn(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function mn(e,t,i,n,r){var o=e.def&&e.def[t];if(o)try{o(i.elm,e,i,n,r)}catch(n){He(n,i.context,"directive "+e.name+" "+t+" hook")}}var gn=[rn,hn];function vn(e,t){var i=t.componentOptions;if(!(r(i)&&!1===i.Ctor.options.inheritAttrs||n(e.data.attrs)&&n(t.data.attrs))){var o,s,a=t.elm,l=e.data.attrs||{},c=t.data.attrs||{};for(o in r(c.__ob__)&&(c=t.data.attrs=N({},c)),c)s=c[o],l[o]!==s&&bn(a,o,s);for(o in(Z||J)&&c.value!==l.value&&bn(a,"value",c.value),l)n(c[o])&&($i(o)?a.removeAttributeNS(Wi,zi(o)):Ri(o)||a.removeAttribute(o))}}function bn(e,t,i){e.tagName.indexOf("-")>-1?_n(e,t,i):Bi(t)?Hi(i)?e.removeAttribute(t):(i="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,i)):Ri(t)?e.setAttribute(t,Vi(t,i)):$i(t)?Hi(i)?e.removeAttributeNS(Wi,zi(t)):e.setAttributeNS(Wi,t,i):_n(e,t,i)}function _n(e,t,i){if(Hi(i))e.removeAttribute(t);else{if(Z&&!Q&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==i&&!e.__ieph){var n=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",n)};e.addEventListener("input",n),e.__ieph=!0}e.setAttribute(t,i)}}var yn={create:vn,update:vn};function wn(e,t){var i=t.elm,o=t.data,s=e.data;if(!(n(o.staticClass)&&n(o.class)&&(n(s)||n(s.staticClass)&&n(s.class)))){var a=ji(t),l=i._transitionClasses;r(l)&&(a=Ki(a,qi(l))),a!==i._prevClass&&(i.setAttribute("class",a),i._prevClass=a)}}var Cn,Sn,xn,kn,Ln,Dn,En={create:wn,update:wn},Nn=/[\w).+\-_$\]]/;function Tn(e){var t,i,n,r,o,s=!1,a=!1,l=!1,c=!1,h=0,u=0,d=0,f=0;for(n=0;n<e.length;n++)if(i=t,t=e.charCodeAt(n),s)39===t&&92!==i&&(s=!1);else if(a)34===t&&92!==i&&(a=!1);else if(l)96===t&&92!==i&&(l=!1);else if(c)47===t&&92!==i&&(c=!1);else if(124!==t||124===e.charCodeAt(n+1)||124===e.charCodeAt(n-1)||h||u||d){switch(t){case 34:a=!0;break;case 39:s=!0;break;case 96:l=!0;break;case 40:d++;break;case 41:d--;break;case 91:u++;break;case 93:u--;break;case 123:h++;break;case 125:h--}if(47===t){for(var p=n-1,m=void 0;p>=0&&" "===(m=e.charAt(p));p--);m&&Nn.test(m)||(c=!0)}}else void 0===r?(f=n+1,r=e.slice(0,n).trim()):g();function g(){(o||(o=[])).push(e.slice(f,n).trim()),f=n+1}if(void 0===r?r=e.slice(0,n).trim():0!==f&&g(),o)for(n=0;n<o.length;n++)r=On(r,o[n]);return r}function On(e,t){var i=t.indexOf("(");if(i<0)return'_f("'+t+'")('+e+")";var n=t.slice(0,i),r=t.slice(i+1);return'_f("'+n+'")('+e+(")"!==r?","+r:r)}function Mn(e,t){console.error("[Vue compiler]: "+e)}function In(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function An(e,t,i,n,r){(e.props||(e.props=[])).push(jn({name:t,value:i,dynamic:r},n)),e.plain=!1}function Pn(e,t,i,n,r){(r?e.dynamicAttrs||(e.dynamicAttrs=[]):e.attrs||(e.attrs=[])).push(jn({name:t,value:i,dynamic:r},n)),e.plain=!1}function Rn(e,t,i,n){e.attrsMap[t]=i,e.attrsList.push(jn({name:t,value:i},n))}function Fn(e,t,i,n,r,o,s,a){(e.directives||(e.directives=[])).push(jn({name:t,rawName:i,value:n,arg:r,isDynamicArg:o,modifiers:s},a)),e.plain=!1}function Vn(e,t,i){return i?"_p("+t+',"'+e+'")':e+t}function Bn(e,t,n,r,o,s,a,l){var c;(r=r||i).right?l?t="("+t+")==='click'?'contextmenu':("+t+")":"click"===t&&(t="contextmenu",delete r.right):r.middle&&(l?t="("+t+")==='click'?'mouseup':("+t+")":"click"===t&&(t="mouseup")),r.capture&&(delete r.capture,t=Vn("!",t,l)),r.once&&(delete r.once,t=Vn("~",t,l)),r.passive&&(delete r.passive,t=Vn("&",t,l)),r.native?(delete r.native,c=e.nativeEvents||(e.nativeEvents={})):c=e.events||(e.events={});var h=jn({value:n.trim(),dynamic:l},a);r!==i&&(h.modifiers=r);var u=c[t];Array.isArray(u)?o?u.unshift(h):u.push(h):c[t]=u?o?[h,u]:[u,h]:h,e.plain=!1}function Wn(e,t){return e.rawAttrsMap[":"+t]||e.rawAttrsMap["v-bind:"+t]||e.rawAttrsMap[t]}function $n(e,t,i){var n=zn(e,":"+t)||zn(e,"v-bind:"+t);if(null!=n)return Tn(n);if(!1!==i){var r=zn(e,t);if(null!=r)return JSON.stringify(r)}}function zn(e,t,i){var n;if(null!=(n=e.attrsMap[t]))for(var r=e.attrsList,o=0,s=r.length;o<s;o++)if(r[o].name===t){r.splice(o,1);break}return i&&delete e.attrsMap[t],n}function Hn(e,t){for(var i=e.attrsList,n=0,r=i.length;n<r;n++){var o=i[n];if(t.test(o.name))return i.splice(n,1),o}}function jn(e,t){return t&&(null!=t.start&&(e.start=t.start),null!=t.end&&(e.end=t.end)),e}function Un(e,t,i){var n=i||{},r=n.number,o="$$v";n.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),r&&(o="_n("+o+")");var s=Kn(t,o);e.model={value:"("+t+")",expression:JSON.stringify(t),callback:"function ($$v) {"+s+"}"}}function Kn(e,t){var i=function(e){if(e=e.trim(),Cn=e.length,e.indexOf("[")<0||e.lastIndexOf("]")<Cn-1)return(kn=e.lastIndexOf("."))>-1?{exp:e.slice(0,kn),key:'"'+e.slice(kn+1)+'"'}:{exp:e,key:null};Sn=e,kn=Ln=Dn=0;for(;!Gn();)Yn(xn=qn())?Zn(xn):91===xn&&Xn(xn);return{exp:e.slice(0,Ln),key:e.slice(Ln+1,Dn)}}(e);return null===i.key?e+"="+t:"$set("+i.exp+", "+i.key+", "+t+")"}function qn(){return Sn.charCodeAt(++kn)}function Gn(){return kn>=Cn}function Yn(e){return 34===e||39===e}function Xn(e){var t=1;for(Ln=kn;!Gn();)if(Yn(e=qn()))Zn(e);else if(91===e&&t++,93===e&&t--,0===t){Dn=kn;break}}function Zn(e){for(var t=e;!Gn()&&(e=qn())!==t;);}var Qn,Jn="__r",er="__c";function tr(e,t,i){var n=Qn;return function r(){null!==t.apply(null,arguments)&&rr(e,r,i,n)}}var ir=Ge&&!(te&&Number(te[1])<=53);function nr(e,t,i,n){if(ir){var r=ci,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Qn.addEventListener(e,t,ne?{capture:i,passive:n}:i)}function rr(e,t,i,n){(n||Qn).removeEventListener(e,t._wrapper||t,i)}function or(e,t){if(!n(e.data.on)||!n(t.data.on)){var i=t.data.on||{},o=e.data.on||{};Qn=t.elm,function(e){if(r(e[Jn])){var t=Z?"change":"input";e[t]=[].concat(e[Jn],e[t]||[]),delete e[Jn]}r(e[er])&&(e.change=[].concat(e[er],e.change||[]),delete e[er])}(i),at(i,o,nr,rr,tr,t.context),Qn=void 0}}var sr,ar={create:or,update:or};function lr(e,t){if(!n(e.data.domProps)||!n(t.data.domProps)){var i,o,s=t.elm,a=e.data.domProps||{},l=t.data.domProps||{};for(i in r(l.__ob__)&&(l=t.data.domProps=N({},l)),a)i in l||(s[i]="");for(i in l){if(o=l[i],"textContent"===i||"innerHTML"===i){if(t.children&&(t.children.length=0),o===a[i])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===i&&"PROGRESS"!==s.tagName){s._value=o;var c=n(o)?"":String(o);cr(s,c)&&(s.value=c)}else if("innerHTML"===i&&Xi(s.tagName)&&n(s.innerHTML)){(sr=sr||document.createElement("div")).innerHTML="<svg>"+o+"</svg>";for(var h=sr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;h.firstChild;)s.appendChild(h.firstChild)}else if(o!==a[i])try{s[i]=o}catch(e){}}}}function cr(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var i=!0;try{i=document.activeElement!==e}catch(e){}return i&&e.value!==t}(e,t)||function(e,t){var i=e.value,n=e._vModifiers;if(r(n)){if(n.number)return p(i)!==p(t);if(n.trim)return i.trim()!==t.trim()}return i!==t}(e,t))}var hr={create:lr,update:lr},ur=w(function(e){var t={},i=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach(function(e){if(e){var n=e.split(i);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t});function dr(e){var t=fr(e.style);return e.staticStyle?N(e.staticStyle,t):t}function fr(e){return Array.isArray(e)?T(e):"string"==typeof e?ur(e):e}var pr,mr=/^--/,gr=/\s*!important$/,vr=function(e,t,i){if(mr.test(t))e.style.setProperty(t,i);else if(gr.test(i))e.style.setProperty(L(t),i.replace(gr,""),"important");else{var n=_r(t);if(Array.isArray(i))for(var r=0,o=i.length;r<o;r++)e.style[n]=i[r];else e.style[n]=i}},br=["Webkit","Moz","ms"],_r=w(function(e){if(pr=pr||document.createElement("div").style,"filter"!==(e=S(e))&&e in pr)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<br.length;i++){var n=br[i]+t;if(n in pr)return n}});function yr(e,t){var i=t.data,o=e.data;if(!(n(i.staticStyle)&&n(i.style)&&n(o.staticStyle)&&n(o.style))){var s,a,l=t.elm,c=o.staticStyle,h=o.normalizedStyle||o.style||{},u=c||h,d=fr(t.data.style)||{};t.data.normalizedStyle=r(d.__ob__)?N({},d):d;var f=function(e,t){var i,n={};if(t)for(var r=e;r.componentInstance;)(r=r.componentInstance._vnode)&&r.data&&(i=dr(r.data))&&N(n,i);(i=dr(e.data))&&N(n,i);for(var o=e;o=o.parent;)o.data&&(i=dr(o.data))&&N(n,i);return n}(t,!0);for(a in u)n(f[a])&&vr(l,a,"");for(a in f)(s=f[a])!==u[a]&&vr(l,a,null==s?"":s)}}var wr={create:yr,update:yr},Cr=/\s+/;function Sr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Cr).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var i=" "+(e.getAttribute("class")||"")+" ";i.indexOf(" "+t+" ")<0&&e.setAttribute("class",(i+t).trim())}}function xr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Cr).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var i=" "+(e.getAttribute("class")||"")+" ",n=" "+t+" ";i.indexOf(n)>=0;)i=i.replace(n," ");(i=i.trim())?e.setAttribute("class",i):e.removeAttribute("class")}}function kr(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&N(t,Lr(e.name||"v")),N(t,e),t}return"string"==typeof e?Lr(e):void 0}}var Lr=w(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),Dr=q&&!Q,Er="transition",Nr="animation",Tr="transition",Or="transitionend",Mr="animation",Ir="animationend";Dr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Tr="WebkitTransition",Or="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Mr="WebkitAnimation",Ir="webkitAnimationEnd"));var Ar=q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Pr(e){Ar(function(){Ar(e)})}function Rr(e,t){var i=e._transitionClasses||(e._transitionClasses=[]);i.indexOf(t)<0&&(i.push(t),Sr(e,t))}function Fr(e,t){e._transitionClasses&&b(e._transitionClasses,t),xr(e,t)}function Vr(e,t,i){var n=Wr(e,t),r=n.type,o=n.timeout,s=n.propCount;if(!r)return i();var a=r===Er?Or:Ir,l=0,c=function(){e.removeEventListener(a,h),i()},h=function(t){t.target===e&&++l>=s&&c()};setTimeout(function(){l<s&&c()},o+1),e.addEventListener(a,h)}var Br=/\b(transform|all)(,|$)/;function Wr(e,t){var i,n=window.getComputedStyle(e),r=(n[Tr+"Delay"]||"").split(", "),o=(n[Tr+"Duration"]||"").split(", "),s=$r(r,o),a=(n[Mr+"Delay"]||"").split(", "),l=(n[Mr+"Duration"]||"").split(", "),c=$r(a,l),h=0,u=0;return t===Er?s>0&&(i=Er,h=s,u=o.length):t===Nr?c>0&&(i=Nr,h=c,u=l.length):u=(i=(h=Math.max(s,c))>0?s>c?Er:Nr:null)?i===Er?o.length:l.length:0,{type:i,timeout:h,propCount:u,hasTransform:i===Er&&Br.test(n[Tr+"Property"])}}function $r(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,i){return zr(t)+zr(e[i])}))}function zr(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Hr(e,t){var i=e.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var o=kr(e.data.transition);if(!n(o)&&!r(i._enterCb)&&1===i.nodeType){for(var s=o.css,l=o.type,c=o.enterClass,h=o.enterToClass,u=o.enterActiveClass,d=o.appearClass,f=o.appearToClass,m=o.appearActiveClass,g=o.beforeEnter,v=o.enter,b=o.afterEnter,_=o.enterCancelled,y=o.beforeAppear,w=o.appear,C=o.afterAppear,S=o.appearCancelled,x=o.duration,k=Qt,L=Qt.$vnode;L&&L.parent;)k=L.context,L=L.parent;var D=!k._isMounted||!e.isRootInsert;if(!D||w||""===w){var E=D&&d?d:c,N=D&&m?m:u,T=D&&f?f:h,O=D&&y||g,M=D&&"function"==typeof w?w:v,I=D&&C||b,A=D&&S||_,P=p(a(x)?x.enter:x);0;var F=!1!==s&&!Q,V=Kr(M),B=i._enterCb=R(function(){F&&(Fr(i,T),Fr(i,N)),B.cancelled?(F&&Fr(i,E),A&&A(i)):I&&I(i),i._enterCb=null});e.data.show||lt(e,"insert",function(){var t=i.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),M&&M(i,B)}),O&&O(i),F&&(Rr(i,E),Rr(i,N),Pr(function(){Fr(i,E),B.cancelled||(Rr(i,T),V||(Ur(P)?setTimeout(B,P):Vr(i,l,B)))})),e.data.show&&(t&&t(),M&&M(i,B)),F||V||B()}}}function jr(e,t){var i=e.elm;r(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var o=kr(e.data.transition);if(n(o)||1!==i.nodeType)return t();if(!r(i._leaveCb)){var s=o.css,l=o.type,c=o.leaveClass,h=o.leaveToClass,u=o.leaveActiveClass,d=o.beforeLeave,f=o.leave,m=o.afterLeave,g=o.leaveCancelled,v=o.delayLeave,b=o.duration,_=!1!==s&&!Q,y=Kr(f),w=p(a(b)?b.leave:b);0;var C=i._leaveCb=R(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),_&&(Fr(i,h),Fr(i,u)),C.cancelled?(_&&Fr(i,c),g&&g(i)):(t(),m&&m(i)),i._leaveCb=null});v?v(S):S()}function S(){C.cancelled||(!e.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),d&&d(i),_&&(Rr(i,c),Rr(i,u),Pr(function(){Fr(i,c),C.cancelled||(Rr(i,h),y||(Ur(w)?setTimeout(C,w):Vr(i,l,C)))})),f&&f(i,C),_||y||C())}}function Ur(e){return"number"==typeof e&&!isNaN(e)}function Kr(e){if(n(e))return!1;var t=e.fns;return r(t)?Kr(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function qr(e,t){!0!==t.data.show&&Hr(t)}var Gr=function(e){var t,i,a={},l=e.modules,c=e.nodeOps;for(t=0;t<an.length;++t)for(a[an[t]]=[],i=0;i<l.length;++i)r(l[i][an[t]])&&a[an[t]].push(l[i][an[t]]);function h(e){var t=c.parentNode(e);r(t)&&c.removeChild(t,e)}function u(e,t,i,n,s,l,h){if(r(e.elm)&&r(l)&&(e=l[h]=ye(e)),e.isRootInsert=!s,!function(e,t,i,n){var s=e.data;if(r(s)){var l=r(e.componentInstance)&&s.keepAlive;if(r(s=s.hook)&&r(s=s.init)&&s(e,!1),r(e.componentInstance))return d(e,t),f(i,e.elm,n),o(l)&&function(e,t,i,n){for(var o,s=e;s.componentInstance;)if(s=s.componentInstance._vnode,r(o=s.data)&&r(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](sn,s);t.push(s);break}f(i,e.elm,n)}(e,t,i,n),!0}}(e,t,i,n)){var u=e.data,m=e.children,g=e.tag;r(g)?(e.elm=e.ns?c.createElementNS(e.ns,g):c.createElement(g,e),b(e),p(e,m,t),r(u)&&v(e,t),f(i,e.elm,n)):o(e.isComment)?(e.elm=c.createComment(e.text),f(i,e.elm,n)):(e.elm=c.createTextNode(e.text),f(i,e.elm,n))}}function d(e,t){r(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,g(e)?(v(e,t),b(e)):(on(e),t.push(e))}function f(e,t,i){r(e)&&(r(i)?c.parentNode(i)===e&&c.insertBefore(e,t,i):c.appendChild(e,t))}function p(e,t,i){if(Array.isArray(t))for(var n=0;n<t.length;++n)u(t[n],i,e.elm,null,!0,t,n);else s(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function g(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return r(e.tag)}function v(e,i){for(var n=0;n<a.create.length;++n)a.create[n](sn,e);r(t=e.data.hook)&&(r(t.create)&&t.create(sn,e),r(t.insert)&&i.push(e))}function b(e){var t;if(r(t=e.fnScopeId))c.setStyleScope(e.elm,t);else for(var i=e;i;)r(t=i.context)&&r(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),i=i.parent;r(t=Qt)&&t!==e.context&&t!==e.fnContext&&r(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function _(e,t,i,n,r,o){for(;n<=r;++n)u(i[n],o,e,t,!1,i,n)}function y(e){var t,i,n=e.data;if(r(n))for(r(t=n.hook)&&r(t=t.destroy)&&t(e),t=0;t<a.destroy.length;++t)a.destroy[t](e);if(r(t=e.children))for(i=0;i<e.children.length;++i)y(e.children[i])}function w(e,t,i){for(;t<=i;++t){var n=e[t];r(n)&&(r(n.tag)?(C(n),y(n)):h(n.elm))}}function C(e,t){if(r(t)||r(e.data)){var i,n=a.remove.length+1;for(r(t)?t.listeners+=n:t=function(e,t){function i(){0==--i.listeners&&h(e)}return i.listeners=t,i}(e.elm,n),r(i=e.componentInstance)&&r(i=i._vnode)&&r(i.data)&&C(i,t),i=0;i<a.remove.length;++i)a.remove[i](e,t);r(i=e.data.hook)&&r(i=i.remove)?i(e,t):t()}else h(e.elm)}function S(e,t,i,n){for(var o=i;o<n;o++){var s=t[o];if(r(s)&&ln(e,s))return o}}function x(e,t,i,s,l,h){if(e!==t){r(t.elm)&&r(s)&&(t=s[l]=ye(t));var d=t.elm=e.elm;if(o(e.isAsyncPlaceholder))r(t.asyncFactory.resolved)?D(e.elm,t,i):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var f,p=t.data;r(p)&&r(f=p.hook)&&r(f=f.prepatch)&&f(e,t);var m=e.children,v=t.children;if(r(p)&&g(t)){for(f=0;f<a.update.length;++f)a.update[f](e,t);r(f=p.hook)&&r(f=f.update)&&f(e,t)}n(t.text)?r(m)&&r(v)?m!==v&&function(e,t,i,o,s){for(var a,l,h,d=0,f=0,p=t.length-1,m=t[0],g=t[p],v=i.length-1,b=i[0],y=i[v],C=!s;d<=p&&f<=v;)n(m)?m=t[++d]:n(g)?g=t[--p]:ln(m,b)?(x(m,b,o,i,f),m=t[++d],b=i[++f]):ln(g,y)?(x(g,y,o,i,v),g=t[--p],y=i[--v]):ln(m,y)?(x(m,y,o,i,v),C&&c.insertBefore(e,m.elm,c.nextSibling(g.elm)),m=t[++d],y=i[--v]):ln(g,b)?(x(g,b,o,i,f),C&&c.insertBefore(e,g.elm,m.elm),g=t[--p],b=i[++f]):(n(a)&&(a=cn(t,d,p)),n(l=r(b.key)?a[b.key]:S(b,t,d,p))?u(b,o,e,m.elm,!1,i,f):ln(h=t[l],b)?(x(h,b,o,i,f),t[l]=void 0,C&&c.insertBefore(e,h.elm,m.elm)):u(b,o,e,m.elm,!1,i,f),b=i[++f]);d>p?_(e,n(i[v+1])?null:i[v+1].elm,i,f,v,o):f>v&&w(t,d,p)}(d,m,v,i,h):r(v)?(r(e.text)&&c.setTextContent(d,""),_(d,null,v,0,v.length-1,i)):r(m)?w(m,0,m.length-1):r(e.text)&&c.setTextContent(d,""):e.text!==t.text&&c.setTextContent(d,t.text),r(p)&&r(f=p.hook)&&r(f=f.postpatch)&&f(e,t)}}}function k(e,t,i){if(o(i)&&r(e.parent))e.parent.data.pendingInsert=t;else for(var n=0;n<t.length;++n)t[n].data.hook.insert(t[n])}var L=m("attrs,class,staticClass,staticStyle,key");function D(e,t,i,n){var s,a=t.tag,l=t.data,c=t.children;if(n=n||l&&l.pre,t.elm=e,o(t.isComment)&&r(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(r(l)&&(r(s=l.hook)&&r(s=s.init)&&s(t,!0),r(s=t.componentInstance)))return d(t,i),!0;if(r(a)){if(r(c))if(e.hasChildNodes())if(r(s=l)&&r(s=s.domProps)&&r(s=s.innerHTML)){if(s!==e.innerHTML)return!1}else{for(var h=!0,u=e.firstChild,f=0;f<c.length;f++){if(!u||!D(u,c[f],i,n)){h=!1;break}u=u.nextSibling}if(!h||u)return!1}else p(t,c,i);if(r(l)){var m=!1;for(var g in l)if(!L(g)){m=!0,v(t,i);break}!m&&l.class&&rt(l.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,i,s){if(!n(t)){var l,h=!1,d=[];if(n(e))h=!0,u(t,d);else{var f=r(e.nodeType);if(!f&&ln(e,t))x(e,t,d,null,null,s);else{if(f){if(1===e.nodeType&&e.hasAttribute(F)&&(e.removeAttribute(F),i=!0),o(i)&&D(e,t,d))return k(t,d,!0),e;l=e,e=new ge(c.tagName(l).toLowerCase(),{},[],void 0,l)}var p=e.elm,m=c.parentNode(p);if(u(t,d,p._leaveCb?null:m,c.nextSibling(p)),r(t.parent))for(var v=t.parent,b=g(t);v;){for(var _=0;_<a.destroy.length;++_)a.destroy[_](v);if(v.elm=t.elm,b){for(var C=0;C<a.create.length;++C)a.create[C](sn,v);var S=v.data.hook.insert;if(S.merged)for(var L=1;L<S.fns.length;L++)S.fns[L]()}else on(v);v=v.parent}r(m)?w([e],0,0):r(e.tag)&&y(e)}}return k(t,d,h),t.elm}r(e)&&y(e)}}({nodeOps:nn,modules:[yn,En,ar,hr,wr,q?{create:qr,activate:qr,remove:function(e,t){!0!==e.data.show?jr(e,t):t()}}:{}].concat(gn)});Q&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&io(e,"input")});var Yr={inserted:function(e,t,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?lt(i,"postpatch",function(){Yr.componentUpdated(e,t,i)}):Xr(e,t,i.context),e._vOptions=[].map.call(e.options,Jr)):("textarea"===i.tag||en(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",eo),e.addEventListener("compositionend",to),e.addEventListener("change",to),Q&&(e.vmodel=!0)))},componentUpdated:function(e,t,i){if("select"===i.tag){Xr(e,t,i.context);var n=e._vOptions,r=e._vOptions=[].map.call(e.options,Jr);if(r.some(function(e,t){return!A(e,n[t])}))(e.multiple?t.value.some(function(e){return Qr(e,r)}):t.value!==t.oldValue&&Qr(t.value,r))&&io(e,"change")}}};function Xr(e,t,i){Zr(e,t,i),(Z||J)&&setTimeout(function(){Zr(e,t,i)},0)}function Zr(e,t,i){var n=t.value,r=e.multiple;if(!r||Array.isArray(n)){for(var o,s,a=0,l=e.options.length;a<l;a++)if(s=e.options[a],r)o=P(n,Jr(s))>-1,s.selected!==o&&(s.selected=o);else if(A(Jr(s),n))return void(e.selectedIndex!==a&&(e.selectedIndex=a));r||(e.selectedIndex=-1)}}function Qr(e,t){return t.every(function(t){return!A(t,e)})}function Jr(e){return"_value"in e?e._value:e.value}function eo(e){e.target.composing=!0}function to(e){e.target.composing&&(e.target.composing=!1,io(e.target,"input"))}function io(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)}function no(e){return!e.componentInstance||e.data&&e.data.transition?e:no(e.componentInstance._vnode)}var ro={model:Yr,show:{bind:function(e,t,i){var n=t.value,r=(i=no(i)).data&&i.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;n&&r?(i.data.show=!0,Hr(i,function(){e.style.display=o})):e.style.display=n?o:"none"},update:function(e,t,i){var n=t.value;!n!=!t.oldValue&&((i=no(i)).data&&i.data.transition?(i.data.show=!0,n?Hr(i,function(){e.style.display=e.__vOriginalDisplay}):jr(i,function(){e.style.display="none"})):e.style.display=n?e.__vOriginalDisplay:"none")},unbind:function(e,t,i,n,r){r||(e.style.display=e.__vOriginalDisplay)}}},oo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function so(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?so(qt(t.children)):e}function ao(e){var t={},i=e.$options;for(var n in i.propsData)t[n]=e[n];var r=i._parentListeners;for(var o in r)t[S(o)]=r[o];return t}function lo(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var co=function(e){return e.tag||Kt(e)},ho=function(e){return"show"===e.name},uo={name:"transition",props:oo,abstract:!0,render:function(e){var t=this,i=this.$slots.default;if(i&&(i=i.filter(co)).length){0;var n=this.mode;0;var r=i[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return r;var o=so(r);if(!o)return r;if(this._leaving)return lo(e,r);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var l=(o.data||(o.data={})).transition=ao(this),c=this._vnode,h=so(c);if(o.data.directives&&o.data.directives.some(ho)&&(o.data.show=!0),h&&h.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(o,h)&&!Kt(h)&&(!h.componentInstance||!h.componentInstance._vnode.isComment)){var u=h.data.transition=N({},l);if("out-in"===n)return this._leaving=!0,lt(u,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),lo(e,r);if("in-out"===n){if(Kt(o))return c;var d,f=function(){d()};lt(l,"afterEnter",f),lt(l,"enterCancelled",f),lt(u,"delayLeave",function(e){d=e})}}return r}}},fo=N({tag:String,moveClass:String},oo);function po(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function mo(e){e.data.newPos=e.elm.getBoundingClientRect()}function go(e){var t=e.data.pos,i=e.data.newPos,n=t.left-i.left,r=t.top-i.top;if(n||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+n+"px,"+r+"px)",o.transitionDuration="0s"}}delete fo.mode;var vo={Transition:uo,TransitionGroup:{props:fo,beforeMount:function(){var e=this,t=this._update;this._update=function(i,n){var r=Jt(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,i,n)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],s=ao(this),a=0;a<r.length;a++){var l=r[a];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))o.push(l),i[l.key]=l,(l.data||(l.data={})).transition=s;else;}if(n){for(var c=[],h=[],u=0;u<n.length;u++){var d=n[u];d.data.transition=s,d.data.pos=d.elm.getBoundingClientRect(),i[d.key]?c.push(d):h.push(d)}this.kept=e(t,null,c),this.removed=h}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(po),e.forEach(mo),e.forEach(go),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var i=e.elm,n=i.style;Rr(i,t),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(Or,i._moveCb=function e(n){n&&n.target!==i||n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(Or,e),i._moveCb=null,Fr(i,t))})}}))},methods:{hasMove:function(e,t){if(!Dr)return!1;if(this._hasMove)return this._hasMove;var i=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){xr(i,e)}),Sr(i,t),i.style.display="none",this.$el.appendChild(i);var n=Wr(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}}};ki.config.mustUseProp=Pi,ki.config.isReservedTag=Zi,ki.config.isReservedAttr=Ii,ki.config.getTagNamespace=Qi,ki.config.isUnknownElement=function(e){if(!q)return!0;if(Zi(e))return!1;if(e=e.toLowerCase(),null!=Ji[e])return Ji[e];var t=document.createElement(e);return e.indexOf("-")>-1?Ji[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Ji[e]=/HTMLUnknownElement/.test(t.toString())},N(ki.options.directives,ro),N(ki.options.components,vo),ki.prototype.__patch__=q?Gr:O,ki.prototype.$mount=function(e,t){return function(e,t,i){return e.$el=t,e.$options.render||(e.$options.render=be),ii(e,"beforeMount"),new pi(e,function(){e._update(e._render(),i)},O,{before:function(){e._isMounted&&!e._isDestroyed&&ii(e,"beforeUpdate")}},!0),i=!1,null==e.$vnode&&(e._isMounted=!0,ii(e,"mounted")),e}(this,e=e&&q?tn(e):void 0,t)},q&&setTimeout(function(){W.devtools&&se&&se.emit("init",ki)},0);var bo=/\{\{((?:.|\r?\n)+?)\}\}/g,_o=/[-.*+?^${}()|[\]\/\\]/g,yo=w(function(e){var t=e[0].replace(_o,"\\$&"),i=e[1].replace(_o,"\\$&");return new RegExp(t+"((?:.|\\n)+?)"+i,"g")});function wo(e,t){var i=t?yo(t):bo;if(i.test(e)){for(var n,r,o,s=[],a=[],l=i.lastIndex=0;n=i.exec(e);){(r=n.index)>l&&(a.push(o=e.slice(l,r)),s.push(JSON.stringify(o)));var c=Tn(n[1].trim());s.push("_s("+c+")"),a.push({"@binding":c}),l=r+n[0].length}return l<e.length&&(a.push(o=e.slice(l)),s.push(JSON.stringify(o))),{expression:s.join("+"),tokens:a}}}var Co={staticKeys:["staticClass"],transformNode:function(e,t){t.warn;var i=zn(e,"class");i&&(e.staticClass=JSON.stringify(i));var n=$n(e,"class",!1);n&&(e.classBinding=n)},genData:function(e){var t="";return e.staticClass&&(t+="staticClass:"+e.staticClass+","),e.classBinding&&(t+="class:"+e.classBinding+","),t}};var So,xo={staticKeys:["staticStyle"],transformNode:function(e,t){t.warn;var i=zn(e,"style");i&&(e.staticStyle=JSON.stringify(ur(i)));var n=$n(e,"style",!1);n&&(e.styleBinding=n)},genData:function(e){var t="";return e.staticStyle&&(t+="staticStyle:"+e.staticStyle+","),e.styleBinding&&(t+="style:("+e.styleBinding+"),"),t}},ko=function(e){return(So=So||document.createElement("div")).innerHTML=e,So.textContent},Lo=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Do=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Eo=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),No=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,To=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Oo="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+$.source+"]*",Mo="((?:"+Oo+"\\:)?"+Oo+")",Io=new RegExp("^<"+Mo),Ao=/^\s*(\/?)>/,Po=new RegExp("^<\\/"+Mo+"[^>]*>"),Ro=/^<!DOCTYPE [^>]+>/i,Fo=/^<!\--/,Vo=/^<!\[/,Bo=m("script,style,textarea",!0),Wo={},$o={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},zo=/&(?:lt|gt|quot|amp|#39);/g,Ho=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,jo=m("pre,textarea",!0),Uo=function(e,t){return e&&jo(e)&&"\n"===t[0]};function Ko(e,t){var i=t?Ho:zo;return e.replace(i,function(e){return $o[e]})}var qo,Go,Yo,Xo,Zo,Qo,Jo,es,ts=/^@|^v-on:/,is=/^v-|^@|^:|^#/,ns=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,rs=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,os=/^\(|\)$/g,ss=/^\[.*\]$/,as=/:(.*)$/,ls=/^:|^\.|^v-bind:/,cs=/\.[^.\]]+(?=[^\]]*$)/g,hs=/^v-slot(:|$)|^#/,us=/[\r\n]/,ds=/\s+/g,fs=w(ko),ps="_empty_";function ms(e,t,i){return{type:1,tag:e,attrsList:t,attrsMap:function(e){for(var t={},i=0,n=e.length;i<n;i++)t[e[i].name]=e[i].value;return t}(t),rawAttrsMap:{},parent:i,children:[]}}function gs(e,t){qo=t.warn||Mn,Qo=t.isPreTag||M,Jo=t.mustUseProp||M,es=t.getTagNamespace||M;var i=t.isReservedTag||M;(function(e){return!!e.component||!i(e.tag)}),Yo=In(t.modules,"transformNode"),Xo=In(t.modules,"preTransformNode"),Zo=In(t.modules,"postTransformNode"),Go=t.delimiters;var n,r,o=[],s=!1!==t.preserveWhitespace,a=t.whitespace,l=!1,c=!1;function h(e){if(u(e),l||e.processed||(e=vs(e,t)),o.length||e===n||n.if&&(e.elseif||e.else)&&_s(n,{exp:e.elseif,block:e}),r&&!e.forbidden)if(e.elseif||e.else)s=e,(a=function(e){var t=e.length;for(;t--;){if(1===e[t].type)return e[t];e.pop()}}(r.children))&&a.if&&_s(a,{exp:s.elseif,block:s});else{if(e.slotScope){var i=e.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[i]=e}r.children.push(e),e.parent=r}var s,a;e.children=e.children.filter(function(e){return!e.slotScope}),u(e),e.pre&&(l=!1),Qo(e.tag)&&(c=!1);for(var h=0;h<Zo.length;h++)Zo[h](e,t)}function u(e){if(!c)for(var t;(t=e.children[e.children.length-1])&&3===t.type&&" "===t.text;)e.children.pop()}return function(e,t){for(var i,n,r=[],o=t.expectHTML,s=t.isUnaryTag||M,a=t.canBeLeftOpenTag||M,l=0;e;){if(i=e,n&&Bo(n)){var c=0,h=n.toLowerCase(),u=Wo[h]||(Wo[h]=new RegExp("([\\s\\S]*?)(</"+h+"[^>]*>)","i")),d=e.replace(u,function(e,i,n){return c=n.length,Bo(h)||"noscript"===h||(i=i.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Uo(h,i)&&(i=i.slice(1)),t.chars&&t.chars(i),""});l+=e.length-d.length,e=d,L(h,l-c,l)}else{var f=e.indexOf("<");if(0===f){if(Fo.test(e)){var p=e.indexOf("--\x3e");if(p>=0){t.shouldKeepComment&&t.comment(e.substring(4,p),l,l+p+3),S(p+3);continue}}if(Vo.test(e)){var m=e.indexOf("]>");if(m>=0){S(m+2);continue}}var g=e.match(Ro);if(g){S(g[0].length);continue}var v=e.match(Po);if(v){var b=l;S(v[0].length),L(v[1],b,l);continue}var _=x();if(_){k(_),Uo(_.tagName,e)&&S(1);continue}}var y=void 0,w=void 0,C=void 0;if(f>=0){for(w=e.slice(f);!(Po.test(w)||Io.test(w)||Fo.test(w)||Vo.test(w)||(C=w.indexOf("<",1))<0);)f+=C,w=e.slice(f);y=e.substring(0,f)}f<0&&(y=e),y&&S(y.length),t.chars&&y&&t.chars(y,l-y.length,l)}if(e===i){t.chars&&t.chars(e);break}}function S(t){l+=t,e=e.substring(t)}function x(){var t=e.match(Io);if(t){var i,n,r={tagName:t[1],attrs:[],start:l};for(S(t[0].length);!(i=e.match(Ao))&&(n=e.match(To)||e.match(No));)n.start=l,S(n[0].length),n.end=l,r.attrs.push(n);if(i)return r.unarySlash=i[1],S(i[0].length),r.end=l,r}}function k(e){var i=e.tagName,l=e.unarySlash;o&&("p"===n&&Eo(i)&&L(n),a(i)&&n===i&&L(i));for(var c=s(i)||!!l,h=e.attrs.length,u=new Array(h),d=0;d<h;d++){var f=e.attrs[d],p=f[3]||f[4]||f[5]||"",m="a"===i&&"href"===f[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;u[d]={name:f[1],value:Ko(p,m)}}c||(r.push({tag:i,lowerCasedTag:i.toLowerCase(),attrs:u,start:e.start,end:e.end}),n=i),t.start&&t.start(i,u,c,e.start,e.end)}function L(e,i,o){var s,a;if(null==i&&(i=l),null==o&&(o=l),e)for(a=e.toLowerCase(),s=r.length-1;s>=0&&r[s].lowerCasedTag!==a;s--);else s=0;if(s>=0){for(var c=r.length-1;c>=s;c--)t.end&&t.end(r[c].tag,i,o);r.length=s,n=s&&r[s-1].tag}else"br"===a?t.start&&t.start(e,[],!0,i,o):"p"===a&&(t.start&&t.start(e,[],!1,i,o),t.end&&t.end(e,i,o))}L()}(e,{warn:qo,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,outputSourceRange:t.outputSourceRange,start:function(e,i,s,a,u){var d=r&&r.ns||es(e);Z&&"svg"===d&&(i=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];Cs.test(n.name)||(n.name=n.name.replace(Ss,""),t.push(n))}return t}(i));var f,p=ms(e,i,r);d&&(p.ns=d),"style"!==(f=p).tag&&("script"!==f.tag||f.attrsMap.type&&"text/javascript"!==f.attrsMap.type)||oe()||(p.forbidden=!0);for(var m=0;m<Xo.length;m++)p=Xo[m](p,t)||p;l||(!function(e){null!=zn(e,"v-pre")&&(e.pre=!0)}(p),p.pre&&(l=!0)),Qo(p.tag)&&(c=!0),l?function(e){var t=e.attrsList,i=t.length;if(i)for(var n=e.attrs=new Array(i),r=0;r<i;r++)n[r]={name:t[r].name,value:JSON.stringify(t[r].value)},null!=t[r].start&&(n[r].start=t[r].start,n[r].end=t[r].end);else e.pre||(e.plain=!0)}(p):p.processed||(bs(p),function(e){var t=zn(e,"v-if");if(t)e.if=t,_s(e,{exp:t,block:e});else{null!=zn(e,"v-else")&&(e.else=!0);var i=zn(e,"v-else-if");i&&(e.elseif=i)}}(p),function(e){null!=zn(e,"v-once")&&(e.once=!0)}(p)),n||(n=p),s?h(p):(r=p,o.push(p))},end:function(e,t,i){var n=o[o.length-1];o.length-=1,r=o[o.length-1],h(n)},chars:function(e,t,i){if(r&&(!Z||"textarea"!==r.tag||r.attrsMap.placeholder!==e)){var n,o,h,u=r.children;if(e=c||e.trim()?"script"===(n=r).tag||"style"===n.tag?e:fs(e):u.length?a?"condense"===a&&us.test(e)?"":" ":s?" ":"":"")c||"condense"!==a||(e=e.replace(ds," ")),!l&&" "!==e&&(o=wo(e,Go))?h={type:2,expression:o.expression,tokens:o.tokens,text:e}:" "===e&&u.length&&" "===u[u.length-1].text||(h={type:3,text:e}),h&&u.push(h)}},comment:function(e,t,i){if(r){var n={type:3,text:e,isComment:!0};0,r.children.push(n)}}}),n}function vs(e,t){var i,n;!function(e){var t=$n(e,"key");if(t){e.key=t}}(e),e.plain=!e.key&&!e.scopedSlots&&!e.attrsList.length,(n=$n(i=e,"ref"))&&(i.ref=n,i.refInFor=function(e){for(var t=e;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}(i)),function(e){var t;"template"===e.tag?(t=zn(e,"scope"),e.slotScope=t||zn(e,"slot-scope")):(t=zn(e,"slot-scope"))&&(e.slotScope=t);var i=$n(e,"slot");i&&(e.slotTarget='""'===i?'"default"':i,e.slotTargetDynamic=!(!e.attrsMap[":slot"]&&!e.attrsMap["v-bind:slot"]),"template"===e.tag||e.slotScope||Pn(e,"slot",i,Wn(e,"slot")));if("template"===e.tag){var n=Hn(e,hs);if(n){0;var r=ys(n),o=r.name,s=r.dynamic;e.slotTarget=o,e.slotTargetDynamic=s,e.slotScope=n.value||ps}}else{var a=Hn(e,hs);if(a){0;var l=e.scopedSlots||(e.scopedSlots={}),c=ys(a),h=c.name,u=c.dynamic,d=l[h]=ms("template",[],e);d.slotTarget=h,d.slotTargetDynamic=u,d.children=e.children.filter(function(e){if(!e.slotScope)return e.parent=d,!0}),d.slotScope=a.value||ps,e.children=[],e.plain=!1}}}(e),function(e){"slot"===e.tag&&(e.slotName=$n(e,"name"))}(e),function(e){var t;(t=$n(e,"is"))&&(e.component=t);null!=zn(e,"inline-template")&&(e.inlineTemplate=!0)}(e);for(var r=0;r<Yo.length;r++)e=Yo[r](e,t)||e;return function(e){var t,i,n,r,o,s,a,l,c=e.attrsList;for(t=0,i=c.length;t<i;t++){if(n=r=c[t].name,o=c[t].value,is.test(n))if(e.hasBindings=!0,(s=ws(n.replace(is,"")))&&(n=n.replace(cs,"")),ls.test(n))n=n.replace(ls,""),o=Tn(o),(l=ss.test(n))&&(n=n.slice(1,-1)),s&&(s.prop&&!l&&"innerHtml"===(n=S(n))&&(n="innerHTML"),s.camel&&!l&&(n=S(n)),s.sync&&(a=Kn(o,"$event"),l?Bn(e,'"update:"+('+n+")",a,null,!1,0,c[t],!0):(Bn(e,"update:"+S(n),a,null,!1,0,c[t]),L(n)!==S(n)&&Bn(e,"update:"+L(n),a,null,!1,0,c[t])))),s&&s.prop||!e.component&&Jo(e.tag,e.attrsMap.type,n)?An(e,n,o,c[t],l):Pn(e,n,o,c[t],l);else if(ts.test(n))n=n.replace(ts,""),(l=ss.test(n))&&(n=n.slice(1,-1)),Bn(e,n,o,s,!1,0,c[t],l);else{var h=(n=n.replace(is,"")).match(as),u=h&&h[1];l=!1,u&&(n=n.slice(0,-(u.length+1)),ss.test(u)&&(u=u.slice(1,-1),l=!0)),Fn(e,n,r,o,u,l,s,c[t])}else Pn(e,n,JSON.stringify(o),c[t]),!e.component&&"muted"===n&&Jo(e.tag,e.attrsMap.type,n)&&An(e,n,"true",c[t])}}(e),e}function bs(e){var t;if(t=zn(e,"v-for")){var i=function(e){var t=e.match(ns);if(!t)return;var i={};i.for=t[2].trim();var n=t[1].trim().replace(os,""),r=n.match(rs);r?(i.alias=n.replace(rs,"").trim(),i.iterator1=r[1].trim(),r[2]&&(i.iterator2=r[2].trim())):i.alias=n;return i}(t);i&&N(e,i)}}function _s(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function ys(e){var t=e.name.replace(hs,"");return t||"#"!==e.name[0]&&(t="default"),ss.test(t)?{name:t.slice(1,-1),dynamic:!0}:{name:'"'+t+'"',dynamic:!1}}function ws(e){var t=e.match(cs);if(t){var i={};return t.forEach(function(e){i[e.slice(1)]=!0}),i}}var Cs=/^xmlns:NS\d+/,Ss=/^NS\d+:/;function xs(e){return ms(e.tag,e.attrsList.slice(),e.parent)}var ks=[Co,xo,{preTransformNode:function(e,t){if("input"===e.tag){var i,n=e.attrsMap;if(!n["v-model"])return;if((n[":type"]||n["v-bind:type"])&&(i=$n(e,"type")),n.type||i||!n["v-bind"]||(i="("+n["v-bind"]+").type"),i){var r=zn(e,"v-if",!0),o=r?"&&("+r+")":"",s=null!=zn(e,"v-else",!0),a=zn(e,"v-else-if",!0),l=xs(e);bs(l),Rn(l,"type","checkbox"),vs(l,t),l.processed=!0,l.if="("+i+")==='checkbox'"+o,_s(l,{exp:l.if,block:l});var c=xs(e);zn(c,"v-for",!0),Rn(c,"type","radio"),vs(c,t),_s(l,{exp:"("+i+")==='radio'"+o,block:c});var h=xs(e);return zn(h,"v-for",!0),Rn(h,":type",i),vs(h,t),_s(l,{exp:r,block:h}),s?l.else=!0:a&&(l.elseif=a),l}}}}];var Ls,Ds,Es={expectHTML:!0,modules:ks,directives:{model:function(e,t,i){i;var n=t.value,r=t.modifiers,o=e.tag,s=e.attrsMap.type;if(e.component)return Un(e,n,r),!1;if("select"===o)!function(e,t,i){var n='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(i&&i.number?"_n(val)":"val")+"});";n=n+" "+Kn(t,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Bn(e,"change",n,null,!0)}(e,n,r);else if("input"===o&&"checkbox"===s)!function(e,t,i){var n=i&&i.number,r=$n(e,"value")||"null",o=$n(e,"true-value")||"true",s=$n(e,"false-value")||"false";An(e,"checked","Array.isArray("+t+")?_i("+t+","+r+")>-1"+("true"===o?":("+t+")":":_q("+t+","+o+")")),Bn(e,"change","var $$a="+t+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+s+");if(Array.isArray($$a)){var $$v="+(n?"_n("+r+")":r)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Kn(t,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Kn(t,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Kn(t,"$$c")+"}",null,!0)}(e,n,r);else if("input"===o&&"radio"===s)!function(e,t,i){var n=i&&i.number,r=$n(e,"value")||"null";An(e,"checked","_q("+t+","+(r=n?"_n("+r+")":r)+")"),Bn(e,"change",Kn(t,r),null,!0)}(e,n,r);else if("input"===o||"textarea"===o)!function(e,t,i){var n=e.attrsMap.type,r=i||{},o=r.lazy,s=r.number,a=r.trim,l=!o&&"range"!==n,c=o?"change":"range"===n?Jn:"input",h="$event.target.value";a&&(h="$event.target.value.trim()"),s&&(h="_n("+h+")");var u=Kn(t,h);l&&(u="if($event.target.composing)return;"+u),An(e,"value","("+t+")"),Bn(e,c,u,null,!0),(a||s)&&Bn(e,"blur","$forceUpdate()")}(e,n,r);else if(!W.isReservedTag(o))return Un(e,n,r),!1;return!0},text:function(e,t){t.value&&An(e,"textContent","_s("+t.value+")",t)},html:function(e,t){t.value&&An(e,"innerHTML","_s("+t.value+")",t)}},isPreTag:function(e){return"pre"===e},isUnaryTag:Lo,mustUseProp:Pi,canBeLeftOpenTag:Do,isReservedTag:Zi,getTagNamespace:Qi,staticKeys:function(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")}(ks)},Ns=w(function(e){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(e?","+e:""))});function Ts(e,t){e&&(Ls=Ns(t.staticKeys||""),Ds=t.isReservedTag||M,function e(t){t.static=function(e){if(2===e.type)return!1;if(3===e.type)return!0;return!(!e.pre&&(e.hasBindings||e.if||e.for||g(e.tag)||!Ds(e.tag)||function(e){for(;e.parent;){if("template"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(e)||!Object.keys(e).every(Ls)))}(t);if(1===t.type){if(!Ds(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var i=0,n=t.children.length;i<n;i++){var r=t.children[i];e(r),r.static||(t.static=!1)}if(t.ifConditions)for(var o=1,s=t.ifConditions.length;o<s;o++){var a=t.ifConditions[o].block;e(a),a.static||(t.static=!1)}}}(e),function e(t,i){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=i),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,r=t.children.length;n<r;n++)e(t.children[n],i||!!t.for);if(t.ifConditions)for(var o=1,s=t.ifConditions.length;o<s;o++)e(t.ifConditions[o].block,i)}}(e,!1))}var Os=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Ms=/\([^)]*?\);*$/,Is=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,As={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Ps={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Rs=function(e){return"if("+e+")return null;"},Fs={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Rs("$event.target !== $event.currentTarget"),ctrl:Rs("!$event.ctrlKey"),shift:Rs("!$event.shiftKey"),alt:Rs("!$event.altKey"),meta:Rs("!$event.metaKey"),left:Rs("'button' in $event && $event.button !== 0"),middle:Rs("'button' in $event && $event.button !== 1"),right:Rs("'button' in $event && $event.button !== 2")};function Vs(e,t){var i=t?"nativeOn:":"on:",n="",r="";for(var o in e){var s=Bs(e[o]);e[o]&&e[o].dynamic?r+=o+","+s+",":n+='"'+o+'":'+s+","}return n="{"+n.slice(0,-1)+"}",r?i+"_d("+n+",["+r.slice(0,-1)+"])":i+n}function Bs(e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return Bs(e)}).join(",")+"]";var t=Is.test(e.value),i=Os.test(e.value),n=Is.test(e.value.replace(Ms,""));if(e.modifiers){var r="",o="",s=[];for(var a in e.modifiers)if(Fs[a])o+=Fs[a],As[a]&&s.push(a);else if("exact"===a){var l=e.modifiers;o+=Rs(["ctrl","shift","alt","meta"].filter(function(e){return!l[e]}).map(function(e){return"$event."+e+"Key"}).join("||"))}else s.push(a);return s.length&&(r+=function(e){return"if(!$event.type.indexOf('key')&&"+e.map(Ws).join("&&")+")return null;"}(s)),o&&(r+=o),"function($event){"+r+(t?"return "+e.value+"($event)":i?"return ("+e.value+")($event)":n?"return "+e.value:e.value)+"}"}return t||i?e.value:"function($event){"+(n?"return "+e.value:e.value)+"}"}function Ws(e){var t=parseInt(e,10);if(t)return"$event.keyCode!=="+t;var i=As[e],n=Ps[e];return"_k($event.keyCode,"+JSON.stringify(e)+","+JSON.stringify(i)+",$event.key,"+JSON.stringify(n)+")"}var $s={on:function(e,t){e.wrapListeners=function(e){return"_g("+e+","+t.value+")"}},bind:function(e,t){e.wrapData=function(i){return"_b("+i+",'"+e.tag+"',"+t.value+","+(t.modifiers&&t.modifiers.prop?"true":"false")+(t.modifiers&&t.modifiers.sync?",true":"")+")"}},cloak:O},zs=function(e){this.options=e,this.warn=e.warn||Mn,this.transforms=In(e.modules,"transformCode"),this.dataGenFns=In(e.modules,"genData"),this.directives=N(N({},$s),e.directives);var t=e.isReservedTag||M;this.maybeComponent=function(e){return!!e.component||!t(e.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Hs(e,t){var i=new zs(t);return{render:"with(this){return "+(e?js(e,i):'_c("div")')+"}",staticRenderFns:i.staticRenderFns}}function js(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return Us(e,t);if(e.once&&!e.onceProcessed)return Ks(e,t);if(e.for&&!e.forProcessed)return Gs(e,t);if(e.if&&!e.ifProcessed)return qs(e,t);if("template"!==e.tag||e.slotTarget||t.pre){if("slot"===e.tag)return function(e,t){var i=e.slotName||'"default"',n=Qs(e,t),r="_t("+i+(n?","+n:""),o=e.attrs||e.dynamicAttrs?ta((e.attrs||[]).concat(e.dynamicAttrs||[]).map(function(e){return{name:S(e.name),value:e.value,dynamic:e.dynamic}})):null,s=e.attrsMap["v-bind"];!o&&!s||n||(r+=",null");o&&(r+=","+o);s&&(r+=(o?"":",null")+","+s);return r+")"}(e,t);var i;if(e.component)i=function(e,t,i){var n=t.inlineTemplate?null:Qs(t,i,!0);return"_c("+e+","+Ys(t,i)+(n?","+n:"")+")"}(e.component,e,t);else{var n;(!e.plain||e.pre&&t.maybeComponent(e))&&(n=Ys(e,t));var r=e.inlineTemplate?null:Qs(e,t,!0);i="_c('"+e.tag+"'"+(n?","+n:"")+(r?","+r:"")+")"}for(var o=0;o<t.transforms.length;o++)i=t.transforms[o](e,i);return i}return Qs(e,t)||"void 0"}function Us(e,t){e.staticProcessed=!0;var i=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push("with(this){return "+js(e,t)+"}"),t.pre=i,"_m("+(t.staticRenderFns.length-1)+(e.staticInFor?",true":"")+")"}function Ks(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return qs(e,t);if(e.staticInFor){for(var i="",n=e.parent;n;){if(n.for){i=n.key;break}n=n.parent}return i?"_o("+js(e,t)+","+t.onceId+++","+i+")":js(e,t)}return Us(e,t)}function qs(e,t,i,n){return e.ifProcessed=!0,function e(t,i,n,r){if(!t.length)return r||"_e()";var o=t.shift();return o.exp?"("+o.exp+")?"+s(o.block)+":"+e(t,i,n,r):""+s(o.block);function s(e){return n?n(e,i):e.once?Ks(e,i):js(e,i)}}(e.ifConditions.slice(),t,i,n)}function Gs(e,t,i,n){var r=e.for,o=e.alias,s=e.iterator1?","+e.iterator1:"",a=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,(n||"_l")+"(("+r+"),function("+o+s+a+"){return "+(i||js)(e,t)+"})"}function Ys(e,t){var i="{",n=function(e,t){var i=e.directives;if(!i)return;var n,r,o,s,a="directives:[",l=!1;for(n=0,r=i.length;n<r;n++){o=i[n],s=!0;var c=t.directives[o.name];c&&(s=!!c(e,o,t.warn)),s&&(l=!0,a+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?",arg:"+(o.isDynamicArg?o.arg:'"'+o.arg+'"'):"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}if(l)return a.slice(0,-1)+"]"}(e,t);n&&(i+=n+","),e.key&&(i+="key:"+e.key+","),e.ref&&(i+="ref:"+e.ref+","),e.refInFor&&(i+="refInFor:true,"),e.pre&&(i+="pre:true,"),e.component&&(i+='tag:"'+e.tag+'",');for(var r=0;r<t.dataGenFns.length;r++)i+=t.dataGenFns[r](e);if(e.attrs&&(i+="attrs:"+ta(e.attrs)+","),e.props&&(i+="domProps:"+ta(e.props)+","),e.events&&(i+=Vs(e.events,!1)+","),e.nativeEvents&&(i+=Vs(e.nativeEvents,!0)+","),e.slotTarget&&!e.slotScope&&(i+="slot:"+e.slotTarget+","),e.scopedSlots&&(i+=function(e,t,i){var n=e.for||Object.keys(t).some(function(e){var i=t[e];return i.slotTargetDynamic||i.if||i.for||Xs(i)}),r=!!e.if;if(!n)for(var o=e.parent;o;){if(o.slotScope&&o.slotScope!==ps||o.for){n=!0;break}o.if&&(r=!0),o=o.parent}var s=Object.keys(t).map(function(e){return Zs(t[e],i)}).join(",");return"scopedSlots:_u(["+s+"]"+(n?",null,true":"")+(!n&&r?",null,false,"+function(e){var t=5381,i=e.length;for(;i;)t=33*t^e.charCodeAt(--i);return t>>>0}(s):"")+")"}(e,e.scopedSlots,t)+","),e.model&&(i+="model:{value:"+e.model.value+",callback:"+e.model.callback+",expression:"+e.model.expression+"},"),e.inlineTemplate){var o=function(e,t){var i=e.children[0];0;if(i&&1===i.type){var n=Hs(i,t.options);return"inlineTemplate:{render:function(){"+n.render+"},staticRenderFns:["+n.staticRenderFns.map(function(e){return"function(){"+e+"}"}).join(",")+"]}"}}(e,t);o&&(i+=o+",")}return i=i.replace(/,$/,"")+"}",e.dynamicAttrs&&(i="_b("+i+',"'+e.tag+'",'+ta(e.dynamicAttrs)+")"),e.wrapData&&(i=e.wrapData(i)),e.wrapListeners&&(i=e.wrapListeners(i)),i}function Xs(e){return 1===e.type&&("slot"===e.tag||e.children.some(Xs))}function Zs(e,t){var i=e.attrsMap["slot-scope"];if(e.if&&!e.ifProcessed&&!i)return qs(e,t,Zs,"null");if(e.for&&!e.forProcessed)return Gs(e,t,Zs);var n=e.slotScope===ps?"":String(e.slotScope),r="function("+n+"){return "+("template"===e.tag?e.if&&i?"("+e.if+")?"+(Qs(e,t)||"undefined")+":undefined":Qs(e,t)||"undefined":js(e,t))+"}",o=n?"":",proxy:true";return"{key:"+(e.slotTarget||'"default"')+",fn:"+r+o+"}"}function Qs(e,t,i,n,r){var o=e.children;if(o.length){var s=o[0];if(1===o.length&&s.for&&"template"!==s.tag&&"slot"!==s.tag){var a=i?t.maybeComponent(s)?",1":",0":"";return""+(n||js)(s,t)+a}var l=i?function(e,t){for(var i=0,n=0;n<e.length;n++){var r=e[n];if(1===r.type){if(Js(r)||r.ifConditions&&r.ifConditions.some(function(e){return Js(e.block)})){i=2;break}(t(r)||r.ifConditions&&r.ifConditions.some(function(e){return t(e.block)}))&&(i=1)}}return i}(o,t.maybeComponent):0,c=r||ea;return"["+o.map(function(e){return c(e,t)}).join(",")+"]"+(l?","+l:"")}}function Js(e){return void 0!==e.for||"template"===e.tag||"slot"===e.tag}function ea(e,t){return 1===e.type?js(e,t):3===e.type&&e.isComment?(n=e,"_e("+JSON.stringify(n.text)+")"):"_v("+(2===(i=e).type?i.expression:ia(JSON.stringify(i.text)))+")";var i,n}function ta(e){for(var t="",i="",n=0;n<e.length;n++){var r=e[n],o=ia(r.value);r.dynamic?i+=r.name+","+o+",":t+='"'+r.name+'":'+o+","}return t="{"+t.slice(0,-1)+"}",i?"_d("+t+",["+i.slice(0,-1)+"])":t}function ia(e){return e.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function na(e,t){try{return new Function(e)}catch(i){return t.push({err:i,code:e}),O}}function ra(e){var t=Object.create(null);return function(i,n,r){(n=N({},n)).warn;delete n.warn;var o=n.delimiters?String(n.delimiters)+i:i;if(t[o])return t[o];var s=e(i,n);var a={},l=[];return a.render=na(s.render,l),a.staticRenderFns=s.staticRenderFns.map(function(e){return na(e,l)}),t[o]=a}}var oa,sa,aa=(oa=function(e,t){var i=gs(e.trim(),t);!1!==t.optimize&&Ts(i,t);var n=Hs(i,t);return{ast:i,render:n.render,staticRenderFns:n.staticRenderFns}},function(e){function t(t,i){var n=Object.create(e),r=[],o=[],s=function(e,t,i){(i?o:r).push(e)};if(i)for(var a in i.modules&&(n.modules=(e.modules||[]).concat(i.modules)),i.directives&&(n.directives=N(Object.create(e.directives||null),i.directives)),i)"modules"!==a&&"directives"!==a&&(n[a]=i[a]);n.warn=s;var l=oa(t.trim(),n);return l.errors=r,l.tips=o,l}return{compile:t,compileToFunctions:ra(t)}})(Es),la=(aa.compile,aa.compileToFunctions);function ca(e){return(sa=sa||document.createElement("div")).innerHTML=e?'<a href="\n"/>':'<div a="\n"/>',sa.innerHTML.indexOf("&#10;")>0}var ha=!!q&&ca(!1),ua=!!q&&ca(!0),da=w(function(e){var t=tn(e);return t&&t.innerHTML}),fa=ki.prototype.$mount;ki.prototype.$mount=function(e,t){if((e=e&&tn(e))===document.body||e===document.documentElement)return this;var i=this.$options;if(!i.render){var n=i.template;if(n)if("string"==typeof n)"#"===n.charAt(0)&&(n=da(n));else{if(!n.nodeType)return this;n=n.innerHTML}else e&&(n=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));if(n){0;var r=la(n,{outputSourceRange:!1,shouldDecodeNewlines:ha,shouldDecodeNewlinesForHref:ua,delimiters:i.delimiters,comments:i.comments},this),o=r.render,s=r.staticRenderFns;i.render=o,i.staticRenderFns=s}}return fa.call(this,e,t)},ki.compile=la,t.default=ki}.call(t,i("DuR2"))},"77Pl":function(e,t,i){var n=i("EqjI");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},"7GwW":function(e,t,i){"use strict";var n=i("cGG2"),r=i("21It"),o=i("p1b6"),s=i("DQCr"),a=i("Oi+a"),l=i("oJlt"),c=i("GHBc"),h=i("FtD3");e.exports=function(e){return new Promise(function(t,i){var u=e.data,d=e.headers;n.isFormData(u)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(p+":"+m)}var g=a(e.baseURL,e.url);if(f.open(e.method.toUpperCase(),s(g,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?l(f.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f};r(t,i,o),f=null}},f.onabort=function(){f&&(i(h("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){i(h("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(h(t,e,"ECONNABORTED",f)),f=null},n.isStandardBrowserEnv()){var v=(e.withCredentials||c(g))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;v&&(d[e.xsrfHeaderName]=v)}if("setRequestHeader"in f&&n.forEach(d,function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)}),n.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),i(e),f=null)}),u||(u=null),f.send(u)})}},"7J9s":function(e,t,i){"use strict";t.__esModule=!0,t.PopupManager=void 0;var n=l(i("7+uW")),r=l(i("jmaC")),o=l(i("OAzY")),s=l(i("6Twh")),a=i("2kvA");function l(e){return e&&e.__esModule?e:{default:e}}var c=1,h=void 0;t.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+c++,o.default.register(this._popupId,this)},beforeDestroy:function(){o.default.deregister(this._popupId),o.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(e){var t=this;if(e){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,n.default.nextTick(function(){t.open()}))}else this.close()}},methods:{open:function(e){var t=this;this.rendered||(this.rendered=!0);var i=(0,r.default)({},this.$props||this,e);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var n=Number(i.openDelay);n>0?this._openTimer=setTimeout(function(){t._openTimer=null,t.doOpen(i)},n):this.doOpen(i)},doOpen:function(e){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var t=this.$el,i=e.modal,n=e.zIndex;if(n&&(o.default.zIndex=n),i&&(this._closing&&(o.default.closeModal(this._popupId),this._closing=!1),o.default.openModal(this._popupId,o.default.nextZIndex(),this.modalAppendToBody?void 0:t,e.modalClass,e.modalFade),e.lockScroll)){this.withoutHiddenClass=!(0,a.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,a.getStyle)(document.body,"paddingRight"),10)),h=(0,s.default)();var r=document.documentElement.clientHeight<document.body.scrollHeight,l=(0,a.getStyle)(document.body,"overflowY");h>0&&(r||"scroll"===l)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+h+"px"),(0,a.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(t).position&&(t.style.position="absolute"),t.style.zIndex=o.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var e=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var t=Number(this.closeDelay);t>0?this._closeTimer=setTimeout(function(){e._closeTimer=null,e.doClose()},t):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){o.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,a.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},t.PopupManager=o.default},"7KvD":function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},"7UMu":function(e,t,i){var n=i("R9M2");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"835U":function(e,t,i){"use strict";t.__esModule=!0,t.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isHtmlElement=function(e){return e&&e.nodeType===Node.ELEMENT_NODE};t.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},t.isUndefined=function(e){return void 0===e},t.isDefined=function(e){return void 0!==e&&null!==e}},"880/":function(e,t,i){e.exports=i("hJx8")},"8U58":function(e,t,i){var n;n=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,i=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),s=n||r||o,a=s&&(n?document.documentMode||6:+(o||r)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),h=!o&&/Chrome\//.test(e),u=/Opera\//.test(e),d=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),p=/PhantomJS/.test(e),m=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=m||/Mac/.test(t),_=/\bCrOS\b/.test(e),y=/win/i.test(t),w=u&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(u=!1,l=!0);var C=b&&(c||u&&(null==w||w<12.11)),S=i||s&&a>=9;function x(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var k,L=function(e,t){var i=e.className,n=x(t).exec(i);if(n){var r=i.slice(n.index+n[0].length);e.className=i.slice(0,n.index)+(r?n[1]+r:"")}};function D(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function E(e,t){return D(e).appendChild(t)}function N(e,t,i,n){var r=document.createElement(e);if(i&&(r.className=i),n&&(r.style.cssText=n),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function T(e,t,i,n){var r=N(e,t,i,n);return r.setAttribute("role","presentation"),r}function O(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function M(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function I(e,t){var i=e.className;x(t).test(i)||(e.className+=(i?" ":"")+t)}function A(e,t){for(var i=e.split(" "),n=0;n<i.length;n++)i[n]&&!x(i[n]).test(t)&&(t+=" "+i[n]);return t}k=document.createRange?function(e,t,i,n){var r=document.createRange();return r.setEnd(n||e,i),r.setStart(e,t),r}:function(e,t,i){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n};var P=function(e){e.select()};function R(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function F(e,t,i){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===i&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function V(e,t,i,n,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,s=r||0;;){var a=e.indexOf("\t",o);if(a<0||a>=t)return s+(t-o);s+=a-o,s+=i-s%i,o=a+1}}m?P=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:s&&(P=function(e){try{e.select()}catch(e){}});var B=function(){this.id=null,this.f=null,this.time=0,this.handler=R(this.onTimeout,this)};function W(e,t){for(var i=0;i<e.length;++i)if(e[i]==t)return i;return-1}B.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},B.prototype.set=function(e,t){this.f=t;var i=+new Date+e;(!this.id||i<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=i)};var $=50,z={toString:function(){return"CodeMirror.Pass"}},H={scroll:!1},j={origin:"*mouse"},U={origin:"+move"};function K(e,t,i){for(var n=0,r=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var s=o-n;if(o==e.length||r+s>=t)return n+Math.min(s,t-r);if(r+=o-n,n=o+1,(r+=i-r%i)>=t)return n}}var q=[""];function G(e){for(;q.length<=e;)q.push(Y(q)+" ");return q[e]}function Y(e){return e[e.length-1]}function X(e,t){for(var i=[],n=0;n<e.length;n++)i[n]=t(e[n],n);return i}function Z(){}function Q(e,t){var i;return Object.create?i=Object.create(e):(Z.prototype=e,i=new Z),t&&F(t,i),i}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||J.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function ie(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(e){return e.charCodeAt(0)>=768&&ne.test(e)}function oe(e,t,i){for(;(i<0?t>0:t<e.length)&&re(e.charAt(t));)t+=i;return t}function se(e,t,i){for(var n=t>i?-1:1;;){if(t==i)return t;var r=(t+i)/2,o=n<0?Math.ceil(r):Math.floor(r);if(o==t)return e(o)?t:i;e(o)?i=o:t=o+n}}var ae=null;function le(e,t,i){var n;ae=null;for(var r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;o.to==t&&(o.from!=o.to&&"before"==i?n=r:ae=r),o.from==t&&(o.from!=o.to&&"before"!=i?n=r:ae=r)}return null!=n?n:ae}var ce=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";var i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,n=/[stwN]/,r=/[LRr]/,o=/[Lb1n]/,s=/[1n]/;function a(e,t,i){this.level=e,this.from=t,this.to=i}return function(l,c){var h="ltr"==c?"L":"R";if(0==l.length||"ltr"==c&&!i.test(l))return!1;for(var u,d=l.length,f=[],p=0;p<d;++p)f.push((u=l.charCodeAt(p))<=247?e.charAt(u):1424<=u&&u<=1524?"R":1536<=u&&u<=1785?t.charAt(u-1536):1774<=u&&u<=2220?"r":8192<=u&&u<=8203?"w":8204==u?"b":"L");for(var m=0,g=h;m<d;++m){var v=f[m];"m"==v?f[m]=g:g=v}for(var b=0,_=h;b<d;++b){var y=f[b];"1"==y&&"r"==_?f[b]="n":r.test(y)&&(_=y,"r"==y&&(f[b]="R"))}for(var w=1,C=f[0];w<d-1;++w){var S=f[w];"+"==S&&"1"==C&&"1"==f[w+1]?f[w]="1":","!=S||C!=f[w+1]||"1"!=C&&"n"!=C||(f[w]=C),C=S}for(var x=0;x<d;++x){var k=f[x];if(","==k)f[x]="N";else if("%"==k){var L=void 0;for(L=x+1;L<d&&"%"==f[L];++L);for(var D=x&&"!"==f[x-1]||L<d&&"1"==f[L]?"1":"N",E=x;E<L;++E)f[E]=D;x=L-1}}for(var N=0,T=h;N<d;++N){var O=f[N];"L"==T&&"1"==O?f[N]="L":r.test(O)&&(T=O)}for(var M=0;M<d;++M)if(n.test(f[M])){var I=void 0;for(I=M+1;I<d&&n.test(f[I]);++I);for(var A="L"==(M?f[M-1]:h),P=A==("L"==(I<d?f[I]:h))?A?"L":"R":h,R=M;R<I;++R)f[R]=P;M=I-1}for(var F,V=[],B=0;B<d;)if(o.test(f[B])){var W=B;for(++B;B<d&&o.test(f[B]);++B);V.push(new a(0,W,B))}else{var $=B,z=V.length,H="rtl"==c?1:0;for(++B;B<d&&"L"!=f[B];++B);for(var j=$;j<B;)if(s.test(f[j])){$<j&&(V.splice(z,0,new a(1,$,j)),z+=H);var U=j;for(++j;j<B&&s.test(f[j]);++j);V.splice(z,0,new a(2,U,j)),z+=H,$=j}else++j;$<B&&V.splice(z,0,new a(1,$,B))}return"ltr"==c&&(1==V[0].level&&(F=l.match(/^\s+/))&&(V[0].from=F[0].length,V.unshift(new a(0,0,F[0].length))),1==Y(V).level&&(F=l.match(/\s+$/))&&(Y(V).to-=F[0].length,V.push(new a(0,d-F[0].length,d)))),"rtl"==c?V.reverse():V}}();function he(e,t){var i=e.order;return null==i&&(i=e.order=ce(e.text,t)),i}var ue=[],de=function(e,t,i){if(e.addEventListener)e.addEventListener(t,i,!1);else if(e.attachEvent)e.attachEvent("on"+t,i);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||ue).concat(i)}};function fe(e,t){return e._handlers&&e._handlers[t]||ue}function pe(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i,!1);else if(e.detachEvent)e.detachEvent("on"+t,i);else{var n=e._handlers,r=n&&n[t];if(r){var o=W(r,i);o>-1&&(n[t]=r.slice(0,o).concat(r.slice(o+1)))}}}function me(e,t){var i=fe(e,t);if(i.length)for(var n=Array.prototype.slice.call(arguments,2),r=0;r<i.length;++r)i[r].apply(null,n)}function ge(e,t,i){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),me(e,i||t.type,e,t),Ce(t)||t.codemirrorIgnore}function ve(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var i=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==W(i,t[n])&&i.push(t[n])}function be(e,t){return fe(e,t).length>0}function _e(e){e.prototype.on=function(e,t){de(this,e,t)},e.prototype.off=function(e,t){pe(this,e,t)}}function ye(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function we(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ce(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Se(e){ye(e),we(e)}function xe(e){return e.target||e.srcElement}function ke(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var Le,De,Ee=function(){if(s&&a<9)return!1;var e=N("div");return"draggable"in e||"dragDrop"in e}();function Ne(e){if(null==Le){var t=N("span","​");E(e,N("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Le=t.offsetWidth<=1&&t.offsetHeight>2&&!(s&&a<8))}var i=Le?N("span","​"):N("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Te(e){if(null!=De)return De;var t=E(e,document.createTextNode("AخA")),i=k(t,0,1).getBoundingClientRect(),n=k(t,1,2).getBoundingClientRect();return D(e),!(!i||i.left==i.right)&&(De=n.right-i.right<3)}var Oe,Me=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,i=[],n=e.length;t<=n;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(i.push(o.slice(0,s)),t+=s+1):(i.push(o),t=r+1)}return i}:function(e){return e.split(/\r\n?|\n/)},Ie=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ae="oncopy"in(Oe=N("div"))||(Oe.setAttribute("oncopy","return;"),"function"==typeof Oe.oncopy),Pe=null;var Re={},Fe={};function Ve(e){if("string"==typeof e&&Fe.hasOwnProperty(e))e=Fe[e];else if(e&&"string"==typeof e.name&&Fe.hasOwnProperty(e.name)){var t=Fe[e.name];"string"==typeof t&&(t={name:t}),(e=Q(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ve("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ve("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Be(e,t){t=Ve(t);var i=Re[t.name];if(!i)return Be(e,"text/plain");var n=i(e,t);if(We.hasOwnProperty(t.name)){var r=We[t.name];for(var o in r)r.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=r[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var s in t.modeProps)n[s]=t.modeProps[s];return n}var We={};function $e(e,t){F(t,We.hasOwnProperty(e)?We[e]:We[e]={})}function ze(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var i={};for(var n in t){var r=t[n];r instanceof Array&&(r=r.concat([])),i[n]=r}return i}function He(e,t){for(var i;e.innerMode&&(i=e.innerMode(t))&&i.mode!=e;)t=i.state,e=i.mode;return i||{mode:e,state:t}}function je(e,t,i){return!e.startState||e.startState(t,i)}var Ue=function(e,t,i){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=i};function Ke(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var i=e;!i.lines;)for(var n=0;;++n){var r=i.children[n],o=r.chunkSize();if(t<o){i=r;break}t-=o}return i.lines[t]}function qe(e,t,i){var n=[],r=t.line;return e.iter(t.line,i.line+1,function(e){var o=e.text;r==i.line&&(o=o.slice(0,i.ch)),r==t.line&&(o=o.slice(t.ch)),n.push(o),++r}),n}function Ge(e,t,i){var n=[];return e.iter(t,i,function(e){n.push(e.text)}),n}function Ye(e,t){var i=t-e.height;if(i)for(var n=e;n;n=n.parent)n.height+=i}function Xe(e){if(null==e.parent)return null;for(var t=e.parent,i=W(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var r=0;n.children[r]!=t;++r)i+=n.children[r].chunkSize();return i+t.first}function Ze(e,t){var i=e.first;e:do{for(var n=0;n<e.children.length;++n){var r=e.children[n],o=r.height;if(t<o){e=r;continue e}t-=o,i+=r.chunkSize()}return i}while(!e.lines);for(var s=0;s<e.lines.length;++s){var a=e.lines[s].height;if(t<a)break;t-=a}return i+s}function Qe(e,t){return t>=e.first&&t<e.first+e.size}function Je(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function et(e,t,i){if(void 0===i&&(i=null),!(this instanceof et))return new et(e,t,i);this.line=e,this.ch=t,this.sticky=i}function tt(e,t){return e.line-t.line||e.ch-t.ch}function it(e,t){return e.sticky==t.sticky&&0==tt(e,t)}function nt(e){return et(e.line,e.ch)}function rt(e,t){return tt(e,t)<0?t:e}function ot(e,t){return tt(e,t)<0?e:t}function st(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function at(e,t){if(t.line<e.first)return et(e.first,0);var i=e.first+e.size-1;return t.line>i?et(i,Ke(e,i).text.length):function(e,t){var i=e.ch;return null==i||i>t?et(e.line,t):i<0?et(e.line,0):e}(t,Ke(e,t.line).text.length)}function lt(e,t){for(var i=[],n=0;n<t.length;n++)i[n]=at(e,t[n]);return i}Ue.prototype.eol=function(){return this.pos>=this.string.length},Ue.prototype.sol=function(){return this.pos==this.lineStart},Ue.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ue.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ue.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Ue.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Ue.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Ue.prototype.skipToEnd=function(){this.pos=this.string.length},Ue.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Ue.prototype.backUp=function(e){this.pos-=e},Ue.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=V(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?V(this.string,this.lineStart,this.tabSize):0)},Ue.prototype.indentation=function(){return V(this.string,null,this.tabSize)-(this.lineStart?V(this.string,this.lineStart,this.tabSize):0)},Ue.prototype.match=function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var r=function(e){return i?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},Ue.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ue.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Ue.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Ue.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ct=function(e,t){this.state=e,this.lookAhead=t},ht=function(e,t,i,n){this.state=t,this.doc=e,this.line=i,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function ut(e,t,i,n){var r=[e.state.modeGen],o={};yt(e,t.text,e.doc.mode,i,function(e,t){return r.push(e,t)},o,n);for(var s=i.state,a=function(n){i.baseTokens=r;var a=e.state.overlays[n],l=1,c=0;i.state=!0,yt(e,t.text,a.mode,i,function(e,t){for(var i=l;c<e;){var n=r[l];n>e&&r.splice(l,1,e,r[l+1],n),l+=2,c=Math.min(e,n)}if(t)if(a.opaque)r.splice(i,l-i,e,"overlay "+t),l=i+2;else for(;i<l;i+=2){var o=r[i+1];r[i+1]=(o?o+" ":"")+"overlay "+t}},o),i.state=s,i.baseTokens=null,i.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)a(l);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function dt(e,t,i){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=ft(e,Xe(t)),r=t.text.length>e.options.maxHighlightLength&&ze(e.doc.mode,n.state),o=ut(e,t,n);r&&(n.state=r),t.stateAfter=n.save(!r),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),i===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function ft(e,t,i){var n=e.doc,r=e.display;if(!n.mode.startState)return new ht(n,!0,t);var o=function(e,t,i){for(var n,r,o=e.doc,s=i?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=Ke(o,a-1),c=l.stateAfter;if(c&&(!i||a+(c instanceof ct?c.lookAhead:0)<=o.modeFrontier))return a;var h=V(l.text,null,e.options.tabSize);(null==r||n>h)&&(r=a-1,n=h)}return r}(e,t,i),s=o>n.first&&Ke(n,o-1).stateAfter,a=s?ht.fromSaved(n,s,o):new ht(n,je(n.mode),o);return n.iter(o,t,function(i){pt(e,i.text,a);var n=a.line;i.stateAfter=n==t-1||n%5==0||n>=r.viewFrom&&n<r.viewTo?a.save():null,a.nextLine()}),i&&(n.modeFrontier=a.line),a}function pt(e,t,i,n){var r=e.doc.mode,o=new Ue(t,e.options.tabSize,i);for(o.start=o.pos=n||0,""==t&&mt(r,i.state);!o.eol();)gt(r,o,i.state),o.start=o.pos}function mt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var i=He(e,t);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function gt(e,t,i,n){for(var r=0;r<10;r++){n&&(n[0]=He(e,i).mode);var o=e.token(t,i);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}ht.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ht.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ht.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ht.fromSaved=function(e,t,i){return t instanceof ct?new ht(e,ze(e.mode,t.state),i,t.lookAhead):new ht(e,ze(e.mode,t),i)},ht.prototype.save=function(e){var t=!1!==e?ze(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ct(t,this.maxLookAhead):t};var vt=function(e,t,i){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=i};function bt(e,t,i,n){var r,o,s=e.doc,a=s.mode,l=Ke(s,(t=at(s,t)).line),c=ft(e,t.line,i),h=new Ue(l.text,e.options.tabSize,c);for(n&&(o=[]);(n||h.pos<t.ch)&&!h.eol();)h.start=h.pos,r=gt(a,h,c.state),n&&o.push(new vt(h,r,ze(s.mode,c.state)));return n?o:new vt(h,r,c.state)}function _t(e,t){if(e)for(;;){var i=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;e=e.slice(0,i.index)+e.slice(i.index+i[0].length);var n=i[1]?"bgClass":"textClass";null==t[n]?t[n]=i[2]:new RegExp("(?:^|\\s)"+i[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+i[2])}return e}function yt(e,t,i,n,r,o,s){var a=i.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,h=null,u=new Ue(t,e.options.tabSize,n),d=e.options.addModeClass&&[null];for(""==t&&_t(mt(i,n.state),o);!u.eol();){if(u.pos>e.options.maxHighlightLength?(a=!1,s&&pt(e,t,n,u.pos),u.pos=t.length,l=null):l=_t(gt(i,u,n.state,d),o),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||h!=l){for(;c<u.start;)r(c=Math.min(u.start,c+5e3),h);h=l}u.start=u.pos}for(;c<u.pos;){var p=Math.min(u.pos,c+5e3);r(p,h),c=p}}var wt=!1,Ct=!1;function St(e,t,i){this.marker=e,this.from=t,this.to=i}function xt(e,t){if(e)for(var i=0;i<e.length;++i){var n=e[i];if(n.marker==t)return n}}function kt(e,t){for(var i,n=0;n<e.length;++n)e[n]!=t&&(i||(i=[])).push(e[n]);return i}function Lt(e,t){if(t.full)return null;var i=Qe(e,t.from.line)&&Ke(e,t.from.line).markedSpans,n=Qe(e,t.to.line)&&Ke(e,t.to.line).markedSpans;if(!i&&!n)return null;var r=t.from.ch,o=t.to.ch,s=0==tt(t.from,t.to),a=function(e,t,i){var n;if(e)for(var r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==s.type&&(!i||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new St(s,o.from,a?null:o.to))}}return n}(i,r,s),l=function(e,t,i){var n;if(e)for(var r=0;r<e.length;++r){var o=e[r],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==s.type&&(!i||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new St(s,a?null:o.from-t,null==o.to?null:o.to-t))}}return n}(n,o,s),c=1==t.text.length,h=Y(t.text).length+(c?r:0);if(a)for(var u=0;u<a.length;++u){var d=a[u];if(null==d.to){var f=xt(l,d.marker);f?c&&(d.to=null==f.to?null:f.to+h):d.to=r}}if(l)for(var p=0;p<l.length;++p){var m=l[p];if(null!=m.to&&(m.to+=h),null==m.from)xt(a,m.marker)||(m.from=h,c&&(a||(a=[])).push(m));else m.from+=h,c&&(a||(a=[])).push(m)}a&&(a=Dt(a)),l&&l!=a&&(l=Dt(l));var g=[a];if(!c){var v,b=t.text.length-2;if(b>0&&a)for(var _=0;_<a.length;++_)null==a[_].to&&(v||(v=[])).push(new St(a[_].marker,null,null));for(var y=0;y<b;++y)g.push(v);g.push(l)}return g}function Dt(e){for(var t=0;t<e.length;++t){var i=e[t];null!=i.from&&i.from==i.to&&!1!==i.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Et(e){var t=e.markedSpans;if(t){for(var i=0;i<t.length;++i)t[i].marker.detachLine(e);e.markedSpans=null}}function Nt(e,t){if(t){for(var i=0;i<t.length;++i)t[i].marker.attachLine(e);e.markedSpans=t}}function Tt(e){return e.inclusiveLeft?-1:0}function Ot(e){return e.inclusiveRight?1:0}function Mt(e,t){var i=e.lines.length-t.lines.length;if(0!=i)return i;var n=e.find(),r=t.find(),o=tt(n.from,r.from)||Tt(e)-Tt(t);if(o)return-o;var s=tt(n.to,r.to)||Ot(e)-Ot(t);return s||t.id-e.id}function It(e,t){var i,n=Ct&&e.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)(r=n[o]).marker.collapsed&&null==(t?r.from:r.to)&&(!i||Mt(i,r.marker)<0)&&(i=r.marker);return i}function At(e){return It(e,!0)}function Pt(e){return It(e,!1)}function Rt(e,t){var i,n=Ct&&e.markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!i||Mt(i,o.marker)<0)&&(i=o.marker)}return i}function Ft(e,t,i,n,r){var o=Ke(e,t),s=Ct&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),h=tt(c.from,i)||Tt(l.marker)-Tt(r),u=tt(c.to,n)||Ot(l.marker)-Ot(r);if(!(h>=0&&u<=0||h<=0&&u>=0)&&(h<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?tt(c.to,i)>=0:tt(c.to,i)>0)||h>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?tt(c.from,n)<=0:tt(c.from,n)<0)))return!0}}}function Vt(e){for(var t;t=At(e);)e=t.find(-1,!0).line;return e}function Bt(e,t){var i=Ke(e,t),n=Vt(i);return i==n?t:Xe(n)}function Wt(e,t){if(t>e.lastLine())return t;var i,n=Ke(e,t);if(!$t(e,n))return t;for(;i=Pt(n);)n=i.find(1,!0).line;return Xe(n)+1}function $t(e,t){var i=Ct&&t.markedSpans;if(i)for(var n=void 0,r=0;r<i.length;++r)if((n=i[r]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&zt(e,t,n))return!0}}function zt(e,t,i){if(null==i.to){var n=i.marker.find(1,!0);return zt(e,n.line,xt(n.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==t.text.length)return!0;for(var r=void 0,o=0;o<t.markedSpans.length;++o)if((r=t.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==i.to&&(null==r.to||r.to!=i.from)&&(r.marker.inclusiveLeft||i.marker.inclusiveRight)&&zt(e,t,r))return!0}function Ht(e){for(var t=0,i=(e=Vt(e)).parent,n=0;n<i.lines.length;++n){var r=i.lines[n];if(r==e)break;t+=r.height}for(var o=i.parent;o;o=(i=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==i)break;t+=a.height}return t}function jt(e){if(0==e.height)return 0;for(var t,i=e.text.length,n=e;t=At(n);){var r=t.find(0,!0);n=r.from.line,i+=r.from.ch-r.to.ch}for(n=e;t=Pt(n);){var o=t.find(0,!0);i-=n.text.length-o.from.ch,i+=(n=o.to.line).text.length-o.to.ch}return i}function Ut(e){var t=e.display,i=e.doc;t.maxLine=Ke(i,i.first),t.maxLineLength=jt(t.maxLine),t.maxLineChanged=!0,i.iter(function(e){var i=jt(e);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=e)})}var Kt=function(e,t,i){this.text=e,Nt(this,t),this.height=i?i(this):1};function qt(e){e.parent=null,Et(e)}Kt.prototype.lineNo=function(){return Xe(this)},_e(Kt);var Gt={},Yt={};function Xt(e,t){if(!e||/^\s*$/.test(e))return null;var i=t.addModeClass?Yt:Gt;return i[e]||(i[e]=e.replace(/\S+/g,"cm-$&"))}function Zt(e,t){var i=T("span",null,null,l?"padding-right: .1px":null),n={pre:T("pre",[i],"CodeMirror-line"),content:i,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o=r?t.rest[r-1]:t.line,s=void 0;n.pos=0,n.addToken=Jt,Te(e.display.measure)&&(s=he(o,e.doc.direction))&&(n.addToken=ei(n.addToken,s)),n.map=[],ii(o,n,dt(e,o,t!=e.display.externalMeasured&&Xe(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=A(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=A(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Ne(e.display.measure))),0==r?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var a=n.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return me(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=A(n.pre.className,n.textClass||"")),n}function Qt(e){var t=N("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Jt(e,t,i,n,r,o,l){if(t){var c,h=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var i=t,n="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!i||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=" "),n+=o,i=" "==o}return n}(t,e.trailingSpace):t,u=e.cm.state.specialChars,d=!1;if(u.test(t)){c=document.createDocumentFragment();for(var f=0;;){u.lastIndex=f;var p=u.exec(t),m=p?p.index-f:t.length-f;if(m){var g=document.createTextNode(h.slice(f,f+m));s&&a<9?c.appendChild(N("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!p)break;f+=m+1;var v=void 0;if("\t"==p[0]){var b=e.cm.options.tabSize,_=b-e.col%b;(v=c.appendChild(N("span",G(_),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=_}else"\r"==p[0]||"\n"==p[0]?((v=c.appendChild(N("span","\r"==p[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),s&&a<9?c.appendChild(N("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(h),e.map.push(e.pos,e.pos+t.length,c),s&&a<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==h.charCodeAt(t.length-1),i||n||r||d||o||l){var y=i||"";n&&(y+=n),r&&(y+=r);var w=N("span",[c],y,o);if(l)for(var C in l)l.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&w.setAttribute(C,l[C]);return e.content.appendChild(w)}e.content.appendChild(c)}}function ei(e,t){return function(i,n,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=i.pos,h=c+n.length;;){for(var u=void 0,d=0;d<t.length&&!((u=t[d]).to>c&&u.from<=c);d++);if(u.to>=h)return e(i,n,r,o,s,a,l);e(i,n.slice(0,u.to-c),r,o,null,a,l),o=null,n=n.slice(u.to-c),c=u.to}}}function ti(e,t,i,n){var r=!n&&i.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!n&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",i.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function ii(e,t,i){var n=e.markedSpans,r=e.text,o=0;if(n)for(var s,a,l,c,h,u,d,f=r.length,p=0,m=1,g="",v=0;;){if(v==p){l=c=h=a="",d=null,u=null,v=1/0;for(var b=[],_=void 0,y=0;y<n.length;++y){var w=n[y],C=w.marker;if("bookmark"==C.type&&w.from==p&&C.widgetNode)b.push(C);else if(w.from<=p&&(null==w.to||w.to>p||C.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,c=""),C.className&&(l+=" "+C.className),C.css&&(a=(a?a+";":"")+C.css),C.startStyle&&w.from==p&&(h+=" "+C.startStyle),C.endStyle&&w.to==v&&(_||(_=[])).push(C.endStyle,w.to),C.title&&((d||(d={})).title=C.title),C.attributes)for(var S in C.attributes)(d||(d={}))[S]=C.attributes[S];C.collapsed&&(!u||Mt(u.marker,C)<0)&&(u=w)}else w.from>p&&v>w.from&&(v=w.from)}if(_)for(var x=0;x<_.length;x+=2)_[x+1]==v&&(c+=" "+_[x]);if(!u||u.from==p)for(var k=0;k<b.length;++k)ti(t,0,b[k]);if(u&&(u.from||0)==p){if(ti(t,(null==u.to?f+1:u.to)-p,u.marker,null==u.from),null==u.to)return;u.to==p&&(u=!1)}}if(p>=f)break;for(var L=Math.min(f,v);;){if(g){var D=p+g.length;if(!u){var E=D>L?g.slice(0,L-p):g;t.addToken(t,E,s?s+l:l,h,p+E.length==v?c:"",a,d)}if(D>=L){g=g.slice(L-p),p=L;break}p=D,h=""}g=r.slice(o,o=i[m++]),s=Xt(i[m++],t.cm.options)}}else for(var N=1;N<i.length;N+=2)t.addToken(t,r.slice(o,o=i[N]),Xt(i[N+1],t.cm.options))}function ni(e,t,i){this.line=t,this.rest=function(e){for(var t,i;t=Pt(e);)e=t.find(1,!0).line,(i||(i=[])).push(e);return i}(t),this.size=this.rest?Xe(Y(this.rest))-i+1:1,this.node=this.text=null,this.hidden=$t(e,t)}function ri(e,t,i){for(var n,r=[],o=t;o<i;o=n){var s=new ni(e.doc,Ke(e.doc,o),o);n=o+s.size,r.push(s)}return r}var oi=null;var si=null;function ai(e,t){var i=fe(e,t);if(i.length){var n,r=Array.prototype.slice.call(arguments,2);oi?n=oi.delayedCallbacks:si?n=si:(n=si=[],setTimeout(li,0));for(var o=function(e){n.push(function(){return i[e].apply(null,r)})},s=0;s<i.length;++s)o(s)}}function li(){var e=si;si=null;for(var t=0;t<e.length;++t)e[t]()}function ci(e,t,i,n){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?di(e,t):"gutter"==o?pi(e,t,i,n):"class"==o?fi(e,t):"widget"==o&&mi(e,t,n)}t.changes=null}function hi(e){return e.node==e.text&&(e.node=N("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),s&&a<8&&(e.node.style.zIndex=2)),e.node}function ui(e,t){var i=e.display.externalMeasured;return i&&i.line==t.line?(e.display.externalMeasured=null,t.measure=i.measure,i.built):Zt(e,t)}function di(e,t){var i=t.text.className,n=ui(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,fi(e,t)):i&&(t.text.className=i)}function fi(e,t){!function(e,t){var i=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(i&&(i+=" CodeMirror-linebackground"),t.background)i?t.background.className=i:(t.background.parentNode.removeChild(t.background),t.background=null);else if(i){var n=hi(t);t.background=n.insertBefore(N("div",null,i),n.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?hi(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var i=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=i||""}function pi(e,t,i,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=hi(t);t.gutterBackground=N("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var s=hi(t),a=t.gutter=N("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(N("div",Je(e.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,h=o.hasOwnProperty(c)&&o[c];h&&a.appendChild(N("div",[h],"CodeMirror-gutter-elt","left: "+n.gutterLeft[c]+"px; width: "+n.gutterWidth[c]+"px"))}}}function mi(e,t,i){t.alignable&&(t.alignable=null);for(var n=x("CodeMirror-linewidget"),r=t.node.firstChild,o=void 0;r;r=o)o=r.nextSibling,n.test(r.className)&&t.node.removeChild(r);vi(e,t,i)}function gi(e,t,i,n){var r=ui(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),fi(e,t),pi(e,t,i,n),vi(e,t,n),t.node}function vi(e,t,i){if(bi(e,t.line,t,i,!0),t.rest)for(var n=0;n<t.rest.length;n++)bi(e,t.rest[n],t,i,!1)}function bi(e,t,i,n,r){if(t.widgets)for(var o=hi(i),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=N("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),_i(l,c,i,n),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,i.gutter||i.text):o.appendChild(c),ai(l,"redraw")}}function _i(e,t,i,n){if(e.noHScroll){(i.alignable||(i.alignable=[])).push(t);var r=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(r-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function yi(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!O(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),E(t.display.measure,N("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function wi(e,t){for(var i=xe(t);i!=e.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==e.sizer&&i!=e.mover)return!0}function Ci(e){return e.lineSpace.offsetTop}function Si(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function xi(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=E(e.measure,N("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function ki(e){return $-e.display.nativeBarWidth}function Li(e){return e.display.scroller.clientWidth-ki(e)-e.display.barWidth}function Di(e){return e.display.scroller.clientHeight-ki(e)-e.display.barHeight}function Ei(e,t,i){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var r=0;r<e.rest.length;r++)if(Xe(e.rest[r])>i)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Ni(e,t,i,n){return Mi(e,Oi(e,t),i,n)}function Ti(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[ln(e,t)];var i=e.display.externalMeasured;return i&&t>=i.lineN&&t<i.lineN+i.size?i:void 0}function Oi(e,t){var i=Xe(t),n=Ti(e,i);n&&!n.text?n=null:n&&n.changes&&(ci(e,n,i,nn(e)),e.curOp.forceUpdate=!0),n||(n=function(e,t){var i=Xe(t=Vt(t)),n=e.display.externalMeasured=new ni(e.doc,t,i);n.lineN=i;var r=n.built=Zt(e,n);return n.text=r.pre,E(e.display.lineMeasure,r.pre),n}(e,t));var r=Ei(n,t,i);return{line:t,view:n,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Mi(e,t,i,n,r){t.before&&(i=-1);var o,l=i+(n||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(!function(e,t,i){var n=e.options.lineWrapping,r=n&&Li(e);if(!t.measure.heights||n&&t.measure.width!=r){var o=t.measure.heights=[];if(n){t.measure.width=r;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-i.top)}}o.push(i.bottom-i.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,i,n){var r,o=Pi(t.map,i,n),l=o.node,c=o.start,h=o.end,u=o.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){for(;c&&re(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+h<o.coverEnd&&re(t.line.text.charAt(o.coverStart+h));)++h;if((r=s&&a<9&&0==c&&h==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Ri(k(l,c,h).getClientRects(),n)).left||r.right||0==c)break;h=c,c-=1,u="right"}s&&a<11&&(r=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Pe)return Pe;var t=E(e,N("span","x")),i=t.getBoundingClientRect(),n=k(t,0,1).getBoundingClientRect();return Pe=Math.abs(i.left-n.left)>1}(e))return t;var i=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*i,right:t.right*i,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,r))}else{var f;c>0&&(u=n="right"),r=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==n?f.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!r||!r.left&&!r.right)){var p=l.parentNode.getClientRects()[0];r=p?{left:p.left,right:p.left+tn(e.display),top:p.top,bottom:p.bottom}:Ai}for(var m=r.top-t.rect.top,g=r.bottom-t.rect.top,v=(m+g)/2,b=t.view.measure.heights,_=0;_<b.length-1&&!(v<b[_]);_++);var y=_?b[_-1]:0,w=b[_],C={left:("right"==u?r.right:r.left)-t.rect.left,right:("left"==u?r.left:r.right)-t.rect.left,top:y,bottom:w};r.left||r.right||(C.bogus=!0);e.options.singleCursorHeightPerLine||(C.rtop=m,C.rbottom=g);return C}(e,t,i,n)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Ii,Ai={left:0,right:0,top:0,bottom:0};function Pi(e,t,i){for(var n,r,o,s,a,l,c=0;c<e.length;c+=3)if(a=e[c],l=e[c+1],t<a?(r=0,o=1,s="left"):t<l?o=(r=t-a)+1:(c==e.length-3||t==l&&e[c+3]>t)&&(r=(o=l-a)-1,t>=l&&(s="right")),null!=r){if(n=e[c+2],a==l&&i==(n.insertLeft?"left":"right")&&(s=i),"left"==i&&0==r)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)n=e[2+(c-=3)],s="left";if("right"==i&&r==l-a)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)n=e[(c+=3)+2],s="right";break}return{node:n,start:r,end:o,collapse:s,coverStart:a,coverEnd:l}}function Ri(e,t){var i=Ai;if("left"==t)for(var n=0;n<e.length&&(i=e[n]).left==i.right;n++);else for(var r=e.length-1;r>=0&&(i=e[r]).left==i.right;r--);return i}function Fi(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Vi(e){e.display.externalMeasure=null,D(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Fi(e.display.view[t])}function Bi(e){Vi(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Wi(){return h&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function $i(){return h&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function zi(e){var t=0;if(e.widgets)for(var i=0;i<e.widgets.length;++i)e.widgets[i].above&&(t+=yi(e.widgets[i]));return t}function Hi(e,t,i,n,r){if(!r){var o=zi(t);i.top+=o,i.bottom+=o}if("line"==n)return i;n||(n="local");var s=Ht(t);if("local"==n?s+=Ci(e.display):s-=e.display.viewOffset,"page"==n||"window"==n){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==n?0:$i());var l=a.left+("window"==n?0:Wi());i.left+=l,i.right+=l}return i.top+=s,i.bottom+=s,i}function ji(e,t,i){if("div"==i)return t;var n=t.left,r=t.top;if("page"==i)n-=Wi(),r-=$i();else if("local"==i||!i){var o=e.display.sizer.getBoundingClientRect();n+=o.left,r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:n-s.left,top:r-s.top}}function Ui(e,t,i,n,r){return n||(n=Ke(e.doc,t.line)),Hi(e,n,Ni(e,n,t.ch,r),i)}function Ki(e,t,i,n,r,o){function s(t,s){var a=Mi(e,r,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Hi(e,n,a,i)}n=n||Ke(e.doc,t.line),r||(r=Oi(e,n));var a=he(n,e.doc.direction),l=t.ch,c=t.sticky;if(l>=n.text.length?(l=n.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function h(e,t,i){var n=1==a[t].level;return s(i?e-1:e,n!=i)}var u=le(a,l,c),d=ae,f=h(l,u,"before"==c);return null!=d&&(f.other=h(l,d,"before"!=c)),f}function qi(e,t){var i=0;t=at(e.doc,t),e.options.lineWrapping||(i=tn(e.display)*t.ch);var n=Ke(e.doc,t.line),r=Ht(n)+Ci(e.display);return{left:i,right:i,top:r,bottom:r+n.height}}function Gi(e,t,i,n,r){var o=et(e,t,i);return o.xRel=r,n&&(o.outside=n),o}function Yi(e,t,i){var n=e.doc;if((i+=e.display.viewOffset)<0)return Gi(n.first,0,null,-1,-1);var r=Ze(n,i),o=n.first+n.size-1;if(r>o)return Gi(n.first+n.size-1,Ke(n,o).text.length,null,1,1);t<0&&(t=0);for(var s=Ke(n,r);;){var a=Ji(e,s,r,t,i),l=Rt(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l)return a;var c=l.find(1);if(c.line==r)return c;s=Ke(n,r=c.line)}}function Xi(e,t,i,n){n-=zi(t);var r=t.text.length,o=se(function(t){return Mi(e,i,t-1).bottom<=n},r,0);return{begin:o,end:r=se(function(t){return Mi(e,i,t).top>n},o,r)}}function Zi(e,t,i,n){return i||(i=Oi(e,t)),Xi(e,t,i,Hi(e,t,Mi(e,i,n),"line").top)}function Qi(e,t,i,n){return!(e.bottom<=i)&&(e.top>i||(n?e.left:e.right)>t)}function Ji(e,t,i,n,r){r-=Ht(t);var o=Oi(e,t),s=zi(t),a=0,l=t.text.length,c=!0,h=he(t,e.doc.direction);if(h){var u=(e.options.lineWrapping?function(e,t,i,n,r,o,s){var a=Xi(e,t,n,s),l=a.begin,c=a.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var h=null,u=null,d=0;d<r.length;d++){var f=r[d];if(!(f.from>=c||f.to<=l)){var p=1!=f.level,m=Mi(e,n,p?Math.min(c,f.to)-1:Math.max(l,f.from)).right,g=m<o?o-m+1e9:m-o;(!h||u>g)&&(h=f,u=g)}}h||(h=r[r.length-1]);h.from<l&&(h={from:l,to:h.to,level:h.level});h.to>c&&(h={from:h.from,to:c,level:h.level});return h}:function(e,t,i,n,r,o,s){var a=se(function(a){var l=r[a],c=1!=l.level;return Qi(Ki(e,et(i,c?l.to:l.from,c?"before":"after"),"line",t,n),o,s,!0)},0,r.length-1),l=r[a];if(a>0){var c=1!=l.level,h=Ki(e,et(i,c?l.from:l.to,c?"after":"before"),"line",t,n);Qi(h,o,s,!0)&&h.top>s&&(l=r[a-1])}return l})(e,t,i,o,h,n,r);a=(c=1!=u.level)?u.from:u.to-1,l=c?u.to:u.from-1}var d,f,p=null,m=null,g=se(function(t){var i=Mi(e,o,t);return i.top+=s,i.bottom+=s,!!Qi(i,n,r,!1)&&(i.top<=r&&i.left<=n&&(p=t,m=i),!0)},a,l),v=!1;if(m){var b=n-m.left<m.right-n,_=b==c;g=p+(_?0:1),f=_?"after":"before",d=b?m.left:m.right}else{c||g!=l&&g!=a||g++,f=0==g?"after":g==t.text.length?"before":Mi(e,o,g-(c?1:0)).bottom+s<=r==c?"after":"before";var y=Ki(e,et(i,g,f),"line",t,o);d=y.left,v=r<y.top?-1:r>=y.bottom?1:0}return Gi(i,g=oe(t.text,g,1),f,v,n-d)}function en(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ii){Ii=N("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Ii.appendChild(document.createTextNode("x")),Ii.appendChild(N("br"));Ii.appendChild(document.createTextNode("x"))}E(e.measure,Ii);var i=Ii.offsetHeight/50;return i>3&&(e.cachedTextHeight=i),D(e.measure),i||1}function tn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=N("span","xxxxxxxxxx"),i=N("pre",[t],"CodeMirror-line-like");E(e.measure,i);var n=t.getBoundingClientRect(),r=(n.right-n.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function nn(e){for(var t=e.display,i={},n={},r=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=e.display.gutterSpecs[s].className;i[a]=o.offsetLeft+o.clientLeft+r,n[a]=o.clientWidth}return{fixedPos:rn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:i,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function rn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function on(e){var t=en(e.display),i=e.options.lineWrapping,n=i&&Math.max(5,e.display.scroller.clientWidth/tn(e.display)-3);return function(r){if($t(e.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return i?o+(Math.ceil(r.text.length/n)||1)*t:o+t}}function sn(e){var t=e.doc,i=on(e);t.iter(function(e){var t=i(e);t!=e.height&&Ye(e,t)})}function an(e,t,i,n){var r=e.display;if(!i&&"true"==xe(t).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(e){return null}var l,c=Yi(e,o,s);if(n&&c.xRel>0&&(l=Ke(e.doc,c.line).text).length==c.ch){var h=V(l,l.length,e.options.tabSize)-l.length;c=et(c.line,Math.max(0,Math.round((o-xi(e.display).left)/tn(e.display))-h))}return c}function ln(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var i=e.display.view,n=0;n<i.length;n++)if((t-=i[n].size)<0)return n}function cn(e,t,i,n){null==t&&(t=e.doc.first),null==i&&(i=e.doc.first+e.doc.size),n||(n=0);var r=e.display;if(n&&i<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Ct&&Bt(e.doc,t)<r.viewTo&&un(e);else if(i<=r.viewFrom)Ct&&Wt(e.doc,i+n)>r.viewFrom?un(e):(r.viewFrom+=n,r.viewTo+=n);else if(t<=r.viewFrom&&i>=r.viewTo)un(e);else if(t<=r.viewFrom){var o=dn(e,i,i+n,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=n):un(e)}else if(i>=r.viewTo){var s=dn(e,t,t,-1);s?(r.view=r.view.slice(0,s.index),r.viewTo=s.lineN):un(e)}else{var a=dn(e,t,t,-1),l=dn(e,i,i+n,1);a&&l?(r.view=r.view.slice(0,a.index).concat(ri(e,a.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=n):un(e)}var c=r.externalMeasured;c&&(i<c.lineN?c.lineN+=n:t<c.lineN+c.size&&(r.externalMeasured=null))}function hn(e,t,i){e.curOp.viewChanged=!0;var n=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[ln(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==W(s,i)&&s.push(i)}}}function un(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function dn(e,t,i,n){var r,o=ln(e,t),s=e.display.view;if(!Ct||i==e.doc.first+e.doc.size)return{index:o,lineN:i};for(var a=e.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=t){if(n>0){if(o==s.length-1)return null;r=a+s[o].size-t,o++}else r=a-t;t+=r,i+=r}for(;Bt(e.doc,i)!=i;){if(o==(n<0?0:s.length-1))return null;i+=n*s[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:i}}function fn(e){for(var t=e.display.view,i=0,n=0;n<t.length;n++){var r=t[n];r.hidden||r.node&&!r.changes||++i}return i}function pn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function mn(e,t){void 0===t&&(t=!0);for(var i=e.doc,n={},r=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),s=0;s<i.sel.ranges.length;s++)if(t||s!=i.sel.primIndex){var a=i.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&gn(e,a.head,r),l||bn(e,a,o)}}return n}function gn(e,t,i){var n=Ki(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=i.appendChild(N("div"," ","CodeMirror-cursor"));if(r.style.left=n.left+"px",r.style.top=n.top+"px",r.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var o=i.appendChild(N("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=n.other.left+"px",o.style.top=n.other.top+"px",o.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function vn(e,t){return e.top-t.top||e.left-t.left}function bn(e,t,i){var n=e.display,r=e.doc,o=document.createDocumentFragment(),s=xi(e.display),a=s.left,l=Math.max(n.sizerWidth,Li(e)-n.sizer.offsetLeft)-s.right,c="ltr"==r.direction;function h(e,t,i,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),o.appendChild(N("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==i?l-e:i)+"px;\n                             height: "+(n-t)+"px"))}function u(t,i,n){var o,s,u=Ke(r,t),d=u.text.length;function f(i,n){return Ui(e,et(t,i),"div",u,n)}function p(t,i,n){var r=Zi(e,u,null,t),o="ltr"==i==("after"==n)?"left":"right";return f("after"==n?r.begin:r.end-(/\s/.test(u.text.charAt(r.end-1))?2:1),o)[o]}var m=he(u,r.direction);return function(e,t,i,n){if(!e)return n(t,i,"ltr",0);for(var r=!1,o=0;o<e.length;++o){var s=e[o];(s.from<i&&s.to>t||t==i&&s.to==t)&&(n(Math.max(s.from,t),Math.min(s.to,i),1==s.level?"rtl":"ltr",o),r=!0)}r||n(t,i,"ltr")}(m,i||0,null==n?d:n,function(e,t,r,u){var g="ltr"==r,v=f(e,g?"left":"right"),b=f(t-1,g?"right":"left"),_=null==i&&0==e,y=null==n&&t==d,w=0==u,C=!m||u==m.length-1;if(b.top-v.top<=3){var S=(c?y:_)&&C,x=(c?_:y)&&w?a:(g?v:b).left,k=S?l:(g?b:v).right;h(x,v.top,k-x,v.bottom)}else{var L,D,E,N;g?(L=c&&_&&w?a:v.left,D=c?l:p(e,r,"before"),E=c?a:p(t,r,"after"),N=c&&y&&C?l:b.right):(L=c?p(e,r,"before"):a,D=!c&&_&&w?l:v.right,E=!c&&y&&C?a:b.left,N=c?p(t,r,"after"):l),h(L,v.top,D-L,v.bottom),v.bottom<b.top&&h(a,v.bottom,null,b.top),h(E,b.top,N-E,b.bottom)}(!o||vn(v,o)<0)&&(o=v),vn(b,o)<0&&(o=b),(!s||vn(v,s)<0)&&(s=v),vn(b,s)<0&&(s=b)}),{start:o,end:s}}var d=t.from(),f=t.to();if(d.line==f.line)u(d.line,d.ch,f.ch);else{var p=Ke(r,d.line),m=Ke(r,f.line),g=Vt(p)==Vt(m),v=u(d.line,d.ch,g?p.text.length+1:null).end,b=u(f.line,g?0:null,f.ch).start;g&&(v.top<b.top-2?(h(v.right,v.top,null,v.bottom),h(a,b.top,b.left,b.bottom)):h(v.right,v.top,b.left-v.right,v.bottom)),v.bottom<b.top&&h(a,v.bottom,null,b.top)}i.appendChild(o)}function _n(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var i=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Sn(e),t.cursorDiv.style.visibility=(i=!i)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function yn(e){e.state.focused||(e.display.input.focus(),Cn(e))}function wn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Sn(e))},100)}function Cn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(me(e,"focus",e,t),e.state.focused=!0,I(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),_n(e))}function Sn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(me(e,"blur",e,t),e.state.focused=!1,L(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function xn(e){for(var t=e.display,i=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var r=t.view[n],o=e.options.lineWrapping,l=void 0,c=0;if(!r.hidden){if(s&&a<8){var h=r.node.offsetTop+r.node.offsetHeight;l=h-i,i=h}else{var u=r.node.getBoundingClientRect();l=u.bottom-u.top,!o&&r.text.firstChild&&(c=r.text.firstChild.getBoundingClientRect().right-u.left-1)}var d=r.line.height-l;if((d>.005||d<-.005)&&(Ye(r.line,l),kn(r.line),r.rest))for(var f=0;f<r.rest.length;f++)kn(r.rest[f]);if(c>e.display.sizerWidth){var p=Math.ceil(c/tn(e.display));p>e.display.maxLineLength&&(e.display.maxLineLength=p,e.display.maxLine=r.line,e.display.maxLineChanged=!0)}}}}function kn(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var i=e.widgets[t],n=i.node.parentNode;n&&(i.height=n.offsetHeight)}}function Ln(e,t,i){var n=i&&null!=i.top?Math.max(0,i.top):e.scroller.scrollTop;n=Math.floor(n-Ci(e));var r=i&&null!=i.bottom?i.bottom:n+e.wrapper.clientHeight,o=Ze(t,n),s=Ze(t,r);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;a<o?(o=a,s=Ze(t,Ht(Ke(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=Ze(t,Ht(Ke(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function Dn(e,t){var i=e.display,n=en(e.display);t.top<0&&(t.top=0);var r=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:i.scroller.scrollTop,o=Di(e),s={};t.bottom-t.top>o&&(t.bottom=t.top+o);var a=e.doc.height+Si(i),l=t.top<n,c=t.bottom>a-n;if(t.top<r)s.scrollTop=l?0:t.top;else if(t.bottom>r+o){var h=Math.min(t.top,(c?a:t.bottom)-o);h!=r&&(s.scrollTop=h)}var u=e.options.fixedGutter?0:i.gutters.offsetWidth,d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:i.scroller.scrollLeft-u,f=Li(e)-i.gutters.offsetWidth,p=t.right-t.left>f;return p&&(t.right=t.left+f),t.left<10?s.scrollLeft=0:t.left<d?s.scrollLeft=Math.max(0,t.left+u-(p?0:10)):t.right>f+d-3&&(s.scrollLeft=t.right+(p?0:10)-f),s}function En(e,t){null!=t&&(On(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Nn(e){On(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Tn(e,t,i){null==t&&null==i||On(e),null!=t&&(e.curOp.scrollLeft=t),null!=i&&(e.curOp.scrollTop=i)}function On(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Mn(e,qi(e,t.from),qi(e,t.to),t.margin))}function Mn(e,t,i,n){var r=Dn(e,{left:Math.min(t.left,i.left),top:Math.min(t.top,i.top)-n,right:Math.max(t.right,i.right),bottom:Math.max(t.bottom,i.bottom)+n});Tn(e,r.scrollLeft,r.scrollTop)}function In(e,t){Math.abs(e.doc.scrollTop-t)<2||(i||or(e,{top:t}),An(e,t,!0),i&&or(e),er(e,100))}function An(e,t,i){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||i)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Pn(e,t,i,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(i?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,lr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Rn(e){var t=e.display,i=t.gutters.offsetWidth,n=Math.round(e.doc.height+Si(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?i:0,docHeight:n,scrollHeight:n+ki(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:i}}var Fn=function(e,t,i){this.cm=i;var n=this.vert=N("div",[N("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=N("div",[N("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=r.tabIndex=-1,e(n),e(r),de(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),de(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Fn.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var r=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=i?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(i?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:i?n:0,bottom:t?n:0}},Fn.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Fn.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Fn.prototype.zeroWidthHack=function(){var e=b&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new B,this.disableVert=new B},Fn.prototype.enableZeroWidthBar=function(e,t,i){e.style.pointerEvents="auto",t.set(1e3,function n(){var r=e.getBoundingClientRect();("vert"==i?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,n)})},Fn.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Vn=function(){};function Bn(e,t){t||(t=Rn(e));var i=e.display.barWidth,n=e.display.barHeight;Wn(e,t);for(var r=0;r<4&&i!=e.display.barWidth||n!=e.display.barHeight;r++)i!=e.display.barWidth&&e.options.lineWrapping&&xn(e),Wn(e,Rn(e)),i=e.display.barWidth,n=e.display.barHeight}function Wn(e,t){var i=e.display,n=i.scrollbars.update(t);i.sizer.style.paddingRight=(i.barWidth=n.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=n.bottom)+"px",i.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=n.bottom+"px",i.scrollbarFiller.style.width=n.right+"px"):i.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=n.bottom+"px",i.gutterFiller.style.width=t.gutterWidth+"px"):i.gutterFiller.style.display=""}Vn.prototype.update=function(){return{bottom:0,right:0}},Vn.prototype.setScrollLeft=function(){},Vn.prototype.setScrollTop=function(){},Vn.prototype.clear=function(){};var $n={native:Fn,null:Vn};function zn(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&L(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new $n[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),de(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,i){"horizontal"==i?Pn(e,t):In(e,t)},e),e.display.scrollbars.addClass&&I(e.display.wrapper,e.display.scrollbars.addClass)}var Hn=0;function jn(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Hn},t=e.curOp,oi?oi.ops.push(t):t.ownsGroup=oi={ops:[t],delayedCallbacks:[]}}function Un(e){var t=e.curOp;t&&function(e,t){var i=e.ownsGroup;if(i)try{!function(e){var t=e.delayedCallbacks,i=0;do{for(;i<t.length;i++)t[i].call(null);for(var n=0;n<e.ops.length;n++){var r=e.ops[n];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(i<t.length)}(i)}finally{oi=null,t(i)}}(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,i=0;i<t.length;i++)Kn(t[i]);for(var n=0;n<t.length;n++)(r=t[n]).updatedDisplay=r.mustUpdate&&nr(r.cm,r.update);var r;for(var o=0;o<t.length;o++)qn(t[o]);for(var s=0;s<t.length;s++)Gn(t[s]);for(var a=0;a<t.length;a++)Yn(t[a])}(e)})}function Kn(e){var t=e.cm,i=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=ki(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=ki(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Ut(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<i.viewFrom||e.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ir(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function qn(e){var t=e.cm,i=t.display;e.updatedDisplay&&xn(t),e.barMeasure=Rn(t),i.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Ni(t,i.maxLine,i.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+e.adjustWidthTo+ki(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+e.adjustWidthTo-Li(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=i.input.prepareSelection())}function Gn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Pn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var i=e.focus&&e.focus==M();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,i),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Bn(t,e.barMeasure),e.updatedDisplay&&ar(t,e.barMeasure),e.selectionChanged&&_n(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),i&&yn(e.cm)}function Yn(e){var t=e.cm,i=t.display,n=t.doc;(e.updatedDisplay&&rr(t,e.update),null==i.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null!=e.scrollTop&&An(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Pn(t,e.scrollLeft,!0,!0),e.scrollToPos)&&function(e,t){if(!ge(e,"scrollCursorIntoView")){var i=e.display,n=i.sizer.getBoundingClientRect(),r=null;if(t.top+n.top<0?r=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!p){var o=N("div","​",null,"position: absolute;\n                         top: "+(t.top-i.viewOffset-Ci(e.display))+"px;\n                         height: "+(t.bottom-t.top+ki(e)+i.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,i,n){var r;null==n&&(n=0),e.options.lineWrapping||t!=i||(i="before"==(t=t.ch?et(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?et(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var s=!1,a=Ki(e,t),l=i&&i!=t?Ki(e,i):a,c=Dn(e,r={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-n,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+n}),h=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=c.scrollTop&&(In(e,c.scrollTop),Math.abs(e.doc.scrollTop-h)>1&&(s=!0)),null!=c.scrollLeft&&(Pn(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(s=!0)),!s)break}return r}(t,at(n,e.scrollToPos.from),at(n,e.scrollToPos.to),e.scrollToPos.margin));var r=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(r)for(var s=0;s<r.length;++s)r[s].lines.length||me(r[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&me(o[a],"unhide");i.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&me(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Xn(e,t){if(e.curOp)return t();jn(e);try{return t()}finally{Un(e)}}function Zn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);jn(e);try{return t.apply(e,arguments)}finally{Un(e)}}}function Qn(e){return function(){if(this.curOp)return e.apply(this,arguments);jn(this);try{return e.apply(this,arguments)}finally{Un(this)}}}function Jn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);jn(t);try{return e.apply(this,arguments)}finally{Un(t)}}}function er(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,R(tr,e))}function tr(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var i=+new Date+e.options.workTime,n=ft(e,t.highlightFrontier),r=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength?ze(t.mode,n.state):null,l=ut(e,o,n,!0);a&&(n.state=a),o.styles=l.styles;var c=o.styleClasses,h=l.classes;h?o.styleClasses=h:c&&(o.styleClasses=null);for(var u=!s||s.length!=o.styles.length||c!=h&&(!c||!h||c.bgClass!=h.bgClass||c.textClass!=h.textClass),d=0;!u&&d<s.length;++d)u=s[d]!=o.styles[d];u&&r.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&pt(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>i)return er(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),r.length&&Xn(e,function(){for(var t=0;t<r.length;t++)hn(e,r[t],"text")})}}var ir=function(e,t,i){var n=e.display;this.viewport=t,this.visible=Ln(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Li(e),this.force=i,this.dims=nn(e),this.events=[]};function nr(e,t){var i=e.display,n=e.doc;if(t.editorIsHidden)return un(e),!1;if(!t.force&&t.visible.from>=i.viewFrom&&t.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==fn(e))return!1;cr(e)&&(un(e),t.dims=nn(e));var r=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),s=Math.min(r,t.visible.to+e.options.viewportMargin);i.viewFrom<o&&o-i.viewFrom<20&&(o=Math.max(n.first,i.viewFrom)),i.viewTo>s&&i.viewTo-s<20&&(s=Math.min(r,i.viewTo)),Ct&&(o=Bt(e.doc,o),s=Wt(e.doc,s));var a=o!=i.viewFrom||s!=i.viewTo||i.lastWrapHeight!=t.wrapperHeight||i.lastWrapWidth!=t.wrapperWidth;!function(e,t,i){var n=e.display;0==n.view.length||t>=n.viewTo||i<=n.viewFrom?(n.view=ri(e,t,i),n.viewFrom=t):(n.viewFrom>t?n.view=ri(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(ln(e,t))),n.viewFrom=t,n.viewTo<i?n.view=n.view.concat(ri(e,n.viewTo,i)):n.viewTo>i&&(n.view=n.view.slice(0,ln(e,i)))),n.viewTo=i}(e,o,s),i.viewOffset=Ht(Ke(e.doc,i.viewFrom)),e.display.mover.style.top=i.viewOffset+"px";var c=fn(e);if(!a&&0==c&&!t.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var h=function(e){if(e.hasFocus())return null;var t=M();if(!t||!O(e.display.lineDiv,t))return null;var i={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&O(e.display.lineDiv,n.anchorNode)&&(i.anchorNode=n.anchorNode,i.anchorOffset=n.anchorOffset,i.focusNode=n.focusNode,i.focusOffset=n.focusOffset)}return i}(e);return c>4&&(i.lineDiv.style.display="none"),function(e,t,i){var n=e.display,r=e.options.lineNumbers,o=n.lineDiv,s=o.firstChild;function a(t){var i=t.nextSibling;return l&&b&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),i}for(var c=n.view,h=n.viewFrom,u=0;u<c.length;u++){var d=c[u];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;s!=d.node;)s=a(s);var f=r&&null!=t&&t<=h&&d.lineNumber;d.changes&&(W(d.changes,"gutter")>-1&&(f=!1),ci(e,d,h,i)),f&&(D(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(Je(e.options,h)))),s=d.node.nextSibling}else{var p=gi(e,d,h,i);o.insertBefore(p,s)}h+=d.size}for(;s;)s=a(s)}(e,i.updateLineNumbers,t.dims),c>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,function(e){if(e&&e.activeElt&&e.activeElt!=M()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&O(document.body,e.anchorNode)&&O(document.body,e.focusNode))){var t=window.getSelection(),i=document.createRange();i.setEnd(e.anchorNode,e.anchorOffset),i.collapse(!1),t.removeAllRanges(),t.addRange(i),t.extend(e.focusNode,e.focusOffset)}}(h),D(i.cursorDiv),D(i.selectionDiv),i.gutters.style.height=i.sizer.style.minHeight=0,a&&(i.lastWrapHeight=t.wrapperHeight,i.lastWrapWidth=t.wrapperWidth,er(e,400)),i.updateLineNumbers=null,!0}function rr(e,t){for(var i=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Li(e))n&&(t.visible=Ln(e.display,e.doc,i));else if(i&&null!=i.top&&(i={top:Math.min(e.doc.height+Si(e.display)-Di(e),i.top)}),t.visible=Ln(e.display,e.doc,i),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!nr(e,t))break;xn(e);var r=Rn(e);pn(e),Bn(e,r),ar(e,r),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function or(e,t){var i=new ir(e,t);if(nr(e,i)){xn(e),rr(e,i);var n=Rn(e);pn(e),Bn(e,n),ar(e,n),i.finish()}}function sr(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function ar(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+ki(e)+"px"}function lr(e){var t=e.display,i=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=rn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=n+"px",s=0;s<i.length;s++)if(!i[s].hidden){e.options.fixedGutter&&(i[s].gutter&&(i[s].gutter.style.left=o),i[s].gutterBackground&&(i[s].gutterBackground.style.left=o));var a=i[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+r+"px")}}function cr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,i=Je(e.options,t.first+t.size-1),n=e.display;if(i.length!=n.lineNumChars){var r=n.measure.appendChild(N("div",[N("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-s)+1,n.lineNumWidth=n.lineNumInnerWidth+s,n.lineNumChars=n.lineNumInnerWidth?i.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",sr(e.display),!0}return!1}function hr(e,t){for(var i=[],n=!1,r=0;r<e.length;r++){var o=e[r],s=null;if("string"!=typeof o&&(s=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;n=!0}i.push({className:o,style:s})}return t&&!n&&i.push({className:"CodeMirror-linenumbers",style:null}),i}function ur(e){var t=e.gutters,i=e.gutterSpecs;D(t),e.lineGutter=null;for(var n=0;n<i.length;++n){var r=i[n],o=r.className,s=r.style,a=t.appendChild(N("div",null,"CodeMirror-gutter "+o));s&&(a.style.cssText=s),"CodeMirror-linenumbers"==o&&(e.lineGutter=a,a.style.width=(e.lineNumWidth||1)+"px")}t.style.display=i.length?"":"none",sr(e)}function dr(e){ur(e.display),cn(e),lr(e)}ir.prototype.signal=function(e,t){be(e,t)&&this.events.push(arguments)},ir.prototype.finish=function(){for(var e=0;e<this.events.length;e++)me.apply(null,this.events[e])};var fr=0,pr=null;function mr(e){var t=e.wheelDeltaX,i=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==i&&e.detail&&e.axis==e.VERTICAL_AXIS?i=e.detail:null==i&&(i=e.wheelDelta),{x:t,y:i}}function gr(e){var t=mr(e);return t.x*=pr,t.y*=pr,t}function vr(e,t){var n=mr(t),r=n.x,o=n.y,s=e.display,a=s.scroller,c=a.scrollWidth>a.clientWidth,h=a.scrollHeight>a.clientHeight;if(r&&c||o&&h){if(o&&b&&l)e:for(var d=t.target,f=s.view;d!=a;d=d.parentNode)for(var p=0;p<f.length;p++)if(f[p].node==d){e.display.currentWheelTarget=d;break e}if(r&&!i&&!u&&null!=pr)return o&&h&&In(e,Math.max(0,a.scrollTop+o*pr)),Pn(e,Math.max(0,a.scrollLeft+r*pr)),(!o||o&&h)&&ye(t),void(s.wheelStartX=null);if(o&&null!=pr){var m=o*pr,g=e.doc.scrollTop,v=g+s.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),or(e,{top:g,bottom:v})}fr<20&&(null==s.wheelStartX?(s.wheelStartX=a.scrollLeft,s.wheelStartY=a.scrollTop,s.wheelDX=r,s.wheelDY=o,setTimeout(function(){if(null!=s.wheelStartX){var e=a.scrollLeft-s.wheelStartX,t=a.scrollTop-s.wheelStartY,i=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,i&&(pr=(pr*fr+i)/(fr+1),++fr)}},200)):(s.wheelDX+=r,s.wheelDY+=o))}}s?pr=-.53:i?pr=15:h?pr=-.7:d&&(pr=-1/3);var br=function(e,t){this.ranges=e,this.primIndex=t};br.prototype.primary=function(){return this.ranges[this.primIndex]},br.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var i=this.ranges[t],n=e.ranges[t];if(!it(i.anchor,n.anchor)||!it(i.head,n.head))return!1}return!0},br.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new _r(nt(this.ranges[t].anchor),nt(this.ranges[t].head));return new br(e,this.primIndex)},br.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},br.prototype.contains=function(e,t){t||(t=e);for(var i=0;i<this.ranges.length;i++){var n=this.ranges[i];if(tt(t,n.from())>=0&&tt(e,n.to())<=0)return i}return-1};var _r=function(e,t){this.anchor=e,this.head=t};function yr(e,t,i){var n=e&&e.options.selectionsMayTouch,r=t[i];t.sort(function(e,t){return tt(e.from(),t.from())}),i=W(t,r);for(var o=1;o<t.length;o++){var s=t[o],a=t[o-1],l=tt(a.to(),s.from());if(n&&!s.empty()?l>0:l>=0){var c=ot(a.from(),s.from()),h=rt(a.to(),s.to()),u=a.empty()?s.from()==s.head:a.from()==a.head;o<=i&&--i,t.splice(--o,2,new _r(u?h:c,u?c:h))}}return new br(t,i)}function wr(e,t){return new br([new _r(e,t||e)],0)}function Cr(e){return e.text?et(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Sr(e,t){if(tt(e,t.from)<0)return e;if(tt(e,t.to)<=0)return Cr(t);var i=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Cr(t).ch-t.to.ch),et(i,n)}function xr(e,t){for(var i=[],n=0;n<e.sel.ranges.length;n++){var r=e.sel.ranges[n];i.push(new _r(Sr(r.anchor,t),Sr(r.head,t)))}return yr(e.cm,i,e.sel.primIndex)}function kr(e,t,i){return e.line==t.line?et(i.line,e.ch-t.ch+i.ch):et(i.line+(e.line-t.line),e.ch)}function Lr(e){e.doc.mode=Be(e.options,e.doc.modeOption),Dr(e)}function Dr(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,er(e,100),e.state.modeGen++,e.curOp&&cn(e)}function Er(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Nr(e,t,i,n){function r(e){return i?i[e]:null}function o(e,i,r){!function(e,t,i,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Et(e),Nt(e,i);var r=n?n(e):1;r!=e.height&&Ye(e,r)}(e,i,r,n),ai(e,"change",e,t)}function s(e,t){for(var i=[],o=e;o<t;++o)i.push(new Kt(c[o],r(o),n));return i}var a=t.from,l=t.to,c=t.text,h=Ke(e,a.line),u=Ke(e,l.line),d=Y(c),f=r(c.length-1),p=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(Er(e,t)){var m=s(0,c.length-1);o(u,u.text,f),p&&e.remove(a.line,p),m.length&&e.insert(a.line,m)}else if(h==u)if(1==c.length)o(h,h.text.slice(0,a.ch)+d+h.text.slice(l.ch),f);else{var g=s(1,c.length-1);g.push(new Kt(d+h.text.slice(l.ch),f,n)),o(h,h.text.slice(0,a.ch)+c[0],r(0)),e.insert(a.line+1,g)}else if(1==c.length)o(h,h.text.slice(0,a.ch)+c[0]+u.text.slice(l.ch),r(0)),e.remove(a.line+1,p);else{o(h,h.text.slice(0,a.ch)+c[0],r(0)),o(u,d+u.text.slice(l.ch),f);var v=s(1,c.length-1);p>1&&e.remove(a.line+1,p-1),e.insert(a.line+1,v)}ai(e,"change",e,t)}function Tr(e,t,i){!function e(n,r,o){if(n.linked)for(var s=0;s<n.linked.length;++s){var a=n.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;i&&!l||(t(a.doc,l),e(a.doc,n,l))}}}(e,null,!0)}function Or(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,sn(e),Lr(e),Mr(e),e.options.lineWrapping||Ut(e),e.options.mode=t.modeOption,cn(e)}function Mr(e){("rtl"==e.doc.direction?I:L)(e.display.lineDiv,"CodeMirror-rtl")}function Ir(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Ar(e,t){var i={from:nt(t.from),to:Cr(t),text:qe(e,t.from,t.to)};return Br(e,i,t.from.line,t.to.line+1),Tr(e,function(e){return Br(e,i,t.from.line,t.to.line+1)},!0),i}function Pr(e){for(;e.length;){if(!Y(e).ranges)break;e.pop()}}function Rr(e,t,i,n){var r=e.history;r.undone.length=0;var o,s,a=+new Date;if((r.lastOp==n||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&r.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Pr(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}(r,r.lastOp==n)))s=Y(o.changes),0==tt(t.from,t.to)&&0==tt(t.from,s.to)?s.to=Cr(t):o.changes.push(Ar(e,t));else{var l=Y(r.done);for(l&&l.ranges||Vr(e.sel,r.done),o={changes:[Ar(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(i),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=a,r.lastOp=r.lastSelOp=n,r.lastOrigin=r.lastSelOrigin=t.origin,s||me(e,"historyAdded")}function Fr(e,t,i,n){var r=e.history,o=n&&n.origin;i==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||function(e,t,i,n){var r=t.charAt(0);return"*"==r||"+"==r&&i.ranges.length==n.ranges.length&&i.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,Y(r.done),t))?r.done[r.done.length-1]=t:Vr(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=i,n&&!1!==n.clearRedo&&Pr(r.undone)}function Vr(e,t){var i=Y(t);i&&i.ranges&&i.equals(e)||t.push(e)}function Br(e,t,i,n){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,i),Math.min(e.first+e.size,n),function(i){i.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=i.markedSpans),++o})}function Wr(e){if(!e)return null;for(var t,i=0;i<e.length;++i)e[i].marker.explicitlyCleared?t||(t=e.slice(0,i)):t&&t.push(e[i]);return t?t.length?t:null:e}function $r(e,t){var i=function(e,t){var i=t["spans_"+e.id];if(!i)return null;for(var n=[],r=0;r<t.text.length;++r)n.push(Wr(i[r]));return n}(e,t),n=Lt(e,t);if(!i)return n;if(!n)return i;for(var r=0;r<i.length;++r){var o=i[r],s=n[r];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(i[r]=s)}return i}function zr(e,t,i){for(var n=[],r=0;r<e.length;++r){var o=e[r];if(o.ranges)n.push(i?br.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];n.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],h=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var u in c)(h=u.match(/^spans_(\d+)$/))&&W(t,Number(h[1]))>-1&&(Y(a)[u]=c[u],delete c[u])}}}return n}function Hr(e,t,i,n){if(n){var r=e.anchor;if(i){var o=tt(t,r)<0;o!=tt(i,r)<0?(r=t,t=i):o!=tt(t,i)<0&&(t=i)}return new _r(r,t)}return new _r(i||t,t)}function jr(e,t,i,n,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),Yr(e,new br([Hr(e.sel.primary(),t,i,r)],0),n)}function Ur(e,t,i){for(var n=[],r=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=Hr(e.sel.ranges[o],t[o],null,r);Yr(e,yr(e.cm,n,e.sel.primIndex),i)}function Kr(e,t,i,n){var r=e.sel.ranges.slice(0);r[t]=i,Yr(e,yr(e.cm,r,e.sel.primIndex),n)}function qr(e,t,i,n){Yr(e,wr(t,i),n)}function Gr(e,t,i){var n=e.history.done,r=Y(n);r&&r.ranges?(n[n.length-1]=t,Xr(e,t,i)):Yr(e,t,i)}function Yr(e,t,i){Xr(e,t,i),Fr(e,e.sel,e.cm?e.cm.curOp.id:NaN,i)}function Xr(e,t,i){(be(e,"beforeSelectionChange")||e.cm&&be(e.cm,"beforeSelectionChange"))&&(t=function(e,t,i){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var i=0;i<t.length;i++)this.ranges[i]=new _r(at(e,t[i].anchor),at(e,t[i].head))},origin:i&&i.origin};return me(e,"beforeSelectionChange",e,n),e.cm&&me(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?yr(e.cm,n.ranges,n.ranges.length-1):t}(e,t,i)),Zr(e,Jr(e,t,i&&i.bias||(tt(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),i&&!1===i.scroll||!e.cm||Nn(e.cm)}function Zr(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ve(e.cm)),ai(e,"cursorActivity",e))}function Qr(e){Zr(e,Jr(e,e.sel,null,!1))}function Jr(e,t,i,n){for(var r,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=to(e,s.anchor,a&&a.anchor,i,n),c=to(e,s.head,a&&a.head,i,n);(r||l!=s.anchor||c!=s.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new _r(l,c))}return r?yr(e.cm,r,t.primIndex):t}function eo(e,t,i,n,r){var o=Ke(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,h="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==a.from||(c?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(h?a.to>=t.ch:a.to>t.ch))){if(r&&(me(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(i){var u=l.find(n<0?1:-1),d=void 0;if((n<0?h:c)&&(u=io(e,u,-n,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(d=tt(u,i))&&(n<0?d<0:d>0))return eo(e,u,t,n,r)}var f=l.find(n<0?-1:1);return(n<0?c:h)&&(f=io(e,f,n,f.line==t.line?o:null)),f?eo(e,f,t,n,r):null}}return t}function to(e,t,i,n,r){var o=n||1,s=eo(e,t,i,o,r)||!r&&eo(e,t,i,o,!0)||eo(e,t,i,-o,r)||!r&&eo(e,t,i,-o,!0);return s||(e.cantEdit=!0,et(e.first,0))}function io(e,t,i,n){return i<0&&0==t.ch?t.line>e.first?at(e,et(t.line-1)):null:i>0&&t.ch==(n||Ke(e,t.line)).text.length?t.line<e.first+e.size-1?et(t.line+1,0):null:new et(t.line,t.ch+i)}function no(e){e.setSelection(et(e.firstLine(),0),et(e.lastLine()),H)}function ro(e,t,i){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return i&&(n.update=function(t,i,r,o){t&&(n.from=at(e,t)),i&&(n.to=at(e,i)),r&&(n.text=r),void 0!==o&&(n.origin=o)}),me(e,"beforeChange",e,n),e.cm&&me(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function oo(e,t,i){if(e.cm){if(!e.cm.curOp)return Zn(e.cm,oo)(e,t,i);if(e.cm.state.suppressEdits)return}if(!(be(e,"beforeChange")||e.cm&&be(e.cm,"beforeChange"))||(t=ro(e,t,!0))){var n=wt&&!i&&function(e,t,i){var n=null;if(e.iter(t.line,i.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var i=e.markedSpans[t].marker;!i.readOnly||n&&-1!=W(n,i)||(n||(n=[])).push(i)}}),!n)return null;for(var r=[{from:t,to:i}],o=0;o<n.length;++o)for(var s=n[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(tt(c.to,a.from)<0||tt(c.from,a.to)>0)){var h=[l,1],u=tt(c.from,a.from),d=tt(c.to,a.to);(u<0||!s.inclusiveLeft&&!u)&&h.push({from:c.from,to:a.from}),(d>0||!s.inclusiveRight&&!d)&&h.push({from:a.to,to:c.to}),r.splice.apply(r,h),l+=h.length-3}}return r}(e,t.from,t.to);if(n)for(var r=n.length-1;r>=0;--r)so(e,{from:n[r].from,to:n[r].to,text:r?[""]:t.text,origin:t.origin});else so(e,t)}}function so(e,t){if(1!=t.text.length||""!=t.text[0]||0!=tt(t.from,t.to)){var i=xr(e,t);Rr(e,t,i,e.cm?e.cm.curOp.id:NaN),co(e,t,i,Lt(e,t));var n=[];Tr(e,function(e,i){i||-1!=W(n,e.history)||(po(e.history,t),n.push(e.history)),co(e,t,null,Lt(e,t))})}}function ao(e,t,i){var n=e.cm&&e.cm.state.suppressEdits;if(!n||i){for(var r,o=e.history,s=e.sel,a="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<a.length&&(r=a[c],i?!r.ranges||r.equals(e.sel):r.ranges);c++);if(c!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(r=a.pop()).ranges){if(n)return void a.push(r);break}if(Vr(r,l),i&&!r.equals(e.sel))return void Yr(e,r,{clearRedo:!1});s=r}var h=[];Vr(s,l),l.push({changes:h,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var u=be(e,"beforeChange")||e.cm&&be(e.cm,"beforeChange"),d=function(i){var n=r.changes[i];if(n.origin=t,u&&!ro(e,n,!1))return a.length=0,{};h.push(Ar(e,n));var o=i?xr(e,n):Y(a);co(e,n,o,$r(e,n)),!i&&e.cm&&e.cm.scrollIntoView({from:n.from,to:Cr(n)});var s=[];Tr(e,function(e,t){t||-1!=W(s,e.history)||(po(e.history,n),s.push(e.history)),co(e,n,null,$r(e,n))})},f=r.changes.length-1;f>=0;--f){var p=d(f);if(p)return p.v}}}}function lo(e,t){if(0!=t&&(e.first+=t,e.sel=new br(X(e.sel.ranges,function(e){return new _r(et(e.anchor.line+t,e.anchor.ch),et(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){cn(e.cm,e.first,e.first-t,t);for(var i=e.cm.display,n=i.viewFrom;n<i.viewTo;n++)hn(e.cm,n,"gutter")}}function co(e,t,i,n){if(e.cm&&!e.cm.curOp)return Zn(e.cm,co)(e,t,i,n);if(t.to.line<e.first)lo(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);lo(e,r),t={from:et(e.first,0),to:et(t.to.line+r,t.to.ch),text:[Y(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:et(o,Ke(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=qe(e,t.from,t.to),i||(i=xr(e,t)),e.cm?function(e,t,i){var n=e.doc,r=e.display,o=t.from,s=t.to,a=!1,l=o.line;e.options.lineWrapping||(l=Xe(Vt(Ke(n,o.line))),n.iter(l,s.line+1,function(e){if(e==r.maxLine)return a=!0,!0}));n.sel.contains(t.from,t.to)>-1&&ve(e);Nr(n,t,i,on(e)),e.options.lineWrapping||(n.iter(l,o.line+t.text.length,function(e){var t=jt(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0));(function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var i=e.first,n=t-1;n>i;n--){var r=Ke(e,n).stateAfter;if(r&&(!(r instanceof ct)||n+r.lookAhead<t)){i=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,i)}})(n,o.line),er(e,400);var c=t.text.length-(s.line-o.line)-1;t.full?cn(e):o.line!=s.line||1!=t.text.length||Er(e.doc,t)?cn(e,o.line,s.line+1,c):hn(e,o.line,"text");var h=be(e,"changes"),u=be(e,"change");if(u||h){var d={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};u&&ai(e,"change",e,d),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}(e.cm,t,n):Nr(e,t,n),Xr(e,i,H),e.cantEdit&&to(e,et(e.firstLine(),0))&&(e.cantEdit=!1)}}function ho(e,t,i,n,r){var o;n||(n=i),tt(n,i)<0&&(i=(o=[n,i])[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),oo(e,{from:i,to:n,text:t,origin:r})}function uo(e,t,i,n){i<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function fo(e,t,i,n){for(var r=0;r<e.length;++r){var o=e[r],s=!0;if(o.ranges){o.copied||((o=e[r]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)uo(o.ranges[a].anchor,t,i,n),uo(o.ranges[a].head,t,i,n)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(i<c.from.line)c.from=et(c.from.line+n,c.from.ch),c.to=et(c.to.line+n,c.to.ch);else if(t<=c.to.line){s=!1;break}}s||(e.splice(0,r+1),r=0)}}}function po(e,t){var i=t.from.line,n=t.to.line,r=t.text.length-(n-i)-1;fo(e.done,i,n,r),fo(e.undone,i,n,r)}function mo(e,t,i,n){var r=t,o=t;return"number"==typeof t?o=Ke(e,st(e,t)):r=Xe(t),null==r?null:(n(o,r)&&e.cm&&hn(e.cm,r,i),o)}function go(e){this.lines=e,this.parent=null;for(var t=0,i=0;i<e.length;++i)e[i].parent=this,t+=e[i].height;this.height=t}function vo(e){this.children=e;for(var t=0,i=0,n=0;n<e.length;++n){var r=e[n];t+=r.chunkSize(),i+=r.height,r.parent=this}this.size=t,this.height=i,this.parent=null}_r.prototype.from=function(){return ot(this.anchor,this.head)},_r.prototype.to=function(){return rt(this.anchor,this.head)},_r.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},go.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var i=e,n=e+t;i<n;++i){var r=this.lines[i];this.height-=r.height,qt(r),ai(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,i){this.height+=i,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,i){for(var n=e+t;e<n;++e)if(i(this.lines[e]))return!0}},vo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var i=0;i<this.children.length;++i){var n=this.children[i],r=n.chunkSize();if(e<r){var o=Math.min(t,r-e),s=n.height;if(n.removeInner(e,o),this.height-=s-n.height,r==o&&(this.children.splice(i--,1),n.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof go))){var a=[];this.collapse(a),this.children=[new go(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,i){this.size+=t.length,this.height+=i;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,i),r.lines&&r.lines.length>50){for(var s=r.lines.length%25+25,a=s;a<r.lines.length;){var l=new go(r.lines.slice(a,a+=25));r.height-=l.height,this.children.splice(++n,0,l),l.parent=this}r.lines=r.lines.slice(0,s),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new vo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var i=W(e.parent.children,e);e.parent.children.splice(i+1,0,t)}else{var n=new vo(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,i){for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var s=Math.min(t,o-e);if(r.iterN(e,s,i))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var bo=function(e,t,i){if(i)for(var n in i)i.hasOwnProperty(n)&&(this[n]=i[n]);this.doc=e,this.node=t};function _o(e,t,i){Ht(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&En(e,i)}bo.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,i=this.line,n=Xe(i);if(null!=n&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(i.widgets=null);var o=yi(this);Ye(i,Math.max(0,i.height-o)),e&&(Xn(e,function(){_o(e,i,-o),hn(e,n,"widget")}),ai(e,"lineWidgetCleared",e,this,n))}},bo.prototype.changed=function(){var e=this,t=this.height,i=this.doc.cm,n=this.line;this.height=null;var r=yi(this)-t;r&&($t(this.doc,n)||Ye(n,n.height+r),i&&Xn(i,function(){i.curOp.forceUpdate=!0,_o(i,n,r),ai(i,"lineWidgetChanged",i,e,Xe(n))}))},_e(bo);var yo=0,wo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++yo};function Co(e,t,i,n,r){if(n&&n.shared)return function(e,t,i,n,r){(n=F(n)).shared=!1;var o=[Co(e,t,i,n,r)],s=o[0],a=n.widgetNode;return Tr(e,function(e){a&&(n.widgetNode=a.cloneNode(!0)),o.push(Co(e,at(e,t),at(e,i),n,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=Y(o)}),new So(o,s)}(e,t,i,n,r);if(e.cm&&!e.cm.curOp)return Zn(e.cm,Co)(e,t,i,n,r);var o=new wo(e,r),s=tt(t,i);if(n&&F(n,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=T("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Ft(e,t.line,t,i,o)||t.line!=i.line&&Ft(e,i.line,t,i,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ct=!0}o.addToHistory&&Rr(e,{from:t,to:i,origin:"markText"},e.sel,NaN);var a,l=t.line,c=e.cm;if(e.iter(l,i.line+1,function(e){c&&o.collapsed&&!c.options.lineWrapping&&Vt(e)==c.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&Ye(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new St(o,l==t.line?t.ch:null,l==i.line?i.ch:null)),++l}),o.collapsed&&e.iter(t.line,i.line+1,function(t){$t(e,t)&&Ye(t,0)}),o.clearOnEnter&&de(o,"beforeCursorEnter",function(){return o.clear()}),o.readOnly&&(wt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++yo,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)cn(c,t.line,i.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var h=t.line;h<=i.line;h++)hn(c,h,"text");o.atomic&&Qr(c.doc),ai(c,"markerAdded",c,o)}return o}wo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&jn(e),be(this,"clear")){var i=this.find();i&&ai(this,"clear",i.from,i.to)}for(var n=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=xt(s.markedSpans,this);e&&!this.collapsed?hn(e,Xe(s),"text"):e&&(null!=a.to&&(r=Xe(s)),null!=a.from&&(n=Xe(s))),s.markedSpans=kt(s.markedSpans,a),null==a.from&&this.collapsed&&!$t(this.doc,s)&&e&&Ye(s,en(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Vt(this.lines[l]),h=jt(c);h>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=h,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&cn(e,n,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Qr(e.doc)),e&&ai(e,"markerCleared",e,this,n,r),t&&Un(e),this.parent&&this.parent.clear()}},wo.prototype.find=function(e,t){var i,n;null==e&&"bookmark"==this.type&&(e=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],s=xt(o.markedSpans,this);if(null!=s.from&&(i=et(t?o:Xe(o),s.from),-1==e))return i;if(null!=s.to&&(n=et(t?o:Xe(o),s.to),1==e))return n}return i&&{from:i,to:n}},wo.prototype.changed=function(){var e=this,t=this.find(-1,!0),i=this,n=this.doc.cm;t&&n&&Xn(n,function(){var r=t.line,o=Xe(t.line),s=Ti(n,o);if(s&&(Fi(s),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!$t(i.doc,r)&&null!=i.height){var a=i.height;i.height=null;var l=yi(i)-a;l&&Ye(r,r.height+l)}ai(n,"markerChanged",n,e)})},wo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=W(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},wo.prototype.detachLine=function(e){if(this.lines.splice(W(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},_e(wo);var So=function(e,t){this.markers=e,this.primary=t;for(var i=0;i<e.length;++i)e[i].parent=this};function xo(e){return e.findMarks(et(e.first,0),e.clipPos(et(e.lastLine())),function(e){return e.parent})}function ko(e){for(var t=function(t){var i=e[t],n=[i.primary.doc];Tr(i.primary.doc,function(e){return n.push(e)});for(var r=0;r<i.markers.length;r++){var o=i.markers[r];-1==W(n,o.doc)&&(o.parent=null,i.markers.splice(r--,1))}},i=0;i<e.length;i++)t(i)}So.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ai(this,"clear")}},So.prototype.find=function(e,t){return this.primary.find(e,t)},_e(So);var Lo=0,Do=function(e,t,i,n,r){if(!(this instanceof Do))return new Do(e,t,i,n,r);null==i&&(i=0),vo.call(this,[new go([new Kt("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=i;var o=et(i,0);this.sel=wr(o),this.history=new Ir(null),this.id=++Lo,this.modeOption=t,this.lineSep=n,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Nr(this,{from:o,to:o,text:e}),Yr(this,wr(o),H)};Do.prototype=Q(vo.prototype,{constructor:Do,iter:function(e,t,i){i?this.iterN(e-this.first,t-e,i):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var i=0,n=0;n<t.length;++n)i+=t[n].height;this.insertInner(e-this.first,t,i)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ge(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Jn(function(e){var t=et(this.first,0),i=this.first+this.size-1;oo(this,{from:t,to:et(i,Ke(this,i).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Tn(this.cm,0,0),Yr(this,wr(t),H)}),replaceRange:function(e,t,i,n){ho(this,e,t=at(this,t),i=i?at(this,i):t,n)},getRange:function(e,t,i){var n=qe(this,at(this,e),at(this,t));return!1===i?n:n.join(i||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Qe(this,e))return Ke(this,e)},getLineNumber:function(e){return Xe(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ke(this,e)),Vt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return at(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Jn(function(e,t,i){qr(this,at(this,"number"==typeof e?et(e,t||0):e),null,i)}),setSelection:Jn(function(e,t,i){qr(this,at(this,e),at(this,t||e),i)}),extendSelection:Jn(function(e,t,i){jr(this,at(this,e),t&&at(this,t),i)}),extendSelections:Jn(function(e,t){Ur(this,lt(this,e),t)}),extendSelectionsBy:Jn(function(e,t){Ur(this,lt(this,X(this.sel.ranges,e)),t)}),setSelections:Jn(function(e,t,i){if(e.length){for(var n=[],r=0;r<e.length;r++)n[r]=new _r(at(this,e[r].anchor),at(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Yr(this,yr(this.cm,n,t),i)}}),addSelection:Jn(function(e,t,i){var n=this.sel.ranges.slice(0);n.push(new _r(at(this,e),at(this,t||e))),Yr(this,yr(this.cm,n,n.length-1),i)}),getSelection:function(e){for(var t,i=this.sel.ranges,n=0;n<i.length;n++){var r=qe(this,i[n].from(),i[n].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],i=this.sel.ranges,n=0;n<i.length;n++){var r=qe(this,i[n].from(),i[n].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[n]=r}return t},replaceSelection:function(e,t,i){for(var n=[],r=0;r<this.sel.ranges.length;r++)n[r]=e;this.replaceSelections(n,t,i||"+input")},replaceSelections:Jn(function(e,t,i){for(var n=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];n[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:i}}for(var a=t&&"end"!=t&&function(e,t,i){for(var n=[],r=et(e.first,0),o=r,s=0;s<t.length;s++){var a=t[s],l=kr(a.from,r,o),c=kr(Cr(a),r,o);if(r=a.to,o=c,"around"==i){var h=e.sel.ranges[s],u=tt(h.head,h.anchor)<0;n[s]=new _r(u?c:l,u?l:c)}else n[s]=new _r(l,l)}return new br(n,e.sel.primIndex)}(this,n,t),l=n.length-1;l>=0;l--)oo(this,n[l]);a?Gr(this,a):this.cm&&Nn(this.cm)}),undo:Jn(function(){ao(this,"undo")}),redo:Jn(function(){ao(this,"redo")}),undoSelection:Jn(function(){ao(this,"undo",!0)}),redoSelection:Jn(function(){ao(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,i=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++i;return{undo:t,redo:i}},clearHistory:function(){var e=this;this.history=new Ir(this.history.maxGeneration),Tr(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:zr(this.history.done),undone:zr(this.history.undone)}},setHistory:function(e){var t=this.history=new Ir(this.history.maxGeneration);t.done=zr(e.done.slice(0),null,!0),t.undone=zr(e.undone.slice(0),null,!0)},setGutterMarker:Jn(function(e,t,i){return mo(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=i,!i&&ie(n)&&(e.gutterMarkers=null),!0})}),clearGutter:Jn(function(e){var t=this;this.iter(function(i){i.gutterMarkers&&i.gutterMarkers[e]&&mo(t,i,"gutter",function(){return i.gutterMarkers[e]=null,ie(i.gutterMarkers)&&(i.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!Qe(this,e))return null;if(t=e,!(e=Ke(this,e)))return null}else if(null==(t=Xe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Jn(function(e,t,i){return mo(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(x(i).test(e[n]))return!1;e[n]+=" "+i}else e[n]=i;return!0})}),removeLineClass:Jn(function(e,t,i){return mo(this,e,"gutter"==t?"gutter":"class",function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[n];if(!r)return!1;if(null==i)e[n]=null;else{var o=r.match(x(i));if(!o)return!1;var s=o.index+o[0].length;e[n]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:Jn(function(e,t,i){return function(e,t,i,n){var r=new bo(e,i,n),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),mo(e,t,"widget",function(t){var i=t.widgets||(t.widgets=[]);if(null==r.insertAt?i.push(r):i.splice(Math.min(i.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!$t(e,t)){var n=Ht(t)<e.scrollTop;Ye(t,t.height+yi(r)),n&&En(o,r.height),o.curOp.forceUpdate=!0}return!0}),o&&ai(o,"lineWidgetAdded",o,r,"number"==typeof t?t:Xe(t)),r}(this,e,t,i)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,i){return Co(this,at(this,e),at(this,t),i,i&&i.type||"range")},setBookmark:function(e,t){var i={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Co(this,e=at(this,e),e,i,"bookmark")},findMarksAt:function(e){var t=[],i=Ke(this,(e=at(this,e)).line).markedSpans;if(i)for(var n=0;n<i.length;++n){var r=i[n];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,i){e=at(this,e),t=at(this,t);var n=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||i&&!i(l.marker)||n.push(l.marker.parent||l.marker)}++r}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var i=t.markedSpans;if(i)for(var n=0;n<i.length;++n)null!=i[n].from&&e.push(i[n].marker)}),e},posFromIndex:function(e){var t,i=this.first,n=this.lineSeparator().length;return this.iter(function(r){var o=r.text.length+n;if(o>e)return t=e,!0;e-=o,++i}),at(this,et(i,t))},indexFromPos:function(e){var t=(e=at(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var i=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+i}),t},copy:function(e){var t=new Do(Ge(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,i=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<i&&(i=e.to);var n=new Do(Ge(this,t,i),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=n.find(),o=e.clipPos(r.from),s=e.clipPos(r.to);if(tt(o,s)){var a=Co(e,o,s,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}(n,xo(this)),n},unlinkDoc:function(e){if(e instanceof Ss&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),ko(xo(this));break}}if(e.history==this.history){var i=[e.id];Tr(e,function(e){return i.push(e.id)},!0),e.history=new Ir(null),e.history.done=zr(this.history.done,i),e.history.undone=zr(this.history.undone,i)}},iterLinkedDocs:function(e){Tr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Me(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Jn(function(e){var t;("rtl"!=e&&(e="ltr"),e!=this.direction)&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&Xn(t=this.cm,function(){Mr(t),cn(t)}))})}),Do.prototype.eachLine=Do.prototype.iter;var Eo=0;function No(e){var t=this;if(To(t),!ge(t,e)&&!wi(t.display,e)){ye(e),s&&(Eo=+new Date);var i=an(t,e,!0),n=e.dataTransfer.files;if(i&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var r=n.length,o=Array(r),a=0,l=function(){++a==r&&Zn(t,function(){var e={from:i=at(t.doc,i),to:i,text:t.doc.splitLines(o.filter(function(e){return null!=e}).join(t.doc.lineSeparator())),origin:"paste"};oo(t.doc,e),Gr(t.doc,wr(at(t.doc,i),at(t.doc,Cr(e))))})()},c=function(e,i){if(t.options.allowDropFileTypes&&-1==W(t.options.allowDropFileTypes,e.type))l();else{var n=new FileReader;n.onerror=function(){return l()},n.onload=function(){var e=n.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)?l():(o[i]=e,l())},n.readAsText(e)}},h=0;h<n.length;h++)c(n[h],h);else{if(t.state.draggingText&&t.doc.sel.contains(i)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var u=e.dataTransfer.getData("Text");if(u){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),Xr(t.doc,wr(i,i)),d)for(var f=0;f<d.length;++f)ho(t.doc,"",d[f].anchor,d[f].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function To(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Oo(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),i=[],n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&i.push(r)}i.length&&i[0].operation(function(){for(var t=0;t<i.length;t++)e(i[t])})}}var Mo=!1;function Io(){var e;Mo||(de(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Oo(Ao)},100))}),de(window,"blur",function(){return Oo(Sn)}),Mo=!0)}function Ao(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Po={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ro=0;Ro<10;Ro++)Po[Ro+48]=Po[Ro+96]=String(Ro);for(var Fo=65;Fo<=90;Fo++)Po[Fo]=String.fromCharCode(Fo);for(var Vo=1;Vo<=12;Vo++)Po[Vo+111]=Po[Vo+63235]="F"+Vo;var Bo={};function Wo(e){var t,i,n,r,o=e.split(/-(?!$)/);e=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return t&&(e="Alt-"+e),i&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function $o(e){var t={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==n){delete e[i];continue}for(var r=X(i.split(" "),Wo),o=0;o<r.length;o++){var s=void 0,a=void 0;o==r.length-1?(a=r.join(" "),s=n):(a=r.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[i]}for(var c in t)e[c]=t[c];return e}function zo(e,t,i,n){var r=(t=Ko(t)).call?t.call(e,n):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&i(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return zo(e,t.fallthrough,i,n);for(var o=0;o<t.fallthrough.length;o++){var s=zo(e,t.fallthrough[o],i,n);if(s)return s}}}function Ho(e){var t="string"==typeof e?e:Po[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function jo(e,t,i){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(C?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(C?t.ctrlKey:t.metaKey)&&"Mod"!=n&&(e="Cmd-"+e),!i&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Uo(e,t){if(u&&34==e.keyCode&&e.char)return!1;var i=Po[e.keyCode];return null!=i&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(i=e.code),jo(i,e,t))}function Ko(e){return"string"==typeof e?Bo[e]:e}function qo(e,t){for(var i=e.doc.sel.ranges,n=[],r=0;r<i.length;r++){for(var o=t(i[r]);n.length&&tt(o.from,Y(n).to)<=0;){var s=n.pop();if(tt(s.from,o.from)<0){o.from=s.from;break}}n.push(o)}Xn(e,function(){for(var t=n.length-1;t>=0;t--)ho(e.doc,"",n[t].from,n[t].to,"+delete");Nn(e)})}function Go(e,t,i){var n=oe(e.text,t+i,i);return n<0||n>e.text.length?null:n}function Yo(e,t,i){var n=Go(e,t.ch,i);return null==n?null:new et(t.line,n,i<0?"after":"before")}function Xo(e,t,i,n,r){if(e){"rtl"==t.doc.direction&&(r=-r);var o=he(i,t.doc.direction);if(o){var s,a=r<0?Y(o):o[0],l=r<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==t.doc.direction){var c=Oi(t,i);s=r<0?i.text.length-1:0;var h=Mi(t,c,s).top;s=se(function(e){return Mi(t,c,e).top==h},r<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=Go(i,s,1))}else s=r<0?a.to:a.from;return new et(n,s,l)}}return new et(n,r<0?i.text.length:0,r<0?"before":"after")}Bo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Bo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Bo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Bo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Bo.default=b?Bo.macDefault:Bo.pcDefault;var Zo={selectAll:no,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),H)},killLine:function(e){return qo(e,function(t){if(t.empty()){var i=Ke(e.doc,t.head.line).text.length;return t.head.ch==i&&t.head.line<e.lastLine()?{from:t.head,to:et(t.head.line+1,0)}:{from:t.head,to:et(t.head.line,i)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return qo(e,function(t){return{from:et(t.from().line,0),to:at(e.doc,et(t.to().line+1,0))}})},delLineLeft:function(e){return qo(e,function(e){return{from:et(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return qo(e,function(t){var i=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:i},"div"),to:t.from()}})},delWrappedLineRight:function(e){return qo(e,function(t){var i=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(et(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(et(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Qo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Jo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return function(e,t){var i=Ke(e.doc,t),n=function(e){for(var t;t=Pt(e);)e=t.find(1,!0).line;return e}(i);n!=i&&(t=Xe(n));return Xo(!0,e,i,t,-1)}(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:i},"div")},U)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:i},"div")},U)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var i=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:i},"div");return n.ch<e.getLine(n.line).search(/\S/)?Jo(e,t.head):n},U)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],i=e.listSelections(),n=e.options.tabSize,r=0;r<i.length;r++){var o=i[r].from(),s=V(e.getLine(o.line),o.ch,n);t.push(G(n-s%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Xn(e,function(){for(var t=e.listSelections(),i=[],n=0;n<t.length;n++)if(t[n].empty()){var r=t[n].head,o=Ke(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new et(r.line,r.ch-1)),r.ch>0)r=new et(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),et(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var s=Ke(e.doc,r.line-1).text;s&&(r=new et(r.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),et(r.line-1,s.length-1),r,"+transpose"))}i.push(new _r(r,r))}e.setSelections(i)})},newlineAndIndent:function(e){return Xn(e,function(){for(var t=e.listSelections(),i=t.length-1;i>=0;i--)e.replaceRange(e.doc.lineSeparator(),t[i].anchor,t[i].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Nn(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Qo(e,t){var i=Ke(e.doc,t),n=Vt(i);return n!=i&&(t=Xe(n)),Xo(!0,e,n,t,1)}function Jo(e,t){var i=Qo(e,t.line),n=Ke(e.doc,i.line),r=he(n,e.doc.direction);if(!r||0==r[0].level){var o=Math.max(i.ch,n.text.search(/\S/)),s=t.line==i.line&&t.ch<=o&&t.ch;return et(i.line,s?0:o,i.sticky)}return i}function es(e,t,i){if("string"==typeof t&&!(t=Zo[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),i&&(e.display.shift=!1),r=t(e)!=z}finally{e.display.shift=n,e.state.suppressEdits=!1}return r}var ts=new B;function is(e,t,i,n){var r=e.state.keySeq;if(r){if(Ho(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ts.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),ns(e,r+" "+t,i,n))return!0}return ns(e,t,i,n)}function ns(e,t,i,n){var r=function(e,t,i){for(var n=0;n<e.state.keyMaps.length;n++){var r=zo(t,e.state.keyMaps[n],i,e);if(r)return r}return e.options.extraKeys&&zo(t,e.options.extraKeys,i,e)||zo(t,e.options.keyMap,i,e)}(e,t,n);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&ai(e,"keyHandled",e,t,i),"handled"!=r&&"multi"!=r||(ye(i),_n(e)),!!r}function rs(e,t){var i=Uo(t,!0);return!!i&&(t.shiftKey&&!e.state.keySeq?is(e,"Shift-"+i,t,function(t){return es(e,t,!0)})||is(e,i,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return es(e,t)}):is(e,i,t,function(t){return es(e,t)}))}var os=null;function ss(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=M(),ge(t,e)))){s&&a<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=rs(t,e);u&&(os=r?n:null,!r&&88==n&&!Ae&&(b?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),i&&!b&&!r&&46==n&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function i(e){18!=e.keyCode&&e.altKey||(L(t,"CodeMirror-crosshair"),pe(document,"keyup",i),pe(document,"mouseover",i))}I(t,"CodeMirror-crosshair"),de(document,"keyup",i),de(document,"mouseover",i)}(t)}}function as(e){16==e.keyCode&&(this.doc.sel.shift=!1),ge(this,e)}function ls(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||wi(t.display,e)||ge(t,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var i=e.keyCode,n=e.charCode;if(u&&i==os)return os=null,void ye(e);if(!u||e.which&&!(e.which<10)||!rs(t,e)){var r=String.fromCharCode(null==n?i:n);"\b"!=r&&(function(e,t,i){return is(e,"'"+i+"'",t,function(t){return es(e,t,!0)})}(t,e,r)||t.display.input.onKeyPress(e))}}}var cs,hs,us=function(e,t,i){this.time=e,this.pos=t,this.button=i};function ds(e){var t=this,i=t.display;if(!(ge(t,e)||i.activeTouch&&i.input.supportsTouch()))if(i.input.ensurePolled(),i.shift=e.shiftKey,wi(i,e))l||(i.scroller.draggable=!1,setTimeout(function(){return i.scroller.draggable=!0},100));else if(!ms(t,e)){var n=an(t,e),r=ke(e),o=n?function(e,t){var i=+new Date;return hs&&hs.compare(i,e,t)?(cs=hs=null,"triple"):cs&&cs.compare(i,e,t)?(hs=new us(i,e,t),cs=null,"double"):(cs=new us(i,e,t),hs=null,"single")}(n,r):"single";window.focus(),1==r&&t.state.selectingText&&t.state.selectingText(e),n&&function(e,t,i,n,r){var o="Click";"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o);return is(e,jo(o=(1==t?"Left":2==t?"Middle":"Right")+o,r),r,function(t){if("string"==typeof t&&(t=Zo[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,i)!=z}finally{e.state.suppressEdits=!1}return n})}(t,r,n,o,e)||(1==r?n?function(e,t,i,n){s?setTimeout(R(yn,e),0):e.curOp.focus=M();var r,o=function(e,t,i){var n=e.getOption("configureMouse"),r=n?n(e,t,i):{};if(null==r.unit){var o=_?i.shiftKey&&i.metaKey:i.altKey;r.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||i.shiftKey);null==r.addNew&&(r.addNew=b?i.metaKey:i.ctrlKey);null==r.moveOnDrag&&(r.moveOnDrag=!(b?i.altKey:i.ctrlKey));return r}(e,i,n),c=e.doc.sel;e.options.dragDrop&&Ee&&!e.isReadOnly()&&"single"==i&&(r=c.contains(t))>-1&&(tt((r=c.ranges[r]).from(),t)<0||t.xRel>0)&&(tt(r.to(),t)>0||t.xRel<0)?function(e,t,i,n){var r=e.display,o=!1,c=Zn(e,function(t){l&&(r.scroller.draggable=!1),e.state.draggingText=!1,pe(r.wrapper.ownerDocument,"mouseup",c),pe(r.wrapper.ownerDocument,"mousemove",h),pe(r.scroller,"dragstart",u),pe(r.scroller,"drop",c),o||(ye(t),n.addNew||jr(e.doc,i,null,null,n.extend),l&&!d||s&&9==a?setTimeout(function(){r.wrapper.ownerDocument.body.focus({preventScroll:!0}),r.input.focus()},20):r.input.focus())}),h=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},u=function(){return o=!0};l&&(r.scroller.draggable=!0);e.state.draggingText=c,c.copy=!n.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop();de(r.wrapper.ownerDocument,"mouseup",c),de(r.wrapper.ownerDocument,"mousemove",h),de(r.scroller,"dragstart",u),de(r.scroller,"drop",c),wn(e),setTimeout(function(){return r.input.focus()},20)}(e,n,t,o):function(e,t,i,n){var r=e.display,o=e.doc;ye(t);var s,a,l=o.sel,c=l.ranges;n.addNew&&!n.extend?(a=o.sel.contains(i),s=a>-1?c[a]:new _r(i,i)):(s=o.sel.primary(),a=o.sel.primIndex);if("rectangle"==n.unit)n.addNew||(s=new _r(i,i)),i=an(e,t,!0,!0),a=-1;else{var h=fs(e,i,n.unit);s=n.extend?Hr(s,h.anchor,h.head,n.extend):h}n.addNew?-1==a?(a=c.length,Yr(o,yr(e,c.concat([s]),a),{scroll:!1,origin:"*mouse"})):c.length>1&&c[a].empty()&&"char"==n.unit&&!n.extend?(Yr(o,yr(e,c.slice(0,a).concat(c.slice(a+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Kr(o,a,s,j):(a=0,Yr(o,new br([s],0),j),l=o.sel);var u=i;function d(t){if(0!=tt(u,t))if(u=t,"rectangle"==n.unit){for(var r=[],c=e.options.tabSize,h=V(Ke(o,i.line).text,i.ch,c),d=V(Ke(o,t.line).text,t.ch,c),f=Math.min(h,d),p=Math.max(h,d),m=Math.min(i.line,t.line),g=Math.min(e.lastLine(),Math.max(i.line,t.line));m<=g;m++){var v=Ke(o,m).text,b=K(v,f,c);f==p?r.push(new _r(et(m,b),et(m,b))):v.length>b&&r.push(new _r(et(m,b),et(m,K(v,p,c))))}r.length||r.push(new _r(i,i)),Yr(o,yr(e,l.ranges.slice(0,a).concat(r),a),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var _,y=s,w=fs(e,t,n.unit),C=y.anchor;tt(w.anchor,C)>0?(_=w.head,C=ot(y.from(),w.anchor)):(_=w.anchor,C=rt(y.to(),w.head));var S=l.ranges.slice(0);S[a]=function(e,t){var i=t.anchor,n=t.head,r=Ke(e.doc,i.line);if(0==tt(i,n)&&i.sticky==n.sticky)return t;var o=he(r);if(!o)return t;var s=le(o,i.ch,i.sticky),a=o[s];if(a.from!=i.ch&&a.to!=i.ch)return t;var l,c=s+(a.from==i.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return t;if(n.line!=i.line)l=(n.line-i.line)*("ltr"==e.doc.direction?1:-1)>0;else{var h=le(o,n.ch,n.sticky),u=h-s||(n.ch-i.ch)*(1==a.level?-1:1);l=h==c-1||h==c?u<0:u>0}var d=o[c+(l?-1:0)],f=l==(1==d.level),p=f?d.from:d.to,m=f?"after":"before";return i.ch==p&&i.sticky==m?t:new _r(new et(i.line,p,m),n)}(e,new _r(at(o,C),_)),Yr(o,yr(e,S,a),j)}}var f=r.wrapper.getBoundingClientRect(),p=0;function m(t){e.state.selectingText=!1,p=1/0,t&&(ye(t),r.input.focus()),pe(r.wrapper.ownerDocument,"mousemove",g),pe(r.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null}var g=Zn(e,function(t){0!==t.buttons&&ke(t)?function t(i){var s=++p;var a=an(e,i,!0,"rectangle"==n.unit);if(!a)return;if(0!=tt(a,u)){e.curOp.focus=M(),d(a);var l=Ln(r,o);(a.line>=l.to||a.line<l.from)&&setTimeout(Zn(e,function(){p==s&&t(i)}),150)}else{var c=i.clientY<f.top?-20:i.clientY>f.bottom?20:0;c&&setTimeout(Zn(e,function(){p==s&&(r.scroller.scrollTop+=c,t(i))}),50)}}(t):m(t)}),v=Zn(e,m);e.state.selectingText=v,de(r.wrapper.ownerDocument,"mousemove",g),de(r.wrapper.ownerDocument,"mouseup",v)}(e,n,t,o)}(t,n,o,e):xe(e)==i.scroller&&ye(e):2==r?(n&&jr(t.doc,n),setTimeout(function(){return i.input.focus()},20)):3==r&&(S?t.display.input.onContextMenu(e):wn(t)))}}function fs(e,t,i){if("char"==i)return new _r(t,t);if("word"==i)return e.findWordAt(t);if("line"==i)return new _r(et(t.line,0),at(e.doc,et(t.line+1,0)));var n=i(e,t);return new _r(n.from,n.to)}function ps(e,t,i,n){var r,o;if(t.touches)r=t.touches[0].clientX,o=t.touches[0].clientY;else try{r=t.clientX,o=t.clientY}catch(e){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&ye(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!be(e,i))return Ce(t);o-=a.top-s.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r)return me(e,i,e,Ze(e.doc,o),e.display.gutterSpecs[l].className,t),Ce(t)}}function ms(e,t){return ps(e,t,"gutterClick",!0)}function gs(e,t){wi(e.display,t)||function(e,t){if(!be(e,"gutterContextMenu"))return!1;return ps(e,t,"gutterContextMenu",!1)}(e,t)||ge(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function vs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Bi(e)}us.prototype.compare=function(e,t,i){return this.time+400>e&&0==tt(t,this.pos)&&i==this.button};var bs={toString:function(){return"CodeMirror.Init"}},_s={},ys={};function ws(e,t,i){if(!t!=!(i&&i!=bs)){var n=e.display.dragFunctions,r=t?de:pe;r(e.display.scroller,"dragstart",n.start),r(e.display.scroller,"dragenter",n.enter),r(e.display.scroller,"dragover",n.over),r(e.display.scroller,"dragleave",n.leave),r(e.display.scroller,"drop",n.drop)}}function Cs(e){e.options.lineWrapping?(I(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(L(e.display.wrapper,"CodeMirror-wrap"),Ut(e)),sn(e),cn(e),Bi(e),setTimeout(function(){return Bn(e)},100)}function Ss(e,t){var n=this;if(!(this instanceof Ss))return new Ss(e,t);this.options=t=t?F(t):{},F(_s,t,!1);var r=t.value;"string"==typeof r?r=new Do(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new Ss.inputStyles[t.inputStyle](this),c=this.display=new function(e,t,n,r){var o=this;this.input=n,o.scrollbarFiller=N("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=N("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=T("div",null,"CodeMirror-code"),o.selectionDiv=N("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=N("div",null,"CodeMirror-cursors"),o.measure=N("div",null,"CodeMirror-measure"),o.lineMeasure=N("div",null,"CodeMirror-measure"),o.lineSpace=T("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=T("div",[o.lineSpace],"CodeMirror-lines");o.mover=N("div",[c],null,"position: relative"),o.sizer=N("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=N("div",null,null,"position: absolute; height: "+$+"px; width: 1px;"),o.gutters=N("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=N("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=N("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),s&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||i&&v||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=hr(r.gutters,r.lineNumbers),ur(o),n.init(o)}(e,r,o,t);for(var h in c.wrapper.CodeMirror=this,vs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),zn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new B,keySeq:null,specialChars:null},t.autofocus&&!v&&c.input.focus(),s&&a<11&&setTimeout(function(){return n.display.input.reset(!0)},20),function(e){var t=e.display;de(t.scroller,"mousedown",Zn(e,ds)),de(t.scroller,"dblclick",s&&a<11?Zn(e,function(t){if(!ge(e,t)){var i=an(e,t);if(i&&!ms(e,t)&&!wi(e.display,t)){ye(t);var n=e.findWordAt(i);jr(e.doc,n.anchor,n.head)}}}):function(t){return ge(e,t)||ye(t)});de(t.scroller,"contextmenu",function(t){return gs(e,t)}),de(t.input.getField(),"contextmenu",function(i){t.scroller.contains(i.target)||gs(e,i)});var i,n={end:0};function r(){t.activeTouch&&(i=setTimeout(function(){return t.activeTouch=null},1e3),(n=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var i=t.left-e.left,n=t.top-e.top;return i*i+n*n>400}de(t.scroller,"touchstart",function(r){if(!ge(e,r)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(r)&&!ms(e,r)){t.input.ensurePolled(),clearTimeout(i);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-n.end<=300?n:null},1==r.touches.length&&(t.activeTouch.left=r.touches[0].pageX,t.activeTouch.top=r.touches[0].pageY)}}),de(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),de(t.scroller,"touchend",function(i){var n=t.activeTouch;if(n&&!wi(t,i)&&null!=n.left&&!n.moved&&new Date-n.start<300){var s,a=e.coordsChar(t.activeTouch,"page");s=!n.prev||o(n,n.prev)?new _r(a,a):!n.prev.prev||o(n,n.prev.prev)?e.findWordAt(a):new _r(et(a.line,0),at(e.doc,et(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),ye(i)}r()}),de(t.scroller,"touchcancel",r),de(t.scroller,"scroll",function(){t.scroller.clientHeight&&(In(e,t.scroller.scrollTop),Pn(e,t.scroller.scrollLeft,!0),me(e,"scroll",e))}),de(t.scroller,"mousewheel",function(t){return vr(e,t)}),de(t.scroller,"DOMMouseScroll",function(t){return vr(e,t)}),de(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(t){ge(e,t)||Se(t)},over:function(t){ge(e,t)||(!function(e,t){var i=an(e,t);if(i){var n=document.createDocumentFragment();gn(e,i,n),e.display.dragCursor||(e.display.dragCursor=N("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),E(e.display.dragCursor,n)}}(e,t),Se(t))},start:function(t){return function(e,t){if(s&&(!e.state.draggingText||+new Date-Eo<100))Se(t);else if(!ge(e,t)&&!wi(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!d)){var i=N("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",u&&(i.width=i.height=1,e.display.wrapper.appendChild(i),i._top=i.offsetTop),t.dataTransfer.setDragImage(i,0,0),u&&i.parentNode.removeChild(i)}}(e,t)},drop:Zn(e,No),leave:function(t){ge(e,t)||To(e)}};var l=t.input.getField();de(l,"keyup",function(t){return as.call(e,t)}),de(l,"keydown",Zn(e,ss)),de(l,"keypress",Zn(e,ls)),de(l,"focus",function(t){return Cn(e,t)}),de(l,"blur",function(t){return Sn(e,t)})}(this),Io(),jn(this),this.curOp.forceUpdate=!0,Or(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&Cn(n)},20):Sn(this),ys)ys.hasOwnProperty(h)&&ys[h](this,t[h],bs);cr(this),t.finishInit&&t.finishInit(this);for(var f=0;f<xs.length;++f)xs[f](this);Un(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(c.lineDiv).textRendering&&(c.lineDiv.style.textRendering="auto")}Ss.defaults=_s,Ss.optionHandlers=ys;var xs=[];function ks(e,t,i,n){var r,o=e.doc;null==i&&(i="add"),"smart"==i&&(o.mode.indent?r=ft(e,t).state:i="prev");var s=e.options.tabSize,a=Ke(o,t),l=V(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,h=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==i&&((c=o.mode.indent(r,a.text.slice(h.length),a.text))==z||c>150)){if(!n)return;i="prev"}}else c=0,i="not";"prev"==i?c=t>o.first?V(Ke(o,t-1).text,null,s):0:"add"==i?c=l+e.options.indentUnit:"subtract"==i?c=l-e.options.indentUnit:"number"==typeof i&&(c=l+i),c=Math.max(0,c);var u="",d=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/s);f;--f)d+=s,u+="\t";if(d<c&&(u+=G(c-d)),u!=h)return ho(o,u,et(t,0),et(t,h.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==t&&m.head.ch<h.length){var g=et(t,h.length);Kr(o,p,new _r(g,g));break}}}Ss.defineInitHook=function(e){return xs.push(e)};var Ls=null;function Ds(e){Ls=e}function Es(e,t,i,n,r){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var s=+new Date-200,a="paste"==r||e.state.pasteIncoming>s,l=Me(t),c=null;if(a&&n.ranges.length>1)if(Ls&&Ls.text.join("\n")==t){if(n.ranges.length%Ls.text.length==0){c=[];for(var h=0;h<Ls.text.length;h++)c.push(o.splitLines(Ls.text[h]))}}else l.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(c=X(l,function(e){return[e]}));for(var u=e.curOp.updateInput,d=n.ranges.length-1;d>=0;d--){var f=n.ranges[d],p=f.from(),m=f.to();f.empty()&&(i&&i>0?p=et(p.line,p.ch-i):e.state.overwrite&&!a?m=et(m.line,Math.min(Ke(o,m.line).text.length,m.ch+Y(l).length)):a&&Ls&&Ls.lineWise&&Ls.text.join("\n")==l.join("\n")&&(p=m=et(p.line,0)));var g={from:p,to:m,text:c?c[d%c.length]:l,origin:r||(a?"paste":e.state.cutIncoming>s?"cut":"+input")};oo(e.doc,g),ai(e,"inputRead",e,g)}t&&!a&&Ts(e,t),Nn(e),e.curOp.updateInput<2&&(e.curOp.updateInput=u),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Ns(e,t){var i=e.clipboardData&&e.clipboardData.getData("Text");if(i)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Xn(t,function(){return Es(t,i,0,null,"paste")}),!0}function Ts(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var i=e.doc.sel,n=i.ranges.length-1;n>=0;n--){var r=i.ranges[n];if(!(r.head.ch>100||n&&i.ranges[n-1].head.line==r.head.line)){var o=e.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=ks(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ke(e.doc,r.head.line).text.slice(0,r.head.ch))&&(s=ks(e,r.head.line,"smart"));s&&ai(e,"electricInput",e,r.head.line)}}}function Os(e){for(var t=[],i=[],n=0;n<e.doc.sel.ranges.length;n++){var r=e.doc.sel.ranges[n].head.line,o={anchor:et(r,0),head:et(r+1,0)};i.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:i}}function Ms(e,t,i,n){e.setAttribute("autocorrect",i?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function Is(){var e=N("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=N("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Ms(e),t}function As(e,t,i,n,r){var o=t,s=i,a=Ke(e,t.line),l=r&&"rtl"==e.direction?-i:i;function c(o){var s,c;if("codepoint"==n){var h=a.text.charCodeAt(t.ch+(n>0?0:-1));s=isNaN(h)?null:new et(t.line,Math.max(0,Math.min(a.text.length,t.ch+i*(h>=55296&&h<56320?2:1))),-i)}else s=r?function(e,t,i,n){var r=he(t,e.doc.direction);if(!r)return Yo(t,i,n);i.ch>=t.text.length?(i.ch=t.text.length,i.sticky="before"):i.ch<=0&&(i.ch=0,i.sticky="after");var o=le(r,i.ch,i.sticky),s=r[o];if("ltr"==e.doc.direction&&s.level%2==0&&(n>0?s.to>i.ch:s.from<i.ch))return Yo(t,i,n);var a,l=function(e,i){return Go(t,e instanceof et?e.ch:e,i)},c=function(i){return e.options.lineWrapping?(a=a||Oi(e,t),Zi(e,t,a,i)):{begin:0,end:t.text.length}},h=c("before"==i.sticky?l(i,-1):i.ch);if("rtl"==e.doc.direction||1==s.level){var u=1==s.level==n<0,d=l(i,u?1:-1);if(null!=d&&(u?d<=s.to&&d<=h.end:d>=s.from&&d>=h.begin)){var f=u?"before":"after";return new et(i.line,d,f)}}var p=function(e,t,n){for(var o=function(e,t){return t?new et(i.line,l(e,1),"before"):new et(i.line,e,"after")};e>=0&&e<r.length;e+=t){var s=r[e],a=t>0==(1!=s.level),c=a?n.begin:l(n.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),n.begin<=c&&c<n.end)return o(c,a)}},m=p(o+n,n,h);if(m)return m;var g=n>0?h.end:l(h.begin,-1);return null==g||n>0&&g==t.text.length||!(m=p(n>0?0:r.length-1,n,c(g)))?null:m}(e.cm,a,t,i):Yo(a,t,i);if(null==s){if(o||(c=t.line+l)<e.first||c>=e.first+e.size||(t=new et(c,t.ch,t.sticky),!(a=Ke(e,c))))return!1;t=Xo(r,e.cm,a,t.line,l)}else t=s;return!0}if("char"==n||"codepoint"==n)c();else if("column"==n)c(!0);else if("word"==n||"group"==n)for(var h=null,u="group"==n,d=e.cm&&e.cm.getHelper(t,"wordChars"),f=!0;!(i<0)||c(!f);f=!1){var p=a.text.charAt(t.ch)||"\n",m=te(p,d)?"w":u&&"\n"==p?"n":!u||/\s/.test(p)?null:"p";if(!u||f||m||(m="s"),h&&h!=m){i<0&&(i=1,c(),t.sticky="after");break}if(m&&(h=m),i>0&&!c(!f))break}var g=to(e,t,o,s,!0);return it(o,g)&&(g.hitSide=!0),g}function Ps(e,t,i,n){var r,o,s=e.doc,a=t.left;if("page"==n){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*en(e.display),3);r=(i>0?t.bottom:t.top)+i*c}else"line"==n&&(r=i>0?t.bottom+3:t.top-3);for(;(o=Yi(e,a,r)).outside;){if(i<0?r<=0:r>=s.height){o.hitSide=!0;break}r+=5*i}return o}var Rs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new B,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Fs(e,t){var i=Ti(e,t.line);if(!i||i.hidden)return null;var n=Ke(e.doc,t.line),r=Ei(i,n,t.line),o=he(n,e.doc.direction),s="left";o&&(s=le(o,t.ch)%2?"right":"left");var a=Pi(r.map,t.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Vs(e,t){return t&&(e.bad=!0),e}function Bs(e,t,i){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[i]))return Vs(e.clipPos(et(e.display.viewTo-1)),!0);t=null,i=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==n)return Ws(o,t,i)}}function Ws(e,t,i){var n=e.text.firstChild,r=!1;if(!t||!O(n,t))return Vs(et(Xe(e.line),0),!0);if(t==n&&(r=!0,t=n.childNodes[i],i=0,!t)){var o=e.rest?Y(e.rest):e.line;return Vs(et(Xe(o),o.text.length),r)}var s=3==t.nodeType?t:null,a=t;for(s||1!=t.childNodes.length||3!=t.firstChild.nodeType||(s=t.firstChild,i&&(i=s.nodeValue.length));a.parentNode!=n;)a=a.parentNode;var l=e.measure,c=l.maps;function h(t,i,n){for(var r=-1;r<(c?c.length:0);r++)for(var o=r<0?l.map:c[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==i){var h=Xe(r<0?e.line:e.rest[r]),u=o[s]+n;return(n<0||a!=t)&&(u=o[s+(n?1:0)]),et(h,u)}}}var u=h(s,a,i);if(u)return Vs(u,r);for(var d=a.nextSibling,f=s?s.nodeValue.length-i:0;d;d=d.nextSibling){if(u=h(d,d.firstChild,0))return Vs(et(u.line,u.ch-f),r);f+=d.textContent.length}for(var p=a.previousSibling,m=i;p;p=p.previousSibling){if(u=h(p,p.firstChild,-1))return Vs(et(u.line,u.ch+m),r);m+=p.textContent.length}}Rs.prototype.init=function(e){var t=this,i=this,n=i.cm,r=i.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==r)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function s(e){if(o(e)&&!ge(n,e)){if(n.somethingSelected())Ds({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=Os(n);Ds({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation(function(){n.setSelections(t.ranges,0,H),n.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var s=Ls.text.join("\n");if(e.clipboardData.setData("Text",s),e.clipboardData.getData("Text")==s)return void e.preventDefault()}var a=Is(),l=a.firstChild;n.display.lineSpace.insertBefore(a,n.display.lineSpace.firstChild),l.value=Ls.text.join("\n");var c=document.activeElement;P(l),setTimeout(function(){n.display.lineSpace.removeChild(a),c.focus(),c==r&&i.showPrimarySelection()},50)}}Ms(r,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),de(r,"paste",function(e){!o(e)||ge(n,e)||Ns(e,n)||a<=11&&setTimeout(Zn(n,function(){return t.updateFromDOM()}),20)}),de(r,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),de(r,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),de(r,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),de(r,"touchstart",function(){return i.forceCompositionEnd()}),de(r,"input",function(){t.composing||t.readFromDOMSoon()}),de(r,"copy",s),de(r,"cut",s)},Rs.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Rs.prototype.prepareSelection=function(){var e=mn(this.cm,!1);return e.focus=document.activeElement==this.div,e},Rs.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Rs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Rs.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),o=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var s=Bs(t,e.anchorNode,e.anchorOffset),a=Bs(t,e.focusNode,e.focusOffset);if(!s||s.bad||!a||a.bad||0!=tt(ot(s,a),r)||0!=tt(rt(s,a),o)){var l=t.display.view,c=r.line>=t.display.viewFrom&&Fs(t,r)||{node:l[0].measure.map[2],offset:0},h=o.line<t.display.viewTo&&Fs(t,o);if(!h){var u=l[l.length-1].measure,d=u.maps?u.maps[u.maps.length-1]:u.map;h={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(c&&h){var f,p=e.rangeCount&&e.getRangeAt(0);try{f=k(c.node,c.offset,h.offset,h.node)}catch(e){}f&&(!i&&t.state.focused?(e.collapse(c.node,c.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),p&&null==e.anchorNode?e.addRange(p):i&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Rs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Rs.prototype.showMultipleSelections=function(e){E(this.cm.display.cursorDiv,e.cursors),E(this.cm.display.selectionDiv,e.selection)},Rs.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Rs.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return O(this.div,t)},Rs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Rs.prototype.blur=function(){this.div.blur()},Rs.prototype.getField=function(){return this.div},Rs.prototype.supportsTouch=function(){return!0},Rs.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Xn(this.cm,function(){return e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))})},Rs.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Rs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&h&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var i=Bs(t,e.anchorNode,e.anchorOffset),n=Bs(t,e.focusNode,e.focusOffset);i&&n&&Xn(t,function(){Yr(t.doc,wr(i,n),H),(i.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},Rs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,i,n=this.cm,r=n.display,o=n.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>n.firstLine()&&(s=et(s.line-1,Ke(n.doc,s.line-1).length)),a.ch==Ke(n.doc,a.line).text.length&&a.line<n.lastLine()&&(a=et(a.line+1,0)),s.line<r.viewFrom||a.line>r.viewTo-1)return!1;s.line==r.viewFrom||0==(e=ln(n,s.line))?(t=Xe(r.view[0].line),i=r.view[0].node):(t=Xe(r.view[e].line),i=r.view[e-1].node.nextSibling);var l,c,h=ln(n,a.line);if(h==r.view.length-1?(l=r.viewTo-1,c=r.lineDiv.lastChild):(l=Xe(r.view[h+1].line)-1,c=r.view[h+1].node.previousSibling),!i)return!1;for(var u=n.doc.splitLines(function(e,t,i,n,r){var o="",s=!1,a=e.doc.lineSeparator(),l=!1;function c(){s&&(o+=a,l&&(o+=a),s=l=!1)}function h(e){e&&(c(),o+=e)}function u(t){if(1==t.nodeType){var i=t.getAttribute("cm-text");if(i)return void h(i);var o,d=t.getAttribute("cm-marker");if(d){var f=e.findMarks(et(n,0),et(r+1,0),(g=+d,function(e){return e.id==g}));return void(f.length&&(o=f[0].find(0))&&h(qe(e.doc,o.from,o.to).join(a)))}if("false"==t.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;p&&c();for(var m=0;m<t.childNodes.length;m++)u(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),p&&(s=!0)}else 3==t.nodeType&&h(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;u(t),t!=i;)t=t.nextSibling,l=!1;return o}(n,i,c,t,l)),d=qe(n.doc,et(t,0),et(l,Ke(n.doc,l).text.length));u.length>1&&d.length>1;)if(Y(u)==Y(d))u.pop(),d.pop(),l--;else{if(u[0]!=d[0])break;u.shift(),d.shift(),t++}for(var f=0,p=0,m=u[0],g=d[0],v=Math.min(m.length,g.length);f<v&&m.charCodeAt(f)==g.charCodeAt(f);)++f;for(var b=Y(u),_=Y(d),y=Math.min(b.length-(1==u.length?f:0),_.length-(1==d.length?f:0));p<y&&b.charCodeAt(b.length-p-1)==_.charCodeAt(_.length-p-1);)++p;if(1==u.length&&1==d.length&&t==s.line)for(;f&&f>s.ch&&b.charCodeAt(b.length-p-1)==_.charCodeAt(_.length-p-1);)f--,p++;u[u.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),u[0]=u[0].slice(f).replace(/\u200b+$/,"");var w=et(t,f),C=et(l,d.length?Y(d).length-p:0);return u.length>1||u[0]||tt(w,C)?(ho(n.doc,u,w,C,"+input"),!0):void 0},Rs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Rs.prototype.reset=function(){this.forceCompositionEnd()},Rs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Rs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},Rs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Xn(this.cm,function(){return cn(e.cm)})},Rs.prototype.setUneditable=function(e){e.contentEditable="false"},Rs.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Zn(this.cm,Es)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Rs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Rs.prototype.onContextMenu=function(){},Rs.prototype.resetPosition=function(){},Rs.prototype.needsContentAttribute=!0;var $s=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new B,this.hasSelection=!1,this.composing=null};$s.prototype.init=function(e){var t=this,i=this,n=this.cm;this.createField(e);var r=this.textarea;function o(e){if(!ge(n,e)){if(n.somethingSelected())Ds({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Os(n);Ds({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,H):(i.prevInput="",r.value=t.text.join("\n"),P(r))}"cut"==e.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(r.style.width="0px"),de(r,"input",function(){s&&a>=9&&t.hasSelection&&(t.hasSelection=null),i.poll()}),de(r,"paste",function(e){ge(n,e)||Ns(e,n)||(n.state.pasteIncoming=+new Date,i.fastPoll())}),de(r,"cut",o),de(r,"copy",o),de(e.scroller,"paste",function(t){if(!wi(e,t)&&!ge(n,t)){if(!r.dispatchEvent)return n.state.pasteIncoming=+new Date,void i.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,r.dispatchEvent(o)}}),de(e.lineSpace,"selectstart",function(t){wi(e,t)||ye(t)}),de(r,"compositionstart",function(){var e=n.getCursor("from");i.composing&&i.composing.range.clear(),i.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),de(r,"compositionend",function(){i.composing&&(i.poll(),i.composing.range.clear(),i.composing=null)})},$s.prototype.createField=function(e){this.wrapper=Is(),this.textarea=this.wrapper.firstChild},$s.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},$s.prototype.prepareSelection=function(){var e=this.cm,t=e.display,i=e.doc,n=mn(e);if(e.options.moveInputWithCursor){var r=Ki(e,i.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-o.left))}return n},$s.prototype.showSelection=function(e){var t=this.cm.display;E(t.cursorDiv,e.cursors),E(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},$s.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var i=t.getSelection();this.textarea.value=i,t.state.focused&&P(this.textarea),s&&a>=9&&(this.hasSelection=i)}else e||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null))}},$s.prototype.getField=function(){return this.textarea},$s.prototype.supportsTouch=function(){return!1},$s.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||M()!=this.textarea))try{this.textarea.focus()}catch(e){}},$s.prototype.blur=function(){this.textarea.blur()},$s.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},$s.prototype.receivedFocus=function(){this.slowPoll()},$s.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},$s.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function i(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,i))})},$s.prototype.poll=function(){var e=this,t=this.cm,i=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||Ie(i)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=i.value;if(r==n&&!t.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===r||b&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(n.length,r.length);l<c&&n.charCodeAt(l)==r.charCodeAt(l);)++l;return Xn(t,function(){Es(t,r.slice(l),n.length-l,null,e.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?i.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},$s.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},$s.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},$s.prototype.onContextMenu=function(e){var t=this,i=t.cm,n=i.display,r=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=an(i,e),c=n.scroller.scrollTop;if(o&&!u){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(o)&&Zn(i,Yr)(i.doc,wr(o),H);var h,d=r.style.cssText,f=t.wrapper.style.cssText,p=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(h=window.scrollY),n.input.focus(),l&&window.scrollTo(null,h),n.input.reset(),i.somethingSelected()||(r.value=t.prevInput=" "),t.contextMenuPending=v,n.selForContextMenu=i.doc.sel,clearTimeout(n.detectingSelectAll),s&&a>=9&&g(),S){Se(e);var m=function(){pe(window,"mouseup",m),setTimeout(v,20)};de(window,"mouseup",m)}else setTimeout(v,50)}function g(){if(null!=r.selectionStart){var e=i.somethingSelected(),o="​"+(e?r.value:"");r.value="⇚",r.value=o,t.prevInput=e?"":"​",r.selectionStart=1,r.selectionEnd=o.length,n.selForContextMenu=i.doc.sel}}function v(){if(t.contextMenuPending==v&&(t.contextMenuPending=!1,t.wrapper.style.cssText=f,r.style.cssText=d,s&&a<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=c),null!=r.selectionStart)){(!s||s&&a<9)&&g();var e=0,o=function(){n.selForContextMenu==i.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"​"==t.prevInput?Zn(i,no)(i):e++<10?n.detectingSelectAll=setTimeout(o,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(o,200)}}},$s.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},$s.prototype.setUneditable=function(){},$s.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function i(i,n,r,o){e.defaults[i]=n,r&&(t[i]=o?function(e,t,i){i!=bs&&r(e,t,i)}:r)}e.defineOption=i,e.Init=bs,i("value","",function(e,t){return e.setValue(t)},!0),i("mode",null,function(e,t){e.doc.modeOption=t,Lr(e)},!0),i("indentUnit",2,Lr,!0),i("indentWithTabs",!1),i("smartIndent",!0),i("tabSize",4,function(e){Dr(e),Bi(e),cn(e)},!0),i("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var i=[],n=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,i.push(et(n,o))}n++});for(var r=i.length-1;r>=0;r--)ho(e.doc,t,i[r],et(i[r].line,i[r].ch+t.length))}}),i("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(e,t,i){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),i!=bs&&e.refresh()}),i("specialCharPlaceholder",Qt,function(e){return e.refresh()},!0),i("electricChars",!0),i("inputStyle",v?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),i("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),i("autocorrect",!1,function(e,t){return e.getInputField().autocorrect=t},!0),i("autocapitalize",!1,function(e,t){return e.getInputField().autocapitalize=t},!0),i("rtlMoveVisually",!y),i("wholeLineUpdateBefore",!0),i("theme","default",function(e){vs(e),dr(e)},!0),i("keyMap","default",function(e,t,i){var n=Ko(t),r=i!=bs&&Ko(i);r&&r.detach&&r.detach(e,n),n.attach&&n.attach(e,r||null)}),i("extraKeys",null),i("configureMouse",null),i("lineWrapping",!1,Cs,!0),i("gutters",[],function(e,t){e.display.gutterSpecs=hr(t,e.options.lineNumbers),dr(e)},!0),i("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?rn(e.display)+"px":"0",e.refresh()},!0),i("coverGutterNextToScrollbar",!1,function(e){return Bn(e)},!0),i("scrollbarStyle","native",function(e){zn(e),Bn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),i("lineNumbers",!1,function(e,t){e.display.gutterSpecs=hr(e.options.gutters,t),dr(e)},!0),i("firstLineNumber",1,dr,!0),i("lineNumberFormatter",function(e){return e},dr,!0),i("showCursorWhenSelecting",!1,pn,!0),i("resetSelectionOnContextMenu",!0),i("lineWiseCopyCut",!0),i("pasteLinesPerSelection",!0),i("selectionsMayTouch",!1),i("readOnly",!1,function(e,t){"nocursor"==t&&(Sn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),i("screenReaderLabel",null,function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)}),i("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),i("dragDrop",!0,ws),i("allowDropFileTypes",null),i("cursorBlinkRate",530),i("cursorScrollMargin",0),i("cursorHeight",1,pn,!0),i("singleCursorHeightPerLine",!0,pn,!0),i("workTime",100),i("workDelay",100),i("flattenSpans",!0,Dr,!0),i("addModeClass",!1,Dr,!0),i("pollInterval",100),i("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),i("historyEventDelay",1250),i("viewportMargin",10,function(e){return e.refresh()},!0),i("maxHighlightLength",1e4,Dr,!0),i("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),i("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),i("autofocus",null),i("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),i("phrases",null)}(Ss),function(e){var t=e.optionHandlers,i=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,i){var n=this.options,r=n[e];n[e]==i&&"mode"!=e||(n[e]=i,t.hasOwnProperty(e)&&Zn(this,t[e])(this,i,r),me(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ko(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,i=0;i<t.length;++i)if(t[i]==e||t[i].name==e)return t.splice(i,1),!0},addOverlay:Qn(function(t,i){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");!function(e,t,i){for(var n=0,r=i(t);n<e.length&&i(e[n])<=r;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:n,modeSpec:t,opaque:i&&i.opaque,priority:i&&i.priority||0},function(e){return e.priority}),this.state.modeGen++,cn(this)}),removeOverlay:Qn(function(e){for(var t=this.state.overlays,i=0;i<t.length;++i){var n=t[i].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(i,1),this.state.modeGen++,void cn(this)}}),indentLine:Qn(function(e,t,i){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Qe(this.doc,e)&&ks(this,e,t,i)}),indentSelection:Qn(function(e){for(var t=this.doc.sel.ranges,i=-1,n=0;n<t.length;n++){var r=t[n];if(r.empty())r.head.line>i&&(ks(this,r.head.line,e,!0),i=r.head.line,n==this.doc.sel.primIndex&&Nn(this));else{var o=r.from(),s=r.to(),a=Math.max(i,o.line);i=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<i;++l)ks(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[n].from().ch>0&&Kr(this.doc,n,new _r(o,c[n].to()),H)}}}),getTokenAt:function(e,t){return bt(this,e,t)},getLineTokens:function(e,t){return bt(this,et(e),t,!0)},getTokenTypeAt:function(e){e=at(this.doc,e);var t,i=dt(this,Ke(this.doc,e.line)),n=0,r=(i.length-1)/2,o=e.ch;if(0==o)t=i[2];else for(;;){var s=n+r>>1;if((s?i[2*s-1]:0)>=o)r=s;else{if(!(i[2*s+1]<o)){t=i[2*s+2];break}n=s+1}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(t).state).mode:i},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!i.hasOwnProperty(t))return n;var r=i[t],o=this.getModeAt(e);if("string"==typeof o[t])r[o[t]]&&n.push(r[o[t]]);else if(o[t])for(var s=0;s<o[t].length;s++){var a=r[o[t][s]];a&&n.push(a)}else o.helperType&&r[o.helperType]?n.push(r[o.helperType]):r[o.name]&&n.push(r[o.name]);for(var l=0;l<r._global.length;l++){var c=r._global[l];c.pred(o,this)&&-1==W(n,c.val)&&n.push(c.val)}return n},getStateAfter:function(e,t){var i=this.doc;return ft(this,(e=st(i,null==e?i.first+i.size-1:e))+1,t).state},cursorCoords:function(e,t){var i=this.doc.sel.primary();return Ki(this,null==e?i.head:"object"==typeof e?at(this.doc,e):e?i.from():i.to(),t||"page")},charCoords:function(e,t){return Ui(this,at(this.doc,e),t||"page")},coordsChar:function(e,t){return Yi(this,(e=ji(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=ji(this,{top:e,left:0},t||"page").top,Ze(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,i){var n,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),n=Ke(this.doc,e)}else n=e;return Hi(this,n,{top:0,left:0},t||"page",i||r).top+(r?this.doc.height-Ht(n):0)},defaultTextHeight:function(){return en(this.display)},defaultCharWidth:function(){return tn(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,i,n,r){var o,s,a,l=this.display,c=(e=Ki(this,at(this.doc,e))).bottom,h=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==n)c=e.top;else if("above"==n||"near"==n){var u=Math.max(l.wrapper.clientHeight,this.doc.height),d=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>u)&&e.top>t.offsetHeight?c=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=u&&(c=e.bottom),h+t.offsetWidth>d&&(h=d-t.offsetWidth)}t.style.top=c+"px",t.style.left=t.style.right="","right"==r?(h=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?h=0:"middle"==r&&(h=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=h+"px"),i&&(o=this,s={left:h,top:c,right:h+t.offsetWidth,bottom:c+t.offsetHeight},null!=(a=Dn(o,s)).scrollTop&&In(o,a.scrollTop),null!=a.scrollLeft&&Pn(o,a.scrollLeft))},triggerOnKeyDown:Qn(ss),triggerOnKeyPress:Qn(ls),triggerOnKeyUp:as,triggerOnMouseDown:Qn(ds),execCommand:function(e){if(Zo.hasOwnProperty(e))return Zo[e].call(null,this)},triggerElectric:Qn(function(e){Ts(this,e)}),findPosH:function(e,t,i,n){var r=1;t<0&&(r=-1,t=-t);for(var o=at(this.doc,e),s=0;s<t&&!(o=As(this.doc,o,r,i,n)).hitSide;++s);return o},moveH:Qn(function(e,t){var i=this;this.extendSelectionsBy(function(n){return i.display.shift||i.doc.extend||n.empty()?As(i.doc,n.head,e,t,i.options.rtlMoveVisually):e<0?n.from():n.to()},U)}),deleteH:Qn(function(e,t){var i=this.doc.sel,n=this.doc;i.somethingSelected()?n.replaceSelection("",null,"+delete"):qo(this,function(i){var r=As(n,i.head,e,t,!1);return e<0?{from:r,to:i.head}:{from:i.head,to:r}})}),findPosV:function(e,t,i,n){var r=1,o=n;t<0&&(r=-1,t=-t);for(var s=at(this.doc,e),a=0;a<t;++a){var l=Ki(this,s,"div");if(null==o?o=l.left:l.left=o,(s=Ps(this,l,r,i)).hitSide)break}return s},moveV:Qn(function(e,t){var i=this,n=this.doc,r=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(s){if(o)return e<0?s.from():s.to();var a=Ki(i,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Ps(i,a,e,t);return"page"==t&&s==n.sel.primary()&&En(i,Ui(i,l,"div").top-a.top),l},U),r.length)for(var s=0;s<n.sel.ranges.length;s++)n.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(e){var t=Ke(this.doc,e.line).text,i=e.ch,n=e.ch;if(t){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!i?++n:--i;for(var o=t.charAt(i),s=te(o,r)?function(e){return te(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};i>0&&s(t.charAt(i-1));)--i;for(;n<t.length&&s(t.charAt(n));)++n}return new _r(et(e.line,i),et(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?I(this.display.cursorDiv,"CodeMirror-overwrite"):L(this.display.cursorDiv,"CodeMirror-overwrite"),me(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==M()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Qn(function(e,t){Tn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-ki(this)-this.display.barHeight,width:e.scrollWidth-ki(this)-this.display.barWidth,clientHeight:Di(this),clientWidth:Li(this)}},scrollIntoView:Qn(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:et(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){On(e),e.curOp.scrollToPos=t}(this,e):Mn(this,e.from,e.to,e.margin)}),setSize:Qn(function(e,t){var i=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&Vi(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){hn(i,r,"widget");break}++r}),this.curOp.forceUpdate=!0,me(this,"refresh",this)}),operation:function(e){return Xn(this,e)},startOperation:function(){return jn(this)},endOperation:function(){return Un(this)},refresh:Qn(function(){var e=this.display.cachedTextHeight;cn(this),this.curOp.forceUpdate=!0,Bi(this),Tn(this,this.doc.scrollLeft,this.doc.scrollTop),sr(this.display),(null==e||Math.abs(e-en(this.display))>.5||this.options.lineWrapping)&&sn(this),me(this,"refresh",this)}),swapDoc:Qn(function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Or(this,e),Bi(this),this.display.input.reset(),Tn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ai(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},_e(e),e.registerHelper=function(t,n,r){i.hasOwnProperty(t)||(i[t]=e[t]={_global:[]}),i[t][n]=r},e.registerGlobalHelper=function(t,n,r,o){e.registerHelper(t,n,o),i[t]._global.push({pred:r,val:o})}}(Ss);var zs="iter insert remove copy getEditor constructor".split(" ");for(var Hs in Do.prototype)Do.prototype.hasOwnProperty(Hs)&&W(zs,Hs)<0&&(Ss.prototype[Hs]=function(e){return function(){return e.apply(this.doc,arguments)}}(Do.prototype[Hs]));return _e(Do),Ss.inputStyles={textarea:$s,contenteditable:Rs},Ss.defineMode=function(e){Ss.defaults.mode||"null"==e||(Ss.defaults.mode=e),function(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Re[e]=t}.apply(this,arguments)},Ss.defineMIME=function(e,t){Fe[e]=t},Ss.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),Ss.defineMIME("text/plain","null"),Ss.defineExtension=function(e,t){Ss.prototype[e]=t},Ss.defineDocExtension=function(e,t){Do.prototype[e]=t},Ss.fromTextArea=function(e,t){if((t=t?F(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var i=M();t.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}function n(){e.value=a.getValue()}var r;if(e.form&&(de(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;r=o.submit;try{var s=o.submit=function(){n(),o.submit=r,o.submit(),o.submit=s}}catch(e){}}t.finishInit=function(i){i.save=n,i.getTextArea=function(){return e},i.toTextArea=function(){i.toTextArea=isNaN,n(),e.parentNode.removeChild(i.getWrapperElement()),e.style.display="",e.form&&(pe(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=r))}},e.style.display="none";var a=Ss(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return a},function(e){e.off=pe,e.on=de,e.wheelEventPixels=gr,e.Doc=Do,e.splitLines=Me,e.countColumn=V,e.findColumn=K,e.isWordChar=ee,e.Pass=z,e.signal=me,e.Line=Kt,e.changeEnd=Cr,e.scrollbarModel=$n,e.Pos=et,e.cmpPos=tt,e.modes=Re,e.mimeModes=Fe,e.resolveMode=Ve,e.getMode=Be,e.modeExtensions=We,e.extendMode=$e,e.copyState=ze,e.startState=je,e.innerMode=He,e.commands=Zo,e.keyMap=Bo,e.keyName=Uo,e.isModifierKey=Ho,e.lookupKey=zo,e.normalizeKeyMap=$o,e.StringStream=Ue,e.SharedTextMarker=So,e.TextMarker=wo,e.LineWidget=bo,e.e_preventDefault=ye,e.e_stopPropagation=we,e.e_stop=Se,e.addClass=I,e.contains=O,e.rmClass=L,e.keyNames=Po}(Ss),Ss.version="5.58.2",Ss},e.exports=n()},"94VQ":function(e,t,i){"use strict";var n=i("Yobk"),r=i("X8DO"),o=i("e6n0"),s={};i("hJx8")(s,i("dSzd")("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(s,{next:r(1,i)}),o(e,t+" Iterator")}},AMCD:function(e,t,i){"use strict";t.__esModule=!0,t.validateRangeInOneMonth=t.extractTimeFormat=t.extractDateFormat=t.nextYear=t.prevYear=t.nextMonth=t.prevMonth=t.changeYearMonthAndClampDate=t.timeWithinRange=t.limitTimeRange=t.clearMilliseconds=t.clearTime=t.modifyWithTimeString=t.modifyTime=t.modifyDate=t.range=t.getRangeMinutes=t.getMonthDays=t.getPrevMonthLastDays=t.getRangeHours=t.getWeekNumber=t.getStartDateOfMonth=t.nextDate=t.prevDate=t.getFirstDayOfMonth=t.getDayCountOfYear=t.getDayCountOfMonth=t.parseDate=t.formatDate=t.isDateObject=t.isDate=t.toDate=t.getI18nSettings=void 0;var n,r=i("eNfa"),o=(n=r)&&n.__esModule?n:{default:n},s=i("urW8");var a=["sun","mon","tue","wed","thu","fri","sat"],l=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],c=t.getI18nSettings=function(){return{dayNamesShort:a.map(function(e){return(0,s.t)("el.datepicker.weeks."+e)}),dayNames:a.map(function(e){return(0,s.t)("el.datepicker.weeks."+e)}),monthNamesShort:l.map(function(e){return(0,s.t)("el.datepicker.months."+e)}),monthNames:l.map(function(e,t){return(0,s.t)("el.datepicker.month"+(t+1))}),amPm:["am","pm"]}},h=t.toDate=function(e){return u(e)?new Date(e):null},u=t.isDate=function(e){return null!==e&&void 0!==e&&(!isNaN(new Date(e).getTime())&&!Array.isArray(e))},d=(t.isDateObject=function(e){return e instanceof Date},t.formatDate=function(e,t){return(e=h(e))?o.default.format(e,t||"yyyy-MM-dd",c()):""},t.parseDate=function(e,t){return o.default.parse(e,t||"yyyy-MM-dd",c())}),f=t.getDayCountOfMonth=function(e,t){return 3===t||5===t||8===t||10===t?30:1===t?e%4==0&&e%100!=0||e%400==0?29:28:31},p=(t.getDayCountOfYear=function(e){return e%400==0||e%100!=0&&e%4==0?366:365},t.getFirstDayOfMonth=function(e){var t=new Date(e.getTime());return t.setDate(1),t.getDay()},t.prevDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Date(e.getFullYear(),e.getMonth(),e.getDate()-t)});t.nextDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t)},t.getStartDateOfMonth=function(e,t){var i=new Date(e,t,1),n=i.getDay();return p(i,0===n?7:n)},t.getWeekNumber=function(e){if(!u(e))return null;var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var i=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-i.getTime())/864e5-3+(i.getDay()+6)%7)/7)},t.getRangeHours=function(e){var t=[],i=[];if((e||[]).forEach(function(e){var t=e.map(function(e){return e.getHours()});i=i.concat(function(e,t){for(var i=[],n=e;n<=t;n++)i.push(n);return i}(t[0],t[1]))}),i.length)for(var n=0;n<24;n++)t[n]=-1===i.indexOf(n);else for(var r=0;r<24;r++)t[r]=!1;return t},t.getPrevMonthLastDays=function(e,t){if(t<=0)return[];var i=new Date(e.getTime());i.setDate(0);var n=i.getDate();return g(t).map(function(e,i){return n-(t-i-1)})},t.getMonthDays=function(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();return g(t).map(function(e,t){return t+1})};function m(e,t,i,n){for(var r=t;r<i;r++)e[r]=n}t.getRangeMinutes=function(e,t){var i=new Array(60);return e.length>0?e.forEach(function(e){var n=e[0],r=e[1],o=n.getHours(),s=n.getMinutes(),a=r.getHours(),l=r.getMinutes();o===t&&a!==t?m(i,s,60,!0):o===t&&a===t?m(i,s,l+1,!0):o!==t&&a===t?m(i,0,l+1,!0):o<t&&a>t&&m(i,0,60,!0)}):m(i,0,60,!0),i};var g=t.range=function(e){return Array.apply(null,{length:e}).map(function(e,t){return t})},v=t.modifyDate=function(e,t,i,n){return new Date(t,i,n,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},b=t.modifyTime=function(e,t,i,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t,i,n,e.getMilliseconds())},_=(t.modifyWithTimeString=function(e,t){return null!=e&&t?(t=d(t,"HH:mm:ss"),b(e,t.getHours(),t.getMinutes(),t.getSeconds())):e},t.clearTime=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},t.clearMilliseconds=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),0)},t.limitTimeRange=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"HH:mm:ss";if(0===t.length)return e;var n=function(e){return o.default.parse(o.default.format(e,i),i)},r=n(e),s=t.map(function(e){return e.map(n)});if(s.some(function(e){return r>=e[0]&&r<=e[1]}))return e;var a=s[0][0],l=s[0][0];return s.forEach(function(e){a=new Date(Math.min(e[0],a)),l=new Date(Math.max(e[1],a))}),v(r<a?a:l,e.getFullYear(),e.getMonth(),e.getDate())}),y=(t.timeWithinRange=function(e,t,i){return _(e,t,i).getTime()===e.getTime()},t.changeYearMonthAndClampDate=function(e,t,i){var n=Math.min(e.getDate(),f(t,i));return v(e,t,i,n)});t.prevMonth=function(e){var t=e.getFullYear(),i=e.getMonth();return 0===i?y(e,t-1,11):y(e,t,i-1)},t.nextMonth=function(e){var t=e.getFullYear(),i=e.getMonth();return 11===i?y(e,t+1,0):y(e,t,i+1)},t.prevYear=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=e.getFullYear(),n=e.getMonth();return y(e,i-t,n)},t.nextYear=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=e.getFullYear(),n=e.getMonth();return y(e,i+t,n)},t.extractDateFormat=function(e){return e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim()},t.extractTimeFormat=function(e){return e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?y{2,4}/g,"").trim()},t.validateRangeInOneMonth=function(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}},BwfY:function(e,t,i){i("fWfb"),i("M6a0"),i("OYls"),i("QWe/"),e.exports=i("FeBl").Symbol},D2L2:function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},DQCr:function(e,t,i){"use strict";var n=i("cGG2");function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var o;if(i)o=i(t);else if(n.isURLSearchParams(t))o=t.toString();else{var s=[];n.forEach(t,function(e,t){null!==e&&void 0!==e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))}))}),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},DQJY:function(e,t,i){"use strict";t.__esModule=!0;var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i("hyEB"),s=(n=o)&&n.__esModule?n:{default:n};var a,l=l||{};l.Dialog=function(e,t,i){var n=this;if(this.dialogNode=e,null===this.dialogNode||"dialog"!==this.dialogNode.getAttribute("role"))throw new Error("Dialog() requires a DOM element with ARIA role of dialog.");"string"==typeof t?this.focusAfterClosed=document.getElementById(t):"object"===(void 0===t?"undefined":r(t))?this.focusAfterClosed=t:this.focusAfterClosed=null,"string"==typeof i?this.focusFirst=document.getElementById(i):"object"===(void 0===i?"undefined":r(i))?this.focusFirst=i:this.focusFirst=null,this.focusFirst?this.focusFirst.focus():s.default.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement,a=function(e){n.trapFocus(e)},this.addListeners()},l.Dialog.prototype.addListeners=function(){document.addEventListener("focus",a,!0)},l.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",a,!0)},l.Dialog.prototype.closeDialog=function(){var e=this;this.removeListeners(),this.focusAfterClosed&&setTimeout(function(){e.focusAfterClosed.focus()})},l.Dialog.prototype.trapFocus=function(e){s.default.IgnoreUtilFocusChanges||(this.dialogNode.contains(e.target)?this.lastFocus=e.target:(s.default.focusFirstDescendant(this.dialogNode),this.lastFocus===document.activeElement&&s.default.focusLastDescendant(this.dialogNode),this.lastFocus=document.activeElement))},t.default=l.Dialog},DUeU:function(e,t,i){"use strict";var n=i("cGG2");e.exports=function(e,t){t=t||{};var i={},r=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function l(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function c(r){n.isUndefined(t[r])?n.isUndefined(e[r])||(i[r]=l(void 0,e[r])):i[r]=l(e[r],t[r])}n.forEach(r,function(e){n.isUndefined(t[e])||(i[e]=l(void 0,t[e]))}),n.forEach(o,c),n.forEach(s,function(r){n.isUndefined(t[r])?n.isUndefined(e[r])||(i[r]=l(void 0,e[r])):i[r]=l(void 0,t[r])}),n.forEach(a,function(n){n in t?i[n]=l(e[n],t[n]):n in e&&(i[n]=l(void 0,e[n]))});var h=r.concat(o).concat(s).concat(a),u=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===h.indexOf(e)});return n.forEach(u,c),i}},Dd8w:function(e,t,i){"use strict";t.__esModule=!0;var n,r=i("woOf"),o=(n=r)&&n.__esModule?n:{default:n};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}},DuR2:function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},"E/in":function(e,t,i){"use strict";t.__esModule=!0,t.isDef=function(e){return void 0!==e&&null!==e},t.isKorean=function(e){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e)}},E5Az:function(e,t,i){var n;n=function(e){return function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=3)}([function(t,i){t.exports=e},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(i(0)),r=window.CodeMirror||n.default;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},writable:!0,configurable:!0}),t.default={name:"codemirror",data:function(){return{content:"",codemirror:null,cminstance:null}},props:{code:String,value:String,marker:Function,unseenLines:Array,name:{type:String,default:"codemirror"},placeholder:{type:String,default:""},merge:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},events:{type:Array,default:function(){return[]}},globalOptions:{type:Object,default:function(){return{}}},globalEvents:{type:Array,default:function(){return[]}}},watch:{options:{deep:!0,handler:function(e){for(var t in e)this.cminstance.setOption(t,e[t])}},merge:function(){this.$nextTick(this.switchMerge)},code:function(e){this.handerCodeChange(e)},value:function(e){this.handerCodeChange(e)}},methods:{initialize:function(){var e=this,t=Object.assign({},this.globalOptions,this.options);this.merge?(this.codemirror=r.MergeView(this.$refs.mergeview,t),this.cminstance=this.codemirror.edit):(this.codemirror=r.fromTextArea(this.$refs.textarea,t),this.cminstance=this.codemirror,this.cminstance.setValue(this.code||this.value||this.content)),this.cminstance.on("change",function(t){e.content=t.getValue(),e.$emit&&e.$emit("input",e.content)});var i={};["scroll","changes","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"].concat(this.events).concat(this.globalEvents).filter(function(e){return!i[e]&&(i[e]=!0)}).forEach(function(t){e.cminstance.on(t,function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];e.$emit.apply(e,[t].concat(n));var o=t.replace(/([A-Z])/g,"-$1").toLowerCase();o!==t&&e.$emit.apply(e,[o].concat(n))})}),this.$emit("ready",this.codemirror),this.unseenLineMarkers(),this.refresh()},refresh:function(){var e=this;this.$nextTick(function(){e.cminstance.refresh()})},destroy:function(){var e=this.cminstance.doc.cm.getWrapperElement();e&&e.remove&&e.remove()},handerCodeChange:function(e){if(e!==this.cminstance.getValue()){var t=this.cminstance.getScrollInfo();this.cminstance.setValue(e),this.content=e,this.cminstance.scrollTo(t.left,t.top)}this.unseenLineMarkers()},unseenLineMarkers:function(){var e=this;void 0!==this.unseenLines&&void 0!==this.marker&&this.unseenLines.forEach(function(t){var i=e.cminstance.lineInfo(t);e.cminstance.setGutterMarker(t,"breakpoints",i.gutterMarkers?null:e.marker())})},switchMerge:function(){var e=this.cminstance.doc.history,t=this.cminstance.doc.cleanGeneration;this.options.value=this.cminstance.getValue(),this.destroy(),this.initialize(),this.cminstance.doc.history=e,this.cminstance.doc.cleanGeneration=t}},mounted:function(){this.initialize()},beforeDestroy:function(){this.destroy()}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(1),r=i.n(n);for(var o in n)["default","default"].indexOf(o)<0&&function(e){i.d(t,e,function(){return n[e]})}(o);var s=i(5),a=i(4)(r.a,s.a,!1,null,null,null);t.default=a.exports},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.install=t.codemirror=t.CodeMirror=void 0;var r=n(i(0)),o=n(i(2)),s=window.CodeMirror||r.default,a=function(e,t){t&&(t.options&&(o.default.props.globalOptions.default=function(){return t.options}),t.events&&(o.default.props.globalEvents.default=function(){return t.events})),e.component(o.default.name,o.default)},l={CodeMirror:s,codemirror:o.default,install:a};t.default=l,t.CodeMirror=s,t.codemirror=o.default,t.install=a},function(e,t){e.exports=function(e,t,i,n,r,o){var s,a=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(s=e,a=e.default);var c,h="function"==typeof a?a.options:a;if(t&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0),i&&(h.functional=!0),r&&(h._scopeId=r),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},h._ssrRegister=c):n&&(c=n),c){var u=h.functional,d=u?h.render:h.beforeCreate;u?(h._injectStyles=c,h.render=function(e,t){return c.call(t),d(e,t)}):h.beforeCreate=d?[].concat(d,c):[c]}return{esModule:s,exports:a,options:h}}},function(e,t,i){"use strict";var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"vue-codemirror",class:{merge:e.merge}},[e.merge?i("div",{ref:"mergeview"}):i("textarea",{ref:"textarea",attrs:{name:e.name,placeholder:e.placeholder}})])},staticRenderFns:[]};t.a=n}])},e.exports=n(i("8U58"))},EGZi:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},EKTV:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=83)}({0:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}i.d(t,"a",function(){return n})},4:function(e,t){e.exports=i("fPll")},83:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"el-checkbox",class:[e.border&&e.checkboxSize?"el-checkbox--"+e.checkboxSize:"",{"is-disabled":e.isDisabled},{"is-bordered":e.border},{"is-checked":e.isChecked}],attrs:{id:e.id}},[i("span",{staticClass:"el-checkbox__input",class:{"is-disabled":e.isDisabled,"is-checked":e.isChecked,"is-indeterminate":e.indeterminate,"is-focus":e.focus},attrs:{tabindex:!!e.indeterminate&&0,role:!!e.indeterminate&&"checkbox","aria-checked":!!e.indeterminate&&"mixed"}},[i("span",{staticClass:"el-checkbox__inner"}),e.trueLabel||e.falseLabel?i("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":e.indeterminate?"true":"false",name:e.name,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel},domProps:{checked:Array.isArray(e.model)?e._i(e.model,null)>-1:e._q(e.model,e.trueLabel)},on:{change:[function(t){var i=e.model,n=t.target,r=n.checked?e.trueLabel:e.falseLabel;if(Array.isArray(i)){var o=e._i(i,null);n.checked?o<0&&(e.model=i.concat([null])):o>-1&&(e.model=i.slice(0,o).concat(i.slice(o+1)))}else e.model=r},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":e.indeterminate?"true":"false",disabled:e.isDisabled,name:e.name},domProps:{value:e.label,checked:Array.isArray(e.model)?e._i(e.model,e.label)>-1:e.model},on:{change:[function(t){var i=e.model,n=t.target,r=!!n.checked;if(Array.isArray(i)){var o=e.label,s=e._i(i,o);n.checked?s<0&&(e.model=i.concat([o])):s>-1&&(e.model=i.slice(0,s).concat(i.slice(s+1)))}else e.model=r},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}})]),e.$slots.default||e.label?i("span",{staticClass:"el-checkbox__label"},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.label))]],2):e._e()])};n._withStripped=!0;var r=i(4),o={name:"ElCheckbox",mixins:[i.n(r).a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(e){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&e.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&e.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[e])):(this.$emit("input",e),this.selfModel=e)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){for(var e=this.$parent;e;){if("ElCheckboxGroup"===e.$options.componentName)return this._checkboxGroup=e,!0;e=e.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var e=this._checkboxGroup,t=e.max,i=e.min;return!(!t&&!i)&&this.model.length>=t&&!this.isChecked||this.model.length<=i&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var e=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||e}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(e){var t=this;if(!this.isLimitExceeded){var i=void 0;i=e.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",i,e),this.$nextTick(function(){t.isGroup&&t.dispatch("ElCheckboxGroup","change",[t._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",e)}}},s=i(0),a=Object(s.a)(o,n,[],!1,null,null,null);a.options.__file="packages/checkbox/src/checkbox.vue";var l=a.exports;l.install=function(e){e.component(l.name,l)};t.default=l}})},EKta:function(e,t,i){"use strict";t.byteLength=function(e){var t=c(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){var t,i,n=c(e),s=n[0],a=n[1],l=new o(function(e,t,i){return 3*(t+i)/4-i}(0,s,a)),h=0,u=a>0?s-4:s;for(i=0;i<u;i+=4)t=r[e.charCodeAt(i)]<<18|r[e.charCodeAt(i+1)]<<12|r[e.charCodeAt(i+2)]<<6|r[e.charCodeAt(i+3)],l[h++]=t>>16&255,l[h++]=t>>8&255,l[h++]=255&t;2===a&&(t=r[e.charCodeAt(i)]<<2|r[e.charCodeAt(i+1)]>>4,l[h++]=255&t);1===a&&(t=r[e.charCodeAt(i)]<<10|r[e.charCodeAt(i+1)]<<4|r[e.charCodeAt(i+2)]>>2,l[h++]=t>>8&255,l[h++]=255&t);return l},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,o=[],s=0,a=i-r;s<a;s+=16383)o.push(h(e,s,s+16383>a?a:s+16383));1===r?(t=e[i-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)n[a]=s[a],r[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function h(e,t,i){for(var r,o,s=[],a=t;a<i;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=r)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},EqjI:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},EuP9:function(e,t,i){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=i("EKta"),r=i("ujcs"),o=i("sOR5");function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,i){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,i);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(this,e)}return c(this,e,t,i)}function c(e,t,i,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,n){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,i):new Uint8Array(t,i,n);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,i,n):"string"==typeof t?function(e,t,i){"string"==typeof i&&""!==i||(i="utf8");if(!l.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,i),r=(e=a(e,n)).write(t,i);r!==n&&(e=e.slice(0,r));return e}(e,t,i):function(e,t){if(l.isBuffer(t)){var i=0|f(t.length);return 0===(e=a(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t){if(h(t),e=a(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function d(e,t){var i=t.length<0?0:0|f(t.length);e=a(e,i);for(var n=0;n<i;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return $(e).length;default:if(n)return W(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,i){var n=e[t];e[t]=e[i],e[i]=n}function g(e,t,i,n,r){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:v(e,t,i,n,r);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):v(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function v(e,t,i,n,r){var o,s=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,i/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){var h=-1;for(o=i;o<a;o++)if(c(e,o)===c(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===l)return h*s}else-1!==h&&(o-=o-h),h=-1}else for(i+l>a&&(i=a-l),o=i;o>=0;o--){for(var u=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){u=!1;break}if(u)return o}return-1}function b(e,t,i,n){i=Number(i)||0;var r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[i+s]=a}return s}function _(e,t,i,n){return z(W(t,e.length-i),e,i,n)}function y(e,t,i,n){return z(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function w(e,t,i,n){return y(e,t,i,n)}function C(e,t,i,n){return z($(t),e,i,n)}function S(e,t,i,n){return z(function(e,t){for(var i,n,r,o=[],s=0;s<e.length&&!((t-=2)<0);++s)i=e.charCodeAt(s),n=i>>8,r=i%256,o.push(r),o.push(n);return o}(t,e.length-i),e,i,n)}function x(e,t,i){return 0===t&&i===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,i))}function k(e,t,i){i=Math.min(e.length,i);for(var n=[],r=t;r<i;){var o,s,a,l,c=e[r],h=null,u=c>239?4:c>223?3:c>191?2:1;if(r+u<=i)switch(u){case 1:c<128&&(h=c);break;case 2:128==(192&(o=e[r+1]))&&(l=(31&c)<<6|63&o)>127&&(h=l);break;case 3:o=e[r+1],s=e[r+2],128==(192&o)&&128==(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:o=e[r+1],s=e[r+2],a=e[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(h=l)}null===h?(h=65533,u=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),r+=u}return function(e){var t=e.length;if(t<=L)return String.fromCharCode.apply(String,e);var i="",n=0;for(;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=L));return i}(n)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,i){return c(null,e,t,i)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,i){return function(e,t,i,n){return h(t),t<=0?a(e,t):void 0!==i?"string"==typeof n?a(e,t).fill(i,n):a(e,t).fill(i):a(e,t)}(null,e,t,i)},l.allocUnsafe=function(e){return u(null,e)},l.allocUnsafeSlow=function(e){return u(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,n=t.length,r=0,o=Math.min(i,n);r<o;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=l.allocUnsafe(t),r=0;for(i=0;i<e.length;++i){var s=e[i];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,r),r+=s.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):function(e,t,i){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,i);case"utf8":case"utf-8":return k(this,t,i);case"ascii":return D(this,t,i);case"latin1":case"binary":return E(this,t,i);case"base64":return x(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,i,n,r){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var o=r-n,s=i-t,a=Math.min(o,s),c=this.slice(n,r),h=e.slice(t,i),u=0;u<a;++u)if(c[u]!==h[u]){o=c[u],s=h[u];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},l.prototype.indexOf=function(e,t,i){return g(this,e,t,i,!0)},l.prototype.lastIndexOf=function(e,t,i){return g(this,e,t,i,!1)},l.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,i);case"utf8":case"utf-8":return _(this,e,t,i);case"ascii":return y(this,e,t,i);case"latin1":case"binary":return w(this,e,t,i);case"base64":return C(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function D(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function E(e,t,i){var n="";i=Math.min(e.length,i);for(var r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function N(e,t,i){var n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=t;o<i;++o)r+=B(e[o]);return r}function T(e,t,i){for(var n=e.slice(t,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function O(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,i,n,r,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<o)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function I(e,t,i,n){t<0&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-i,2);r<o;++r)e[i+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function A(e,t,i,n){t<0&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-i,4);r<o;++r)e[i+r]=t>>>8*(n?r:3-r)&255}function P(e,t,i,n,r,o){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function R(e,t,i,n,o){return o||P(e,0,i,4),r.write(e,t,i,n,23,4),i+4}function F(e,t,i,n,o){return o||P(e,0,i,8),r.write(e,t,i,n,52,8),i+8}l.prototype.slice=function(e,t){var i,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=l.prototype;else{var r=t-e;i=new l(r,void 0);for(var o=0;o<r;++o)i[o]=this[o+e]}return i},l.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||O(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);)n+=this[e+o]*r;return n},l.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||O(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},l.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||O(e,t,this.length);for(var n=this[e],r=1,o=0;++o<t&&(r*=256);)n+=this[e+o]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||O(e,t,this.length);for(var n=t,r=1,o=this[e+--n];n>0&&(r*=256);)o+=this[e+--n]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},l.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),r.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),r.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||M(this,e,t,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[t]=255&e;++o<i&&(r*=256);)this[t+o]=e/r&255;return t+i},l.prototype.writeUIntBE=function(e,t,i,n){(e=+e,t|=0,i|=0,n)||M(this,e,t,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+i},l.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):A(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);M(this,e,t,i,r-1,-r)}var o=0,s=1,a=0;for(this[t]=255&e;++o<i&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+i},l.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t|=0,!n){var r=Math.pow(2,8*i-1);M(this,e,t,i,r-1,-r)}var o=i-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+i},l.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):A(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,i){return R(this,e,t,!0,i)},l.prototype.writeFloatBE=function(e,t,i){return R(this,e,t,!1,i)},l.prototype.writeDoubleLE=function(e,t,i){return F(this,e,t,!0,i)},l.prototype.writeDoubleBE=function(e,t,i){return F(this,e,t,!1,i)},l.prototype.copy=function(e,t,i,n){if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var r,o=n-i;if(this===e&&i<t&&t<n)for(r=o-1;r>=0;--r)e[r+t]=this[r+i];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)e[r+t]=this[r+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+o),t);return o},l.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var o;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(o=t;o<i;++o)this[o]=e;else{var s=l.isBuffer(e)?e:W(new l(e,n).toString()),a=s.length;for(o=0;o<i-t;++o)this[o+t]=s[o%a]}return this};var V=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var i;t=t||1/0;for(var n=e.length,r=null,o=[],s=0;s<n;++s){if((i=e.charCodeAt(s))>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function $(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(V,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,i,n){for(var r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}}).call(t,i("DuR2"))},FeBl:function(e,t){var i=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=i)},FtD3:function(e,t,i){"use strict";var n=i("t8qj");e.exports=function(e,t,i,r,o){var s=new Error(e);return n(s,t,i,r,o)}},GHBc:function(e,t,i){"use strict";var n=i("cGG2");e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(e){var n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=r(window.location.href),function(t){var i=n.isString(t)?r(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}},GegP:function(e,t){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=119)}({0:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}i.d(t,"a",function(){return n})},119:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-progress",class:["el-progress--"+e.type,e.status?"is-"+e.status:"",{"el-progress--without-text":!e.showText,"el-progress--text-inside":e.textInside}],attrs:{role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===e.type?i("div",{staticClass:"el-progress-bar"},[i("div",{staticClass:"el-progress-bar__outer",style:{height:e.strokeWidth+"px"}},[i("div",{staticClass:"el-progress-bar__inner",style:e.barStyle},[e.showText&&e.textInside?i("div",{staticClass:"el-progress-bar__innerText"},[e._v(e._s(e.content))]):e._e()])])]):i("div",{staticClass:"el-progress-circle",style:{height:e.width+"px",width:e.width+"px"}},[i("svg",{attrs:{viewBox:"0 0 100 100"}},[i("path",{staticClass:"el-progress-circle__track",style:e.trailPathStyle,attrs:{d:e.trackPath,stroke:"#e5e9f2","stroke-width":e.relativeStrokeWidth,fill:"none"}}),i("path",{staticClass:"el-progress-circle__path",style:e.circlePathStyle,attrs:{d:e.trackPath,stroke:e.stroke,fill:"none","stroke-linecap":e.strokeLinecap,"stroke-width":e.percentage?e.relativeStrokeWidth:0}})])]),e.showText&&!e.textInside?i("div",{staticClass:"el-progress__text",style:{fontSize:e.progressTextSize+"px"}},[e.status?i("i",{class:e.iconClass}):[e._v(e._s(e.content))]],2):e._e()])};n._withStripped=!0;var r={name:"ElProgress",props:{type:{type:String,default:"line",validator:function(e){return["line","circle","dashboard"].indexOf(e)>-1}},percentage:{type:Number,default:0,required:!0,validator:function(e){return e>=0&&e<=100}},status:{type:String,validator:function(e){return["success","exception","warning"].indexOf(e)>-1}},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:Function},computed:{barStyle:function(){var e={};return e.width=this.percentage+"%",e.backgroundColor=this.getCurrentColor(this.percentage),e},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},radius:function(){return"circle"===this.type||"dashboard"===this.type?parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10):0},trackPath:function(){var e=this.radius,t="dashboard"===this.type;return"\n        M 50 50\n        m 0 "+(t?"":"-")+e+"\n        a "+e+" "+e+" 0 1 1 0 "+(t?"-":"")+2*e+"\n        a "+e+" "+e+" 0 1 1 0 "+(t?"":"-")+2*e+"\n        "},perimeter:function(){return 2*Math.PI*this.radius},rate:function(){return"dashboard"===this.type?.75:1},strokeDashoffset:function(){return-1*this.perimeter*(1-this.rate)/2+"px"},trailPathStyle:function(){return{strokeDasharray:this.perimeter*this.rate+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset}},circlePathStyle:function(){return{strokeDasharray:this.perimeter*this.rate*(this.percentage/100)+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var e=void 0;if(this.color)e=this.getCurrentColor(this.percentage);else switch(this.status){case"success":e="#13ce66";break;case"exception":e="#ff4949";break;case"warning":e="#e6a23c";break;default:e="#20a0ff"}return e},iconClass:function(){return"warning"===this.status?"el-icon-warning":"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-close":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2},content:function(){return"function"==typeof this.format?this.format(this.percentage)||"":this.percentage+"%"}},methods:{getCurrentColor:function(e){return"function"==typeof this.color?this.color(e):"string"==typeof this.color?this.color:this.getLevelColor(e)},getLevelColor:function(e){for(var t=this.getColorArray().sort(function(e,t){return e.percentage-t.percentage}),i=0;i<t.length;i++)if(t[i].percentage>e)return t[i].color;return t[t.length-1].color},getColorArray:function(){var e=this.color,t=100/e.length;return e.map(function(e,i){return"string"==typeof e?{color:e,percentage:(i+1)*t}:e})}}},o=i(0),s=Object(o.a)(r,n,[],!1,null,null,null);s.options.__file="packages/progress/src/progress.vue";var a=s.exports;a.install=function(e){e.component(a.name,a)};t.default=a}})},H8dH:function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e||!t)throw new Error("instance & callback is required");var r=!1,o=function(){r||(r=!0,t&&t.apply(null,arguments))};n?e.$once("after-leave",o):e.$on("after-leave",o),setTimeout(function(){o()},i+100)}},HJMx:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=76)}({0:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}i.d(t,"a",function(){return n})},11:function(e,t){e.exports=i("aW5l")},21:function(e,t){e.exports=i("E/in")},4:function(e,t){e.exports=i("fPll")},76:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"is-exceed":e.inputExceed,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword}],on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},["textarea"!==e.type?[e.$slots.prepend?i("div",{staticClass:"el-input-group__prepend"},[e._t("prepend")],2):e._e(),"textarea"!==e.type?i("input",e._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:e.tabindex,type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"input",e.$attrs,!1)):e._e(),e.$slots.prefix||e.prefixIcon?i("span",{staticClass:"el-input__prefix"},[e._t("prefix"),e.prefixIcon?i("i",{staticClass:"el-input__icon",class:e.prefixIcon}):e._e()],2):e._e(),e.getSuffixVisible()?i("span",{staticClass:"el-input__suffix"},[i("span",{staticClass:"el-input__suffix-inner"},[e.showClear&&e.showPwdVisible&&e.isWordLimitVisible?e._e():[e._t("suffix"),e.suffixIcon?i("i",{staticClass:"el-input__icon",class:e.suffixIcon}):e._e()],e.showClear?i("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(e){e.preventDefault()},click:e.clear}}):e._e(),e.showPwdVisible?i("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:e.handlePasswordVisible}}):e._e(),e.isWordLimitVisible?i("span",{staticClass:"el-input__count"},[i("span",{staticClass:"el-input__count-inner"},[e._v("\n            "+e._s(e.textLength)+"/"+e._s(e.upperLimit)+"\n          ")])]):e._e()],2),e.validateState?i("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",e.validateIcon]}):e._e()]):e._e(),e.$slots.append?i("div",{staticClass:"el-input-group__append"},[e._t("append")],2):e._e()]:i("textarea",e._b({ref:"textarea",staticClass:"el-textarea__inner",style:e.textareaStyle,attrs:{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"textarea",e.$attrs,!1)),e.isWordLimitVisible&&"textarea"===e.type?i("span",{staticClass:"el-input__count"},[e._v(e._s(e.textLength)+"/"+e._s(e.upperLimit))]):e._e()],2)};n._withStripped=!0;var r=i(4),o=i.n(r),s=i(11),a=i.n(s),l=void 0,c="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",h=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l||(l=document.createElement("textarea"),document.body.appendChild(l));var n=function(e){var t=window.getComputedStyle(e),i=t.getPropertyValue("box-sizing"),n=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),r=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:h.map(function(e){return e+":"+t.getPropertyValue(e)}).join(";"),paddingSize:n,borderSize:r,boxSizing:i}}(e),r=n.paddingSize,o=n.borderSize,s=n.boxSizing,a=n.contextStyle;l.setAttribute("style",a+";"+c),l.value=e.value||e.placeholder||"";var u=l.scrollHeight,d={};"border-box"===s?u+=o:"content-box"===s&&(u-=r),l.value="";var f=l.scrollHeight-r;if(null!==t){var p=f*t;"border-box"===s&&(p=p+r+o),u=Math.max(p,u),d.minHeight=p+"px"}if(null!==i){var m=f*i;"border-box"===s&&(m=m+r+o),u=Math.min(m,u)}return d.height=u+"px",l.parentNode&&l.parentNode.removeChild(l),l=null,d}var d=i(9),f=i.n(d),p=i(21),m={name:"ElInput",componentName:"ElInput",mixins:[o.a,a.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return f()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(e){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[e])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var e=this;this.$nextTick(function(){e.setNativeInputValue(),e.resizeTextarea(),e.updateIconOffset()})}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var e=this.autosize;if("textarea"===this.type)if(e){var t=e.minRows,i=e.maxRows;this.textareaCalcStyle=u(this.$refs.textarea,t,i)}else this.textareaCalcStyle={minHeight:u(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},handleFocus:function(e){this.focused=!0,this.$emit("focus",e)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(e){var t=e.target.value,i=t[t.length-1]||"";this.isComposing=!Object(p.isKorean)(i)},handleCompositionEnd:function(e){this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handleInput:function(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(e){this.$emit("change",e.target.value)},calcIconOffset:function(e){var t=[].slice.call(this.$el.querySelectorAll(".el-input__"+e)||[]);if(t.length){for(var i=null,n=0;n<t.length;n++)if(t[n].parentNode===this.$el){i=t[n];break}if(i){var r={suffix:"append",prefix:"prepend"}[e];this.$slots[r]?i.style.transform="translateX("+("suffix"===e?"-":"")+this.$el.querySelector(".el-input-group__"+r).offsetWidth+"px)":i.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},g=i(0),v=Object(g.a)(m,n,[],!1,null,null,null);v.options.__file="packages/input/src/input.vue";var b=v.exports;b.install=function(e){e.component(b.name,b)};t.default=b},9:function(e,t){e.exports=i("jmaC")}})},HzcN:function(e,t,i){var n=i("uY1a"),r=i("ON3O");e.exports={throttle:n,debounce:r}},ISYW:function(e,t,i){"use strict";t.__esModule=!0;var n,r=i("7+uW"),o=(n=r)&&n.__esModule?n:{default:n},s=i("2kvA");var a=[],l="@@clickoutsideContext",c=void 0,h=0;function u(e,t,i){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(i&&i.context&&n.target&&r.target)||e.contains(n.target)||e.contains(r.target)||e===n.target||i.context.popperElm&&(i.context.popperElm.contains(n.target)||i.context.popperElm.contains(r.target))||(t.expression&&e[l].methodName&&i.context[e[l].methodName]?i.context[e[l].methodName]():e[l].bindingFn&&e[l].bindingFn())}}!o.default.prototype.$isServer&&(0,s.on)(document,"mousedown",function(e){return c=e}),!o.default.prototype.$isServer&&(0,s.on)(document,"mouseup",function(e){a.forEach(function(t){return t[l].documentHandler(e,c)})}),t.default={bind:function(e,t,i){a.push(e);var n=h++;e[l]={id:n,documentHandler:u(e,t,i),methodName:t.expression,bindingFn:t.value}},update:function(e,t,i){e[l].documentHandler=u(e,t,i),e[l].methodName=t.expression,e[l].bindingFn=t.value},unbind:function(e){for(var t=a.length,i=0;i<t;i++)if(a[i][l].id===e[l].id){a.splice(i,1);break}delete e[l]}}},Ibhu:function(e,t,i){var n=i("D2L2"),r=i("TcQ7"),o=i("vFc/")(!1),s=i("ax3d")("IE_PROTO");e.exports=function(e,t){var i,a=r(e),l=0,c=[];for(i in a)i!=s&&n(a,i)&&c.push(i);for(;t.length>l;)n(a,i=t[l++])&&(~o(c,i)||c.push(i));return c}},"JP+z":function(e,t,i){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return e.apply(t,i)}}},KCLY:function(e,t,i){"use strict";(function(t){var n=i("cGG2"),r=i("5VQ+"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,l={adapter:("undefined"!=typeof XMLHttpRequest?a=i("7GwW"):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(a=i("7GwW")),a),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};l.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],function(e){l.headers[e]={}}),n.forEach(["post","put","patch"],function(e){l.headers[e]=n.merge(o)}),e.exports=l}).call(t,i("W2nU"))},Kh4W:function(e,t,i){t.f=i("dSzd")},Kk9m:function(e,t,i){(function(e){"use strict";e.defineOption("foldGutter",!1,function(t,i,n){n&&n!=e.Init&&(t.clearGutter(t.state.foldGutter.options.gutter),t.state.foldGutter=null,t.off("gutterClick",a),t.off("changes",l),t.off("viewportChange",c),t.off("fold",h),t.off("unfold",h),t.off("swapDoc",l)),i&&(t.state.foldGutter=new function(e){this.options=e,this.from=this.to=0}(function(e){!0===e&&(e={});null==e.gutter&&(e.gutter="CodeMirror-foldgutter");null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open");null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded");return e}(i)),s(t),t.on("gutterClick",a),t.on("changes",l),t.on("viewportChange",c),t.on("fold",h),t.on("unfold",h),t.on("swapDoc",l))});var t=e.Pos;function i(e,i){for(var n=e.findMarks(t(i,0),t(i+1,0)),r=0;r<n.length;++r)if(n[r].__isFold){var o=n[r].find(-1);if(o&&o.line===i)return n[r]}}function n(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function r(e,r,s){var a=e.state.foldGutter.options,l=r-1,c=e.foldOption(a,"minFoldSize"),h=e.foldOption(a,"rangeFinder"),u="string"==typeof a.indicatorFolded&&o(a.indicatorFolded),d="string"==typeof a.indicatorOpen&&o(a.indicatorOpen);e.eachLine(r,s,function(r){++l;var o=null,s=r.gutterMarkers;if(s&&(s=s[a.gutter]),i(e,l)){if(u&&s&&u.test(s.className))return;o=n(a.indicatorFolded)}else{var f=t(l,0),p=h&&h(e,f);if(p&&p.to.line-p.from.line>=c){if(d&&s&&d.test(s.className))return;o=n(a.indicatorOpen)}}(o||s)&&e.setGutterMarker(r,a.gutter,o)})}function o(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function s(e){var t=e.getViewport(),i=e.state.foldGutter;i&&(e.operation(function(){r(e,t.from,t.to)}),i.from=t.from,i.to=t.to)}function a(e,n,r){var o=e.state.foldGutter;if(o){var s=o.options;if(r==s.gutter){var a=i(e,n);a?a.clear():e.foldCode(t(n,0),s)}}}function l(e){var t=e.state.foldGutter;if(t){var i=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){s(e)},i.foldOnChangeTimeSpan||600)}}function c(e){var t=e.state.foldGutter;if(t){var i=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var i=e.getViewport();t.from==t.to||i.from-t.to>20||t.from-i.to>20?s(e):e.operation(function(){i.from<t.from&&(r(e,i.from,t.from),t.from=i.from),i.to>t.to&&(r(e,t.to,i.to),t.to=i.to)})},i.updateViewportTimeSpan||400)}}function h(e,t){var i=e.state.foldGutter;if(i){var n=t.line;n>=i.from&&n<i.to&&r(e,n,n+1)}}})(i("8U58"),i("THjC"))},LKZe:function(e,t,i){var n=i("NpIQ"),r=i("X8DO"),o=i("TcQ7"),s=i("MmMw"),a=i("D2L2"),l=i("SfB7"),c=Object.getOwnPropertyDescriptor;t.f=i("+E39")?c:function(e,t){if(e=o(e),t=s(t,!0),l)try{return c(e,t)}catch(e){}if(a(e,t))return r(!n.f.call(e,t),e[t])}},M6a0:function(e,t){},MU5D:function(e,t,i){var n=i("R9M2");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},MmMw:function(e,t,i){var n=i("EqjI");e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},NMof:function(e,t,i){"use strict";var n,r;"function"==typeof Symbol&&Symbol.iterator;void 0===(r="function"==typeof(n=function(){var e=window,t={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function i(e,i,n){this._reference=e.jquery?e[0]:e,this.state={};var r=void 0===i||null===i,o=i&&"[object Object]"===Object.prototype.toString.call(i);return this._popper=r||o?this.parse(o?i:{}):i.jquery?i[0]:i,this._options=Object.assign({},t,n),this._options.modifiers=this._options.modifiers.map(function(e){if(-1===this._options.modifiersIgnored.indexOf(e))return"applyStyle"===e&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[e]||e}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),h(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function n(t){var i=t.style.display,n=t.style.visibility;t.style.display="block",t.style.visibility="hidden";t.offsetWidth;var r=e.getComputedStyle(t),o=parseFloat(r.marginTop)+parseFloat(r.marginBottom),s=parseFloat(r.marginLeft)+parseFloat(r.marginRight),a={width:t.offsetWidth+s,height:t.offsetHeight+o};return t.style.display=i,t.style.visibility=n,a}function r(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function o(e){var t=Object.assign({},e);return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function s(e,t){var i,n=0;for(i in e){if(e[i]===t)return n;n++}return null}function a(t,i){return e.getComputedStyle(t,null)[i]}function l(t){var i=t.offsetParent;return i!==e.document.body&&i?i:e.document.documentElement}function c(t){var i=t.parentNode;return i?i===e.document?e.document.body.scrollTop||e.document.body.scrollLeft?e.document.body:e.document.documentElement:-1!==["scroll","auto"].indexOf(a(i,"overflow"))||-1!==["scroll","auto"].indexOf(a(i,"overflow-x"))||-1!==["scroll","auto"].indexOf(a(i,"overflow-y"))?i:c(t.parentNode):t}function h(e,t){Object.keys(t).forEach(function(i){var n,r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&(""!==(n=t[i])&&!isNaN(parseFloat(n))&&isFinite(n))&&(r="px"),e.style[i]=t[i]+r})}function u(e){var t={width:e.offsetWidth,height:e.offsetHeight,left:e.offsetLeft,top:e.offsetTop};return t.right=t.left+t.width,t.bottom=t.top+t.height,t}function d(e){var t=e.getBoundingClientRect(),i=-1!=navigator.userAgent.indexOf("MSIE")&&"HTML"===e.tagName?-e.scrollTop:t.top;return{left:t.left,top:i,right:t.right,bottom:t.bottom,width:t.right-t.left,height:t.bottom-i}}function f(t){for(var i=["","ms","webkit","moz","o"],n=0;n<i.length;n++){var r=i[n]?i[n]+t.charAt(0).toUpperCase()+t.slice(1):t;if(void 0!==e.document.body.style[r])return r}return null}return i.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[f("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},i.prototype.update=function(){var e={instance:this,styles:{}};e.placement=this._options.placement,e._originalPlacement=this._options.placement,e.offsets=this._getOffsets(this._popper,this._reference,e.placement),e.boundaries=this._getBoundaries(e,this._options.boundariesPadding,this._options.boundariesElement),e=this.runModifiers(e,this._options.modifiers),"function"==typeof this.state.updateCallback&&this.state.updateCallback(e)},i.prototype.onCreate=function(e){return e(this),this},i.prototype.onUpdate=function(e){return this.state.updateCallback=e,this},i.prototype.parse=function(t){var i={tagName:"div",classNames:["popper"],attributes:[],parent:e.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};t=Object.assign({},i,t);var n=e.document,r=n.createElement(t.tagName);if(a(r,t.classNames),l(r,t.attributes),"node"===t.contentType?r.appendChild(t.content.jquery?t.content[0]:t.content):"html"===t.contentType?r.innerHTML=t.content:r.textContent=t.content,t.arrowTagName){var o=n.createElement(t.arrowTagName);a(o,t.arrowClassNames),l(o,t.arrowAttributes),r.appendChild(o)}var s=t.parent.jquery?t.parent[0]:t.parent;if("string"==typeof s){if((s=n.querySelectorAll(t.parent)).length>1&&console.warn("WARNING: the given `parent` query("+t.parent+") matched more than one element, the first one will be used"),0===s.length)throw"ERROR: the given `parent` doesn't exists!";s=s[0]}return s.length>1&&s instanceof Element==!1&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),s=s[0]),s.appendChild(r),r;function a(e,t){t.forEach(function(t){e.classList.add(t)})}function l(e,t){t.forEach(function(t){e.setAttribute(t.split(":")[0],t.split(":")[1]||"")})}},i.prototype._getPosition=function(t,i){l(i);return this._options.forceAbsolute?"absolute":function t(i){if(i===e.document.body)return!1;if("fixed"===a(i,"position"))return!0;return i.parentNode?t(i.parentNode):i}(i)?"fixed":"absolute"},i.prototype._getOffsets=function(e,t,i){i=i.split("-")[0];var r={};r.position=this.state.position;var o="fixed"===r.position,s=function(e,t,i){var n=d(e),r=d(t);if(i){var o=c(t);r.top+=o.scrollTop,r.bottom+=o.scrollTop,r.left+=o.scrollLeft,r.right+=o.scrollLeft}return{top:n.top-r.top,left:n.left-r.left,bottom:n.top-r.top+n.height,right:n.left-r.left+n.width,width:n.width,height:n.height}}(t,l(e),o),a=n(e);return-1!==["right","left"].indexOf(i)?(r.top=s.top+s.height/2-a.height/2,r.left="left"===i?s.left-a.width:s.right):(r.left=s.left+s.width/2-a.width/2,r.top="top"===i?s.top-a.height:s.bottom),r.width=a.width,r.height=a.height,{popper:r,reference:s}},i.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),e.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var t=c(this._reference);t!==e.document.body&&t!==e.document.documentElement||(t=e),t.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=t}},i.prototype._removeEventListeners=function(){e.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},i.prototype._getBoundaries=function(t,i,n){var r,o,s={};if("window"===n){var a=e.document.body,h=e.document.documentElement;r=Math.max(a.scrollHeight,a.offsetHeight,h.clientHeight,h.scrollHeight,h.offsetHeight),s={top:0,right:Math.max(a.scrollWidth,a.offsetWidth,h.clientWidth,h.scrollWidth,h.offsetWidth),bottom:r,left:0}}else if("viewport"===n){var d=l(this._popper),f=c(this._popper),p=u(d),m="fixed"===t.offsets.popper.position?0:(o=f)==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):o.scrollTop,g="fixed"===t.offsets.popper.position?0:function(e){return e==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):e.scrollLeft}(f);s={top:0-(p.top-m),right:e.document.documentElement.clientWidth-(p.left-g),bottom:e.document.documentElement.clientHeight-(p.top-m),left:0-(p.left-g)}}else s=l(this._popper)===n?{top:0,left:0,right:n.clientWidth,bottom:n.clientHeight}:u(n);return s.left+=i,s.right-=i,s.top=s.top+i,s.bottom=s.bottom-i,s},i.prototype.runModifiers=function(e,t,i){var n=t.slice();return void 0!==i&&(n=this._options.modifiers.slice(0,s(this._options.modifiers,i))),n.forEach(function(t){var i;(i=t)&&"[object Function]"==={}.toString.call(i)&&(e=t.call(this,e))}.bind(this)),e},i.prototype.isModifierRequired=function(e,t){var i=s(this._options.modifiers,e);return!!this._options.modifiers.slice(0,i).filter(function(e){return e===t}).length},i.prototype.modifiers={},i.prototype.modifiers.applyStyle=function(e){var t,i={position:e.offsets.popper.position},n=Math.round(e.offsets.popper.left),r=Math.round(e.offsets.popper.top);return this._options.gpuAcceleration&&(t=f("transform"))?(i[t]="translate3d("+n+"px, "+r+"px, 0)",i.top=0,i.left=0):(i.left=n,i.top=r),Object.assign(i,e.styles),h(this._popper,i),this._popper.setAttribute("x-placement",e.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&e.offsets.arrow&&h(e.arrowElement,e.offsets.arrow),e},i.prototype.modifiers.shift=function(e){var t=e.placement,i=t.split("-")[0],n=t.split("-")[1];if(n){var r=e.offsets.reference,s=o(e.offsets.popper),a={y:{start:{top:r.top},end:{top:r.top+r.height-s.height}},x:{start:{left:r.left},end:{left:r.left+r.width-s.width}}},l=-1!==["bottom","top"].indexOf(i)?"x":"y";e.offsets.popper=Object.assign(s,a[l][n])}return e},i.prototype.modifiers.preventOverflow=function(e){var t=this._options.preventOverflowOrder,i=o(e.offsets.popper),n={left:function(){var t=i.left;return i.left<e.boundaries.left&&(t=Math.max(i.left,e.boundaries.left)),{left:t}},right:function(){var t=i.left;return i.right>e.boundaries.right&&(t=Math.min(i.left,e.boundaries.right-i.width)),{left:t}},top:function(){var t=i.top;return i.top<e.boundaries.top&&(t=Math.max(i.top,e.boundaries.top)),{top:t}},bottom:function(){var t=i.top;return i.bottom>e.boundaries.bottom&&(t=Math.min(i.top,e.boundaries.bottom-i.height)),{top:t}}};return t.forEach(function(t){e.offsets.popper=Object.assign(i,n[t]())}),e},i.prototype.modifiers.keepTogether=function(e){var t=o(e.offsets.popper),i=e.offsets.reference,n=Math.floor;return t.right<n(i.left)&&(e.offsets.popper.left=n(i.left)-t.width),t.left>n(i.right)&&(e.offsets.popper.left=n(i.right)),t.bottom<n(i.top)&&(e.offsets.popper.top=n(i.top)-t.height),t.top>n(i.bottom)&&(e.offsets.popper.top=n(i.bottom)),e},i.prototype.modifiers.flip=function(e){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),e;if(e.flipped&&e.placement===e._originalPlacement)return e;var t=e.placement.split("-")[0],i=r(t),n=e.placement.split("-")[1]||"",s=[];return(s="flip"===this._options.flipBehavior?[t,i]:this._options.flipBehavior).forEach(function(a,l){if(t===a&&s.length!==l+1){t=e.placement.split("-")[0],i=r(t);var c=o(e.offsets.popper),h=-1!==["right","bottom"].indexOf(t);(h&&Math.floor(e.offsets.reference[t])>Math.floor(c[i])||!h&&Math.floor(e.offsets.reference[t])<Math.floor(c[i]))&&(e.flipped=!0,e.placement=s[l+1],n&&(e.placement+="-"+n),e.offsets.popper=this._getOffsets(this._popper,this._reference,e.placement).popper,e=this.runModifiers(e,this._options.modifiers,this._flip))}}.bind(this)),e},i.prototype.modifiers.offset=function(e){var t=this._options.offset,i=e.offsets.popper;return-1!==e.placement.indexOf("left")?i.top-=t:-1!==e.placement.indexOf("right")?i.top+=t:-1!==e.placement.indexOf("top")?i.left-=t:-1!==e.placement.indexOf("bottom")&&(i.left+=t),e},i.prototype.modifiers.arrow=function(e){var t=this._options.arrowElement,i=this._options.arrowOffset;if("string"==typeof t&&(t=this._popper.querySelector(t)),!t)return e;if(!this._popper.contains(t))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),e;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),e;var r={},s=e.placement.split("-")[0],a=o(e.offsets.popper),l=e.offsets.reference,c=-1!==["left","right"].indexOf(s),h=c?"height":"width",u=c?"top":"left",d=c?"left":"top",f=c?"bottom":"right",p=n(t)[h];l[f]-p<a[u]&&(e.offsets.popper[u]-=a[u]-(l[f]-p)),l[u]+p>a[f]&&(e.offsets.popper[u]+=l[u]+p-a[f]);var m=l[u]+(i||l[h]/2-p/2)-a[u];return m=Math.max(Math.min(a[h]-p-8,m),8),r[u]=m,r[d]="",e.offsets.arrow=r,e.arrowElement=t,e},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n){n=Object(n);for(var r=Object.keys(n),o=0,s=r.length;o<s;o++){var a=r[o],l=Object.getOwnPropertyDescriptor(n,a);void 0!==l&&l.enumerable&&(t[a]=n[a])}}}return t}}),i})?n.call(t,i,t,e):n)||(e.exports=r)},NpIQ:function(e,t){t.f={}.propertyIsEnumerable},Ny4g:function(e,t,i){"use strict";function n(e,t,...i){return function(e,t){let i;return i=0===t.length?e:e.replace(/\{(\d+)\}/g,function(e,i){const n=i[0];return void 0!==t[n]?t[n]:e})}(t,i)}var r=i("ZfGv");const o="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";const s=function(e=""){let t="(-?\\d*\\.\\d\\w*)|([^";for(const i of o)e.indexOf(i)>=0||(t+="\\"+i);return t+="\\s]+)",new RegExp(t,"g")}();function a(e){let t=s;if(e&&e instanceof RegExp)if(e.global)t=e;else{let i="g";e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),e.unicode&&(i+="u"),t=new RegExp(e.source,i)}return t.lastIndex=0,t}const l={maxLen:1e3,windowSize:15,timeBudget:150};function c(e,t,i,n,r=l){if(i.length>r.maxLen){let o=e-r.maxLen/2;return o<0?(n+=e,o=0):n+=o,c(e,t,i=i.substring(o,e+r.maxLen/2),n,r)}Date.now();const o=e-1-n;let s=-1,a=null;for(let e=1;;e++){Date.now(),r.timeBudget;const n=o-r.windowSize*e;t.lastIndex=Math.max(0,n);const l=h(t,i,o,s);if(!l&&a)break;if(a=l,n<=0)break;s=n}if(a){let e={word:a[0],startColumn:n+1+a.index,endColumn:n+1+a.index+a[0].length};return t.lastIndex=0,e}return null}function h(e,t,i,n){let r;for(;r=e.exec(t);){const t=r.index||0;if(t<=i&&e.lastIndex>=i)return r;if(n>0&&t>n)return null}return null}const u=8;class d{constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class f{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class p{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class m{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}compute(e,t,i){return i}}class g{constructor(e,t=null){this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0,this.deps=t}validate(e){return this.defaultValue}}class v{constructor(e,t,i,n){this.id=e,this.name=t,this.defaultValue=i,this.schema=n}validate(e){return void 0===e?this.defaultValue:e}compute(e,t,i){return i}}class b extends v{static boolean(e,t){return void 0===e?t:"false"!==e&&Boolean(e)}constructor(e,t,i,n){void 0!==n&&(n.type="boolean",n.default=i),super(e,t,i,n)}validate(e){return b.boolean(e,this.defaultValue)}}class _ extends v{constructor(e,t,i,n,r,o){void 0!==o&&(o.type="integer",o.default=i,o.minimum=n,o.maximum=r),super(e,t,i,o),this.minimum=n,this.maximum=r}static clampedInt(e,t,i,n){if(void 0===e)return t;let r=parseInt(e,10);return isNaN(r)?t:(r=Math.max(i,r),0|(r=Math.min(n,r)))}validate(e){return _.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}class y extends v{constructor(e,t,i,n,r){void 0!==r&&(r.type="number",r.default=i),super(e,t,i,r),this.validationFn=n}static clamp(e,t,i){return e<t?t:e>i?i:e}static float(e,t){if("number"==typeof e)return e;if(void 0===e)return t;const i=parseFloat(e);return isNaN(i)?t:i}validate(e){return this.validationFn(y.float(e,this.defaultValue))}}class w extends v{static string(e,t){return"string"!=typeof e?t:e}constructor(e,t,i,n){void 0!==n&&(n.type="string",n.default=i),super(e,t,i,n)}validate(e){return w.string(e,this.defaultValue)}}class C extends v{constructor(e,t,i,n,r){void 0!==r&&(r.type="string",r.enum=n,r.default=i),super(e,t,i,r),this._allowedValues=n}static stringSet(e,t,i){return"string"!=typeof e?t:-1===i.indexOf(e)?t:e}validate(e){return C.stringSet(e,this.defaultValue,this._allowedValues)}}class S extends m{constructor(e,t,i,n,r,o,s){void 0!==s&&(s.type="string",s.enum=r,s.default=n),super(e,t,i,s),this._allowedValues=r,this._convert=o}validate(e){return"string"!=typeof e?this.defaultValue:-1===this._allowedValues.indexOf(e)?this.defaultValue:this._convert(e)}}var x;!function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(x||(x={}));class k extends m{constructor(){super(37,"fontLigatures",k.OFF,{anyOf:[{type:"boolean",description:n(0,"Enables/Disables font ligatures.")},{type:"string",description:n(0,"Explicit font-feature-settings.")}],description:n(0,"Configures font ligatures or font features."),default:!1})}validate(e){return void 0===e?this.defaultValue:"string"==typeof e?"false"===e?k.OFF:"true"===e?k.ON:e:Boolean(e)?k.ON:k.OFF}}k.OFF='"liga" off, "calt" off',k.ON='"liga" on, "calt" on';class L extends m{constructor(){super(39,"fontWeight",T.fontWeight,{anyOf:[{type:"number",minimum:L.MINIMUM_VALUE,maximum:L.MAXIMUM_VALUE,errorMessage:n(0,'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:L.SUGGESTION_VALUES}],default:T.fontWeight,description:n(0,'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return"normal"===e||"bold"===e?e:String(_.clampedInt(e,T.fontWeight,L.MINIMUM_VALUE,L.MAXIMUM_VALUE))}}L.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],L.MINIMUM_VALUE=1,L.MAXIMUM_VALUE=1e3;class D extends g{constructor(){super(117,[42,50,31,56,84,52,53,86,106,109,110,2])}compute(e,t,i){return D.computeLayout(t,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})}static computeContainedMinimapLineCount(e){const t=e.height/e.lineHeight,i=e.scrollBeyondLastLine?t-1:0,n=(e.viewLineCount+i)/(e.pixelRatio*e.height);return{typicalViewportLineCount:t,extraLinesBeyondLastLine:i,desiredRatio:n,minimapLineCount:Math.floor(e.viewLineCount/n)}}static _computeMinimapLayout(e,t){const i=e.outerWidth,n=e.outerHeight,r=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(r*n),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:n};const o=t.stableMinimapLayoutInput,s=o&&e.outerHeight===o.outerHeight&&e.lineHeight===o.lineHeight&&e.typicalHalfwidthCharacterWidth===o.typicalHalfwidthCharacterWidth&&e.pixelRatio===o.pixelRatio&&e.scrollBeyondLastLine===o.scrollBeyondLastLine&&e.minimap.enabled===o.minimap.enabled&&e.minimap.side===o.minimap.side&&e.minimap.size===o.minimap.size&&e.minimap.showSlider===o.minimap.showSlider&&e.minimap.renderCharacters===o.minimap.renderCharacters&&e.minimap.maxColumn===o.minimap.maxColumn&&e.minimap.scale===o.minimap.scale&&e.verticalScrollbarWidth===o.verticalScrollbarWidth&&e.isViewportWrapping===o.isViewportWrapping,a=e.lineHeight,l=e.typicalHalfwidthCharacterWidth,c=e.scrollBeyondLastLine,h=e.minimap.renderCharacters;let d=r>=2?Math.round(2*e.minimap.scale):e.minimap.scale;const f=e.minimap.maxColumn,p=e.minimap.size,m=e.minimap.side,g=e.verticalScrollbarWidth,v=e.viewLineCount,b=e.remainingWidth,_=e.isViewportWrapping,y=h?2:3;let w=Math.floor(r*n);const C=w/r;let S=!1,x=!1,k=y*d,L=d/r,E=1;if("fill"===p||"fit"===p){const{typicalViewportLineCount:i,extraLinesBeyondLastLine:o,desiredRatio:l,minimapLineCount:h}=D.computeContainedMinimapLineCount({viewLineCount:v,scrollBeyondLastLine:c,height:n,lineHeight:a,pixelRatio:r});if(v/h>1)S=!0,x=!0,k=1,L=(d=1)/r;else{let n=!1,c=d+1;if("fit"===p){const i=Math.ceil((v+o)*k);_&&s&&b<=t.stableFitRemainingWidth?(n=!0,c=t.stableFitMaxMinimapScale):(n=i>w,_&&n?(t.stableMinimapLayoutInput=e,t.stableFitRemainingWidth=b):(t.stableMinimapLayoutInput=null,t.stableFitRemainingWidth=0))}if("fill"===p||n){S=!0;const e=d;k=Math.min(a*r,Math.max(1,Math.floor(1/l))),(d=Math.min(c,Math.max(1,Math.floor(k/y))))>e&&(E=Math.min(2,d/e)),L=d/r/E,w=Math.ceil(Math.max(i,v+o)*k),_&&n&&(t.stableFitMaxMinimapScale=d)}}}const N=Math.floor(f*L),T=Math.min(N,Math.max(0,Math.floor((b-g-2)*L/(l+L)))+u);let O=Math.floor(r*T);const M=O/r;return O=Math.floor(O*E),{renderMinimap:h?1:2,minimapLeft:"left"===m?0:i-T-g,minimapWidth:T,minimapHeightIsEditorHeight:S,minimapIsSampling:x,minimapScale:d,minimapLineHeight:k,minimapCanvasInnerWidth:O,minimapCanvasInnerHeight:w,minimapCanvasOuterWidth:M,minimapCanvasOuterHeight:C}}static computeLayout(e,t){const i=0|t.outerWidth,n=0|t.outerHeight,r=0|t.lineHeight,o=0|t.lineNumbersDigitCount,s=t.typicalHalfwidthCharacterWidth,a=t.maxDigitWidth,l=t.pixelRatio,c=t.viewLineCount,h=e.get(106),u=e.get(109),d=e.get(110),f=e.get(2),m=t.isDominatedByLongLines,g=e.get(42),v=0!==e.get(52).renderType,b=e.get(53),y=e.get(86),w=e.get(56),C=e.get(84),S=C.verticalScrollbarSize,x=C.verticalHasArrows,k=C.arrowSize,L=C.horizontalScrollbarSize,E=e.get(50),N=e.get(31);let T;if("string"==typeof E&&/^\d+(\.\d+)?ch$/.test(E)){const e=parseFloat(E.substr(0,E.length-2));T=_.clampedInt(e*s,0,0,1e3)}else T=_.clampedInt(E,0,0,1e3);N&&(T+=16);let O=0;if(v){const e=Math.max(o,b);O=Math.round(e*a)}let M=0;g&&(M=r);let I=0,A=I+M,P=A+O,R=P+T;const F=i-M-O-T;let V=!1,B=!1,W=-1;2!==f&&(d&&m?(V=!0,B=!0):"on"===h||"bounded"===h?B=!0:"wordWrapColumn"===h&&(W=u));const $=D._computeMinimapLayout({outerWidth:i,outerHeight:n,lineHeight:r,typicalHalfwidthCharacterWidth:s,pixelRatio:l,scrollBeyondLastLine:y,minimap:w,verticalScrollbarWidth:S,viewLineCount:c,remainingWidth:F,isViewportWrapping:B},t.memory||new p);0!==$.renderMinimap&&0===$.minimapLeft&&(I+=$.minimapWidth,A+=$.minimapWidth,P+=$.minimapWidth,R+=$.minimapWidth);const z=F-$.minimapWidth,H=Math.max(1,Math.floor((z-S-2)/s)),j=x?k:0;return B&&(W=Math.max(1,H),"bounded"===h&&(W=Math.min(W,u))),{width:i,height:n,glyphMarginLeft:I,glyphMarginWidth:M,lineNumbersLeft:A,lineNumbersWidth:O,decorationsLeft:P,decorationsWidth:T,contentLeft:R,contentWidth:z,minimap:$,viewportColumn:H,isWordWrapMinified:V,isViewportWrapping:B,wrappingColumn:W,verticalScrollbarWidth:S,horizontalScrollbarHeight:L,overviewRuler:{top:j,width:S,height:n-2*j,right:0}}}}function E(e){const t=e.get(79);return"editable"===t?e.get(72):"on"!==t}function N(e,t){if("string"!=typeof e)return t;switch(e){case"hidden":return 2;case"visible":return 3;default:return 1}}const T={fontFamily:r.f?"Menlo, Monaco, 'Courier New', monospace":r.d?"'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:r.f?12:14,lineHeight:0,letterSpacing:0},O=4,M=4,I=!0,A=!0,P=!0,R=!0,F=[];function V(e){return F[e.id]=e,e}const B={acceptSuggestionOnCommitCharacter:V(new b(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:n(0,"Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:V(new C(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",n(0,"Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:n(0,"Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:V(new class extends m{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[n(0,"The editor will use platform APIs to detect when a Screen Reader is attached."),n(0,"The editor will be permanently optimized for usage with a Screen Reader."),n(0,"The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:n(0,"Controls whether the editor should run in a mode where it is optimized for screen readers.")})}validate(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(e,t,i){return 0===i?e.accessibilitySupport:i}}),accessibilityPageSize:V(new _(3,"accessibilityPageSize",10,1,1073741824,{description:n(0,"Controls the number of lines in the editor that can be read out by a screen reader. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:V(new w(4,"ariaLabel",n(0,"Editor content"))),autoClosingBrackets:V(new C(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",n(0,"Use language configurations to determine when to autoclose brackets."),n(0,"Autoclose brackets only when the cursor is to the left of whitespace."),""],description:n(0,"Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingOvertype:V(new C(6,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",n(0,"Type over closing quotes or brackets only if they were automatically inserted."),""],description:n(0,"Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:V(new C(7,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",n(0,"Use language configurations to determine when to autoclose quotes."),n(0,"Autoclose quotes only when the cursor is to the left of whitespace."),""],description:n(0,"Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:V(new S(8,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function(e){switch(e){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[n(0,"The editor will not insert indentation automatically."),n(0,"The editor will keep the current line's indentation."),n(0,"The editor will keep the current line's indentation and honor language defined brackets."),n(0,"The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),n(0,"The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:n(0,"Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:V(new b(9,"automaticLayout",!1)),autoSurround:V(new C(10,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[n(0,"Use language configurations to determine when to automatically surround selections."),n(0,"Surround with quotes but not brackets."),n(0,"Surround with brackets but not quotes."),""],description:n(0,"Controls whether the editor should automatically surround selections.")})),codeLens:V(new b(11,"codeLens",!0,{description:n(0,"Controls whether the editor shows CodeLens.")})),colorDecorators:V(new b(12,"colorDecorators",!0,{description:n(0,"Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:V(new b(13,"columnSelection",!1,{description:n(0,"Enable that the selection with the mouse and keys is doing column selection.")})),comments:V(new class extends m{constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(14,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:n(0,"Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:n(0,"Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{insertSpace:b.boolean(t.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:b.boolean(t.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:V(new b(15,"contextmenu",!0)),copyWithSyntaxHighlighting:V(new b(16,"copyWithSyntaxHighlighting",!0,{description:n(0,"Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:V(new S(17,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function(e){switch(e){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:n(0,"Control the cursor animation style.")})),cursorSmoothCaretAnimation:V(new b(18,"cursorSmoothCaretAnimation",!1,{description:n(0,"Controls whether the smooth caret animation should be enabled.")})),cursorStyle:V(new S(19,"cursorStyle",x.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function(e){switch(e){case"line":return x.Line;case"block":return x.Block;case"underline":return x.Underline;case"line-thin":return x.LineThin;case"block-outline":return x.BlockOutline;case"underline-thin":return x.UnderlineThin}},{description:n(0,"Controls the cursor style.")})),cursorSurroundingLines:V(new _(20,"cursorSurroundingLines",0,0,1073741824,{description:n(0,"Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or `scrollOffset` in some other editors.")})),cursorSurroundingLinesStyle:V(new C(21,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[n(0,"`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),n(0,"`cursorSurroundingLines` is enforced always.")],description:n(0,"Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:V(new _(22,"cursorWidth",0,0,1073741824,{markdownDescription:n(0,"Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:V(new b(23,"disableLayerHinting",!1)),disableMonospaceOptimizations:V(new b(24,"disableMonospaceOptimizations",!1)),dragAndDrop:V(new b(25,"dragAndDrop",!0,{description:n(0,"Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:V(new class extends b{constructor(){super(26,"emptySelectionClipboard",!0,{description:n(0,"Controls whether copying without a selection copies the current line.")})}compute(e,t,i){return i&&e.emptySelectionClipboard}}),extraEditorClassName:V(new w(27,"extraEditorClassName","")),fastScrollSensitivity:V(new y(28,"fastScrollSensitivity",5,e=>e<=0?5:e,{markdownDescription:n(0,"Scrolling speed multiplier when pressing `Alt`.")})),find:V(new class extends m{constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(29,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:n(0,"Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:e.seedSearchStringFromSelection,description:n(0,"Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[n(0,"Never turn on Find in selection automatically (default)"),n(0,"Always turn on Find in selection automatically"),n(0,"Turn on Find in selection automatically when multiple lines of content are selected.")],description:n(0,"Controls the condition for turning on find in selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:n(0,"Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:r.f},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:n(0,"Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:n(0,"Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{cursorMoveOnType:b.boolean(t.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:b.boolean(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:"boolean"==typeof e.autoFindInSelection?e.autoFindInSelection?"always":"never":C.stringSet(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:b.boolean(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:b.boolean(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:b.boolean(t.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:V(new b(30,"fixedOverflowWidgets",!1)),folding:V(new b(31,"folding",!0,{description:n(0,"Controls whether the editor has code folding enabled.")})),foldingStrategy:V(new C(32,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[n(0,"Use a language-specific folding strategy if available, else the indentation-based one."),n(0,"Use the indentation-based folding strategy.")],description:n(0,"Controls the strategy for computing folding ranges.")})),foldingHighlight:V(new b(33,"foldingHighlight",!0,{description:n(0,"Controls whether the editor should highlight folded ranges.")})),unfoldOnClickAfterEndOfLine:V(new b(34,"unfoldOnClickAfterEndOfLine",!1,{description:n(0,"Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:V(new w(35,"fontFamily",T.fontFamily,{description:n(0,"Controls the font family.")})),fontInfo:V(new class extends g{constructor(){super(36)}compute(e,t,i){return e.fontInfo}}),fontLigatures2:V(new k),fontSize:V(new class extends v{constructor(){super(38,"fontSize",T.fontSize,{type:"number",minimum:6,maximum:100,default:T.fontSize,description:n(0,"Controls the font size in pixels.")})}validate(e){let t=y.float(e,this.defaultValue);return 0===t?T.fontSize:y.clamp(t,6,100)}compute(e,t,i){return e.fontInfo.fontSize}}),fontWeight:V(new L),formatOnPaste:V(new b(40,"formatOnPaste",!1,{description:n(0,"Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:V(new b(41,"formatOnType",!1,{description:n(0,"Controls whether the editor should automatically format the line after typing.")})),glyphMargin:V(new b(42,"glyphMargin",!0,{description:n(0,"Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:V(new class extends m{constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},t={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[n(0,"Show peek view of the results (default)"),n(0,"Go to the primary result and show a peek view"),n(0,"Go to the primary result and enable peek-less navigation to others")]};super(43,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:n(0,"This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:n(0,"Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:n(0,"Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleDeclarations":Object.assign({description:n(0,"Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleImplementations":Object.assign({description:n(0,"Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},t),"editor.gotoLocation.multipleReferences":Object.assign({description:n(0,"Controls the behavior the 'Go to References'-command when multiple target locations exist.")},t),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,description:n(0,"Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,description:n(0,"Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,description:n(0,"Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,description:n(0,"Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,description:n(0,"Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){var t,i,n,r,o;if(!e||"object"!=typeof e)return this.defaultValue;const s=e;return{multiple:C.stringSet(s.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(t=s.multipleDefinitions)&&void 0!==t?t:C.stringSet(s.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(i=s.multipleTypeDefinitions)&&void 0!==i?i:C.stringSet(s.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(n=s.multipleDeclarations)&&void 0!==n?n:C.stringSet(s.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(r=s.multipleImplementations)&&void 0!==r?r:C.stringSet(s.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(o=s.multipleReferences)&&void 0!==o?o:C.stringSet(s.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:w.string(s.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:w.string(s.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:w.string(s.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:w.string(s.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:w.string(s.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:V(new b(44,"hideCursorInOverviewRuler",!1,{description:n(0,"Controls whether the cursor should be hidden in the overview ruler.")})),highlightActiveIndentGuide:V(new b(45,"highlightActiveIndentGuide",!0,{description:n(0,"Controls whether the editor should highlight the active indent guide.")})),hover:V(new class extends m{constructor(){const e={enabled:!0,delay:300,sticky:!0};super(46,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:n(0,"Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,description:n(0,"Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:n(0,"Controls whether the hover should remain visible when mouse is moved over it.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:b.boolean(t.enabled,this.defaultValue.enabled),delay:_.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:b.boolean(t.sticky,this.defaultValue.sticky)}}}),inDiffEditor:V(new b(47,"inDiffEditor",!1)),letterSpacing:V(new y(48,"letterSpacing",T.letterSpacing,e=>y.clamp(e,-5,20),{description:n(0,"Controls the letter spacing in pixels.")})),lightbulb:V(new class extends m{constructor(){const e={enabled:!0};super(49,"lightbulb",e,{"editor.lightbulb.enabled":{type:"boolean",default:e.enabled,description:n(0,"Enables the code action lightbulb in the editor.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:b.boolean(t.enabled,this.defaultValue.enabled)}}}),lineDecorationsWidth:V(new v(50,"lineDecorationsWidth",10)),lineHeight:V(new class extends _{constructor(){super(51,"lineHeight",T.lineHeight,0,150,{description:n(0,"Controls the line height. Use 0 to compute the line height from the font size.")})}compute(e,t,i){return e.fontInfo.lineHeight}}),lineNumbers:V(new class extends m{constructor(){super(52,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[n(0,"Line numbers are not rendered."),n(0,"Line numbers are rendered as absolute number."),n(0,"Line numbers are rendered as distance in lines to cursor position."),n(0,"Line numbers are rendered every 10 lines.")],default:"on",description:n(0,"Controls the display of line numbers.")})}validate(e){let t=this.defaultValue.renderType,i=this.defaultValue.renderFn;return void 0!==e&&("function"==typeof e?(t=4,i=e):t="interval"===e?3:"relative"===e?2:"on"===e?1:0),{renderType:t,renderFn:i}}}),lineNumbersMinChars:V(new _(53,"lineNumbersMinChars",5,1,300)),links:V(new b(54,"links",!0,{description:n(0,"Controls whether the editor should detect links and make them clickable.")})),matchBrackets:V(new C(55,"matchBrackets","always",["always","near","never"],{description:n(0,"Highlight matching brackets.")})),minimap:V(new class extends m{constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};super(56,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:n(0,"Controls whether the minimap is shown.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[n(0,"The minimap has the same size as the editor contents (and might scroll)."),n(0,"The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),n(0,"The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:n(0,"Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:n(0,"Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:n(0,"Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:n(0,"Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:n(0,"Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:n(0,"Limit the width of the minimap to render at most a certain number of columns.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:b.boolean(t.enabled,this.defaultValue.enabled),size:C.stringSet(t.size,this.defaultValue.size,["proportional","fill","fit"]),side:C.stringSet(t.side,this.defaultValue.side,["right","left"]),showSlider:C.stringSet(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:b.boolean(t.renderCharacters,this.defaultValue.renderCharacters),scale:_.clampedInt(t.scale,1,1,3),maxColumn:_.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:V(new C(57,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:V(new y(58,"mouseWheelScrollSensitivity",1,e=>0===e?1:e,{markdownDescription:n(0,"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:V(new b(59,"mouseWheelZoom",!1,{markdownDescription:n(0,"Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:V(new b(60,"multiCursorMergeOverlapping",!0,{description:n(0,"Merge multiple cursors when they are overlapping.")})),multiCursorModifier:V(new S(61,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function(e){return"ctrlCmd"===e?r.f?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[n(0,"Maps to `Control` on Windows and Linux and to `Command` on macOS."),n(0,"Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:n(0,"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:V(new C(62,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[n(0,"Each cursor pastes a single line of the text."),n(0,"Each cursor pastes the full text.")],markdownDescription:n(0,"Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:V(new b(63,"occurrencesHighlight",!0,{description:n(0,"Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:V(new b(64,"overviewRulerBorder",!0,{description:n(0,"Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:V(new _(65,"overviewRulerLanes",3,0,3)),padding:V(new class extends m{constructor(){super(66,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:n(0,"Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:n(0,"Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{top:_.clampedInt(t.top,0,0,1e3),bottom:_.clampedInt(t.bottom,0,0,1e3)}}}),parameterHints:V(new class extends m{constructor(){const e={enabled:!0,cycle:!1};super(67,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:n(0,"Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:n(0,"Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e;return{enabled:b.boolean(t.enabled,this.defaultValue.enabled),cycle:b.boolean(t.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:V(new C(68,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[n(0,"Focus the tree when opening peek"),n(0,"Focus the editor when opening peek")],description:n(0,"Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:V(new b(69,"definitionLinkOpensInPeek",!1,{description:n(0,"Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:V(new class extends m{constructor(){const e={other:!0,comments:!1,strings:!1};super(70,"quickSuggestions",e,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:e.strings,description:n(0,"Enable quick suggestions inside strings.")},comments:{type:"boolean",default:e.comments,description:n(0,"Enable quick suggestions inside comments.")},other:{type:"boolean",default:e.other,description:n(0,"Enable quick suggestions outside of strings and comments.")}}}],default:e,description:n(0,"Controls whether suggestions should automatically show up while typing.")}),this.defaultValue=e}validate(e){if("boolean"==typeof e)return e;if(e&&"object"==typeof e){const t=e,i={other:b.boolean(t.other,this.defaultValue.other),comments:b.boolean(t.comments,this.defaultValue.comments),strings:b.boolean(t.strings,this.defaultValue.strings)};return!!(i.other&&i.comments&&i.strings)||!!(i.other||i.comments||i.strings)&&i}return this.defaultValue}}),quickSuggestionsDelay:V(new _(71,"quickSuggestionsDelay",10,0,1073741824,{description:n(0,"Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:V(new b(72,"readOnly",!1)),renameOnType:V(new b(73,"renameOnType",!1,{description:n(0,"Controls whether the editor auto renames on type.")})),renderControlCharacters:V(new b(74,"renderControlCharacters",!1,{description:n(0,"Controls whether the editor should render control characters.")})),renderIndentGuides:V(new b(75,"renderIndentGuides",!0,{description:n(0,"Controls whether the editor should render indent guides.")})),renderFinalNewline:V(new b(76,"renderFinalNewline",!0,{description:n(0,"Render last line number when the file ends with a newline.")})),renderLineHighlight:V(new C(77,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",n(0,"Highlights both the gutter and the current line.")],description:n(0,"Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:V(new b(78,"renderLineHighlightOnlyWhenFocus",!1,{description:n(0,"Controls if the editor should render the current line highlight only when the editor is focused")})),renderValidationDecorations:V(new C(79,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:V(new C(80,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",n(0,"Render whitespace characters except for single spaces between words."),n(0,"Render whitespace characters only on selected text."),n(0,"Render only trailing whitespace characters"),""],description:n(0,"Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:V(new _(81,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:V(new b(82,"roundedSelection",!0,{description:n(0,"Controls whether selections should have rounded corners.")})),rulers:V(new class extends m{constructor(){const e=[],t={type:"number",description:n(0,"Number of monospace characters at which this editor ruler will render.")};super(83,"rulers",e,{type:"array",items:{anyOf:[t,{type:["object"],properties:{column:t,color:{type:"string",description:n(0,"Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:n(0,"Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){let t=[];for(let i of e)if("number"==typeof i)t.push({column:_.clampedInt(i,0,0,1e4),color:null});else if(i&&"object"==typeof i){const e=i;t.push({column:_.clampedInt(e.column,0,0,1e4),color:e.color})}return t.sort((e,t)=>e.column-t.column),t}return this.defaultValue}}),scrollbar:V(new class extends m{constructor(){super(84,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0})}validate(e){if(!e||"object"!=typeof e)return this.defaultValue;const t=e,i=_.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),n=_.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:_.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:N(t.vertical,this.defaultValue.vertical),horizontal:N(t.horizontal,this.defaultValue.horizontal),useShadows:b.boolean(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:b.boolean(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:b.boolean(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:b.boolean(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:b.boolean(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:i,horizontalSliderSize:_.clampedInt(t.horizontalSliderSize,i,0,1e3),verticalScrollbarSize:n,verticalSliderSize:_.clampedInt(t.verticalSliderSize,n,0,1e3)}}}),scrollBeyondLastColumn:V(new _(85,"scrollBeyondLastColumn",5,0,1073741824,{description:n(0,"Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:V(new b(86,"scrollBeyondLastLine",!0,{description:n(0,"Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:V(new b(87,"scrollPredominantAxis",!0,{description:n(0,"Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:V(new b(88,"selectionClipboard",!0,{description:n(0,"Controls whether the Linux primary clipboard should be supported."),included:r.d})),selectionHighlight:V(new b(89,"selectionHighlight",!0,{description:n(0,"Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:V(new b(90,"selectOnLineNumbers",!0)),showFoldingControls:V(new C(91,"showFoldingControls","mouseover",["always","mouseover"],{enumDescriptions:[n(0,"Always show the folding controls."),n(0,"Only show the folding controls when the mouse is over the gutter.")],description:n(0,"Controls when the folding controls on the gutter are shown.")})),showUnused:V(new b(92,"showUnused",!0,{description:n(0,"Controls fading out of unused code.")})),showDeprecated:V(new b(113,"showDeprecated",!0,{description:n(0,"Controls strikethrough deprecated variables.")})),snippetSuggestions:V(new C(93,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[n(0,"Show snippet suggestions on top of other suggestions."),n(0,"Show snippet suggestions below other suggestions."),n(0,"Show snippets suggestions with other suggestions."),n(0,"Do not show snippet suggestions.")],description:n(0,"Controls whether snippets are shown with other suggestions and how they are sorted.")})),smoothScrolling:V(new b(94,"smoothScrolling",!1,{description:n(0,"Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:V(new _(95,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:V(new class extends m{constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,maxVisibleSuggestions:12,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0,statusBar:{visible:!1}};super(96,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[n(0,"Insert suggestion without overwriting text right of the cursor."),n(0,"Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:n(0,"Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:n(0,"Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:n(0,"Controls whether sorting favours words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:n(0,"Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:n(0,"Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:n(0,"Controls whether to show or hide icons in suggestions.")},"editor.suggest.maxVisibleSuggestions":{type:"number",default:e.maxVisibleSuggestions,minimum:1,maximum:15,description:n(0,"Controls how many suggestions IntelliSense will show before showing a scrollbar (maximum 15).")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:n(0,"This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:n(0,"When enabled IntelliSense shows `issues`-suggestions.")},"editor.suggest.statusBar.visible":{type:"boolean",default:!1,markdownDescription:n(0,"Controls the visibility of the status bar at the bottom of the suggest widget.")}})}validate(e){var t;if(!e||"object"!=typeof e)return this.defaultValue;const i=e;return{insertMode:C.stringSet(i.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:b.boolean(i.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:b.boolean(i.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:b.boolean(i.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:b.boolean(i.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:b.boolean(i.showIcons,this.defaultValue.showIcons),maxVisibleSuggestions:_.clampedInt(i.maxVisibleSuggestions,this.defaultValue.maxVisibleSuggestions,1,15),showMethods:b.boolean(i.showMethods,this.defaultValue.showMethods),showFunctions:b.boolean(i.showFunctions,this.defaultValue.showFunctions),showConstructors:b.boolean(i.showConstructors,this.defaultValue.showConstructors),showFields:b.boolean(i.showFields,this.defaultValue.showFields),showVariables:b.boolean(i.showVariables,this.defaultValue.showVariables),showClasses:b.boolean(i.showClasses,this.defaultValue.showClasses),showStructs:b.boolean(i.showStructs,this.defaultValue.showStructs),showInterfaces:b.boolean(i.showInterfaces,this.defaultValue.showInterfaces),showModules:b.boolean(i.showModules,this.defaultValue.showModules),showProperties:b.boolean(i.showProperties,this.defaultValue.showProperties),showEvents:b.boolean(i.showEvents,this.defaultValue.showEvents),showOperators:b.boolean(i.showOperators,this.defaultValue.showOperators),showUnits:b.boolean(i.showUnits,this.defaultValue.showUnits),showValues:b.boolean(i.showValues,this.defaultValue.showValues),showConstants:b.boolean(i.showConstants,this.defaultValue.showConstants),showEnums:b.boolean(i.showEnums,this.defaultValue.showEnums),showEnumMembers:b.boolean(i.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:b.boolean(i.showKeywords,this.defaultValue.showKeywords),showWords:b.boolean(i.showWords,this.defaultValue.showWords),showColors:b.boolean(i.showColors,this.defaultValue.showColors),showFiles:b.boolean(i.showFiles,this.defaultValue.showFiles),showReferences:b.boolean(i.showReferences,this.defaultValue.showReferences),showFolders:b.boolean(i.showFolders,this.defaultValue.showFolders),showTypeParameters:b.boolean(i.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:b.boolean(i.showSnippets,this.defaultValue.showSnippets),showUsers:b.boolean(i.showUsers,this.defaultValue.showUsers),showIssues:b.boolean(i.showIssues,this.defaultValue.showIssues),statusBar:{visible:b.boolean(null===(t=i.statusBar)||void 0===t?void 0:t.visible,!!this.defaultValue.statusBar.visible)}}}}),suggestFontSize:V(new _(97,"suggestFontSize",0,0,1e3,{markdownDescription:n(0,"Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:V(new _(98,"suggestLineHeight",0,0,1e3,{markdownDescription:n(0,"Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used.")})),suggestOnTriggerCharacters:V(new b(99,"suggestOnTriggerCharacters",!0,{description:n(0,"Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:V(new C(100,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[n(0,"Always select the first suggestion."),n(0,"Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),n(0,"Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:n(0,"Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:V(new C(101,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[n(0,"Tab complete will insert the best matching suggestion when pressing tab."),n(0,"Disable tab completions."),n(0,"Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:n(0,"Enables tab completions.")})),tabIndex:V(new _(102,"tabIndex",0,-1,1073741824)),unusualLineTerminators:V(new C(103,"unusualLineTerminators","prompt",["off","prompt","auto"],{enumDescriptions:[n(0,"Unusual line terminators are ignored."),n(0,"Unusual line terminators prompt to be removed."),n(0,"Unusual line terminators are automatically removed.")],description:n(0,"Remove unusual line terminators that might cause problems.")})),useTabStops:V(new b(104,"useTabStops",!0,{description:n(0,"Inserting and deleting whitespace follows tab stops.")})),wordSeparators:V(new w(105,"wordSeparators",o,{description:n(0,"Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:V(new C(106,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[n(0,"Lines will never wrap."),n(0,"Lines will wrap at the viewport width."),n(0,"Lines will wrap at `#editor.wordWrapColumn#`."),n(0,"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:n(0,"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:V(new w(107,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:V(new w(108,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:V(new _(109,"wordWrapColumn",80,1,1073741824,{markdownDescription:n(0,"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapMinified:V(new b(110,"wordWrapMinified",!0)),wrappingIndent:V(new S(111,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],function(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}},{enumDescriptions:[n(0,"No indentation. Wrapped lines begin at column 1."),n(0,"Wrapped lines get the same indentation as the parent."),n(0,"Wrapped lines get +1 indentation toward the parent."),n(0,"Wrapped lines get +2 indentation toward the parent.")],description:n(0,"Controls the indentation of wrapped lines.")})),wrappingStrategy:V(new C(112,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[n(0,"Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),n(0,"Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:n(0,"Controls the algorithm that computes wrapping points.")})),editorClassName:V(new class extends g{constructor(){super(114,[57,27])}compute(e,t,i){const n=["monaco-editor"];return t.get(27)&&n.push(t.get(27)),e.extraEditorClassName&&n.push(e.extraEditorClassName),"default"===t.get(57)?n.push("mouse-default"):"copy"===t.get(57)&&n.push("mouse-copy"),t.get(92)&&n.push("showUnused"),t.get(113)&&n.push("showDeprecated"),n.join(" ")}}),pixelRatio:V(new class extends g{constructor(){super(115)}compute(e,t,i){return e.pixelRatio}}),tabFocusMode:V(new class extends g{constructor(){super(116,[72])}compute(e,t,i){return!!t.get(72)||e.tabFocusMode}}),layoutInfo:V(new D),wrappingInfo:V(new class extends g{constructor(){super(118,[117])}compute(e,t,i){const n=t.get(117);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:n.isWordWrapMinified,isViewportWrapping:n.isViewportWrapping,wrappingColumn:n.wrappingColumn}}})};const W=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(()=>{if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e},0)}}emit(e){this.listeners.forEach(t=>{t(e)})}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};function $(e){j(e)||W.onUnexpectedError(e)}function z(e){if(e instanceof Error){let{name:t,message:i}=e;return{$isError:!0,name:t,message:i,stack:e.stacktrace||e.stack}}return e}const H="Canceled";function j(e){return e instanceof Error&&e.name===H&&e.message===H}function U(){const e=new Error(H);return e.name=e.message,e}function K(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}var q;!function(e){e.is=function(e){return e&&"object"==typeof e&&"function"==typeof e[Symbol.iterator]};const t=Object.freeze([]);e.empty=function(){return t},e.single=function*(e){yield e},e.from=function(e){return e||t},e.first=function(e){return e[Symbol.iterator]().next().value},e.some=function(e,t){for(const i of e)if(t(i))return!0;return!1},e.filter=function*(e,t){for(const i of e)t(i)&&(yield i)},e.map=function*(e,t){for(const i of e)yield t(i)},e.concat=function*(...e){for(const t of e)for(const e of t)yield e},e.consume=function(t,i=Number.POSITIVE_INFINITY){const n=[];if(0===i)return[n,t];const r=t[Symbol.iterator]();for(let t=0;t<i;t++){const t=r.next();if(t.done)return[n,e.empty()];n.push(t.value)}return[n,{[Symbol.iterator]:()=>r}]}}(q||(q={}));const G=!1,Y="__is_disposable_tracked__";function X(e){if(G&&e&&e!==ne.None)try{e[Y]=!0}catch(e){}}function Z(e){if(!G)return e;const t=new Error("Potentially leaked disposable").stack;return setTimeout(()=>{e[Y]||console.log(t)},3e3),e}class Q extends Error{constructor(e){super(`Encounter errors while disposing of store. Errors: [${e.join(", ")}]`),this.errors=e}}function J(e){if(q.is(e)){let t=[];for(const i of e)if(i){X(i);try{i.dispose()}catch(e){t.push(e)}}if(1===t.length)throw t[0];if(t.length>1)throw new Q(t);return Array.isArray(e)?[]:e}if(e)return X(e),e.dispose(),e}function ee(...e){return e.forEach(X),Z({dispose:()=>J(e)})}function te(e){const t=Z({dispose:()=>{X(t),e()}});return t}class ie{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(X(this),this._isDisposed=!0,this.clear())}clear(){try{J(this._toDispose.values())}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return X(e),this._isDisposed?ie.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}}ie.DISABLE_DISPOSED_WARNING=!1;class ne{constructor(){this._store=new ie,Z(this)}dispose(){X(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}ne.None=Object.freeze({dispose(){}});class re{constructor(e){this.element=e,this.next=re.Undefined,this.prev=re.Undefined}}re.Undefined=new re(void 0);class oe{constructor(){this._first=re.Undefined,this._last=re.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===re.Undefined}clear(){this._first=re.Undefined,this._last=re.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const i=new re(e);if(this._first===re.Undefined)this._first=i,this._last=i;else if(t){const e=this._last;this._last=i,i.prev=e,e.next=i}else{const e=this._first;this._first=i,i.next=e,e.prev=i}this._size+=1;let n=!1;return()=>{n||(n=!0,this._remove(i))}}shift(){if(this._first!==re.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==re.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==re.Undefined&&e.next!==re.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===re.Undefined&&e.next===re.Undefined?(this._first=re.Undefined,this._last=re.Undefined):e.next===re.Undefined?(this._last=this._last.prev,this._last.next=re.Undefined):e.prev===re.Undefined&&(this._first=this._first.next,this._first.prev=re.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==re.Undefined;)yield e.element,e=e.next}toArray(){const e=[];for(let t=this._first;t!==re.Undefined;t=t.next)e.push(t.element);return e}}var se;!function(e){function t(e){return(t,i=null,n)=>{let r,o=!1;return r=e(e=>{if(!o)return r?r.dispose():o=!0,t.call(i,e)},null,n),o&&r.dispose(),r}}function i(e,t){return s((i,n=null,r)=>e(e=>i.call(n,t(e)),null,r))}function n(e,t){return s((i,n=null,r)=>e(e=>{t(e),i.call(n,e)},null,r))}function r(e,t){return s((i,n=null,r)=>e(e=>t(e)&&i.call(n,e),null,r))}function o(e,t,n){let r=n;return i(e,e=>r=t(r,e))}function s(e){let t;const i=new ce({onFirstListenerAdd(){t=e(i.fire,i)},onLastListenerRemove(){t.dispose()}});return i.event}function a(e,t,i=100,n=!1,r){let o,s=void 0,a=void 0,l=0;const c=new ce({leakWarningThreshold:r,onFirstListenerAdd(){o=e(e=>{l++,s=t(s,e),n&&!a&&(c.fire(s),s=void 0),clearTimeout(a),a=setTimeout(()=>{const e=s;s=void 0,a=void 0,(!n||l>1)&&c.fire(e),l=0},i)})},onLastListenerRemove(){o.dispose()}});return c.event}function l(e){let t,i=!0;return r(e,e=>{const n=i||e!==t;return i=!1,t=e,n})}e.None=(()=>ne.None),e.once=t,e.map=i,e.forEach=n,e.filter=r,e.signal=function(e){return e},e.any=function(...e){return(t,i=null,n)=>ee(...e.map(e=>e(e=>t.call(i,e),null,n)))},e.reduce=o,e.snapshot=s,e.debounce=a,e.stopwatch=function(e){const n=(new Date).getTime();return i(t(e),e=>(new Date).getTime()-n)},e.latch=l,e.buffer=function(e,t=!1,i=[]){let n=i.slice(),r=e(e=>{n?n.push(e):s.fire(e)});const o=()=>{n&&n.forEach(e=>s.fire(e)),n=null},s=new ce({onFirstListenerAdd(){r||(r=e(e=>s.fire(e)))},onFirstListenerDidAdd(){n&&(t?setTimeout(o):o())},onLastListenerRemove(){r&&r.dispose(),r=null}});return s.event};class c{constructor(e){this.event=e}map(e){return new c(i(this.event,e))}forEach(e){return new c(n(this.event,e))}filter(e){return new c(r(this.event,e))}reduce(e,t){return new c(o(this.event,e,t))}latch(){return new c(l(this.event))}debounce(e,t=100,i=!1,n){return new c(a(this.event,e,t,i,n))}on(e,t,i){return this.event(e,t,i)}once(e,i,n){return t(this.event)(e,i,n)}}e.chain=function(e){return new c(e)},e.fromNodeEventEmitter=function(e,t,i=(e=>e)){const n=(...e)=>r.fire(i(...e)),r=new ce({onFirstListenerAdd:()=>e.on(t,n),onLastListenerRemove:()=>e.removeListener(t,n)});return r.event},e.fromDOMEventEmitter=function(e,t,i=(e=>e)){const n=(...e)=>r.fire(i(...e)),r=new ce({onFirstListenerAdd:()=>e.addEventListener(t,n),onLastListenerRemove:()=>e.removeEventListener(t,n)});return r.event},e.fromPromise=function(e){const t=new ce;let i=!1;return e.then(void 0,()=>null).then(()=>{i?t.fire(void 0):setTimeout(()=>t.fire(void 0),0)}),i=!0,t.event},e.toPromise=function(e){return new Promise(i=>t(e)(i))}}(se||(se={}));let ae=-1;class le{constructor(e,t=Math.random().toString(18).slice(2,5)){this.customThreshold=e,this.name=t,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(e){let t=ae;if("number"==typeof this.customThreshold&&(t=this.customThreshold),t<=0||e<t)return;this._stacks||(this._stacks=new Map);const i=(new Error).stack.split("\n").slice(3).join("\n"),n=this._stacks.get(i)||0;if(this._stacks.set(i,n+1),this._warnCountdown-=1,this._warnCountdown<=0){let i;this._warnCountdown=.5*t;let n=0;for(const[e,t]of this._stacks)(!i||n<t)&&(i=e,n=t);console.warn(`[${this.name}] potential listener LEAK detected, having ${e} listeners already. MOST frequent listener (${n}):`),console.warn(i)}return()=>{const e=this._stacks.get(i)||0;this._stacks.set(i,e-1)}}}class ce{constructor(e){this._disposed=!1,this._options=e,this._leakageMon=ae>0?new le(this._options&&this._options.leakWarningThreshold):void 0}get event(){return this._event||(this._event=((e,t,i)=>{this._listeners||(this._listeners=new oe);const n=this._listeners.isEmpty();n&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const r=this._listeners.push(t?[e,t]:e);let o,s;return n&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t),this._leakageMon&&(o=this._leakageMon.check(this._listeners.size)),s={dispose:()=>{if(o&&o(),s.dispose=ce._noop,!this._disposed&&(r(),this._options&&this._options.onLastListenerRemove)){this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)}}},i instanceof ie?i.add(s):Array.isArray(i)&&i.push(s),s})),this._event}fire(e){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new oe);for(let t of this._listeners)this._deliveryQueue.push([t,e]);for(;this._deliveryQueue.size>0;){const[e,t]=this._deliveryQueue.shift();try{"function"==typeof e?e.call(void 0,t):e[0].call(e[1],t)}catch(e){$(e)}}}}dispose(){this._listeners&&this._listeners.clear(),this._deliveryQueue&&this._deliveryQueue.clear(),this._leakageMon&&this._leakageMon.dispose(),this._disposed=!0}}ce._noop=function(){};class he extends ce{constructor(e){super(e),this._isPaused=0,this._eventQueue=new oe,this._mergeFn=e&&e.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){const e=this._eventQueue.toArray();this._eventQueue.clear(),super.fire(this._mergeFn(e))}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(e){this._listeners&&(0!==this._isPaused?this._eventQueue.push(e):super.fire(e))}}class ue{constructor(){this.buffers=[]}wrapEvent(e){return(t,i,n)=>e(e=>{const n=this.buffers[this.buffers.length-1];n?n.push(()=>t.call(i,e)):t.call(i,e)},void 0,n)}bufferEvents(e){const t=[];this.buffers.push(t);const i=e();return this.buffers.pop(),t.forEach(e=>e()),i}}class de{constructor(){this.listening=!1,this.inputEvent=se.None,this.inputEventListener=ne.None,this.emitter=new ce({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}const fe=Object.freeze(function(e,t){const i=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(i)}}});var pe;!function(e){e.isCancellationToken=function(t){return t===e.None||t===e.Cancelled||t instanceof me||!(!t||"object"!=typeof t)&&"boolean"==typeof t.isCancellationRequested&&"function"==typeof t.onCancellationRequested},e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:se.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:fe})}(pe||(pe={}));class me{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?fe:(this._emitter||(this._emitter=new ce),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class ge{constructor(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new me),this._token}cancel(){this._token?this._token instanceof me&&this._token.cancel():this._token=pe.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof me&&this._token.dispose():this._token=pe.None}}class ve{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const be=new ve,_e=new ve,ye=new ve;var we;function Ce(e,t){if(0===e)return null;const i=(65535&e)>>>0,n=(4294901760&e)>>>16;return new ke(0!==n?[Se(i,t),Se(n,t)]:[Se(i,t)])}function Se(e,t){const i=!!(2048&e),n=!!(256&e);return new xe(2===t?n:i,!!(1024&e),!!(512&e),2===t?i:n,255&e)}!function(){function e(e,t,i=t,n=i){be.define(e,t),_e.define(e,i),ye.define(e,n)}e(0,"unknown"),e(1,"Backspace"),e(2,"Tab"),e(3,"Enter"),e(4,"Shift"),e(5,"Ctrl"),e(6,"Alt"),e(7,"PauseBreak"),e(8,"CapsLock"),e(9,"Escape"),e(10,"Space"),e(11,"PageUp"),e(12,"PageDown"),e(13,"End"),e(14,"Home"),e(15,"LeftArrow","Left"),e(16,"UpArrow","Up"),e(17,"RightArrow","Right"),e(18,"DownArrow","Down"),e(19,"Insert"),e(20,"Delete"),e(21,"0"),e(22,"1"),e(23,"2"),e(24,"3"),e(25,"4"),e(26,"5"),e(27,"6"),e(28,"7"),e(29,"8"),e(30,"9"),e(31,"A"),e(32,"B"),e(33,"C"),e(34,"D"),e(35,"E"),e(36,"F"),e(37,"G"),e(38,"H"),e(39,"I"),e(40,"J"),e(41,"K"),e(42,"L"),e(43,"M"),e(44,"N"),e(45,"O"),e(46,"P"),e(47,"Q"),e(48,"R"),e(49,"S"),e(50,"T"),e(51,"U"),e(52,"V"),e(53,"W"),e(54,"X"),e(55,"Y"),e(56,"Z"),e(57,"Meta"),e(58,"ContextMenu"),e(59,"F1"),e(60,"F2"),e(61,"F3"),e(62,"F4"),e(63,"F5"),e(64,"F6"),e(65,"F7"),e(66,"F8"),e(67,"F9"),e(68,"F10"),e(69,"F11"),e(70,"F12"),e(71,"F13"),e(72,"F14"),e(73,"F15"),e(74,"F16"),e(75,"F17"),e(76,"F18"),e(77,"F19"),e(78,"NumLock"),e(79,"ScrollLock"),e(80,";",";","OEM_1"),e(81,"=","=","OEM_PLUS"),e(82,",",",","OEM_COMMA"),e(83,"-","-","OEM_MINUS"),e(84,".",".","OEM_PERIOD"),e(85,"/","/","OEM_2"),e(86,"`","`","OEM_3"),e(110,"ABNT_C1"),e(111,"ABNT_C2"),e(87,"[","[","OEM_4"),e(88,"\\","\\","OEM_5"),e(89,"]","]","OEM_6"),e(90,"'","'","OEM_7"),e(91,"OEM_8"),e(92,"OEM_102"),e(93,"NumPad0"),e(94,"NumPad1"),e(95,"NumPad2"),e(96,"NumPad3"),e(97,"NumPad4"),e(98,"NumPad5"),e(99,"NumPad6"),e(100,"NumPad7"),e(101,"NumPad8"),e(102,"NumPad9"),e(103,"NumPad_Multiply"),e(104,"NumPad_Add"),e(105,"NumPad_Separator"),e(106,"NumPad_Subtract"),e(107,"NumPad_Decimal"),e(108,"NumPad_Divide")}(),function(e){e.toString=function(e){return be.keyCodeToStr(e)},e.fromString=function(e){return be.strToKeyCode(e)},e.toUserSettingsUS=function(e){return _e.keyCodeToStr(e)},e.toUserSettingsGeneral=function(e){return ye.keyCodeToStr(e)},e.fromUserSettings=function(e){return _e.strToKeyCode(e)||ye.strToKeyCode(e)}}(we||(we={}));class xe{constructor(e,t,i,n,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyCode=r}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new ke([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class ke{constructor(e){if(0===e.length)throw K("parts");this.parts=e}}class Le{constructor(e,t,i,n,r,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=i,this.metaKey=n,this.keyLabel=r,this.keyAriaLabel=o}}class De{}var Ee=i("xgy6");const Ne=65,Te=97,Oe=90,Me=122,Ie=46,Ae=47,Pe=92;class Re extends Error{constructor(e,t,i){let n;"string"==typeof t&&0===t.indexOf("not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";let r=`The "${e}" ${-1!==e.indexOf(".")?"property":"argument"} ${n} of type ${t}`;super(r+=`. Received type ${typeof i}`),this.code="ERR_INVALID_ARG_TYPE"}}function Fe(e,t){if("string"!=typeof e)throw new Re(t,"string",e)}function Ve(e){return e===Ae||e===Pe}function Be(e){return e===Ae}function We(e){return e>=Ne&&e<=Oe||e>=Te&&e<=Me}function $e(e,t,i,n){let r="",o=0,s=-1,a=0,l=0;for(let c=0;c<=e.length;++c){if(c<e.length)l=e.charCodeAt(c);else{if(n(l))break;l=Ae}if(n(l)){if(s===c-1||1===a);else if(2===a){if(r.length<2||2!==o||r.charCodeAt(r.length-1)!==Ie||r.charCodeAt(r.length-2)!==Ie){if(r.length>2){const e=r.lastIndexOf(i);-1===e?(r="",o=0):o=(r=r.slice(0,e)).length-1-r.lastIndexOf(i),s=c,a=0;continue}if(0!==r.length){r="",o=0,s=c,a=0;continue}}t&&(r+=r.length>0?`${i}..`:"..",o=2)}else r.length>0?r+=`${i}${e.slice(s+1,c)}`:r=e.slice(s+1,c),o=c-s-1;s=c,a=0}else l===Ie&&-1!==a?++a:a=-1}return r}function ze(e,t){if(null===t||"object"!=typeof t)throw new Re("pathObject","Object",t);const i=t.dir||t.root,n=t.base||`${t.name||""}${t.ext||""}`;return i?i===t.root?`${i}${n}`:`${i}${e}${n}`:n}const He={resolve(...e){let t="",i="",n=!1;for(let r=e.length-1;r>=-1;r--){let o;if(r>=0){if(Fe(o=e[r],"path"),0===o.length)continue}else 0===t.length?o=Ee.a():(void 0===(o=Ee.b[`=${t}`]||Ee.a())||o.slice(0,2).toLowerCase()!==t.toLowerCase()&&o.charCodeAt(2)===Pe)&&(o=`${t}\\`);const s=o.length;let a=0,l="",c=!1;const h=o.charCodeAt(0);if(1===s)Ve(h)&&(a=1,c=!0);else if(Ve(h))if(c=!0,Ve(o.charCodeAt(1))){let e=2,t=e;for(;e<s&&!Ve(o.charCodeAt(e));)e++;if(e<s&&e!==t){const i=o.slice(t,e);for(t=e;e<s&&Ve(o.charCodeAt(e));)e++;if(e<s&&e!==t){for(t=e;e<s&&!Ve(o.charCodeAt(e));)e++;e!==s&&e===t||(l=`\\\\${i}\\${o.slice(t,e)}`,a=e)}}}else a=1;else We(h)&&58===o.charCodeAt(1)&&(l=o.slice(0,2),a=2,s>2&&Ve(o.charCodeAt(2))&&(c=!0,a=3));if(l.length>0)if(t.length>0){if(l.toLowerCase()!==t.toLowerCase())continue}else t=l;if(n){if(t.length>0)break}else if(i=`${o.slice(a)}\\${i}`,n=c,c&&t.length>0)break}return i=$e(i,!n,"\\",Ve),n?`${t}\\${i}`:`${t}${i}`||"."},normalize(e){Fe(e,"path");const t=e.length;if(0===t)return".";let i,n=0,r=!1;const o=e.charCodeAt(0);if(1===t)return Be(o)?"\\":e;if(Ve(o))if(r=!0,Ve(e.charCodeAt(1))){let r=2,o=r;for(;r<t&&!Ve(e.charCodeAt(r));)r++;if(r<t&&r!==o){const s=e.slice(o,r);for(o=r;r<t&&Ve(e.charCodeAt(r));)r++;if(r<t&&r!==o){for(o=r;r<t&&!Ve(e.charCodeAt(r));)r++;if(r===t)return`\\\\${s}\\${e.slice(o)}\\`;r!==o&&(i=`\\\\${s}\\${e.slice(o,r)}`,n=r)}}}else n=1;else We(o)&&58===e.charCodeAt(1)&&(i=e.slice(0,2),n=2,t>2&&Ve(e.charCodeAt(2))&&(r=!0,n=3));let s=n<t?$e(e.slice(n),!r,"\\",Ve):"";return 0!==s.length||r||(s="."),s.length>0&&Ve(e.charCodeAt(t-1))&&(s+="\\"),void 0===i?r?`\\${s}`:s:r?`${i}\\${s}`:`${i}${s}`},isAbsolute(e){Fe(e,"path");const t=e.length;if(0===t)return!1;const i=e.charCodeAt(0);return Ve(i)||t>2&&We(i)&&58===e.charCodeAt(1)&&Ve(e.charCodeAt(2))},join(...e){if(0===e.length)return".";let t,i;for(let n=0;n<e.length;++n){const r=e[n];Fe(r,"path"),r.length>0&&(void 0===t?t=i=r:t+=`\\${r}`)}if(void 0===t)return".";let n=!0,r=0;if("string"==typeof i&&Ve(i.charCodeAt(0))){++r;const e=i.length;e>1&&Ve(i.charCodeAt(1))&&(++r,e>2&&(Ve(i.charCodeAt(2))?++r:n=!1))}if(n){for(;r<t.length&&Ve(t.charCodeAt(r));)r++;r>=2&&(t=`\\${t.slice(r)}`)}return He.normalize(t)},relative(e,t){if(Fe(e,"from"),Fe(t,"to"),e===t)return"";const i=He.resolve(e),n=He.resolve(t);if(i===n)return"";if((e=i.toLowerCase())===(t=n.toLowerCase()))return"";let r=0;for(;r<e.length&&e.charCodeAt(r)===Pe;)r++;let o=e.length;for(;o-1>r&&e.charCodeAt(o-1)===Pe;)o--;const s=o-r;let a=0;for(;a<t.length&&t.charCodeAt(a)===Pe;)a++;let l=t.length;for(;l-1>a&&t.charCodeAt(l-1)===Pe;)l--;const c=l-a,h=s<c?s:c;let u=-1,d=0;for(;d<h;d++){const i=e.charCodeAt(r+d);if(i!==t.charCodeAt(a+d))break;i===Pe&&(u=d)}if(d!==h){if(-1===u)return n}else{if(c>h){if(t.charCodeAt(a+d)===Pe)return n.slice(a+d+1);if(2===d)return n.slice(a+d)}s>h&&(e.charCodeAt(r+d)===Pe?u=d:2===d&&(u=3)),-1===u&&(u=0)}let f="";for(d=r+u+1;d<=o;++d)d!==o&&e.charCodeAt(d)!==Pe||(f+=0===f.length?"..":"\\..");return a+=u,f.length>0?`${f}${n.slice(a,l)}`:(n.charCodeAt(a)===Pe&&++a,n.slice(a,l))},toNamespacedPath(e){if("string"!=typeof e)return e;if(0===e.length)return"";const t=He.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===Pe){if(t.charCodeAt(1)===Pe){const e=t.charCodeAt(2);if(63!==e&&e!==Ie)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(We(t.charCodeAt(0))&&58===t.charCodeAt(1)&&t.charCodeAt(2)===Pe)return`\\\\?\\${t}`;return e},dirname(e){Fe(e,"path");const t=e.length;if(0===t)return".";let i=-1,n=0;const r=e.charCodeAt(0);if(1===t)return Ve(r)?e:".";if(Ve(r)){if(i=n=1,Ve(e.charCodeAt(1))){let r=2,o=r;for(;r<t&&!Ve(e.charCodeAt(r));)r++;if(r<t&&r!==o){for(o=r;r<t&&Ve(e.charCodeAt(r));)r++;if(r<t&&r!==o){for(o=r;r<t&&!Ve(e.charCodeAt(r));)r++;if(r===t)return e;r!==o&&(i=n=r+1)}}}}else We(r)&&58===e.charCodeAt(1)&&(n=i=t>2&&Ve(e.charCodeAt(2))?3:2);let o=-1,s=!0;for(let i=t-1;i>=n;--i)if(Ve(e.charCodeAt(i))){if(!s){o=i;break}}else s=!1;if(-1===o){if(-1===i)return".";o=i}return e.slice(0,o)},basename(e,t){void 0!==t&&Fe(t,"ext"),Fe(e,"path");let i,n=0,r=-1,o=!0;if(e.length>=2&&We(e.charCodeAt(0))&&58===e.charCodeAt(1)&&(n=2),void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let s=t.length-1,a=-1;for(i=e.length-1;i>=n;--i){const l=e.charCodeAt(i);if(Ve(l)){if(!o){n=i+1;break}}else-1===a&&(o=!1,a=i+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(r=i):(s=-1,r=a))}return n===r?r=a:-1===r&&(r=e.length),e.slice(n,r)}for(i=e.length-1;i>=n;--i)if(Ve(e.charCodeAt(i))){if(!o){n=i+1;break}}else-1===r&&(o=!1,r=i+1);return-1===r?"":e.slice(n,r)},extname(e){Fe(e,"path");let t=0,i=-1,n=0,r=-1,o=!0,s=0;e.length>=2&&58===e.charCodeAt(1)&&We(e.charCodeAt(0))&&(t=n=2);for(let a=e.length-1;a>=t;--a){const t=e.charCodeAt(a);if(Ve(t)){if(!o){n=a+1;break}}else-1===r&&(o=!1,r=a+1),t===Ie?-1===i?i=a:1!==s&&(s=1):-1!==i&&(s=-1)}return-1===i||-1===r||0===s||1===s&&i===r-1&&i===n+1?"":e.slice(i,r)},format:ze.bind(null,"\\"),parse(e){Fe(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const i=e.length;let n=0,r=e.charCodeAt(0);if(1===i)return Ve(r)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(Ve(r)){if(n=1,Ve(e.charCodeAt(1))){let t=2,r=t;for(;t<i&&!Ve(e.charCodeAt(t));)t++;if(t<i&&t!==r){for(r=t;t<i&&Ve(e.charCodeAt(t));)t++;if(t<i&&t!==r){for(r=t;t<i&&!Ve(e.charCodeAt(t));)t++;t===i?n=t:t!==r&&(n=t+1)}}}}else if(We(r)&&58===e.charCodeAt(1)){if(i<=2)return t.root=t.dir=e,t;if(n=2,Ve(e.charCodeAt(2))){if(3===i)return t.root=t.dir=e,t;n=3}}n>0&&(t.root=e.slice(0,n));let o=-1,s=n,a=-1,l=!0,c=e.length-1,h=0;for(;c>=n;--c)if(Ve(r=e.charCodeAt(c))){if(!l){s=c+1;break}}else-1===a&&(l=!1,a=c+1),r===Ie?-1===o?o=c:1!==h&&(h=1):-1!==o&&(h=-1);return-1!==a&&(-1===o||0===h||1===h&&o===a-1&&o===s+1?t.base=t.name=e.slice(s,a):(t.name=e.slice(s,o),t.base=e.slice(s,a),t.ext=e.slice(o,a))),t.dir=s>0&&s!==n?e.slice(0,s-1):t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},je={resolve(...e){let t="",i=!1;for(let n=e.length-1;n>=-1&&!i;n--){const r=n>=0?e[n]:Ee.a();Fe(r,"path"),0!==r.length&&(t=`${r}/${t}`,i=r.charCodeAt(0)===Ae)}return t=$e(t,!i,"/",Be),i?`/${t}`:t.length>0?t:"."},normalize(e){if(Fe(e,"path"),0===e.length)return".";const t=e.charCodeAt(0)===Ae,i=e.charCodeAt(e.length-1)===Ae;return 0===(e=$e(e,!t,"/",Be)).length?t?"/":i?"./":".":(i&&(e+="/"),t?`/${e}`:e)},isAbsolute:e=>(Fe(e,"path"),e.length>0&&e.charCodeAt(0)===Ae),join(...e){if(0===e.length)return".";let t;for(let i=0;i<e.length;++i){const n=e[i];Fe(n,"path"),n.length>0&&(void 0===t?t=n:t+=`/${n}`)}return void 0===t?".":je.normalize(t)},relative(e,t){if(Fe(e,"from"),Fe(t,"to"),e===t)return"";if((e=je.resolve(e))===(t=je.resolve(t)))return"";const i=e.length,n=i-1,r=t.length-1,o=n<r?n:r;let s=-1,a=0;for(;a<o;a++){const i=e.charCodeAt(1+a);if(i!==t.charCodeAt(1+a))break;i===Ae&&(s=a)}if(a===o)if(r>o){if(t.charCodeAt(1+a)===Ae)return t.slice(1+a+1);if(0===a)return t.slice(1+a)}else n>o&&(e.charCodeAt(1+a)===Ae?s=a:0===a&&(s=0));let l="";for(a=1+s+1;a<=i;++a)a!==i&&e.charCodeAt(a)!==Ae||(l+=0===l.length?"..":"/..");return`${l}${t.slice(1+s)}`},toNamespacedPath:e=>e,dirname(e){if(Fe(e,"path"),0===e.length)return".";const t=e.charCodeAt(0)===Ae;let i=-1,n=!0;for(let t=e.length-1;t>=1;--t)if(e.charCodeAt(t)===Ae){if(!n){i=t;break}}else n=!1;return-1===i?t?"/":".":t&&1===i?"//":e.slice(0,i)},basename(e,t){void 0!==t&&Fe(t,"ext"),Fe(e,"path");let i,n=0,r=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let s=t.length-1,a=-1;for(i=e.length-1;i>=0;--i){const l=e.charCodeAt(i);if(l===Ae){if(!o){n=i+1;break}}else-1===a&&(o=!1,a=i+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(r=i):(s=-1,r=a))}return n===r?r=a:-1===r&&(r=e.length),e.slice(n,r)}for(i=e.length-1;i>=0;--i)if(e.charCodeAt(i)===Ae){if(!o){n=i+1;break}}else-1===r&&(o=!1,r=i+1);return-1===r?"":e.slice(n,r)},extname(e){Fe(e,"path");let t=-1,i=0,n=-1,r=!0,o=0;for(let s=e.length-1;s>=0;--s){const a=e.charCodeAt(s);if(a!==Ae)-1===n&&(r=!1,n=s+1),a===Ie?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){i=s+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===i+1?"":e.slice(t,n)},format:ze.bind(null,"/"),parse(e){Fe(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const i=e.charCodeAt(0)===Ae;let n;i?(t.root="/",n=1):n=0;let r=-1,o=0,s=-1,a=!0,l=e.length-1,c=0;for(;l>=n;--l){const t=e.charCodeAt(l);if(t!==Ae)-1===s&&(a=!1,s=l+1),t===Ie?-1===r?r=l:1!==c&&(c=1):-1!==r&&(c=-1);else if(!a){o=l+1;break}}if(-1!==s){const n=0===o&&i?1:o;-1===r||0===c||1===c&&r===s-1&&r===o+1?t.base=t.name=e.slice(n,s):(t.name=e.slice(n,r),t.base=e.slice(n,s),t.ext=e.slice(r,s))}return o>0?t.dir=e.slice(0,o-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};je.win32=He.win32=He,je.posix=He.posix=je;const Ue="win32"===Ee.c?He.normalize:je.normalize,Ke="win32"===Ee.c?He.resolve:je.resolve,qe="win32"===Ee.c?He.relative:je.relative,Ge="win32"===Ee.c?He.dirname:je.dirname,Ye="win32"===Ee.c?He.basename:je.basename,Xe="win32"===Ee.c?He.extname:je.extname,Ze="win32"===Ee.c?He.sep:je.sep,Qe=/^\w[\w\d+.-]*$/,Je=/^\//,et=/^\/\//;const tt="",it="/",nt=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class rt{constructor(e,t,i,n,r,o=!1){"object"==typeof e?(this.scheme=e.scheme||tt,this.authority=e.authority||tt,this.path=e.path||tt,this.query=e.query||tt,this.fragment=e.fragment||tt):(this.scheme=function(e,t){return e||t?e:"file"}(e,o),this.authority=t||tt,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==it&&(t=it+t):t=it}return t}(this.scheme,i||tt),this.query=n||tt,this.fragment=r||tt,function(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!Qe.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!Je.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(et.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,o))}static isUri(e){return e instanceof rt||!!e&&("string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"function"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString)}get fsPath(){return ht(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:i,path:n,query:r,fragment:o}=e;return void 0===t?t=this.scheme:null===t&&(t=tt),void 0===i?i=this.authority:null===i&&(i=tt),void 0===n?n=this.path:null===n&&(n=tt),void 0===r?r=this.query:null===r&&(r=tt),void 0===o?o=this.fragment:null===o&&(o=tt),t===this.scheme&&i===this.authority&&n===this.path&&r===this.query&&o===this.fragment?this:new st(t,i,n,r,o)}static parse(e,t=!1){const i=nt.exec(e);return i?new st(i[2]||tt,ft(i[4]||tt),ft(i[5]||tt),ft(i[7]||tt),ft(i[9]||tt),t):new st(tt,tt,tt,tt,tt)}static file(e){let t=tt;if(r.i&&(e=e.replace(/\\/g,it)),e[0]===it&&e[1]===it){const i=e.indexOf(it,2);-1===i?(t=e.substring(2),e=it):(t=e.substring(2,i),e=e.substring(i)||it)}return new st("file",t,e,tt,tt)}static from(e){return new st(e.scheme,e.authority,e.path,e.query,e.fragment)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPaths on URI without path");let i;return i=r.i&&"file"===e.scheme?rt.file(He.join(ht(e,!0),...t)).path:je.join(e.path,...t),e.with({path:i})}toString(e=!1){return ut(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof rt)return e;{const t=new st(e);return t._formatted=e.external,t._fsPath=e._sep===ot?e.fsPath:null,t}}return e}}const ot=r.i?1:void 0;class st extends rt{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=ht(this,!1)),this._fsPath}toString(e=!1){return e?ut(this,!0):(this._formatted||(this._formatted=ut(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=ot),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const at={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function lt(e,t){let i=void 0,n=-1;for(let r=0;r<e.length;r++){const o=e.charCodeAt(r);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o)-1!==n&&(i+=encodeURIComponent(e.substring(n,r)),n=-1),void 0!==i&&(i+=e.charAt(r));else{void 0===i&&(i=e.substr(0,r));const t=at[o];void 0!==t?(-1!==n&&(i+=encodeURIComponent(e.substring(n,r)),n=-1),i+=t):-1===n&&(n=r)}}return-1!==n&&(i+=encodeURIComponent(e.substring(n))),void 0!==i?i:e}function ct(e){let t=void 0;for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);35===n||63===n?(void 0===t&&(t=e.substr(0,i)),t+=at[n]):void 0!==t&&(t+=e[i])}return void 0!==t?t:e}function ht(e,t){let i;return i=e.authority&&e.path.length>1&&"file"===e.scheme?`//${e.authority}${e.path}`:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,r.i&&(i=i.replace(/\//g,"\\")),i}function ut(e,t){const i=t?ct:lt;let n="",{scheme:r,authority:o,path:s,query:a,fragment:l}=e;if(r&&(n+=r,n+=":"),(o||"file"===r)&&(n+=it,n+=it),o){let e=o.indexOf("@");if(-1!==e){const t=o.substr(0,e);o=o.substr(e+1),-1===(e=t.indexOf(":"))?n+=i(t,!1):(n+=i(t.substr(0,e),!1),n+=":",n+=i(t.substr(e+1),!1)),n+="@"}-1===(e=(o=o.toLowerCase()).indexOf(":"))?n+=i(o,!1):(n+=i(o.substr(0,e),!1),n+=o.substr(e))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)){const e=s.charCodeAt(1);e>=65&&e<=90&&(s=`/${String.fromCharCode(e+32)}:${s.substr(3)}`)}else if(s.length>=2&&58===s.charCodeAt(1)){const e=s.charCodeAt(0);e>=65&&e<=90&&(s=`${String.fromCharCode(e+32)}:${s.substr(2)}`)}n+=i(s,!0)}return a&&(n+="?",n+=i(a,!1)),l&&(n+="#",n+=t?l:lt(l,!1)),n}const dt=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ft(e){return e.match(dt)?e.replace(dt,e=>(function e(t){try{return decodeURIComponent(t)}catch(i){return t.length>3?t.substr(0,3)+e(t.substr(3)):t}})(e)):e}class pt{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new pt(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return pt.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return pt.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return pt.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){let i=0|e.lineNumber,n=0|t.lineNumber;if(i===n){return(0|e.column)-(0|t.column)}return i-n}clone(){return new pt(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new pt(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}}class mt{constructor(e,t,i,n){e>i||e===i&&t>n?(this.startLineNumber=i,this.startColumn=n,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=i,this.endColumn=n)}isEmpty(){return mt.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return mt.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))}containsRange(e){return mt.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))}strictContainsRange(e){return mt.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)))}plusRange(e){return mt.plusRange(this,e)}static plusRange(e,t){let i,n,r,o;return t.startLineNumber<e.startLineNumber?(i=t.startLineNumber,n=t.startColumn):t.startLineNumber===e.startLineNumber?(i=t.startLineNumber,n=Math.min(t.startColumn,e.startColumn)):(i=e.startLineNumber,n=e.startColumn),t.endLineNumber>e.endLineNumber?(r=t.endLineNumber,o=t.endColumn):t.endLineNumber===e.endLineNumber?(r=t.endLineNumber,o=Math.max(t.endColumn,e.endColumn)):(r=e.endLineNumber,o=e.endColumn),new mt(i,n,r,o)}intersectRanges(e){return mt.intersectRanges(this,e)}static intersectRanges(e,t){let i=e.startLineNumber,n=e.startColumn,r=e.endLineNumber,o=e.endColumn,s=t.startLineNumber,a=t.startColumn,l=t.endLineNumber,c=t.endColumn;return i<s?(i=s,n=a):i===s&&(n=Math.max(n,a)),r>l?(r=l,o=c):r===l&&(o=Math.min(o,c)),i>r?null:i===r&&n>o?null:new mt(i,n,r,o)}equalsRange(e){return mt.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return mt.getEndPosition(this)}static getEndPosition(e){return new pt(e.endLineNumber,e.endColumn)}getStartPosition(){return mt.getStartPosition(this)}static getStartPosition(e){return new pt(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new mt(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new mt(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return mt.collapseToStart(this)}static collapseToStart(e){return new mt(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new mt(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new mt(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const i=0|e.startLineNumber,n=0|t.startLineNumber;if(i===n){const i=0|e.startColumn,n=0|t.startColumn;if(i===n){const i=0|e.endLineNumber,n=0|t.endLineNumber;if(i===n){return(0|e.endColumn)-(0|t.endColumn)}return i-n}return i-n}return i-n}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}}class gt extends mt{constructor(e,t,i,n){super(e,t,i,n),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=i,this.positionColumn=n}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return gt.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return 0===this.getDirection()?new gt(this.startLineNumber,this.startColumn,e,t):new gt(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new pt(this.positionLineNumber,this.positionColumn)}setStartPosition(e,t){return 0===this.getDirection()?new gt(e,t,this.endLineNumber,this.endColumn):new gt(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new gt(e.lineNumber,e.column,t.lineNumber,t.column)}static liftSelection(e){return new gt(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(!this.selectionsEqual(e[i],t[i]))return!1;return!0}static isISelection(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn}static createWithDirection(e,t,i,n,r){return 0===r?new gt(e,t,i,n):new gt(i,n,e,t)}}class vt{constructor(e,t,i){this.offset=0|e,this.type=t,this.language=i}toString(){return"("+this.offset+", "+this.type+")"}}class bt{constructor(e,t){this.tokens=e,this.endState=t}}class _t{constructor(e,t){this.tokens=e,this.endState=t}}var yt,wt,Ct,St,xt,kt,Lt,Dt,Et,Nt,Tt,Ot,Mt,It,At,Pt,Rt,Ft,Vt,Bt,Wt,$t,zt,Ht,jt,Ut,Kt,qt,Gt,Yt,Xt,Zt,Qt,Jt;!function(e){e[e.Unknown=0]="Unknown",e[e.Disabled=1]="Disabled",e[e.Enabled=2]="Enabled"}(yt||(yt={})),function(e){e[e.KeepWhitespace=1]="KeepWhitespace",e[e.InsertAsSnippet=4]="InsertAsSnippet"}(wt||(wt={})),function(e){e[e.Method=0]="Method",e[e.Function=1]="Function",e[e.Constructor=2]="Constructor",e[e.Field=3]="Field",e[e.Variable=4]="Variable",e[e.Class=5]="Class",e[e.Struct=6]="Struct",e[e.Interface=7]="Interface",e[e.Module=8]="Module",e[e.Property=9]="Property",e[e.Event=10]="Event",e[e.Operator=11]="Operator",e[e.Unit=12]="Unit",e[e.Value=13]="Value",e[e.Constant=14]="Constant",e[e.Enum=15]="Enum",e[e.EnumMember=16]="EnumMember",e[e.Keyword=17]="Keyword",e[e.Text=18]="Text",e[e.Color=19]="Color",e[e.File=20]="File",e[e.Reference=21]="Reference",e[e.Customcolor=22]="Customcolor",e[e.Folder=23]="Folder",e[e.TypeParameter=24]="TypeParameter",e[e.User=25]="User",e[e.Issue=26]="Issue",e[e.Snippet=27]="Snippet"}(Ct||(Ct={})),function(e){e[e.Deprecated=1]="Deprecated"}(St||(St={})),function(e){e[e.Invoke=0]="Invoke",e[e.TriggerCharacter=1]="TriggerCharacter",e[e.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"}(xt||(xt={})),function(e){e[e.EXACT=0]="EXACT",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW"}(kt||(kt={})),function(e){e[e.NotSet=0]="NotSet",e[e.ContentFlush=1]="ContentFlush",e[e.RecoverFromMarkers=2]="RecoverFromMarkers",e[e.Explicit=3]="Explicit",e[e.Paste=4]="Paste",e[e.Undo=5]="Undo",e[e.Redo=6]="Redo"}(Lt||(Lt={})),function(e){e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(Dt||(Dt={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(Et||(Et={})),function(e){e[e.None=0]="None",e[e.Keep=1]="Keep",e[e.Brackets=2]="Brackets",e[e.Advanced=3]="Advanced",e[e.Full=4]="Full"}(Nt||(Nt={})),function(e){e[e.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",e[e.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",e[e.accessibilitySupport=2]="accessibilitySupport",e[e.accessibilityPageSize=3]="accessibilityPageSize",e[e.ariaLabel=4]="ariaLabel",e[e.autoClosingBrackets=5]="autoClosingBrackets",e[e.autoClosingOvertype=6]="autoClosingOvertype",e[e.autoClosingQuotes=7]="autoClosingQuotes",e[e.autoIndent=8]="autoIndent",e[e.automaticLayout=9]="automaticLayout",e[e.autoSurround=10]="autoSurround",e[e.codeLens=11]="codeLens",e[e.colorDecorators=12]="colorDecorators",e[e.columnSelection=13]="columnSelection",e[e.comments=14]="comments",e[e.contextmenu=15]="contextmenu",e[e.copyWithSyntaxHighlighting=16]="copyWithSyntaxHighlighting",e[e.cursorBlinking=17]="cursorBlinking",e[e.cursorSmoothCaretAnimation=18]="cursorSmoothCaretAnimation",e[e.cursorStyle=19]="cursorStyle",e[e.cursorSurroundingLines=20]="cursorSurroundingLines",e[e.cursorSurroundingLinesStyle=21]="cursorSurroundingLinesStyle",e[e.cursorWidth=22]="cursorWidth",e[e.disableLayerHinting=23]="disableLayerHinting",e[e.disableMonospaceOptimizations=24]="disableMonospaceOptimizations",e[e.dragAndDrop=25]="dragAndDrop",e[e.emptySelectionClipboard=26]="emptySelectionClipboard",e[e.extraEditorClassName=27]="extraEditorClassName",e[e.fastScrollSensitivity=28]="fastScrollSensitivity",e[e.find=29]="find",e[e.fixedOverflowWidgets=30]="fixedOverflowWidgets",e[e.folding=31]="folding",e[e.foldingStrategy=32]="foldingStrategy",e[e.foldingHighlight=33]="foldingHighlight",e[e.unfoldOnClickAfterEndOfLine=34]="unfoldOnClickAfterEndOfLine",e[e.fontFamily=35]="fontFamily",e[e.fontInfo=36]="fontInfo",e[e.fontLigatures=37]="fontLigatures",e[e.fontSize=38]="fontSize",e[e.fontWeight=39]="fontWeight",e[e.formatOnPaste=40]="formatOnPaste",e[e.formatOnType=41]="formatOnType",e[e.glyphMargin=42]="glyphMargin",e[e.gotoLocation=43]="gotoLocation",e[e.hideCursorInOverviewRuler=44]="hideCursorInOverviewRuler",e[e.highlightActiveIndentGuide=45]="highlightActiveIndentGuide",e[e.hover=46]="hover",e[e.inDiffEditor=47]="inDiffEditor",e[e.letterSpacing=48]="letterSpacing",e[e.lightbulb=49]="lightbulb",e[e.lineDecorationsWidth=50]="lineDecorationsWidth",e[e.lineHeight=51]="lineHeight",e[e.lineNumbers=52]="lineNumbers",e[e.lineNumbersMinChars=53]="lineNumbersMinChars",e[e.links=54]="links",e[e.matchBrackets=55]="matchBrackets",e[e.minimap=56]="minimap",e[e.mouseStyle=57]="mouseStyle",e[e.mouseWheelScrollSensitivity=58]="mouseWheelScrollSensitivity",e[e.mouseWheelZoom=59]="mouseWheelZoom",e[e.multiCursorMergeOverlapping=60]="multiCursorMergeOverlapping",e[e.multiCursorModifier=61]="multiCursorModifier",e[e.multiCursorPaste=62]="multiCursorPaste",e[e.occurrencesHighlight=63]="occurrencesHighlight",e[e.overviewRulerBorder=64]="overviewRulerBorder",e[e.overviewRulerLanes=65]="overviewRulerLanes",e[e.padding=66]="padding",e[e.parameterHints=67]="parameterHints",e[e.peekWidgetDefaultFocus=68]="peekWidgetDefaultFocus",e[e.definitionLinkOpensInPeek=69]="definitionLinkOpensInPeek",e[e.quickSuggestions=70]="quickSuggestions",e[e.quickSuggestionsDelay=71]="quickSuggestionsDelay",e[e.readOnly=72]="readOnly",e[e.renameOnType=73]="renameOnType",e[e.renderControlCharacters=74]="renderControlCharacters",e[e.renderIndentGuides=75]="renderIndentGuides",e[e.renderFinalNewline=76]="renderFinalNewline",e[e.renderLineHighlight=77]="renderLineHighlight",e[e.renderLineHighlightOnlyWhenFocus=78]="renderLineHighlightOnlyWhenFocus",e[e.renderValidationDecorations=79]="renderValidationDecorations",e[e.renderWhitespace=80]="renderWhitespace",e[e.revealHorizontalRightPadding=81]="revealHorizontalRightPadding",e[e.roundedSelection=82]="roundedSelection",e[e.rulers=83]="rulers",e[e.scrollbar=84]="scrollbar",e[e.scrollBeyondLastColumn=85]="scrollBeyondLastColumn",e[e.scrollBeyondLastLine=86]="scrollBeyondLastLine",e[e.scrollPredominantAxis=87]="scrollPredominantAxis",e[e.selectionClipboard=88]="selectionClipboard",e[e.selectionHighlight=89]="selectionHighlight",e[e.selectOnLineNumbers=90]="selectOnLineNumbers",e[e.showFoldingControls=91]="showFoldingControls",e[e.showUnused=92]="showUnused",e[e.snippetSuggestions=93]="snippetSuggestions",e[e.smoothScrolling=94]="smoothScrolling",e[e.stopRenderingLineAfter=95]="stopRenderingLineAfter",e[e.suggest=96]="suggest",e[e.suggestFontSize=97]="suggestFontSize",e[e.suggestLineHeight=98]="suggestLineHeight",e[e.suggestOnTriggerCharacters=99]="suggestOnTriggerCharacters",e[e.suggestSelection=100]="suggestSelection",e[e.tabCompletion=101]="tabCompletion",e[e.tabIndex=102]="tabIndex",e[e.unusualLineTerminators=103]="unusualLineTerminators",e[e.useTabStops=104]="useTabStops",e[e.wordSeparators=105]="wordSeparators",e[e.wordWrap=106]="wordWrap",e[e.wordWrapBreakAfterCharacters=107]="wordWrapBreakAfterCharacters",e[e.wordWrapBreakBeforeCharacters=108]="wordWrapBreakBeforeCharacters",e[e.wordWrapColumn=109]="wordWrapColumn",e[e.wordWrapMinified=110]="wordWrapMinified",e[e.wrappingIndent=111]="wrappingIndent",e[e.wrappingStrategy=112]="wrappingStrategy",e[e.showDeprecated=113]="showDeprecated",e[e.editorClassName=114]="editorClassName",e[e.pixelRatio=115]="pixelRatio",e[e.tabFocusMode=116]="tabFocusMode",e[e.layoutInfo=117]="layoutInfo",e[e.wrappingInfo=118]="wrappingInfo"}(Tt||(Tt={})),function(e){e[e.TextDefined=0]="TextDefined",e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(Ot||(Ot={})),function(e){e[e.LF=0]="LF",e[e.CRLF=1]="CRLF"}(Mt||(Mt={})),function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(It||(It={})),function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.MAX_VALUE=112]="MAX_VALUE"}(At||(At={})),(Rt=Pt||(Pt={}))[Rt.Hint=1]="Hint",Rt[Rt.Info=2]="Info",Rt[Rt.Warning=4]="Warning",Rt[Rt.Error=8]="Error",function(e){e[e.Unnecessary=1]="Unnecessary",e[e.Deprecated=2]="Deprecated"}(Ft||(Ft={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(Vt||(Vt={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXTAREA=1]="TEXTAREA",e[e.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",e[e.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",e[e.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",e[e.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",e[e.CONTENT_TEXT=6]="CONTENT_TEXT",e[e.CONTENT_EMPTY=7]="CONTENT_EMPTY",e[e.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",e[e.CONTENT_WIDGET=9]="CONTENT_WIDGET",e[e.OVERVIEW_RULER=10]="OVERVIEW_RULER",e[e.SCROLLBAR=11]="SCROLLBAR",e[e.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",e[e.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"}(Bt||(Bt={})),function(e){e[e.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",e[e.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",e[e.TOP_CENTER=2]="TOP_CENTER"}(Wt||(Wt={})),function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}($t||($t={})),function(e){e[e.Off=0]="Off",e[e.On=1]="On",e[e.Relative=2]="Relative",e[e.Interval=3]="Interval",e[e.Custom=4]="Custom"}(zt||(zt={})),function(e){e[e.None=0]="None",e[e.Text=1]="Text",e[e.Blocks=2]="Blocks"}(Ht||(Ht={})),function(e){e[e.Smooth=0]="Smooth",e[e.Immediate=1]="Immediate"}(jt||(jt={})),function(e){e[e.Auto=1]="Auto",e[e.Hidden=2]="Hidden",e[e.Visible=3]="Visible"}(Ut||(Ut={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(Kt||(Kt={})),function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(qt||(qt={})),function(e){e[e.File=0]="File",e[e.Module=1]="Module",e[e.Namespace=2]="Namespace",e[e.Package=3]="Package",e[e.Class=4]="Class",e[e.Method=5]="Method",e[e.Property=6]="Property",e[e.Field=7]="Field",e[e.Constructor=8]="Constructor",e[e.Enum=9]="Enum",e[e.Interface=10]="Interface",e[e.Function=11]="Function",e[e.Variable=12]="Variable",e[e.Constant=13]="Constant",e[e.String=14]="String",e[e.Number=15]="Number",e[e.Boolean=16]="Boolean",e[e.Array=17]="Array",e[e.Object=18]="Object",e[e.Key=19]="Key",e[e.Null=20]="Null",e[e.EnumMember=21]="EnumMember",e[e.Struct=22]="Struct",e[e.Event=23]="Event",e[e.Operator=24]="Operator",e[e.TypeParameter=25]="TypeParameter"}(Gt||(Gt={})),function(e){e[e.Deprecated=1]="Deprecated"}(Yt||(Yt={})),function(e){e[e.Hidden=0]="Hidden",e[e.Blink=1]="Blink",e[e.Smooth=2]="Smooth",e[e.Phase=3]="Phase",e[e.Expand=4]="Expand",e[e.Solid=5]="Solid"}(Xt||(Xt={})),function(e){e[e.Line=1]="Line",e[e.Block=2]="Block",e[e.Underline=3]="Underline",e[e.LineThin=4]="LineThin",e[e.BlockOutline=5]="BlockOutline",e[e.UnderlineThin=6]="UnderlineThin"}(Zt||(Zt={})),function(e){e[e.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",e[e.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",e[e.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",e[e.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"}(Qt||(Qt={})),function(e){e[e.None=0]="None",e[e.Same=1]="Same",e[e.Indent=2]="Indent",e[e.DeepIndent=3]="DeepIndent"}(Jt||(Jt={}));class ei{static chord(e,t){return function(e,t){return(e|(65535&t)<<16>>>0)>>>0}(e,t)}}function ti(){return{editor:void 0,languages:void 0,CancellationTokenSource:ge,Emitter:ce,KeyCode:At,KeyMod:ei,Position:pt,Range:mt,Selection:gt,SelectionDirection:Kt,MarkerSeverity:Pt,MarkerTag:Ft,Uri:rt,Token:vt}}ei.CtrlCmd=2048,ei.Shift=1024,ei.Alt=512,ei.WinCtrl=256;var ii;i("gvGx");!function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function(t){return t[e.DI_DEPENDENCIES]||[]}}(ii||(ii={}));const ni=oi("instantiationService");function ri(e,t,i,n){t[ii.DI_TARGET]===t?t[ii.DI_DEPENDENCIES].push({id:e,index:i,optional:n}):(t[ii.DI_DEPENDENCIES]=[{id:e,index:i,optional:n}],t[ii.DI_TARGET]=t)}function oi(e){if(ii.serviceIds.has(e))return ii.serviceIds.get(e);const t=function(e,i,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");ri(t,e,n,!1)};return t.toString=(()=>e),ii.serviceIds.set(e,t),t}const si=oi("codeEditorService");class ai{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new ce,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}getZoomFactor(){return this._zoomFactor}getPixelRatio(){let e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}}function li(){return ai.INSTANCE.getZoomLevel()}ai.INSTANCE=new ai;const ci=navigator.userAgent,hi=ci.indexOf("Edge/")>=0,ui=ci.indexOf("Firefox")>=0,di=ci.indexOf("AppleWebKit")>=0,fi=ci.indexOf("Chrome")>=0,pi=!fi&&ci.indexOf("Safari")>=0,mi=!fi&&!pi&&di,gi=(ci.indexOf("iPad")>=0||pi&&navigator.maxTouchPoints,hi&&ci.indexOf("WebView/")>=0),vi=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,bi=(e,t,i)=>{const n=e=>r.fire(e),r=new ce({onFirstListenerAdd:()=>{e.addEventListener(t,n,i)},onLastListenerRemove:()=>{e.removeEventListener(t,n,i)}});return r.event};let _i=new Array(230),yi=new Array(112);!function(){for(let e=0;e<yi.length;e++)yi[e]=-1;function e(e,t){_i[e]=t,yi[t]=e}e(3,7),e(8,1),e(9,2),e(13,3),e(16,4),e(17,5),e(18,6),e(19,7),e(20,8),e(27,9),e(32,10),e(33,11),e(34,12),e(35,13),e(36,14),e(37,15),e(38,16),e(39,17),e(40,18),e(45,19),e(46,20),e(48,21),e(49,22),e(50,23),e(51,24),e(52,25),e(53,26),e(54,27),e(55,28),e(56,29),e(57,30),e(65,31),e(66,32),e(67,33),e(68,34),e(69,35),e(70,36),e(71,37),e(72,38),e(73,39),e(74,40),e(75,41),e(76,42),e(77,43),e(78,44),e(79,45),e(80,46),e(81,47),e(82,48),e(83,49),e(84,50),e(85,51),e(86,52),e(87,53),e(88,54),e(89,55),e(90,56),e(93,58),e(96,93),e(97,94),e(98,95),e(99,96),e(100,97),e(101,98),e(102,99),e(103,100),e(104,101),e(105,102),e(106,103),e(107,104),e(108,105),e(109,106),e(110,107),e(111,108),e(112,59),e(113,60),e(114,61),e(115,62),e(116,63),e(117,64),e(118,65),e(119,66),e(120,67),e(121,68),e(122,69),e(123,70),e(124,71),e(125,72),e(126,73),e(127,74),e(128,75),e(129,76),e(130,77),e(144,78),e(145,79),e(186,80),e(187,81),e(188,82),e(189,83),e(190,84),e(191,85),e(192,86),e(193,110),e(194,111),e(219,87),e(220,88),e(221,89),e(222,90),e(223,91),e(226,92),e(229,109),ui?(e(59,80),e(107,81),e(109,83),r.f&&e(224,57)):di&&(e(91,57),r.f?e(93,57):e(92,57))}();const wi=r.f?256:2048,Ci=512,Si=1024,xi=r.f?2048:256;class ki{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=function(e){if(e.charCode){let t=String.fromCharCode(e.charCode).toUpperCase();return we.fromString(t)}return _i[e.keyCode]||0}(t),this.code=t.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=wi),this.altKey&&(t|=Ci),this.shiftKey&&(t|=Si),this.metaKey&&(t|=xi),t|=e}_computeRuntimeKeybinding(){let e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new xe(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}let Li,Di=!1,Ei=null;function Ni(e){if(!e.parent||e.parent===e)return null;try{let t=e.location,i=e.parent.location;if("null"!==t.origin&&"null"!==i.origin&&(t.protocol!==i.protocol||t.hostname!==i.hostname||t.port!==i.port))return Di=!0,null}catch(e){return Di=!0,null}return e.parent}class Ti{static getSameOriginWindowChain(){if(!Ei){Ei=[];let e,t=window;do{(e=Ni(t))?Ei.push({window:t,iframeElement:t.frameElement||null}):Ei.push({window:t,iframeElement:null}),t=e}while(t)}return Ei.slice(0)}static hasDifferentOriginAncestor(){return Ei||this.getSameOriginWindowChain(),Di}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let i=0,n=0,r=this.getSameOriginWindowChain();for(const e of r){if(i+=e.window.scrollY,n+=e.window.scrollX,e.window===t)break;if(!e.iframeElement)break;let r=e.iframeElement.getBoundingClientRect();i+=r.top,n+=r.left}return{top:i,left:n}}}class Oi{constructor(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"==typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);let t=Ti.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class Mi{constructor(e,t=0,i=0){if(this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=i,this.deltaX=t,e){let t=e,i=e;if(void 0!==t.wheelDeltaY)this.deltaY=t.wheelDeltaY/120;else if(void 0!==i.VERTICAL_AXIS&&i.axis===i.VERTICAL_AXIS)this.deltaY=-i.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?ui&&!r.f?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(void 0!==t.wheelDeltaX)pi&&r.i?this.deltaX=-t.wheelDeltaX/120:this.deltaX=t.wheelDeltaX/120;else if(void 0!==i.HORIZONTAL_AXIS&&i.axis===i.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?ui&&!r.f?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}function Ii(e){const t=new ge,i=e(t.token),n=new Promise((e,n)=>{t.token.onCancellationRequested(()=>{n(U())}),Promise.resolve(i).then(i=>{t.dispose(),e(i)},e=>{t.dispose(),n(e)})});return new class{cancel(){t.cancel()}then(e,t){return n.then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return n.finally(e)}}}class Ai{constructor(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(e,t=this.defaultDelay){return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e,t)=>{this.doResolve=e,this.doReject=t}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const e=this.task;return this.task=null,e()}})),this.timeout=setTimeout(()=>{this.timeout=null,this.doResolve&&this.doResolve(null)},t),this.completionPromise}isTriggered(){return null!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(U()),this.completionPromise=null)}cancelTimeout(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){this.cancelTimeout()}}function Pi(e,t=0){const i=setTimeout(e,t);return te(()=>clearTimeout(i))}class Ri{constructor(e,t){this._token=-1,"function"==typeof e&&"number"==typeof t&&this.setIfNotSet(e,t)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},t)}setIfNotSet(e,t){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,e()},t))}}class Fi{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(e,t){this.cancel(),this._token=setInterval(()=>{e()},t)}}class Vi{constructor(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner&&this.runner()}}!function(){if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){const e=Object.freeze({didTimeout:!0,timeRemaining:()=>15});Li=(t=>{const i=setTimeout(()=>t(e));let n=!1;return{dispose(){n||(n=!0,clearTimeout(i))}}})}else Li=((e,t)=>{const i=requestIdleCallback(e,"number"==typeof t?{timeout:t}:void 0);let n=!1;return{dispose(){n||(n=!0,cancelIdleCallback(i))}}})}();class Bi{constructor(e){this._didRun=!1,this._executor=(()=>{try{this._value=e()}catch(e){this._error=e}finally{this._didRun=!0}}),this._handle=Li(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}}function Wi(e,t=0){return e[e.length-(1+t)]}function $i(e,t,i=((e,t)=>e===t)){if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(!i(e[n],t[n]))return!1;return!0}function zi(e,t){return function e(t,i,n,r,o){if(r<=n)return;const s=n+(r-n)/2|0;e(t,i,n,s,o);e(t,i,s+1,r,o);if(i(t[s],t[s+1])<=0)return;!function(e,t,i,n,r,o){let s=i,a=n+1;for(let t=i;t<=r;t++)o[t]=e[t];for(let l=i;l<=r;l++)s>n?e[l]=o[a++]:a>r?e[l]=o[s++]:t(o[a],o[s])<0?e[l]=o[a++]:e[l]=o[s++]}(t,i,n,s,r,o)}(e,t,0,e.length-1,[]),e}function Hi(e){return e.filter(e=>!!e)}function ji(e,t){if(!t)return e.filter((t,i)=>e.indexOf(t)===i);const i=Object.create(null);return e.filter(e=>{const n=t(e);return!i[n]&&(i[n]=!0,!0)})}function Ui(e){const t=new Set;return e.filter(e=>!t.has(e)&&(t.add(e),!0))}function Ki(e,t){for(let i=0;i<e.length;i++){if(t(e[i]))return i}return-1}function qi(e,t,i){const n=Ki(e,t);return n<0?i:e[n]}function Gi(e,t){return e.length>0?e[0]:t}function Yi(e,t){let i="number"==typeof t?e:0;"number"==typeof t?i=e:(i=0,t=e);const n=[];if(i<=t)for(let e=i;e<t;e++)n.push(e);else for(let e=i;e>t;e--)n.push(e);return n}function Xi(e,t,i){const n=e.slice(0,t),r=e.slice(t);return n.concat(i,r)}var Zi;!function(e){e.inMemory="inmemory",e.vscode="vscode",e.internal="private",e.walkThrough="walkThrough",e.walkThroughSnippet="walkThroughSnippet",e.http="http",e.https="https",e.file="file",e.mailto="mailto",e.untitled="untitled",e.data="data",e.command="command",e.vscodeRemote="vscode-remote",e.vscodeRemoteResource="vscode-remote-resource",e.userData="vscode-userdata",e.vscodeCustomEditor="vscode-custom-editor",e.vscodeNotebook="vscode-notebook",e.vscodeNotebookCell="vscode-notebook-cell",e.vscodeSettings="vscode-settings",e.webviewPanel="webview-panel",e.vscodeWebview="vscode-webview",e.vscodeWebviewResource="vscode-webview-resource",e.extension="extension"}(Zi||(Zi={}));const Qi=new class{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}setPreferredWebSchema(e){this._preferredWebSchema=e}rewrite(e){if(this._delegate)return this._delegate(e);const t=e.authority;let i=this._hosts[t];i&&-1!==i.indexOf(":")&&(i=`[${i}]`);const n=this._ports[t],o=this._connectionTokens[t];let s=`path=${encodeURIComponent(e.path)}`;return"string"==typeof o&&(s+=`&tkn=${encodeURIComponent(o)}`),rt.from({scheme:r.h?this._preferredWebSchema:Zi.vscodeRemoteResource,authority:`${i}:${n}`,path:"/vscode-remote-resource",query:s})}},Ji={clipboard:{writeText:r.g||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:r.g||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText),richText:(()=>{if(hi){let e=navigator.userAgent.indexOf("Edge/"),t=parseInt(navigator.userAgent.substring(e+5,navigator.userAgent.indexOf(".",e)),10);if(!t||t>=12&&t<=16)return!1}return!0})()},keyboard:(()=>r.g||vi?0:navigator.keyboard||pi?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)};function en(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function tn(e){e.parentNode&&e.parentNode.removeChild(e)}function nn(e){for(;e;){if(e===document.body)return!0;e=e.parentNode||e.host}return!1}const rn=new class{hasClass(e,t){return Boolean(t)&&e.classList&&e.classList.contains(t)}addClasses(e,...t){t.forEach(t=>t.split(" ").forEach(t=>this.addClass(e,t)))}addClass(e,t){t&&e.classList&&e.classList.add(t)}removeClass(e,t){t&&e.classList&&e.classList.remove(t)}removeClasses(e,...t){t.forEach(t=>t.split(" ").forEach(t=>this.removeClass(e,t)))}toggleClass(e,t,i){e.classList&&e.classList.toggle(t,i)}},on=rn.hasClass.bind(rn),sn=rn.addClass.bind(rn),an=rn.addClasses.bind(rn),ln=rn.removeClass.bind(rn),cn=rn.removeClasses.bind(rn),hn=rn.toggleClass.bind(rn);class un{constructor(e,t,i,n){this._node=e,this._type=t,this._handler=i,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function dn(e,t,i,n){return new un(e,t,i,n)}function fn(e){return function(t){return e(new Oi(t))}}let pn=function(e,t,i,n){let r=i;return"click"===t||"mousedown"===t?r=fn(i):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(r=function(e){return function(t){return e(new ki(t))}}(i)),dn(e,t,r,n)};function mn(e,t){return dn(e,"mouseout",i=>{let n=i.relatedTarget;for(;n&&n!==e;)n=n.parentNode;n!==e&&t(i)})}let gn,vn,bn=null;class _n{constructor(e,t=0){this._runner=e,this.priority=t,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){$(e)}}static sort(e,t){return t.priority-e.priority}}!function(){let e=[],t=null,i=!1,n=!1,r=()=>{for(i=!1,t=e,e=[],n=!0;t.length>0;){t.sort(_n.sort),t.shift().execute()}n=!1};vn=((t,n=0)=>{let o=new _n(t,n);return e.push(o),i||(i=!0,function(e){if(!bn){const e=e=>setTimeout(()=>e((new Date).getTime()),0);bn=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||e}bn.call(self,e)}(r)),o}),gn=((e,i)=>{if(n){let n=new _n(e,i);return t.push(n),n}return vn(e,i)})}();const yn=16,wn=function(e,t){return t};class Cn extends ne{constructor(e,t,i,n=wn,r=yn){super();let o=null,s=0,a=this._register(new Ri),l=()=>{s=(new Date).getTime(),i(o),o=null};this._register(dn(e,t,e=>{o=n(o,e);let t=(new Date).getTime()-s;t>=r?(a.cancel(),l()):a.setIfNotSet(l,r-t)}))}}function Sn(e,t,i,n,r){return new Cn(e,t,i,n,r)}function xn(e){return document.defaultView.getComputedStyle(e,null)}function kn(e){if(e!==document.body)return new Dn(e.clientWidth,e.clientHeight);if(r.c&&window.visualViewport){const e=window.visualViewport.width,t=window.visualViewport.height-(vi?24:0);return new Dn(e,t)}if(window.innerWidth&&window.innerHeight)return new Dn(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new Dn(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new Dn(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class Ln{static convertToPixels(e,t){return parseFloat(t)||0}static getDimension(e,t,i){let n=xn(e),r="0";return n&&(r=n.getPropertyValue?n.getPropertyValue(t):n.getAttribute(i)),Ln.convertToPixels(e,r)}static getBorderLeftWidth(e){return Ln.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return Ln.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return Ln.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return Ln.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return Ln.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return Ln.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return Ln.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return Ln.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return Ln.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return Ln.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return Ln.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return Ln.getDimension(e,"margin-bottom","marginBottom")}}class Dn{constructor(e,t){this.width=e,this.height=t}}function En(e){let t=e.getBoundingClientRect();return{left:t.left+Nn.scrollX,top:t.top+Nn.scrollY,width:t.width,height:t.height}}const Nn=new class{get scrollX(){return"number"==typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return"number"==typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function Tn(e){let t=Ln.getMarginLeft(e)+Ln.getMarginRight(e);return e.offsetWidth+t}function On(e){let t=Ln.getBorderLeftWidth(e)+Ln.getBorderRightWidth(e),i=Ln.getPaddingLeft(e)+Ln.getPaddingRight(e);return e.offsetWidth-t-i}function Mn(e){let t=Ln.getMarginTop(e)+Ln.getMarginBottom(e);return e.offsetHeight+t}function In(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function An(e,t,i){for(;e&&e.nodeType===e.ELEMENT_NODE;){if(on(e,t))return e;if(i)if("string"==typeof i){if(on(e,i))return null}else if(e===i)return null;e=e.parentNode}return null}function Pn(e,t,i){return!!An(e,t,i)}function Rn(e){return e&&!!e.host&&!!e.mode}function Fn(e){return!!Vn(e)}function Vn(e){for(;e.parentNode;){if(e===document.body)return null;e=e.parentNode}return Rn(e)?e:null}function Bn(){let e=document.activeElement;for(;null===e||void 0===e?void 0:e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Wn(e=document.getElementsByTagName("head")[0]){let t=document.createElement("style");return t.type="text/css",t.media="screen",e.appendChild(t),t}let $n=null;function zn(){return $n||($n=Wn()),$n}function Hn(e,t,i=zn()){i&&t&&i.sheet.insertRule(e+"{"+t+"}",0)}function jn(e,t=zn()){if(!t)return;let i=function(e){return e&&e.sheet&&e.sheet.rules?e.sheet.rules:e&&e.sheet&&e.sheet.cssRules?e.sheet.cssRules:[]}(t),n=[];for(let t=0;t<i.length;t++){-1!==i[t].selectorText.indexOf(e)&&n.push(t)}for(let e=n.length-1;e>=0;e--)t.sheet.deleteRule(n[e])}function Un(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}const Kn={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:hi?"mousewheel":"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:di?"webkitAnimationStart":"animationstart",ANIMATION_END:di?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:di?"webkitAnimationIteration":"animationiteration"},qn={stop:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}};class Gn extends ne{constructor(e){super(),this._onDidFocus=this._register(new ce),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new ce),this.onDidBlur=this._onDidBlur.event;let t=In(document.activeElement,e),i=!1;const n=()=>{i=!1,t||(t=!0,this._onDidFocus.fire())},r=()=>{t&&(i=!0,window.setTimeout(()=>{i&&(i=!1,t=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=(()=>{In(document.activeElement,e)!==t&&(t?r():n())}),this._register(bi(e,Kn.FOCUS,!0)(n)),this._register(bi(e,Kn.BLUR,!0)(r))}}function Yn(e){return new Gn(e)}function Xn(e,...t){return t.forEach(t=>e.appendChild(t)),t[t.length-1]}const Zn=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Qn;function Jn(e,t,i,...n){let r=Zn.exec(t);if(!r)throw new Error("Bad use of emmet");i=Object.assign({},i||{});let o,s=r[1]||"div";return o=e!==Qn.HTML?document.createElementNS(e,s):document.createElement(s),r[3]&&(o.id=r[3]),r[4]&&(o.className=r[4].replace(/\./g," ").trim()),Object.keys(i).forEach(e=>{const t=i[e];void 0!==t&&(/^on\w+$/.test(e)?o[e]=t:"selected"===e?t&&o.setAttribute(e,"true"):o.setAttribute(e,t))}),Hi(n).forEach(e=>{e instanceof Node?o.appendChild(e):o.appendChild(document.createTextNode(e))}),o}function er(e,t,...i){return Jn(Qn.HTML,e,t,...i)}function tr(...e){for(let t of e)t.style.display="",t.removeAttribute("aria-hidden")}function ir(...e){for(let t of e)t.style.display="none",t.setAttribute("aria-hidden","true")}function nr(e){if(e&&e.hasAttribute("tabIndex")){if(document.activeElement===e){let t=function(e,t){for(;e&&e.nodeType===e.ELEMENT_NODE;){if(e instanceof HTMLElement&&e.hasAttribute(t))return e;e=e.parentNode}return null}(e.parentElement,"tabIndex");t&&t.focus()}e.removeAttribute("tabindex")}}function rr(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)}function or(e){const t=window.devicePixelRatio*e;return Math.max(1,Math.floor(t))/window.devicePixelRatio}function sr(e){if(r.g||gi)window.open(e);else{let t=window.open();t&&(t.opener=null,t.location.href=e)}}function ar(e){return e?`url('${function(e){return e&&Zi.vscodeRemote===e.scheme?Qi.rewrite(e):e}(e).toString(!0).replace(/'/g,"%27")}')`:"url('')"}!function(e){e.HTML="http://www.w3.org/1999/xhtml",e.SVG="http://www.w3.org/2000/svg"}(Qn||(Qn={})),er.SVG=function(e,t,...i){return Jn(Qn.SVG,e,t,...i)},Qi.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");var lr=i("bcVt");function cr(e){let t=JSON.parse(e);return t=function e(t,i=0){if(!t||i>200)return t;if("object"==typeof t){switch(t.$mid){case 1:return rt.revive(t);case 2:return new RegExp(t.source,t.flags)}if(t instanceof lr.a||t instanceof Uint8Array)return t;if(Array.isArray(t))for(let n=0;n<t.length;++n)t[n]=e(t[n],i+1);else for(const n in t)Object.hasOwnProperty.call(t,n)&&(t[n]=e(t[n],i+1))}return t}(t)}var hr=i("aL7J");function ur(e){return e.replace(/[\\/]/g,je.sep)}function dr(e){return ht(e,!0)}const fr=new class{constructor(e){this._ignorePathCasing=e}compare(e,t,i=!1){return e===t?0:Object(hr.f)(this.getComparisonKey(e,i),this.getComparisonKey(t,i))}isEqual(e,t,i=!1){return e===t||!(!e||!t)&&this.getComparisonKey(e,i)===this.getComparisonKey(t,i)}getComparisonKey(e,t=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:t?null:void 0}).toString()}joinPath(e,...t){return rt.joinPath(e,...t)}basenameOrAuthority(e){return pr(e)||e.authority}basename(e){return je.basename(e.path)}dirname(e){if(0===e.path.length)return e;let t;return e.scheme===Zi.file?t=rt.file(Ge(dr(e))).path:(t=je.dirname(e.path),e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error(`dirname("${e.toString})) resulted in a relative path`),t="/")),e.with({path:t})}normalizePath(e){if(!e.path.length)return e;let t;return t=e.scheme===Zi.file?rt.file(Ue(dr(e))).path:je.normalize(e.path),e.with({path:t})}relativePath(e,t){if(e.scheme!==t.scheme||!vr(e.authority,t.authority))return;if(e.scheme===Zi.file){const i=qe(dr(e),dr(t));return r.i?ur(i):i}let i=e.path||"/",n=t.path||"/";if(this._ignorePathCasing(e)){let e=0;for(const t=Math.min(i.length,n.length);e<t&&(i.charCodeAt(e)===n.charCodeAt(e)||i.charAt(e).toLowerCase()===n.charAt(e).toLowerCase());e++);i=n.substr(0,e)+i.substr(e)}return je.relative(i,n)}resolvePath(e,t){if(e.scheme===Zi.file){const i=rt.file(Ke(dr(e),t));return e.with({authority:i.authority,path:i.path})}return-1===t.indexOf("/")&&(t=ur(t),/^[a-zA-Z]:(\/|$)/.test(t)&&(t="/"+t)),e.with({path:je.resolve(e.path,t)})}isEqualAuthority(e,t){return e===t||Object(hr.r)(e,t)}}(()=>!1),pr=(fr.isEqual.bind(fr),fr.basenameOrAuthority.bind(fr),fr.basename.bind(fr)),mr=(fr.dirname.bind(fr),fr.joinPath.bind(fr)),gr=fr.normalizePath.bind(fr),vr=(fr.relativePath.bind(fr),fr.resolvePath.bind(fr),fr.isEqualAuthority.bind(fr));var br;function _r(e){return"string"==typeof e}function yr(e){return!("object"!=typeof e||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function wr(e){return"number"==typeof e&&!isNaN(e)}function Cr(e){return!0===e||!1===e}function Sr(e){return void 0===e}function xr(e){return Sr(e)||null===e}function kr(e){return"function"==typeof e}function Lr(e,t){if(_r(t)){if(typeof e!==t)throw new Error(`argument does not match constraint: typeof ${t}`)}else if(kr(t)){try{if(e instanceof t)return}catch(e){}if(!xr(e)&&e.constructor===t)return;if(1===t.length&&!0===t.call(void 0,e))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Dr(e){const t=[];for(const i of function(e){let t=[],i=Object.getPrototypeOf(e);for(;Object.prototype!==i;)t=t.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return t}(e))"function"==typeof e[i]&&t.push(i);return t}function Er(e,t){const i=e=>(function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)});let n={};for(const t of e)n[t]=i(t);return n}function Nr(e){return null===e?void 0:e}!function(e){e.META_DATA_LABEL="label",e.META_DATA_DESCRIPTION="description",e.META_DATA_SIZE="size",e.META_DATA_MIME="mime",e.parseMetaData=function(t){const i=new Map;t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";")).split(";").forEach(e=>{const[t,n]=e.split(":");t&&n&&i.set(t,n)});const n=t.path.substring(0,t.path.indexOf(";"));return n&&i.set(e.META_DATA_MIME,n),i}}(br||(br={}));const Tr=oi("commandService"),Or=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new ce,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"==typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){const t=[];for(let i of e.description.args)t.push(i.constraint);const i=e.handler;e.handler=function(e,...n){return function(e,t){const i=Math.min(e.length,t.length);for(let n=0;n<i;n++)Lr(e[n],t[n])}(n,t),i(e,...n)}}const{id:i}=e;let n=this._commands.get(i);n||(n=new oe,this._commands.set(i,n));let r=n.unshift(e),o=te(()=>{r();const e=this._commands.get(i);(null===e||void 0===e?void 0:e.isEmpty())&&this._commands.delete(i)});return this._onDidRegisterCommand.fire(i),o}registerCommandAlias(e,t){return Or.registerCommand(e,(e,...i)=>e.get(Tr).executeCommand(t,...i))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return q.first(t)}getCommands(){const e=new Map;for(const t of this._commands.keys()){const i=this.getCommand(t);i&&e.set(t,i)}return e}};var Mr=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};const Ir=oi("openerService");Object.freeze({_serviceBrand:void 0,registerOpener:()=>ne.None,registerValidator:()=>ne.None,registerExternalUriResolver:()=>ne.None,setExternalOpener(){},open(){return Mr(this,void 0,void 0,function*(){return!1})},resolveExternalUri(e){return Mr(this,void 0,void 0,function*(){return{resolved:e,dispose(){}}})}});function Ar(e,t){return rt.isUri(e)?Object(hr.r)(e.scheme,t):Object(hr.Q)(e,t+":")}var Pr;!function(e){e[e.API=0]="API",e[e.USER=1]="USER"}(Pr||(Pr={}));var Rr=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Fr=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},Vr=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let Br=class{constructor(e){this._commandService=e}open(e){return Vr(this,void 0,void 0,function*(){if(!Ar(e,Zi.command))return!1;"string"==typeof e&&(e=rt.parse(e));let t=[];try{t=cr(decodeURIComponent(e.query))}catch(i){try{t=cr(e.query)}catch(e){}}return Array.isArray(t)||(t=[t]),yield this._commandService.executeCommand(e.path,...t),!0})}};Br=Rr([Fr(0,Tr)],Br);let Wr=class{constructor(e){this._editorService=e}open(e,t){return Vr(this,void 0,void 0,function*(){"string"==typeof e&&(e=rt.parse(e));let i=void 0;const n=/^L?(\d+)(?:,(\d+))?/.exec(e.fragment);return n&&(i={startLineNumber:parseInt(n[1]),startColumn:n[2]?parseInt(n[2]):1},e=e.with({fragment:""})),e.scheme===Zi.file&&(e=gr(e)),yield this._editorService.openCodeEditor({resource:e,options:{selection:i,context:(null===t||void 0===t?void 0:t.fromUserGesture)?Pr.USER:Pr.API}},this._editorService.getFocusedCodeEditor(),null===t||void 0===t?void 0:t.openToSide),!0})}};Wr=Rr([Fr(0,si)],Wr);let $r=class{constructor(e,t){this._openers=new oe,this._validators=new oe,this._resolvers=new oe,this._externalOpener={openExternal:e=>(Ar(e,Zi.http)||Ar(e,Zi.https)?sr(e):window.location.href=e,Promise.resolve(!0))},this._openers.push({open:(e,t)=>Vr(this,void 0,void 0,function*(){return!!((null===t||void 0===t?void 0:t.openExternal)||Ar(e,Zi.mailto)||Ar(e,Zi.http)||Ar(e,Zi.https))&&(yield this._doOpenExternal(e,t),!0)})}),this._openers.push(new Br(t)),this._openers.push(new Wr(e))}open(e,t){return Vr(this,void 0,void 0,function*(){for(const t of this._validators.toArray())if(!(yield t.shouldOpen(e)))return!1;for(const i of this._openers.toArray()){if(yield i.open(e,t))return!0}return!1})}resolveExternalUri(e,t){return Vr(this,void 0,void 0,function*(){for(const i of this._resolvers.toArray()){const n=yield i.resolveExternalUri(e,t);if(n)return n}return{resolved:e,dispose:()=>{}}})}_doOpenExternal(e,t){return Vr(this,void 0,void 0,function*(){const i="string"==typeof e?rt.parse(e):e,{resolved:n}=yield this.resolveExternalUri(i,t);return"string"==typeof e&&i.toString()===n.toString()?this._externalOpener.openExternal(e):this._externalOpener.openExternal(encodeURI(n.toString(!0)))})}dispose(){this._validators.clear()}};function zr(e,t){if(!e)throw new Error(t?`Assertion failed (${t})`:"Assertion Failed")}function Hr(e){if(!e||"object"!=typeof e)return e;if(e instanceof RegExp)return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(i=>{e[i]&&"object"==typeof e[i]?t[i]=Hr(e[i]):t[i]=e[i]}),t}$r=Rr([Fr(0,si),Fr(1,Tr)],$r);const jr=Object.prototype.hasOwnProperty;function Ur(e,t,i=!0){return yr(e)?(yr(t)&&Object.keys(t).forEach(n=>{n in e?i&&(yr(e[n])&&yr(t[n])?Ur(e[n],t[n],i):e[n]=t[n]):e[n]=t[n]}),e):t}function Kr(e,t){if(e===t)return!0;if(null===e||void 0===e||null===t||void 0===t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;let i,n;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(!Kr(e[i],t[i]))return!1}else{const r=[];for(n in e)r.push(n);r.sort();const o=[];for(n in t)o.push(n);if(o.sort(),!Kr(r,o))return!1;for(i=0;i<r.length;i++)if(!Kr(e[r[i]],t[r[i]]))return!1}return!0}function qr(e,t,i){const n=t(e);return void 0===n?i:n}const Gr={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class Yr extends ne{constructor(e,t={}){super(),this._onDidUpdate=this._register(new ce),this._editor=e,this._options=Ur(t,Gr,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(e=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(e=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(e){this.ranges=[],e&&e.forEach(e=>{!this._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach(e=>{this.ranges.push({rhs:!0,range:new mt(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})}):this.ranges.push({rhs:!0,range:new mt(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})}),this.ranges.sort((e,t)=>e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0),this._onDidUpdate.fire(this)}_initIdx(e){let t=!1,i=this._editor.getPosition();if(i){for(let n=0,r=this.ranges.length;n<r&&!t;n++){let r=this.ranges[n].range;i.isBeforeOrEqual(r.getStartPosition())&&(this.nextIdx=n+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(e,t){if(zr(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));let i=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{let e=i.range.getStartPosition();this._editor.setPosition(e),this._editor.revealPositionInCenter(e,t)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(e=0){this._move(!0,e)}previous(e=0){this._move(!1,e)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}const Xr=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new ce,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))}},Zr=r.f?1.5:1.35,Qr=8;class Jr{constructor(e){this.zoomLevel=e.zoomLevel,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}static createFromValidatedSettings(e,t,i){const n=e.get(35),r=e.get(39),o=e.get(38),s=e.get(37),a=e.get(51),l=e.get(48);return Jr._create(n,r,o,s,a,l,t,i)}static _create(e,t,i,n,r,o,s,a){0===r?r=Math.round(Zr*i):r<Qr&&(r=Qr);const l=1+(a?0:.1*Xr.getZoomLevel());return new Jr({zoomLevel:s,fontFamily:e,fontWeight:t,fontSize:i*=l,fontFeatureSettings:n,lineHeight:r*=l,letterSpacing:o})}getId(){return this.zoomLevel+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing}getMassagedFontFamily(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?`"${this.fontFamily}"`:this.fontFamily}}class eo extends Jr{constructor(e,t){super(e),this.isTrusted=t,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}const to={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};var io,no;!function(e){e[e.Left=1]="Left",e[e.Center=2]="Center",e[e.Right=4]="Right",e[e.Full=7]="Full"}(io||(io={})),function(e){e[e.Inline=1]="Inline",e[e.Gutter=2]="Gutter"}(no||(no={}));class ro{constructor(e){this.tabSize=Math.max(1,0|e.tabSize),this.indentSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace)}equals(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class oo{constructor(e,t){this.range=e,this.matches=t}}class so{constructor(e,t,i,n,r,o){this.identifier=e,this.range=t,this.text=i,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=r,this._isTracked=o}}class ao{constructor(e,t,i){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=i}}class lo{constructor(e,t){this[Symbol.toStringTag]="ResourceMap",e instanceof lo?(this.map=new Map(e.map),this.toKey=null!==t&&void 0!==t?t:lo.defaultToKey):(this.map=new Map,this.toKey=null!==e&&void 0!==e?e:lo.defaultToKey)}set(e,t){return this.map.set(this.toKey(e),t),this}get(e){return this.map.get(this.toKey(e))}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,t){void 0!==t&&(e=e.bind(t));for(let[t,i]of this.map)e(i,rt.parse(t),this)}values(){return this.map.values()}*keys(){for(let e of this.map.keys())yield rt.parse(e)}*entries(){for(let e of this.map.entries())yield[rt.parse(e[0]),e[1]]}*[Symbol.iterator](){for(let e of this.map)yield[rt.parse(e[0]),e[1]]}}lo.defaultToKey=(e=>e.toString());class co{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}has(e){return this._map.has(e)}get(e,t=0){const i=this._map.get(e);if(i)return 0!==t&&this.touch(i,t),i.value}set(e,t,i=0){let n=this._map.get(e);if(n)n.value=t,0!==i&&this.touch(n,i);else{switch(n={key:e,value:t,next:void 0,previous:void 0},i){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:default:this.addItemLast(n)}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const i=this._state;let n=this._head;for(;n;){if(t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:i.key,done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:i.value,done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this,t=this._state;let i=this._head;const n={[Symbol.iterator]:()=>n,next(){if(e._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){const e={value:[i.key,i.value],done:!1};return i=i.next,e}return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,i=this.size;for(;t&&i>e;)this._map.delete(t.key),t=t.next,i--;this._head=t,this._size=i,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,i=e.previous;if(!t||!i)throw new Error("Invalid list");t.previous=i,i.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===t||2===t)if(1===t){if(e===this._head)return;const t=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(t.previous=i,i.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(2===t){if(e===this._tail)return;const t=e.next,i=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=i,i.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach((t,i)=>{e.push([i,t])}),e}fromJSON(e){this.clear();for(const[t,i]of e)this.set(t,i)}}class ho extends co{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get(e,t=2){return super.get(e,t)}peek(e){return super.get(e,0)}set(e,t){return super.set(e,t,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}const uo="**",fo="/",po="[/\\\\]",mo="[^/\\\\]",go=/\//g;function vo(e){switch(e){case 0:return"";case 1:return`${mo}*?`;default:return`(?:${po}|${mo}+${po}|${po}${mo}+)*?`}}function bo(e,t){if(!e)return[];const i=[];let n=!1,r=!1,o="";for(const s of e){switch(s){case t:if(!n&&!r){i.push(o),o="";continue}break;case"{":n=!0;break;case"}":n=!1;break;case"[":r=!0;break;case"]":r=!1}o+=s}return o&&i.push(o),i}const _o=/^\*\*\/\*\.[\w\.-]+$/,yo=/^\*\*\/([\w\.-]+)\/?$/,wo=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,Co=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,So=/^\*\*((\/[\w\.-]+)+)\/?$/,xo=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,ko=new ho(1e4),Lo=function(){return!1},Do=function(){return null};function Eo(e,t){if(!e)return Do;let i;const n=`${i=(i="string"!=typeof e?e.pattern:e).trim()}_${!!t.trimForExclusions}`;let r,o=ko.get(n);if(o)return No(o,e);if(_o.test(i)){const e=i.substr(4);o=function(t,n){return"string"==typeof t&&t.endsWith(e)?i:null}}else o=(r=yo.exec(To(i,t)))?function(e,t){const i=`/${e}`,n=`\\${e}`,r=function(r,o){return"string"!=typeof r?null:o?o===e?t:null:r===e||r.endsWith(i)||r.endsWith(n)?t:null},o=[e];return r.basenames=o,r.patterns=[t],r.allBasenames=o,r}(r[1],i):(t.trimForExclusions?Co:wo).test(i)?function(e,t){const i=Io(e.slice(1,-1).split(",").map(e=>Eo(e,t)).filter(e=>e!==Do),e),n=i.length;if(!n)return Do;if(1===n)return i[0];const r=function(t,n){for(let r=0,o=i.length;r<o;r++)if(i[r](t,n))return e;return null},o=qi(i,e=>!!e.allBasenames);o&&(r.allBasenames=o.allBasenames);const s=i.reduce((e,t)=>t.allPaths?e.concat(t.allPaths):e,[]);s.length&&(r.allPaths=s);return r}(i,t):(r=So.exec(To(i,t)))?Oo(r[1].substr(1),i,!0):(r=xo.exec(To(i,t)))?Oo(r[1],i,!1):function(e){try{const t=new RegExp(`^${function e(t){if(!t)return"";let i="";const n=bo(t,fo);if(n.every(e=>e===uo))i=".*";else{let t=!1;n.forEach((r,o)=>{if(r===uo)return void(t||(i+=vo(2),t=!0));let s=!1,a="",l=!1,c="";for(const t of r)if("}"!==t&&s)a+=t;else if(!l||"]"===t&&c)switch(t){case"{":s=!0;continue;case"[":l=!0;continue;case"}":const n=`(?:${bo(a,",").map(t=>e(t)).join("|")})`;i+=n,s=!1,a="";break;case"]":i+="["+c+"]",l=!1,c="";break;case"?":i+=mo;continue;case"*":i+=vo(1);continue;default:i+=hr.t(t)}else{let e;c+=e="-"===t?t:"^"!==t&&"!"!==t||c?t===fo?"":hr.t(t):"^"}o<n.length-1&&(n[o+1]!==uo||o+2<n.length)&&(i+=po),t=!1})}return i}(e)}$`);return function(i){return t.lastIndex=0,"string"==typeof i&&t.test(i)?e:null}}catch(e){return Do}}(i);return ko.set(n,o),No(o,e)}function No(e,t){return"string"==typeof t?e:function(i,n){return function(e,t,i,n=Ze){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(i){if(!Object(hr.Q)(e,t))return!1;if(t.length===e.length)return!0;let i=t.length;return t.charAt(t.length-1)===n&&i--,e.charAt(i)===n}return t.charAt(t.length-1)!==n&&(t+=n),0===e.indexOf(t)}(i,t.base)?e(qe(t.base,i),n):null}}function To(e,t){return t.trimForExclusions&&e.endsWith("/**")?e.substr(0,e.length-2):e}function Oo(e,t,i){const n=Ze!==je.sep?e.replace(go,Ze):e,r=Ze+n,o=i?function(e,i){return"string"!=typeof e||e!==n&&!e.endsWith(r)?null:t}:function(e,i){return"string"==typeof e&&e===n?t:null};return o.allPaths=[(i?"*/":"./")+e],o}function Mo(e,t,i){return!(!e||"string"!=typeof t)&&function(e,t={}){if(!e)return Lo;if("string"==typeof e||function(e){const t=e;return t&&"string"==typeof t.base&&"string"==typeof t.pattern}(e)){const i=Eo(e,t);if(i===Do)return Lo;const n=function(e,t){return!!i(e,t)};return i.allBasenames&&(n.allBasenames=i.allBasenames),i.allPaths&&(n.allPaths=i.allPaths),n}return function(e,t){const i=Io(Object.getOwnPropertyNames(e).map(i=>(function(e,t,i){if(!1===t)return Do;const n=Eo(e,i);if(n===Do)return Do;if("boolean"==typeof t)return n;if(t){const i=t.when;if("string"==typeof i){const t=(t,o,s,a)=>{if(!a||!n(t,o))return null;const l=i.replace("$(basename)",s),c=a(l);return(r=c)&&"function"==typeof r.then?c.then(t=>t?e:null):c?e:null};return t.requiresSiblings=!0,t}}var r;return n})(i,e[i],t)).filter(e=>e!==Do)),n=i.length;if(!n)return Do;if(!i.some(e=>!!e.requiresSiblings)){if(1===n)return i[0];const e=function(e,t){for(let n=0,r=i.length;n<r;n++){const r=i[n](e,t);if(r)return r}return null},t=qi(i,e=>!!e.allBasenames);t&&(e.allBasenames=t.allBasenames);const r=i.reduce((e,t)=>t.allPaths?e.concat(t.allPaths):e,[]);return r.length&&(e.allPaths=r),e}const r=function(e,t,n){let r=void 0;for(let o=0,s=i.length;o<s;o++){const s=i[o];s.requiresSiblings&&n&&(t||(t=Ye(e)),r||(r=t.substr(0,t.length-Xe(e).length)));const a=s(e,t,r,n);if(a)return a}return null},o=qi(i,e=>!!e.allBasenames);o&&(r.allBasenames=o.allBasenames);const s=i.reduce((e,t)=>t.allPaths?e.concat(t.allPaths):e,[]);s.length&&(r.allPaths=s);return r}(e,t)}(e)(t,void 0,i)}function Io(e,t){const i=e.filter(e=>!!e.basenames);if(i.length<2)return e;const n=i.reduce((e,t)=>{const i=t.basenames;return i?e.concat(i):e},[]);let r;if(t){r=[];for(let e=0,i=n.length;e<i;e++)r.push(t)}else r=i.reduce((e,t)=>{const i=t.patterns;return i?e.concat(i):e},[]);const o=function(e,t){if("string"!=typeof e)return null;if(!t){let i;for(i=e.length;i>0;i--){const t=e.charCodeAt(i-1);if(47===t||92===t)break}t=e.substr(i)}const i=n.indexOf(t);return-1!==i?r[i]:null};o.basenames=n,o.patterns=r,o.allBasenames=n;const s=e.filter(e=>!e.basenames);return s.push(o),s}function Ao(e,t,i,n){if(Array.isArray(e)){let r=0;for(const o of e){const e=Ao(o,t,i,n);if(10===e)return e;e>r&&(r=e)}return r}if("string"==typeof e)return n?"*"===e?5:e===i?10:0:0;if(e){const{language:r,pattern:o,scheme:s,hasAccessToAllModels:a}=e;if(!n&&!a)return 0;let l=0;if(s)if(s===t.scheme)l=10;else{if("*"!==s)return 0;l=5}if(r)if(r===i)l=10;else{if("*"!==r)return 0;l=Math.max(l,5)}if(o){let e;if((e="string"==typeof o?o:Object.assign(Object.assign({},o),{base:Ue(o.base)}))!==t.fsPath&&!Mo(e,t.fsPath))return 0;l=10}return l}return 0}const Po=oi("modelService");function Ro(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}function Fo(e){return"string"!=typeof e&&(Array.isArray(e)?e.every(Fo):!!e.exclusive)}class Vo{constructor(){this._clock=0,this._entries=[],this._onDidChange=new ce}get onDidChange(){return this._onDidChange.event}register(e,t){let i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),te(()=>{if(i){let e=this._entries.indexOf(i);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(let e of this._entries)e._score>0&&t.push(e.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,e=>t.push(e.provider)),t}orderedGroups(e){const t=[];let i,n;return this._orderedForEach(e,e=>{i&&n===e._score?i.push(e.provider):(n=e._score,i=[e.provider],t.push(i))}),t}_orderedForEach(e,t){if(e){this._updateScores(e);for(const e of this._entries)e._score>0&&t(e)}}_updateScores(e){let t={uri:e.uri.toString(),language:e.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==t.language||this._lastCandidate.uri!==t.uri){this._lastCandidate=t;for(let t of this._entries)if(t._score=Ao(t.selector,e.uri,e.getLanguageIdentifier().language,Ro(e)),Fo(t.selector)&&t._score>0){for(let e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(Vo._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}function Bo(...e){return function(t,i){for(let n=0,r=e.length;n<r;n++){const r=e[n](t,i);if(r)return r}return null}}const Wo=function(e,t,i){if(!i||i.length<t.length)return null;let n;n=e?hr.Q(i,t):0===i.indexOf(t);if(!n)return null;return t.length>0?[{start:0,end:t.length}]:[]}.bind(void 0,!0);function $o(e){return 97<=e&&e<=122}function zo(e){return 65<=e&&e<=90}function Ho(e){return 48<=e&&e<=57}function jo(e){return 32===e||9===e||10===e||13===e}const Uo=new Set;function Ko(e){return $o(e)||zo(e)||Ho(e)}function qo(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function Go(e,t){for(let i=t;i<e.length;i++){const t=e.charCodeAt(i);if(zo(t)||Ho(t)||i>0&&!Ko(e.charCodeAt(i-1)))return i}return e.length}function Yo(e,t,i,n){if(i===e.length)return[];if(n===t.length)return null;if(e[i]!==t[n].toLowerCase())return null;{let r=null,o=n+1;for(r=Yo(e,t,i+1,n+1);!r&&(o=Go(t,o))<t.length;)r=Yo(e,t,i+1,o),o++;return null===r?null:qo({start:n,end:n+1},r)}}function Xo(e,t){if(!t)return null;if(0===(t=t.trim()).length)return null;if(!function(e){let t=0,i=0,n=0,r=0;for(let o=0;o<e.length;o++)zo(n=e.charCodeAt(o))&&t++,$o(n)&&i++,jo(n)&&r++;return 0!==t&&0!==i||0!==r?t<=5:e.length<=30}(e))return null;if(t.length>60)return null;const i=function(e){let t=0,i=0,n=0,r=0,o=0;for(let s=0;s<e.length;s++)zo(o=e.charCodeAt(s))&&t++,$o(o)&&i++,Ko(o)&&n++,Ho(o)&&r++;return{upperPercent:t/e.length,lowerPercent:i/e.length,alphaPercent:n/e.length,numericPercent:r/e.length}}(t);if(!function(e){const{upperPercent:t,lowerPercent:i,alphaPercent:n,numericPercent:r}=e;return i>.2&&t<.8&&n>.6&&r<.2}(i)){if(!function(e){const{upperPercent:t,lowerPercent:i}=e;return 0===i&&t>.6}(i))return null;t=t.toLowerCase()}let n=null,r=0;for(e=e.toLowerCase();r<t.length&&null===(n=Yo(e,t,0,r));)r=Go(t,r+1);return n}"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach(e=>Uo.add(e.charCodeAt(0)));const Zo=Bo(Wo,Xo,function(e,t){const i=t.toLowerCase().indexOf(e.toLowerCase());return-1===i?null:[{start:i,end:i+e.length}]}),Qo=Bo(Wo,Xo,function(e,t){return function e(t,i,n,r){if(n===t.length)return[];if(r===i.length)return null;if(t[n]===i[r]){let o=null;return(o=e(t,i,n+1,r+1))?qo({start:r,end:r+1},o):null}return e(t,i,n,r+1)}(e.toLowerCase(),t.toLowerCase(),0,0)}),Jo=new ho(1e4);function es(e,t,i=!1){if("string"!=typeof e||"string"!=typeof t)return null;let n=Jo.get(e);n||(n=new RegExp(hr.n(e),"i"),Jo.set(e,n));const r=n.exec(t);return r?[{start:r.index,end:r.index+r[0].length}]:i?Qo(e,t):Zo(e,t)}const ts=128;function is(){const e=[],t=[0];for(let e=1;e<=ts;e++)t.push(-e);for(let i=0;i<=ts;i++){const n=t.slice(0);n[0]=-i,e.push(n)}return e}const ns=is(),rs=is(),os=is(),ss=!1;function as(e,t,i,n,r){function o(e,t,i=" "){for(;e.length<t;)e=i+e;return e}let s=` |   |${n.split("").map(e=>o(e,3)).join("|")}\n`;for(let n=0;n<=i;n++)s+=0===n?" |":`${t[n-1]}|`,s+=e[n].slice(0,r+1).map(e=>o(e.toString(),3)).join("|")+"\n";return s}function ls(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:return!0;default:return!1}}function cs(e,t,i){return t[e]!==i[e]}var hs;function us(e,t,i,n,r,o,s){const a=e.length>ts?ts:e.length,l=n.length>ts?ts:n.length;if(i>=a||o>=l||a-i>l-o)return;if(!function(e,t,i,n,r,o){for(;t<i&&r<o;)e[t]===n[r]&&(t+=1),r+=1;return t===i}(t,i,a,r,o,l))return;let c=1,h=1,u=i,d=o,f=!1;for(c=1,u=i;u<a;c++,u++)for(h=1,d=o;d<l;h++,d++){const o=ds(e,t,u,i,n,r,d);u===i&&o>1&&(f=!0),rs[c][h]=o;const s=ns[c-1][h-1]+(o>1?1:o),a=ns[c-1][h]+-1,l=ns[c][h-1]+-1;l>=a?l>s?(ns[c][h]=l,os[c][h]=4):l===s?(ns[c][h]=l,os[c][h]=6):(ns[c][h]=s,os[c][h]=2):a>s?(ns[c][h]=a,os[c][h]=1):a===s?(ns[c][h]=a,os[c][h]=3):(ns[c][h]=s,os[c][h]=2)}return ss&&function(e,t,i,n){e=e.substr(t),i=i.substr(n),console.log(as(ns,e,e.length,i,i.length)),console.log(as(os,e,e.length,i,i.length)),console.log(as(rs,e,e.length,i,i.length))}(e,i,n,o),(f||s)&&(fs=0,ms=-100,gs=o,vs=s,function e(t,i,n,r,o){if(fs>=10||n<-25)return;let s=0;for(;t>0&&i>0;){const a=rs[t][i],l=os[t][i];if(4===l)i-=1,o?n-=5:0!==r&&(n-=1),o=!1,s=0;else{if(!(2&l))return;if(4&l&&e(t,i-1,0!==r?n-1:n,r,o),n+=a,t-=1,i-=1,o=!0,r+=Math.pow(2,i+gs),1===a){if(s+=1,0===t&&!vs)return}else n+=1+s*(a-1),s=0}}n-=i>=3?9:3*i;fs+=1;n>ms&&(ms=n,ps=r)}(c-1,h-1,a===l?1:0,0,!1),0!==fs)?[ms,ps,o]:void 0}function ds(e,t,i,n,r,o,s){return t[i]!==o[s]?-1:s===i-n?e[i]===r[s]?7:5:!cs(s,r,o)||0!==s&&cs(s-1,r,o)?!ls(o,s)||0!==s&&ls(o,s-1)?ls(o,s-1)||function(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}(o,s-1)?5:1:5:e[i]===r[s]?7:5}!function(e){e.Default=Object.freeze([-100,0,0]),e.isDefault=function(e){return!e||-100===e[0]&&0===e[1]&&0===e[2]}}(hs||(hs={}));let fs=0,ps=0,ms=0,gs=0,vs=!1;const bs="$(";function _s(e){const t=e.indexOf(bs);return-1===t?{text:e}:function(e,t){const i=[];let n="";function r(e){if(e){n+=e;for(const t of e)i.push(c)}}let o,s,a=-1,l="",c=0,h=t;const u=e.length;r(e.substr(0,t));for(;h<u;){if(o=e[h],s=e[h+1],o===bs[0]&&s===bs[1])a=h,r(l),l=bs,h++;else if(")"===o&&-1!==a){const e=h-a+1;c+=e,a=-1,l=""}else-1!==a?/^[a-z0-9\-]$/i.test(o)?l+=o:(r(l),a=-1,l=""):r(o);h++}return r(l),{text:n,codiconOffsets:i}}(e,t)}function ys(e,t,i=!1){const{text:n,codiconOffsets:r}=t;if(!r||0===r.length)return es(e,n,i);const o=Object(hr.I)(n," "),s=n.length-o.length,a=es(e,o,i);if(a)for(const e of a){const t=r[e.start+s]+s;e.start+=t,e.end+=t}return a}const ws=new class{constructor(){this._icons=new Map,this._onDidRegister=new ce}add(e){this._icons.has(e.id)?console.error(`Duplicate registration of codicon ${e.id}`):(this._icons.set(e.id,e),this._onDidRegister.fire(e))}get(e){return this._icons.get(e)}get all(){return this._icons.values()}get onDidRegister(){return this._onDidRegister.event}},Cs=ws;function Ss(e,t,i){return new xs(e,t)}class xs{constructor(e,t,i){this.id=e,this.definition=t,this.description=i,ws.add(this)}get classNames(){return"codicon codicon-"+this.id}get cssSelector(){return".codicon.codicon-"+this.id}}!function(e){e.add=new e("add",{character:"\\ea60"}),e.plus=new e("plus",{character:"\\ea60"}),e.gistNew=new e("gist-new",{character:"\\ea60"}),e.repoCreate=new e("repo-create",{character:"\\ea60"}),e.lightbulb=new e("lightbulb",{character:"\\ea61"}),e.lightBulb=new e("light-bulb",{character:"\\ea61"}),e.repo=new e("repo",{character:"\\ea62"}),e.repoDelete=new e("repo-delete",{character:"\\ea62"}),e.gistFork=new e("gist-fork",{character:"\\ea63"}),e.repoForked=new e("repo-forked",{character:"\\ea63"}),e.gitPullRequest=new e("git-pull-request",{character:"\\ea64"}),e.gitPullRequestAbandoned=new e("git-pull-request-abandoned",{character:"\\ea64"}),e.recordKeys=new e("record-keys",{character:"\\ea65"}),e.keyboard=new e("keyboard",{character:"\\ea65"}),e.tag=new e("tag",{character:"\\ea66"}),e.tagAdd=new e("tag-add",{character:"\\ea66"}),e.tagRemove=new e("tag-remove",{character:"\\ea66"}),e.person=new e("person",{character:"\\ea67"}),e.personAdd=new e("person-add",{character:"\\ea67"}),e.personFollow=new e("person-follow",{character:"\\ea67"}),e.personOutline=new e("person-outline",{character:"\\ea67"}),e.personFilled=new e("person-filled",{character:"\\ea67"}),e.gitBranch=new e("git-branch",{character:"\\ea68"}),e.gitBranchCreate=new e("git-branch-create",{character:"\\ea68"}),e.gitBranchDelete=new e("git-branch-delete",{character:"\\ea68"}),e.sourceControl=new e("source-control",{character:"\\ea68"}),e.mirror=new e("mirror",{character:"\\ea69"}),e.mirrorPublic=new e("mirror-public",{character:"\\ea69"}),e.star=new e("star",{character:"\\ea6a"}),e.starAdd=new e("star-add",{character:"\\ea6a"}),e.starDelete=new e("star-delete",{character:"\\ea6a"}),e.starEmpty=new e("star-empty",{character:"\\ea6a"}),e.comment=new e("comment",{character:"\\ea6b"}),e.commentAdd=new e("comment-add",{character:"\\ea6b"}),e.alert=new e("alert",{character:"\\ea6c"}),e.warning=new e("warning",{character:"\\ea6c"}),e.search=new e("search",{character:"\\ea6d"}),e.searchSave=new e("search-save",{character:"\\ea6d"}),e.logOut=new e("log-out",{character:"\\ea6e"}),e.signOut=new e("sign-out",{character:"\\ea6e"}),e.logIn=new e("log-in",{character:"\\ea6f"}),e.signIn=new e("sign-in",{character:"\\ea6f"}),e.eye=new e("eye",{character:"\\ea70"}),e.eyeUnwatch=new e("eye-unwatch",{character:"\\ea70"}),e.eyeWatch=new e("eye-watch",{character:"\\ea70"}),e.circleFilled=new e("circle-filled",{character:"\\ea71"}),e.primitiveDot=new e("primitive-dot",{character:"\\ea71"}),e.closeDirty=new e("close-dirty",{character:"\\ea71"}),e.debugBreakpoint=new e("debug-breakpoint",{character:"\\ea71"}),e.debugBreakpointDisabled=new e("debug-breakpoint-disabled",{character:"\\ea71"}),e.debugHint=new e("debug-hint",{character:"\\ea71"}),e.primitiveSquare=new e("primitive-square",{character:"\\ea72"}),e.edit=new e("edit",{character:"\\ea73"}),e.pencil=new e("pencil",{character:"\\ea73"}),e.info=new e("info",{character:"\\ea74"}),e.issueOpened=new e("issue-opened",{character:"\\ea74"}),e.gistPrivate=new e("gist-private",{character:"\\ea75"}),e.gitForkPrivate=new e("git-fork-private",{character:"\\ea75"}),e.lock=new e("lock",{character:"\\ea75"}),e.mirrorPrivate=new e("mirror-private",{character:"\\ea75"}),e.close=new e("close",{character:"\\ea76"}),e.removeClose=new e("remove-close",{character:"\\ea76"}),e.x=new e("x",{character:"\\ea76"}),e.repoSync=new e("repo-sync",{character:"\\ea77"}),e.sync=new e("sync",{character:"\\ea77"}),e.clone=new e("clone",{character:"\\ea78"}),e.desktopDownload=new e("desktop-download",{character:"\\ea78"}),e.beaker=new e("beaker",{character:"\\ea79"}),e.microscope=new e("microscope",{character:"\\ea79"}),e.vm=new e("vm",{character:"\\ea7a"}),e.deviceDesktop=new e("device-desktop",{character:"\\ea7a"}),e.file=new e("file",{character:"\\ea7b"}),e.fileText=new e("file-text",{character:"\\ea7b"}),e.more=new e("more",{character:"\\ea7c"}),e.ellipsis=new e("ellipsis",{character:"\\ea7c"}),e.kebabHorizontal=new e("kebab-horizontal",{character:"\\ea7c"}),e.mailReply=new e("mail-reply",{character:"\\ea7d"}),e.reply=new e("reply",{character:"\\ea7d"}),e.organization=new e("organization",{character:"\\ea7e"}),e.organizationFilled=new e("organization-filled",{character:"\\ea7e"}),e.organizationOutline=new e("organization-outline",{character:"\\ea7e"}),e.newFile=new e("new-file",{character:"\\ea7f"}),e.fileAdd=new e("file-add",{character:"\\ea7f"}),e.newFolder=new e("new-folder",{character:"\\ea80"}),e.fileDirectoryCreate=new e("file-directory-create",{character:"\\ea80"}),e.trash=new e("trash",{character:"\\ea81"}),e.trashcan=new e("trashcan",{character:"\\ea81"}),e.history=new e("history",{character:"\\ea82"}),e.clock=new e("clock",{character:"\\ea82"}),e.folder=new e("folder",{character:"\\ea83"}),e.fileDirectory=new e("file-directory",{character:"\\ea83"}),e.symbolFolder=new e("symbol-folder",{character:"\\ea83"}),e.logoGithub=new e("logo-github",{character:"\\ea84"}),e.markGithub=new e("mark-github",{character:"\\ea84"}),e.github=new e("github",{character:"\\ea84"}),e.terminal=new e("terminal",{character:"\\ea85"}),e.console=new e("console",{character:"\\ea85"}),e.repl=new e("repl",{character:"\\ea85"}),e.zap=new e("zap",{character:"\\ea86"}),e.symbolEvent=new e("symbol-event",{character:"\\ea86"}),e.error=new e("error",{character:"\\ea87"}),e.stop=new e("stop",{character:"\\ea87"}),e.variable=new e("variable",{character:"\\ea88"}),e.symbolVariable=new e("symbol-variable",{character:"\\ea88"}),e.array=new e("array",{character:"\\ea8a"}),e.symbolArray=new e("symbol-array",{character:"\\ea8a"}),e.symbolModule=new e("symbol-module",{character:"\\ea8b"}),e.symbolPackage=new e("symbol-package",{character:"\\ea8b"}),e.symbolNamespace=new e("symbol-namespace",{character:"\\ea8b"}),e.symbolObject=new e("symbol-object",{character:"\\ea8b"}),e.symbolMethod=new e("symbol-method",{character:"\\ea8c"}),e.symbolFunction=new e("symbol-function",{character:"\\ea8c"}),e.symbolConstructor=new e("symbol-constructor",{character:"\\ea8c"}),e.symbolBoolean=new e("symbol-boolean",{character:"\\ea8f"}),e.symbolNull=new e("symbol-null",{character:"\\ea8f"}),e.symbolNumeric=new e("symbol-numeric",{character:"\\ea90"}),e.symbolNumber=new e("symbol-number",{character:"\\ea90"}),e.symbolStructure=new e("symbol-structure",{character:"\\ea91"}),e.symbolStruct=new e("symbol-struct",{character:"\\ea91"}),e.symbolParameter=new e("symbol-parameter",{character:"\\ea92"}),e.symbolTypeParameter=new e("symbol-type-parameter",{character:"\\ea92"}),e.symbolKey=new e("symbol-key",{character:"\\ea93"}),e.symbolText=new e("symbol-text",{character:"\\ea93"}),e.symbolReference=new e("symbol-reference",{character:"\\ea94"}),e.goToFile=new e("go-to-file",{character:"\\ea94"}),e.symbolEnum=new e("symbol-enum",{character:"\\ea95"}),e.symbolValue=new e("symbol-value",{character:"\\ea95"}),e.symbolRuler=new e("symbol-ruler",{character:"\\ea96"}),e.symbolUnit=new e("symbol-unit",{character:"\\ea96"}),e.activateBreakpoints=new e("activate-breakpoints",{character:"\\ea97"}),e.archive=new e("archive",{character:"\\ea98"}),e.arrowBoth=new e("arrow-both",{character:"\\ea99"}),e.arrowDown=new e("arrow-down",{character:"\\ea9a"}),e.arrowLeft=new e("arrow-left",{character:"\\ea9b"}),e.arrowRight=new e("arrow-right",{character:"\\ea9c"}),e.arrowSmallDown=new e("arrow-small-down",{character:"\\ea9d"}),e.arrowSmallLeft=new e("arrow-small-left",{character:"\\ea9e"}),e.arrowSmallRight=new e("arrow-small-right",{character:"\\ea9f"}),e.arrowSmallUp=new e("arrow-small-up",{character:"\\eaa0"}),e.arrowUp=new e("arrow-up",{character:"\\eaa1"}),e.bell=new e("bell",{character:"\\eaa2"}),e.bold=new e("bold",{character:"\\eaa3"}),e.book=new e("book",{character:"\\eaa4"}),e.bookmark=new e("bookmark",{character:"\\eaa5"}),e.debugBreakpointConditionalUnverified=new e("debug-breakpoint-conditional-unverified",{character:"\\eaa6"}),e.debugBreakpointConditional=new e("debug-breakpoint-conditional",{character:"\\eaa7"}),e.debugBreakpointConditionalDisabled=new e("debug-breakpoint-conditional-disabled",{character:"\\eaa7"}),e.debugBreakpointDataUnverified=new e("debug-breakpoint-data-unverified",{character:"\\eaa8"}),e.debugBreakpointData=new e("debug-breakpoint-data",{character:"\\eaa9"}),e.debugBreakpointDataDisabled=new e("debug-breakpoint-data-disabled",{character:"\\eaa9"}),e.debugBreakpointLogUnverified=new e("debug-breakpoint-log-unverified",{character:"\\eaaa"}),e.debugBreakpointLog=new e("debug-breakpoint-log",{character:"\\eaab"}),e.debugBreakpointLogDisabled=new e("debug-breakpoint-log-disabled",{character:"\\eaab"}),e.briefcase=new e("briefcase",{character:"\\eaac"}),e.broadcast=new e("broadcast",{character:"\\eaad"}),e.browser=new e("browser",{character:"\\eaae"}),e.bug=new e("bug",{character:"\\eaaf"}),e.calendar=new e("calendar",{character:"\\eab0"}),e.caseSensitive=new e("case-sensitive",{character:"\\eab1"}),e.check=new e("check",{character:"\\eab2"}),e.checklist=new e("checklist",{character:"\\eab3"}),e.chevronDown=new e("chevron-down",{character:"\\eab4"}),e.chevronLeft=new e("chevron-left",{character:"\\eab5"}),e.chevronRight=new e("chevron-right",{character:"\\eab6"}),e.chevronUp=new e("chevron-up",{character:"\\eab7"}),e.chromeClose=new e("chrome-close",{character:"\\eab8"}),e.chromeMaximize=new e("chrome-maximize",{character:"\\eab9"}),e.chromeMinimize=new e("chrome-minimize",{character:"\\eaba"}),e.chromeRestore=new e("chrome-restore",{character:"\\eabb"}),e.circleOutline=new e("circle-outline",{character:"\\eabc"}),e.debugBreakpointUnverified=new e("debug-breakpoint-unverified",{character:"\\eabc"}),e.circleSlash=new e("circle-slash",{character:"\\eabd"}),e.circuitBoard=new e("circuit-board",{character:"\\eabe"}),e.clearAll=new e("clear-all",{character:"\\eabf"}),e.clippy=new e("clippy",{character:"\\eac0"}),e.closeAll=new e("close-all",{character:"\\eac1"}),e.cloudDownload=new e("cloud-download",{character:"\\eac2"}),e.cloudUpload=new e("cloud-upload",{character:"\\eac3"}),e.code=new e("code",{character:"\\eac4"}),e.collapseAll=new e("collapse-all",{character:"\\eac5"}),e.colorMode=new e("color-mode",{character:"\\eac6"}),e.commentDiscussion=new e("comment-discussion",{character:"\\eac7"}),e.compareChanges=new e("compare-changes",{character:"\\eafd"}),e.creditCard=new e("credit-card",{character:"\\eac9"}),e.dash=new e("dash",{character:"\\eacc"}),e.dashboard=new e("dashboard",{character:"\\eacd"}),e.database=new e("database",{character:"\\eace"}),e.debugContinue=new e("debug-continue",{character:"\\eacf"}),e.debugDisconnect=new e("debug-disconnect",{character:"\\ead0"}),e.debugPause=new e("debug-pause",{character:"\\ead1"}),e.debugRestart=new e("debug-restart",{character:"\\ead2"}),e.debugStart=new e("debug-start",{character:"\\ead3"}),e.debugStepInto=new e("debug-step-into",{character:"\\ead4"}),e.debugStepOut=new e("debug-step-out",{character:"\\ead5"}),e.debugStepOver=new e("debug-step-over",{character:"\\ead6"}),e.debugStop=new e("debug-stop",{character:"\\ead7"}),e.debug=new e("debug",{character:"\\ead8"}),e.deviceCameraVideo=new e("device-camera-video",{character:"\\ead9"}),e.deviceCamera=new e("device-camera",{character:"\\eada"}),e.deviceMobile=new e("device-mobile",{character:"\\eadb"}),e.diffAdded=new e("diff-added",{character:"\\eadc"}),e.diffIgnored=new e("diff-ignored",{character:"\\eadd"}),e.diffModified=new e("diff-modified",{character:"\\eade"}),e.diffRemoved=new e("diff-removed",{character:"\\eadf"}),e.diffRenamed=new e("diff-renamed",{character:"\\eae0"}),e.diff=new e("diff",{character:"\\eae1"}),e.discard=new e("discard",{character:"\\eae2"}),e.editorLayout=new e("editor-layout",{character:"\\eae3"}),e.emptyWindow=new e("empty-window",{character:"\\eae4"}),e.exclude=new e("exclude",{character:"\\eae5"}),e.extensions=new e("extensions",{character:"\\eae6"}),e.eyeClosed=new e("eye-closed",{character:"\\eae7"}),e.fileBinary=new e("file-binary",{character:"\\eae8"}),e.fileCode=new e("file-code",{character:"\\eae9"}),e.fileMedia=new e("file-media",{character:"\\eaea"}),e.filePdf=new e("file-pdf",{character:"\\eaeb"}),e.fileSubmodule=new e("file-submodule",{character:"\\eaec"}),e.fileSymlinkDirectory=new e("file-symlink-directory",{character:"\\eaed"}),e.fileSymlinkFile=new e("file-symlink-file",{character:"\\eaee"}),e.fileZip=new e("file-zip",{character:"\\eaef"}),e.files=new e("files",{character:"\\eaf0"}),e.filter=new e("filter",{character:"\\eaf1"}),e.flame=new e("flame",{character:"\\eaf2"}),e.foldDown=new e("fold-down",{character:"\\eaf3"}),e.foldUp=new e("fold-up",{character:"\\eaf4"}),e.fold=new e("fold",{character:"\\eaf5"}),e.folderActive=new e("folder-active",{character:"\\eaf6"}),e.folderOpened=new e("folder-opened",{character:"\\eaf7"}),e.gear=new e("gear",{character:"\\eaf8"}),e.gift=new e("gift",{character:"\\eaf9"}),e.gistSecret=new e("gist-secret",{character:"\\eafa"}),e.gist=new e("gist",{character:"\\eafb"}),e.gitCommit=new e("git-commit",{character:"\\eafc"}),e.gitCompare=new e("git-compare",{character:"\\eafd"}),e.gitMerge=new e("git-merge",{character:"\\eafe"}),e.githubAction=new e("github-action",{character:"\\eaff"}),e.githubAlt=new e("github-alt",{character:"\\eb00"}),e.globe=new e("globe",{character:"\\eb01"}),e.grabber=new e("grabber",{character:"\\eb02"}),e.graph=new e("graph",{character:"\\eb03"}),e.gripper=new e("gripper",{character:"\\eb04"}),e.heart=new e("heart",{character:"\\eb05"}),e.home=new e("home",{character:"\\eb06"}),e.horizontalRule=new e("horizontal-rule",{character:"\\eb07"}),e.hubot=new e("hubot",{character:"\\eb08"}),e.inbox=new e("inbox",{character:"\\eb09"}),e.issueClosed=new e("issue-closed",{character:"\\eb0a"}),e.issueReopened=new e("issue-reopened",{character:"\\eb0b"}),e.issues=new e("issues",{character:"\\eb0c"}),e.italic=new e("italic",{character:"\\eb0d"}),e.jersey=new e("jersey",{character:"\\eb0e"}),e.json=new e("json",{character:"\\eb0f"}),e.kebabVertical=new e("kebab-vertical",{character:"\\eb10"}),e.key=new e("key",{character:"\\eb11"}),e.law=new e("law",{character:"\\eb12"}),e.lightbulbAutofix=new e("lightbulb-autofix",{character:"\\eb13"}),e.linkExternal=new e("link-external",{character:"\\eb14"}),e.link=new e("link",{character:"\\eb15"}),e.listOrdered=new e("list-ordered",{character:"\\eb16"}),e.listUnordered=new e("list-unordered",{character:"\\eb17"}),e.liveShare=new e("live-share",{character:"\\eb18"}),e.loading=new e("loading",{character:"\\eb19"}),e.location=new e("location",{character:"\\eb1a"}),e.mailRead=new e("mail-read",{character:"\\eb1b"}),e.mail=new e("mail",{character:"\\eb1c"}),e.markdown=new e("markdown",{character:"\\eb1d"}),e.megaphone=new e("megaphone",{character:"\\eb1e"}),e.mention=new e("mention",{character:"\\eb1f"}),e.milestone=new e("milestone",{character:"\\eb20"}),e.mortarBoard=new e("mortar-board",{character:"\\eb21"}),e.move=new e("move",{character:"\\eb22"}),e.multipleWindows=new e("multiple-windows",{character:"\\eb23"}),e.mute=new e("mute",{character:"\\eb24"}),e.noNewline=new e("no-newline",{character:"\\eb25"}),e.note=new e("note",{character:"\\eb26"}),e.octoface=new e("octoface",{character:"\\eb27"}),e.openPreview=new e("open-preview",{character:"\\eb28"}),e.package_=new e("package",{character:"\\eb29"}),e.paintcan=new e("paintcan",{character:"\\eb2a"}),e.pin=new e("pin",{character:"\\eb2b"}),e.play=new e("play",{character:"\\eb2c"}),e.run=new e("run",{character:"\\eb2c"}),e.plug=new e("plug",{character:"\\eb2d"}),e.preserveCase=new e("preserve-case",{character:"\\eb2e"}),e.preview=new e("preview",{character:"\\eb2f"}),e.project=new e("project",{character:"\\eb30"}),e.pulse=new e("pulse",{character:"\\eb31"}),e.question=new e("question",{character:"\\eb32"}),e.quote=new e("quote",{character:"\\eb33"}),e.radioTower=new e("radio-tower",{character:"\\eb34"}),e.reactions=new e("reactions",{character:"\\eb35"}),e.references=new e("references",{character:"\\eb36"}),e.refresh=new e("refresh",{character:"\\eb37"}),e.regex=new e("regex",{character:"\\eb38"}),e.remoteExplorer=new e("remote-explorer",{character:"\\eb39"}),e.remote=new e("remote",{character:"\\eb3a"}),e.remove=new e("remove",{character:"\\eb3b"}),e.replaceAll=new e("replace-all",{character:"\\eb3c"}),e.replace=new e("replace",{character:"\\eb3d"}),e.repoClone=new e("repo-clone",{character:"\\eb3e"}),e.repoForcePush=new e("repo-force-push",{character:"\\eb3f"}),e.repoPull=new e("repo-pull",{character:"\\eb40"}),e.repoPush=new e("repo-push",{character:"\\eb41"}),e.report=new e("report",{character:"\\eb42"}),e.requestChanges=new e("request-changes",{character:"\\eb43"}),e.rocket=new e("rocket",{character:"\\eb44"}),e.rootFolderOpened=new e("root-folder-opened",{character:"\\eb45"}),e.rootFolder=new e("root-folder",{character:"\\eb46"}),e.rss=new e("rss",{character:"\\eb47"}),e.ruby=new e("ruby",{character:"\\eb48"}),e.saveAll=new e("save-all",{character:"\\eb49"}),e.saveAs=new e("save-as",{character:"\\eb4a"}),e.save=new e("save",{character:"\\eb4b"}),e.screenFull=new e("screen-full",{character:"\\eb4c"}),e.screenNormal=new e("screen-normal",{character:"\\eb4d"}),e.searchStop=new e("search-stop",{character:"\\eb4e"}),e.server=new e("server",{character:"\\eb50"}),e.settingsGear=new e("settings-gear",{character:"\\eb51"}),e.settings=new e("settings",{character:"\\eb52"}),e.shield=new e("shield",{character:"\\eb53"}),e.smiley=new e("smiley",{character:"\\eb54"}),e.sortPrecedence=new e("sort-precedence",{character:"\\eb55"}),e.splitHorizontal=new e("split-horizontal",{character:"\\eb56"}),e.splitVertical=new e("split-vertical",{character:"\\eb57"}),e.squirrel=new e("squirrel",{character:"\\eb58"}),e.starFull=new e("star-full",{character:"\\eb59"}),e.starHalf=new e("star-half",{character:"\\eb5a"}),e.symbolClass=new e("symbol-class",{character:"\\eb5b"}),e.symbolColor=new e("symbol-color",{character:"\\eb5c"}),e.symbolConstant=new e("symbol-constant",{character:"\\eb5d"}),e.symbolEnumMember=new e("symbol-enum-member",{character:"\\eb5e"}),e.symbolField=new e("symbol-field",{character:"\\eb5f"}),e.symbolFile=new e("symbol-file",{character:"\\eb60"}),e.symbolInterface=new e("symbol-interface",{character:"\\eb61"}),e.symbolKeyword=new e("symbol-keyword",{character:"\\eb62"}),e.symbolMisc=new e("symbol-misc",{character:"\\eb63"}),e.symbolOperator=new e("symbol-operator",{character:"\\eb64"}),e.symbolProperty=new e("symbol-property",{character:"\\eb65"}),e.wrench=new e("wrench",{character:"\\eb65"}),e.wrenchSubaction=new e("wrench-subaction",{character:"\\eb65"}),e.symbolSnippet=new e("symbol-snippet",{character:"\\eb66"}),e.tasklist=new e("tasklist",{character:"\\eb67"}),e.telescope=new e("telescope",{character:"\\eb68"}),e.textSize=new e("text-size",{character:"\\eb69"}),e.threeBars=new e("three-bars",{character:"\\eb6a"}),e.thumbsdown=new e("thumbsdown",{character:"\\eb6b"}),e.thumbsup=new e("thumbsup",{character:"\\eb6c"}),e.tools=new e("tools",{character:"\\eb6d"}),e.triangleDown=new e("triangle-down",{character:"\\eb6e"}),e.triangleLeft=new e("triangle-left",{character:"\\eb6f"}),e.triangleRight=new e("triangle-right",{character:"\\eb70"}),e.triangleUp=new e("triangle-up",{character:"\\eb71"}),e.twitter=new e("twitter",{character:"\\eb72"}),e.unfold=new e("unfold",{character:"\\eb73"}),e.unlock=new e("unlock",{character:"\\eb74"}),e.unmute=new e("unmute",{character:"\\eb75"}),e.unverified=new e("unverified",{character:"\\eb76"}),e.verified=new e("verified",{character:"\\eb77"}),e.versions=new e("versions",{character:"\\eb78"}),e.vmActive=new e("vm-active",{character:"\\eb79"}),e.vmOutline=new e("vm-outline",{character:"\\eb7a"}),e.vmRunning=new e("vm-running",{character:"\\eb7b"}),e.watch=new e("watch",{character:"\\eb7c"}),e.whitespace=new e("whitespace",{character:"\\eb7d"}),e.wholeWord=new e("whole-word",{character:"\\eb7e"}),e.window=new e("window",{character:"\\eb7f"}),e.wordWrap=new e("word-wrap",{character:"\\eb80"}),e.zoomIn=new e("zoom-in",{character:"\\eb81"}),e.zoomOut=new e("zoom-out",{character:"\\eb82"}),e.listFilter=new e("list-filter",{character:"\\eb83"}),e.listFlat=new e("list-flat",{character:"\\eb84"}),e.listSelection=new e("list-selection",{character:"\\eb85"}),e.selection=new e("selection",{character:"\\eb85"}),e.listTree=new e("list-tree",{character:"\\eb86"}),e.debugBreakpointFunctionUnverified=new e("debug-breakpoint-function-unverified",{character:"\\eb87"}),e.debugBreakpointFunction=new e("debug-breakpoint-function",{character:"\\eb88"}),e.debugBreakpointFunctionDisabled=new e("debug-breakpoint-function-disabled",{character:"\\eb88"}),e.debugStackframeActive=new e("debug-stackframe-active",{character:"\\eb89"}),e.debugStackframeDot=new e("debug-stackframe-dot",{character:"\\eb8a"}),e.debugStackframe=new e("debug-stackframe",{character:"\\eb8b"}),e.debugStackframeFocused=new e("debug-stackframe-focused",{character:"\\eb8b"}),e.debugBreakpointUnsupported=new e("debug-breakpoint-unsupported",{character:"\\eb8c"}),e.symbolString=new e("symbol-string",{character:"\\eb8d"}),e.debugReverseContinue=new e("debug-reverse-continue",{character:"\\eb8e"}),e.debugStepBack=new e("debug-step-back",{character:"\\eb8f"}),e.debugRestartFrame=new e("debug-restart-frame",{character:"\\eb90"}),e.callIncoming=new e("call-incoming",{character:"\\eb92"}),e.callOutgoing=new e("call-outgoing",{character:"\\eb93"}),e.menu=new e("menu",{character:"\\eb94"}),e.expandAll=new e("expand-all",{character:"\\eb95"}),e.feedback=new e("feedback",{character:"\\eb96"}),e.groupByRefType=new e("group-by-ref-type",{character:"\\eb97"}),e.ungroupByRefType=new e("ungroup-by-ref-type",{character:"\\eb98"}),e.account=new e("account",{character:"\\eb99"}),e.bellDot=new e("bell-dot",{character:"\\eb9a"}),e.debugConsole=new e("debug-console",{character:"\\eb9b"}),e.library=new e("library",{character:"\\eb9c"}),e.output=new e("output",{character:"\\eb9d"}),e.runAll=new e("run-all",{character:"\\eb9e"}),e.syncIgnored=new e("sync-ignored",{character:"\\eb9f"}),e.pinned=new e("pinned",{character:"\\eba0"}),e.githubInverted=new e("github-inverted",{character:"\\eba1"}),e.debugAlt=new e("debug-alt",{character:"\\eb91"}),e.serverProcess=new e("server-process",{character:"\\eba2"}),e.serverEnvironment=new e("server-environment",{character:"\\eba3"}),e.pass=new e("pass",{character:"\\eba4"}),e.stopCircle=new e("stop-circle",{character:"\\eba5"}),e.playCircle=new e("play-circle",{character:"\\eba6"}),e.record=new e("record",{character:"\\eba7"}),e.debugAltSmall=new e("debug-alt-small",{character:"\\eba8"}),e.vmConnect=new e("vm-connect",{character:"\\eba9"}),e.cloud=new e("cloud",{character:"\\ebaa"}),e.merge=new e("merge",{character:"\\ebab"})}(xs||(xs={}));const ks=/(\\)?\$\((([a-z0-9\-]+?)(?:~([a-z0-9\-]*?))?)\)/gi;function Ls(e){return e.replace(ks,(e,t,i,n,r)=>t?`$(${i})`:`<span class="codicon codicon-${n}${r?` codicon-animation-${r}`:""}"></span>`)}const Ds=/(\s)?(\\)?\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)(\s)?/gi;class Es{constructor(e,t){this.language=e,this.id=t}}class Ns{static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(1792&e)>>>8}static getFontStyle(e){return(14336&e)>>>11}static getForeground(e){return(8372224&e)>>>14}static getBackground(e){return(4286578688&e)>>>23}static getClassNameFromMetadata(e){let t="mtk"+this.getForeground(e),i=this.getFontStyle(e);return 1&i&&(t+=" mtki"),2&i&&(t+=" mtkb"),4&i&&(t+=" mtku"),t}static getInlineStyleFromMetadata(e,t){const i=this.getForeground(e),n=this.getFontStyle(e);let r=`color: ${t[i]};`;return 1&n&&(r+="font-style: italic;"),2&n&&(r+="font-weight: bold;"),4&n&&(r+="text-decoration: underline;"),r}}!function(){let e=Object.create(null);e[0]="symbol-method",e[1]="symbol-function",e[2]="symbol-constructor",e[3]="symbol-field",e[4]="symbol-variable",e[5]="symbol-class",e[6]="symbol-struct",e[7]="symbol-interface",e[8]="symbol-module",e[9]="symbol-property",e[10]="symbol-event",e[11]="symbol-operator",e[12]="symbol-unit",e[13]="symbol-value",e[14]="symbol-constant",e[15]="symbol-enum",e[16]="symbol-enum-member",e[17]="symbol-keyword",e[27]="symbol-snippet",e[18]="symbol-text",e[19]="symbol-color",e[20]="symbol-file",e[21]="symbol-reference",e[22]="symbol-customcolor",e[23]="symbol-folder",e[24]="symbol-type-parameter",e[25]="account",e[26]="issues"}();!function(){let e=Object.create(null);e.method=0,e.function=1,e.constructor=2,e.field=3,e.variable=4,e.class=5,e.struct=6,e.interface=7,e.module=8,e.property=9,e.event=10,e.operator=11,e.unit=12,e.value=13,e.constant=14,e.enum=15,e["enum-member"]=16,e.enumMember=16,e.keyword=17,e.snippet=27,e.text=18,e.color=19,e.file=20,e.reference=21,e.customcolor=22,e.folder=23,e["type-parameter"]=24,e.typeParameter=24,e.account=25,e.issue=26}();var Ts,Os,Ms;!function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(Ts||(Ts={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(Os||(Os={})),function(e){const t=new Map;t.set("file",0),t.set("module",1),t.set("namespace",2),t.set("package",3),t.set("class",4),t.set("method",5),t.set("property",6),t.set("field",7),t.set("constructor",8),t.set("enum",9),t.set("interface",10),t.set("function",11),t.set("variable",12),t.set("constant",13),t.set("string",14),t.set("number",15),t.set("boolean",16),t.set("array",17),t.set("object",18),t.set("key",19),t.set("null",20),t.set("enum-member",21),t.set("struct",22),t.set("event",23),t.set("operator",24),t.set("type-parameter",25);const i=new Map;i.set(0,"file"),i.set(1,"module"),i.set(2,"namespace"),i.set(3,"package"),i.set(4,"class"),i.set(5,"method"),i.set(6,"property"),i.set(7,"field"),i.set(8,"constructor"),i.set(9,"enum"),i.set(10,"interface"),i.set(11,"function"),i.set(12,"variable"),i.set(13,"constant"),i.set(14,"string"),i.set(15,"number"),i.set(16,"boolean"),i.set(17,"array"),i.set(18,"object"),i.set(19,"key"),i.set(20,"null"),i.set(21,"enum-member"),i.set(22,"struct"),i.set(23,"event"),i.set(24,"operator"),i.set(25,"type-parameter"),e.fromString=function(e){return t.get(e)},e.toString=function(e){return i.get(e)},e.toCssClassName=function(e,t){const n=i.get(e);let r=n&&Cs.get("symbol-"+n);return r||(console.info("No codicon found for SymbolKind "+e),r=xs.symbolProperty),`${t?"inline":"block"} ${r.classNames}`}}(Ms||(Ms={}));class Is{constructor(e){this.value=e}}Is.Comment=new Is("comment"),Is.Imports=new Is("imports"),Is.Region=new Is("region");const As=new Vo,Ps=new Vo,Rs=new Vo,Fs=new Vo,Vs=new Vo,Bs=new Vo,Ws=new Vo,$s=new Vo,zs=new Vo,Hs=new Vo,js=new Vo,Us=new Vo,Ks=new Vo,qs=new Vo,Gs=new Vo,Ys=new Vo,Xs=new Vo,Zs=new Vo,Qs=new Vo,Js=new Vo,ea=new Vo,ta=new Vo,ia=new Vo,na=new class{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new ce,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),te(()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))})}registerPromise(e,t){let i=null,n=!1;return this._promises.set(e,t.then(t=>{this._promises.delete(e),!n&&t&&(i=this.register(e,t))})),te(()=>{n=!0,i&&i.dispose()})}getPromise(e){const t=this.get(e);if(t)return Promise.resolve(t);const i=this._promises.get(e);return i?i.then(t=>this.get(e)):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}};const ra=new class{clone(){return this}equals(e){return this===e}},oa="vs.editor.nullMode",sa=new Es(oa,0);function aa(e,t,i,n){let r=new Uint32Array(2);return r[0]=n,r[1]=(16384|e<<0|2<<23)>>>0,new _t(r,null===i?ra:i)}const la=oi("editorWorkerService"),ca=oi("textModelService"),ha="$initialize";let ua=!1;function da(e){r.h&&(ua||(ua=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(e.message))}class fa{constructor(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}setWorkerId(e){this._workerId=e}sendMessage(e,t){let i=String(++this._lastSentReq);return new Promise((n,r)=>{this._pendingReplies[i]={resolve:n,reject:r},this._send({vsWorker:this._workerId,req:i,method:e,args:t})})}handleMessage(e){e&&e.vsWorker&&(-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e))}_handleMessage(e){if(e.seq){let t=e;if(!this._pendingReplies[t.seq])return void console.warn("Got reply to unknown seq");let i=this._pendingReplies[t.seq];if(delete this._pendingReplies[t.seq],t.err){let e=t.err;return t.err.$isError&&((e=new Error).name=t.err.name,e.message=t.err.message,e.stack=t.err.stack),void i.reject(e)}return void i.resolve(t.res)}let t=e,i=t.req;this._handler.handleMessage(t.method,t.args).then(e=>{this._send({vsWorker:this._workerId,seq:i,res:e,err:void 0})},e=>{e.detail instanceof Error&&(e.detail=z(e.detail)),this._send({vsWorker:this._workerId,seq:i,res:void 0,err:z(e)})})}_send(e){let t=[];if(e.req){const i=e;for(let e=0;e<i.args.length;e++)i.args[e]instanceof ArrayBuffer&&t.push(i.args[e])}else{const i=e;i.res instanceof ArrayBuffer&&t.push(i.res)}this._handler.sendMessage(e,t)}}class pa extends ne{constructor(e,t,i){super();let n=null;this._worker=this._register(e.create("vs/base/common/worker/simpleWorker",e=>{this._protocol.handleMessage(e)},e=>{n&&n(e)})),this._protocol=new fa({sendMessage:(e,t)=>{this._worker.postMessage(e,t)},handleMessage:(e,t)=>{if("function"!=typeof i[e])return Promise.reject(new Error("Missing method "+e+" on main thread host."));try{return Promise.resolve(i[e].apply(i,t))}catch(e){return Promise.reject(e)}}}),this._protocol.setWorkerId(this._worker.getId());let r=null;void 0!==self.require&&"function"==typeof self.require.getConfig?r=self.require.getConfig():void 0!==self.requirejs&&(r=self.requirejs.s.contexts._.config);const o=Dr(i);this._onModuleLoaded=this._protocol.sendMessage(ha,[this._worker.getId(),JSON.parse(JSON.stringify(r)),t,o]);const s=(e,t)=>this._request(e,t);this._lazyProxy=new Promise((e,i)=>{n=i,this._onModuleLoaded.then(t=>{e(Er(t,s))},e=>{i(e),this._onError("Worker failed to load "+t,e)})})}getProxyObject(){return this._lazyProxy}_request(e,t){return new Promise((i,n)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(e,t).then(i,n)},n)})}_onError(e,t){console.error(e),console.info(t)}}class ma{constructor(e,t,i,n,o){this.id=t;const s=function(e,t){if(r.b.MonacoEnvironment){if("function"==typeof r.b.MonacoEnvironment.getWorker)return r.b.MonacoEnvironment.getWorker(e,t);if("function"==typeof r.b.MonacoEnvironment.getWorkerUrl)return new Worker(r.b.MonacoEnvironment.getWorkerUrl(e,t))}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}("workerMain.js",i);"function"==typeof s.then?this.worker=s:this.worker=Promise.resolve(s),this.postMessage(e,[]),this.worker.then(e=>{e.onmessage=function(e){n(e.data)},e.onmessageerror=o,"function"==typeof e.addEventListener&&e.addEventListener("error",o)})}getId(){return this.id}postMessage(e,t){this.worker&&this.worker.then(i=>i.postMessage(e,t))}dispose(){this.worker&&this.worker.then(e=>e.terminate()),this.worker=null}}class ga{constructor(e){this._label=e,this._webWorkerFailedBeforeError=!1}create(e,t,i){let n=++ga.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new ma(e,n,this._label||"anonymous"+n,t,e=>{da(e),this._webWorkerFailedBeforeError=e,i(e)})}}var va;ga.LAST_WORKER_ID=0,function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(va||(va={}));class ba{constructor(e){if(this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++){switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}}isOK(e){return 0==(this._standardTokenMask&e)}}function _a(e,t){let i=e.getCount(),n=e.findTokenIndexAtOffset(t),r=e.getLanguageId(n),o=n;for(;o+1<i&&e.getLanguageId(o+1)===r;)o++;let s=n;for(;s>0&&e.getLanguageId(s-1)===r;)s--;return new ya(e,r,s,o+1,e.getStartOffset(s),e.getEndOffset(o))}class ya{constructor(e,t,i,n,r,o){this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=n,this.firstCharOffset=r,this._lastCharOffset=o}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function wa(e){return 0!=(7&e)}class Ca{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(e=>new ba(e)):e.brackets?this._autoClosingPairs=e.brackets.map(e=>new ba({open:e[0],close:e[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new ba({open:t.open,close:t.close||""}))}this._autoCloseBefore="string"==typeof e.autoCloseBefore?e.autoCloseBefore:Ca.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}static shouldAutoClosePair(e,t,i){if(0===t.getTokenCount())return!0;const n=t.findTokenIndexAtOffset(i-2),r=t.getStandardTokenType(n);return e.isOK(r)}getSurroundingPairs(){return this._surroundingPairs}}let Sa;function xa(){return Sa||(Sa=new TextDecoder(r.e()?"UTF-16LE":"UTF-16BE")),Sa}Ca.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";const ka="undefined"!=typeof TextDecoder;let La,Da;ka?(La=(e=>new class{constructor(e){this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return xa().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){const t=this._capacity-this._bufferLength;t<=1&&(0===t||hr.D(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){const t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}(e)),Da=function(e,t,i){const n=new Uint16Array(e.buffer,t,i);return xa().decode(n)}):(La=(e=>new class{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}),Da=function(e,t,i){let n=[],r=0;for(let o=0;o<i;o++){const i=lr.b(e,t);t+=2,n[r++]=String.fromCharCode(i)}return n.join("")});class Ea{constructor(e,t,i,n,r,o){this.languageIdentifier=e,this.index=t,this.open=i,this.close=n,this.forwardRegex=r,this.reversedRegex=o,this._openSet=Ea._toSet(this.open),this._closeSet=Ea._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}class Na{constructor(e,t){const i=function(e){const t=e.length;e=e.map(e=>[e[0].toLowerCase(),e[1].toLowerCase()]);const i=[];for(let e=0;e<t;e++)i[e]=e;const n=(e,t)=>{const[i,n]=e,[r,o]=t;return i===r||i===o||n===r||n===o},r=(e,n)=>{const r=Math.min(e,n),o=Math.max(e,n);for(let e=0;e<t;e++)i[e]===o&&(i[e]=r)};for(let o=0;o<t;o++){const s=e[o];for(let a=o+1;a<t;a++)n(s,e[a])&&r(i[o],i[a])}const o=[];for(let n=0;n<t;n++){let r=[],s=[];for(let o=0;o<t;o++)if(i[o]===n){const[t,i]=e[o];r.push(t),s.push(i)}r.length>0&&o.push({open:r,close:s})}return o}(t);this.brackets=i.map((t,n)=>new Ea(e,n,t.open,t.close,function(e,t,i,n){let r=[];for(let o=0,s=(r=(r=r.concat(e)).concat(t)).length;o<s;o++)Ta(r[o],i,n,r);return(r=Ma(r)).sort(Oa),r.reverse(),Aa(r)}(t.open,t.close,i,n),function(e,t,i,n){let r=[];for(let o=0,s=(r=(r=r.concat(e)).concat(t)).length;o<s;o++)Ta(r[o],i,n,r);return(r=Ma(r)).sort(Oa),r.reverse(),Aa(r.map(Pa))}(t.open,t.close,i,n))),this.forwardRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return Aa(t=Ma(t))}(this.brackets),this.reversedRegex=function(e){let t=[];for(const i of e){for(const e of i.open)t.push(e);for(const e of i.close)t.push(e)}return Aa((t=Ma(t)).map(Pa))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const e of this.brackets){for(const t of e.open)this.textIsBracket[t]=e,this.textIsOpenBracket[t]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,t.length);for(const t of e.close)this.textIsBracket[t]=e,this.textIsOpenBracket[t]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,t.length)}}}function Ta(e,t,i,n){for(let r=0,o=t.length;r<o;r++){if(r===i)continue;const o=t[r];for(const t of o.open)t.indexOf(e)>=0&&n.push(t);for(const t of o.close)t.indexOf(e)>=0&&n.push(t)}}function Oa(e,t){return e.length-t.length}function Ma(e){if(e.length<=1)return e;const t=[],i=new Set;for(const n of e)i.has(n)||(t.push(n),i.add(n));return t}function Ia(e){const t=/^[\w ]+$/.test(e);return e=hr.t(e),t?`\\b${e}\\b`:e}function Aa(e){let t=`(${e.map(Ia).join(")|(")})`;return hr.o(t,!0)}const Pa=function(){let e=null,t=null;return function(i){return e!==i&&(t=function(e){if(ka){const t=new Uint16Array(e.length);let i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charCodeAt(n);return xa().decode(t)}{let t=[],i=0;for(let n=e.length-1;n>=0;n--)t[i++]=e.charAt(n);return t.join("")}}(e=i)),t}}();class Ra{static _findPrevBracketInText(e,t,i,n){let r=i.match(e);if(!r)return null;let o=i.length-(r.index||0),s=r[0].length,a=n+o;return new mt(t,a-s+1,t,a+1)}static findPrevBracketInRange(e,t,i,n,r){const o=Pa(i).substring(i.length-r,i.length-n);return this._findPrevBracketInText(e,t,o,n)}static findNextBracketInText(e,t,i,n){let r=i.match(e);if(!r)return null;let o=r.index||0,s=r[0].length;if(0===s)return null;let a=n+o;return new mt(t,a+1,t,a+1+s)}static findNextBracketInRange(e,t,i,n,r){const o=i.substring(n,r);return this.findNextBracketInText(e,t,o,n)}}class Fa{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const t=i.charAt(i.length-1);e.push(t)}return e=e.filter((e,t,i)=>i.indexOf(e)===t)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const n=t.findTokenIndexAtOffset(i-1);if(wa(t.getStandardTokenType(n)))return null;const r=this._richEditBrackets.reversedRegex,o=t.getLineContent().substring(0,i-1)+e,s=Ra.findPrevBracketInRange(r,1,o,0,o.length);if(!s)return null;const a=o.substring(s.startColumn-1,s.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const l=t.getActualLineContentBefore(s.startColumn-1);return/^\s*$/.test(l)?{matchOpenBracket:a}:null}}class Va{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class Ba{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(e=>{const t=Ba._createOpenBracketRegExp(e[0]),i=Ba._createCloseBracketRegExp(e[1]);t&&i&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:i})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,n){if(e>=3)for(let e=0,r=this._regExpRules.length;e<r;e++){let r=this._regExpRules[e];if([{reg:r.beforeText,text:i},{reg:r.afterText,text:n},{reg:r.oneLineAboveText,text:t}].every(e=>!e.reg||e.reg.test(e.text)))return r.action}if(e>=2&&i.length>0&&n.length>0)for(let e=0,t=this._brackets.length;e<t;e++){let t=this._brackets[e];if(t.openRegExp.test(i)&&t.closeRegExp.test(n))return{indentAction:va.IndentOutdent}}if(e>=2&&i.length>0)for(let e=0,t=this._brackets.length;e<t;e++){if(this._brackets[e].openRegExp.test(i))return{indentAction:va.Indent}}return null}static _createOpenBracketRegExp(e){let t=hr.t(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",Ba._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=hr.t(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,Ba._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(e){return $(e),null}}}class Wa{constructor(e,t,i){this._languageIdentifier=e,this._brackets=null,this._electricCharacter=null;let n=null;t&&(n=t._conf),this._conf=Wa._mergeConf(n,i),this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new Ba(this._conf):null,this.comments=Wa._handleComments(this._conf),this.characterPair=new Ca(this._conf),this.wordDefinition=this._conf.wordPattern||s,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new Va(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}get brackets(){return!this._brackets&&this._conf.brackets&&(this._brackets=new Na(this._languageIdentifier,this._conf.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new Fa(this.brackets)),this._electricCharacter}onEnter(e,t,i,n){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,n):null}static _mergeConf(e,t){return{comments:e?t.comments||e.comments:t.comments,brackets:e?t.brackets||e.brackets:t.brackets,wordPattern:e?t.wordPattern||e.wordPattern:t.wordPattern,indentationRules:e?t.indentationRules||e.indentationRules:t.indentationRules,onEnterRules:e?t.onEnterRules||e.onEnterRules:t.onEnterRules,autoClosingPairs:e?t.autoClosingPairs||e.autoClosingPairs:t.autoClosingPairs,surroundingPairs:e?t.surroundingPairs||e.surroundingPairs:t.surroundingPairs,autoCloseBefore:e?t.autoCloseBefore||e.autoCloseBefore:t.autoCloseBefore,folding:e?t.folding||e.folding:t.folding,__electricCharacterSupport:e?t.__electricCharacterSupport||e.__electricCharacterSupport:t.__electricCharacterSupport}}static _handleComments(e){let t=e.comments;if(!t)return null;let i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){let[e,n]=t.blockComment;i.blockCommentStartToken=e,i.blockCommentEndToken=n}return i}}class $a{constructor(e){this.languageIdentifier=e}}const za=new class{constructor(){this._entries=new Map,this._onDidChange=new ce,this.onDidChange=this._onDidChange.event}register(e,t){let i=this._getRichEditSupport(e.id),n=new Wa(e,i,t);return this._entries.set(e.id,n),this._onDidChange.fire(new $a(e)),te(()=>{this._entries.get(e.id)===n&&(this._entries.set(e.id,i),this._onDidChange.fire(new $a(e)))})}_getRichEditSupport(e){return this._entries.get(e)}getIndentationRules(e){const t=this._entries.get(e);return t&&t.indentationRules||null}_getElectricCharacterSupport(e){let t=this._getRichEditSupport(e);return t&&t.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,i){let n=_a(t,i-1),r=this._getElectricCharacterSupport(n.languageId);return r?r.onElectricCharacter(e,n,i-n.firstCharOffset):null}getComments(e){let t=this._getRichEditSupport(e);return t&&t.comments||null}_getCharacterPairSupport(e){let t=this._getRichEditSupport(e);return t&&t.characterPair||null}getAutoClosingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoClosingPairs():[]}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():Ca.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}shouldAutoClosePair(e,t,i){const n=_a(t,i-1);return Ca.shouldAutoClosePair(e,n,i-n.firstCharOffset)}getWordDefinition(e){let t=this._getRichEditSupport(e);return a(t&&t.wordDefinition||null)}getFoldingRules(e){let t=this._getRichEditSupport(e);return t?t.foldingRules:{}}getIndentRulesSupport(e){let t=this._getRichEditSupport(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,i){let n=e.getLanguageIdAtPosition(t,0);if(t>1){let r,o=-1;for(r=t-1;r>=1;r--){if(e.getLanguageIdAtPosition(r,0)!==n)return o;let t=e.getLineContent(r);if(!i.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return r;o=r}}return-1}getInheritIndentForLine(e,t,i,n=!0){if(e<4)return null;const r=this.getIndentRulesSupport(t.getLanguageIdentifier().id);if(!r)return null;if(i<=1)return{indentation:"",action:null};const o=this.getPrecedingValidLine(t,i,r);if(o<0)return null;if(o<1)return{indentation:"",action:null};const s=t.getLineContent(o);if(r.shouldIncrease(s)||r.shouldIndentNextLine(s))return{indentation:hr.x(s),action:va.Indent,line:o};if(r.shouldDecrease(s))return{indentation:hr.x(s),action:null,line:o};{if(1===o)return{indentation:hr.x(t.getLineContent(o)),action:null,line:o};const e=o-1,i=r.getIndentMetadata(t.getLineContent(e));if(!(3&i)&&4&i){let i=0;for(let n=e-1;n>0;n--)if(!r.shouldIndentNextLine(t.getLineContent(n))){i=n;break}return{indentation:hr.x(t.getLineContent(i+1)),action:null,line:i+1}}if(n)return{indentation:hr.x(t.getLineContent(o)),action:null,line:o};for(let e=o;e>0;e--){const i=t.getLineContent(e);if(r.shouldIncrease(i))return{indentation:hr.x(i),action:va.Indent,line:e};if(r.shouldIndentNextLine(i)){let i=0;for(let n=e-1;n>0;n--)if(!r.shouldIndentNextLine(t.getLineContent(e))){i=n;break}return{indentation:hr.x(t.getLineContent(i+1)),action:null,line:i+1}}if(r.shouldDecrease(i))return{indentation:hr.x(i),action:null,line:e}}return{indentation:hr.x(t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,i,n,r){if(e<4)return null;const o=this._getRichEditSupport(i);if(!o)return null;const s=this.getIndentRulesSupport(i);if(!s)return null;const a=this.getInheritIndentForLine(e,t,n),l=t.getLineContent(n);if(a){const i=a.line;if(void 0!==i){const n=o.onEnter(e,"",t.getLineContent(i),"");if(n){let e=hr.x(t.getLineContent(i));return n.removeText&&(e=e.substring(0,e.length-n.removeText)),n.indentAction===va.Indent||n.indentAction===va.IndentOutdent?e=r.shiftIndent(e):n.indentAction===va.Outdent&&(e=r.unshiftIndent(e)),s.shouldDecrease(l)&&(e=r.unshiftIndent(e)),n.appendText&&(e+=n.appendText),hr.x(e)}}return s.shouldDecrease(l)?a.action===va.Indent?a.indentation:r.unshiftIndent(a.indentation):a.action===va.Indent?r.shiftIndent(a.indentation):a.indentation}return null}getIndentForEnter(e,t,i,n){if(e<4)return null;t.forceTokenization(i.startLineNumber);const r=t.getLineTokens(i.startLineNumber),o=_a(r,i.startColumn-1),s=o.getLineContent();let a,l,c=!1;o.firstCharOffset>0&&r.getLanguageId(0)!==o.languageId?(c=!0,a=s.substr(0,i.startColumn-1-o.firstCharOffset)):a=r.getLineContent().substring(0,i.startColumn-1),l=i.isEmpty()?s.substr(i.startColumn-1-o.firstCharOffset):this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-o.firstCharOffset);const h=this.getIndentRulesSupport(o.languageId);if(!h)return null;const u=a,d=hr.x(a),f={getLineTokens:e=>t.getLineTokens(e),getLanguageIdentifier:()=>t.getLanguageIdentifier(),getLanguageIdAtPosition:(e,i)=>t.getLanguageIdAtPosition(e,i),getLineContent:e=>e===i.startLineNumber?u:t.getLineContent(e)},p=hr.x(r.getLineContent()),m=this.getInheritIndentForLine(e,f,i.startLineNumber+1);if(!m){const e=c?p:d;return{beforeEnter:e,afterEnter:e}}let g=c?p:m.indentation;return m.action===va.Indent&&(g=n.shiftIndent(g)),h.shouldDecrease(l)&&(g=n.unshiftIndent(g)),{beforeEnter:c?p:d,afterEnter:g}}getIndentActionForType(e,t,i,n,r){if(e<4)return null;const o=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn),s=this.getIndentRulesSupport(o.languageId);if(!s)return null;const a=o.getLineContent(),l=a.substr(0,i.startColumn-1-o.firstCharOffset);let c;if(c=i.isEmpty()?a.substr(i.startColumn-1-o.firstCharOffset):this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-o.firstCharOffset),!s.shouldDecrease(l+c)&&s.shouldDecrease(l+n+c)){const n=this.getInheritIndentForLine(e,t,i.startLineNumber,!1);if(!n)return null;let o=n.indentation;return n.action!==va.Indent&&(o=r.unshiftIndent(o)),o}return null}getIndentMetadata(e,t){const i=this.getIndentRulesSupport(e.getLanguageIdentifier().id);return i?t<1||t>e.getLineCount()?null:i.getIndentMetadata(e.getLineContent(t)):null}getEnterAction(e,t,i){const n=this.getScopedLineTokens(t,i.startLineNumber,i.startColumn),r=this._getRichEditSupport(n.languageId);if(!r)return null;const o=n.getLineContent(),s=o.substr(0,i.startColumn-1-n.firstCharOffset);let a;a=i.isEmpty()?o.substr(i.startColumn-1-n.firstCharOffset):this.getScopedLineTokens(t,i.endLineNumber,i.endColumn).getLineContent().substr(i.endColumn-1-n.firstCharOffset);let l="";if(i.startLineNumber>1&&0===n.firstCharOffset){const e=this.getScopedLineTokens(t,i.startLineNumber-1);e.languageId===n.languageId&&(l=e.getLineContent())}const c=r.onEnter(e,l,s,a);if(!c)return null;const h=c.indentAction;let u=c.appendText;const d=c.removeText||0;u||(u=h===va.Indent||h===va.IndentOutdent?"\t":"");let f=this.getIndentationAtPosition(t,i.startLineNumber,i.startColumn);return d&&(f=f.substring(0,f.length-d)),{indentAction:h,appendText:u,removeText:d,indentation:f}}getIndentationAtPosition(e,t,i){const n=e.getLineContent(t);let r=hr.x(n);return r.length>i-1&&(r=r.substring(0,i-1)),r}getScopedLineTokens(e,t,i){return e.forceTokenization(t),_a(e.getLineTokens(t),void 0===i?e.getLineMaxColumn(t)-1:i-1)}getBracketsSupport(e){const t=this._getRichEditSupport(e);return t&&t.brackets||null}};class Ha{constructor(e,t,i,n){this.originalStart=e,this.originalLength=t,this.modifiedStart=i,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}function ja(e,t){return(t<<5)-t+e|0}function Ua(e,t){t=ja(149417,t);for(let i=0,n=e.length;i<n;i++)t=ja(e.charCodeAt(i),t);return t}function Ka(e,t,i=32){const n=i-t;return(e<<t|(~((1<<n)-1)&e)>>>n)>>>0}function qa(e,t=0,i=e.byteLength,n=0){for(let r=0;r<i;r++)e[t+r]=n}function Ga(e,t=32){return function(e,t,i="0"){for(;e.length<t;)e=i+e;return e}((e>>>0).toString(16),t/4)}class Ya{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const t=e.length;if(0===t)return;const i=this._buff;let n,r,o=this._buffLen,s=this._leftoverHighSurrogate;for(0!==s?(n=s,r=-1,s=0):(n=e.charCodeAt(0),r=0);;){let a=n;if(hr.D(n)){if(!(r+1<t)){s=n;break}{const t=e.charCodeAt(r+1);hr.E(t)?(r++,a=hr.i(n,t)):a=65533}}else hr.E(n)&&(a=65533);if(o=this._push(i,o,a),!(++r<t))break;n=e.charCodeAt(r)}this._buffLen=o,this._leftoverHighSurrogate=s}_push(e,t,i){return i<128?e[t++]=i:i<2048?(e[t++]=192|(1984&i)>>>6,e[t++]=128|(63&i)>>>0):i<65536?(e[t++]=224|(61440&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0):(e[t++]=240|(1835008&i)>>>18,e[t++]=128|(258048&i)>>>12,e[t++]=128|(4032&i)>>>6,e[t++]=128|(63&i)>>>0),t>=64&&(this._step(),t-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),t}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Ga(this._h0)+Ga(this._h1)+Ga(this._h2)+Ga(this._h3)+Ga(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,qa(this._buff,this._buffLen),this._buffLen>56&&(this._step(),qa(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=Ya._bigBlock32,t=this._buffDV;for(let i=0;i<64;i+=4)e.setUint32(i,t.getUint32(i,!1),!1);for(let t=64;t<320;t+=4)e.setUint32(t,Ka(e.getUint32(t-12,!1)^e.getUint32(t-32,!1)^e.getUint32(t-56,!1)^e.getUint32(t-64,!1),1),!1);let i,n,r,o=this._h0,s=this._h1,a=this._h2,l=this._h3,c=this._h4;for(let t=0;t<80;t++)t<20?(i=s&a|~s&l,n=1518500249):t<40?(i=s^a^l,n=1859775393):t<60?(i=s&a|s&l|a&l,n=2400959708):(i=s^a^l,n=3395469782),r=Ka(o,5)+i+c+n+e.getUint32(4*t,!1)&4294967295,c=l,l=a,a=Ka(s,30),s=o,o=r;this._h0=this._h0+o&4294967295,this._h1=this._h1+s&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+l&4294967295,this._h4=this._h4+c&4294967295}}Ya._bigBlock32=new DataView(new ArrayBuffer(320));class Xa{constructor(e){this.source=e}getElements(){const e=this.source,t=new Int32Array(e.length);for(let i=0,n=e.length;i<n;i++)t[i]=e.charCodeAt(i);return t}}class Za{static Assert(e,t){if(!e)throw new Error(t)}}class Qa{static Copy(e,t,i,n,r){for(let o=0;o<r;o++)i[n+o]=e[t+o]}static Copy2(e,t,i,n,r){for(let o=0;o<r;o++)i[n+o]=e[t+o]}}class Ja{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Ha(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++}AddModifiedElement(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class el{constructor(e,t,i=null){this.ContinueProcessingPredicate=i;const[n,r,o]=el._getElements(e),[s,a,l]=el._getElements(t);this._hasStrings=o&&l,this._originalStringElements=n,this._originalElementsOrHash=r,this._modifiedStringElements=s,this._modifiedElementsOrHash=a,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&"string"==typeof e[0]}static _getElements(e){const t=e.getElements();if(el._isStringArray(t)){const e=new Int32Array(t.length);for(let i=0,n=t.length;i<n;i++)e[i]=Ua(t[i],0);return[t,e,!0]}return t instanceof Int32Array?[[],t,!1]:[[],new Int32Array(t),!1]}ElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._modifiedStringElements[t])}OriginalElementsAreEqual(e,t){return this._originalElementsOrHash[e]===this._originalElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._originalStringElements[t])}ModifiedElementsAreEqual(e,t){return this._modifiedElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._modifiedStringElements[e]===this._modifiedStringElements[t])}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,t,i,n,r){const o=[!1];let s=this.ComputeDiffRecursive(e,t,i,n,o);return r&&(s=this.PrettifyChanges(s)),{quitEarly:o[0],changes:s}}ComputeDiffRecursive(e,t,i,n,r){for(r[0]=!1;e<=t&&i<=n&&this.ElementsAreEqual(e,i);)e++,i++;for(;t>=e&&n>=i&&this.ElementsAreEqual(t,n);)t--,n--;if(e>t||i>n){let r;return i<=n?(Za.Assert(e===t+1,"originalStart should only be one more than originalEnd"),r=[new Ha(e,0,i,n-i+1)]):e<=t?(Za.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),r=[new Ha(e,t-e+1,i,0)]):(Za.Assert(e===t+1,"originalStart should only be one more than originalEnd"),Za.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd"),r=[]),r}const o=[0],s=[0],a=this.ComputeRecursionPoint(e,t,i,n,o,s,r),l=o[0],c=s[0];if(null!==a)return a;if(!r[0]){const o=this.ComputeDiffRecursive(e,l,i,c,r);let s=[];return s=r[0]?[new Ha(l+1,t-(l+1)+1,c+1,n-(c+1)+1)]:this.ComputeDiffRecursive(l+1,t,c+1,n,r),this.ConcatenateChanges(o,s)}return[new Ha(e,t-e+1,i,n-i+1)]}WALKTRACE(e,t,i,n,r,o,s,a,l,c,h,u,d,f,p,m,g,v){let b=null,_=null,y=new Ja,w=t,C=i,S=d[0]-m[0]-n,x=-1073741824,k=this.m_forwardHistory.length-1;do{const t=S+e;t===w||t<C&&l[t-1]<l[t+1]?(f=(h=l[t+1])-S-n,h<x&&y.MarkNextChange(),x=h,y.AddModifiedElement(h+1,f),S=t+1-e):(f=(h=l[t-1]+1)-S-n,h<x&&y.MarkNextChange(),x=h-1,y.AddOriginalElement(h,f+1),S=t-1-e),k>=0&&(e=(l=this.m_forwardHistory[k])[0],w=1,C=l.length-1)}while(--k>=-1);if(b=y.getReverseChanges(),v[0]){let e=d[0]+1,t=m[0]+1;if(null!==b&&b.length>0){const i=b[b.length-1];e=Math.max(e,i.getOriginalEnd()),t=Math.max(t,i.getModifiedEnd())}_=[new Ha(e,u-e+1,t,p-t+1)]}else{y=new Ja,w=o,C=s,S=d[0]-m[0]-a,x=1073741824,k=g?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const e=S+r;e===w||e<C&&c[e-1]>=c[e+1]?(f=(h=c[e+1]-1)-S-a,h>x&&y.MarkNextChange(),x=h+1,y.AddOriginalElement(h+1,f+1),S=e+1-r):(f=(h=c[e-1])-S-a,h>x&&y.MarkNextChange(),x=h,y.AddModifiedElement(h+1,f+1),S=e-1-r),k>=0&&(r=(c=this.m_reverseHistory[k])[0],w=1,C=c.length-1)}while(--k>=-1);_=y.getChanges()}return this.ConcatenateChanges(b,_)}ComputeRecursionPoint(e,t,i,n,r,o,s){let a=0,l=0,c=0,h=0,u=0,d=0;e--,i--,r[0]=0,o[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const f=t-e+(n-i),p=f+1,m=new Int32Array(p),g=new Int32Array(p),v=n-i,b=t-e,_=e-i,y=t-n,w=(b-v)%2==0;m[v]=e,g[b]=t,s[0]=!1;for(let C=1;C<=f/2+1;C++){let f=0,S=0;c=this.ClipDiagonalBound(v-C,C,v,p),h=this.ClipDiagonalBound(v+C,C,v,p);for(let e=c;e<=h;e+=2){l=(a=e===c||e<h&&m[e-1]<m[e+1]?m[e+1]:m[e-1]+1)-(e-v)-_;const i=a;for(;a<t&&l<n&&this.ElementsAreEqual(a+1,l+1);)a++,l++;if(m[e]=a,a+l>f+S&&(f=a,S=l),!w&&Math.abs(e-b)<=C-1&&a>=g[e])return r[0]=a,o[0]=l,i<=g[e]&&C<=1448?this.WALKTRACE(v,c,h,_,b,u,d,y,m,g,a,t,r,l,n,o,w,s):null}const x=(f-e+(S-i)-C)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(f,x))return s[0]=!0,r[0]=f,o[0]=S,x>0&&C<=1448?this.WALKTRACE(v,c,h,_,b,u,d,y,m,g,a,t,r,l,n,o,w,s):[new Ha(++e,t-e+1,++i,n-i+1)];u=this.ClipDiagonalBound(b-C,C,b,p),d=this.ClipDiagonalBound(b+C,C,b,p);for(let f=u;f<=d;f+=2){l=(a=f===u||f<d&&g[f-1]>=g[f+1]?g[f+1]-1:g[f-1])-(f-b)-y;const p=a;for(;a>e&&l>i&&this.ElementsAreEqual(a,l);)a--,l--;if(g[f]=a,w&&Math.abs(f-v)<=C&&a<=m[f])return r[0]=a,o[0]=l,p>=m[f]&&C<=1448?this.WALKTRACE(v,c,h,_,b,u,d,y,m,g,a,t,r,l,n,o,w,s):null}if(C<=1447){let e=new Int32Array(h-c+2);e[0]=v-c+1,Qa.Copy2(m,c,e,1,h-c+1),this.m_forwardHistory.push(e),(e=new Int32Array(d-u+2))[0]=b-u+1,Qa.Copy2(g,u,e,1,d-u+1),this.m_reverseHistory.push(e)}}return this.WALKTRACE(v,c,h,_,b,u,d,y,m,g,a,t,r,l,n,o,w,s)}PrettifyChanges(e){for(let t=0;t<e.length;t++){const i=e[t],n=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,r=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,o=i.originalLength>0,s=i.modifiedLength>0;for(;i.originalStart+i.originalLength<n&&i.modifiedStart+i.modifiedLength<r&&(!o||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!s||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));)i.originalStart++,i.modifiedStart++;let a=[null];t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],a)&&(e[t]=a[0],e.splice(t+1,1),t--)}for(let t=e.length-1;t>=0;t--){const i=e[t];let n=0,r=0;if(t>0){const i=e[t-1];i.originalLength>0&&(n=i.originalStart+i.originalLength),i.modifiedLength>0&&(r=i.modifiedStart+i.modifiedLength)}const o=i.originalLength>0,s=i.modifiedLength>0;let a=0,l=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let e=1;;e++){const t=i.originalStart-e,c=i.modifiedStart-e;if(t<n||c<r)break;if(o&&!this.OriginalElementsAreEqual(t,t+i.originalLength))break;if(s&&!this.ModifiedElementsAreEqual(c,c+i.modifiedLength))break;const h=this._boundaryScore(t,i.originalLength,c,i.modifiedLength);h>l&&(l=h,a=e)}i.originalStart-=a,i.modifiedStart-=a}return e}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){const i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(e,t,i,n){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(i,n)?1:0)}ConcatenateChanges(e,t){let i=[];if(0===e.length||0===t.length)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],i)){const n=new Array(e.length+t.length-1);return Qa.Copy(e,0,n,0,e.length-1),n[e.length-1]=i[0],Qa.Copy(t,1,n,e.length,t.length-1),n}{const i=new Array(e.length+t.length);return Qa.Copy(e,0,i,0,e.length),Qa.Copy(t,0,i,e.length,t.length),i}}ChangesOverlap(e,t,i){if(Za.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),Za.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){const n=e.originalStart;let r=e.originalLength;const o=e.modifiedStart;let s=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(r=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(s=t.modifiedStart+t.modifiedLength-e.modifiedStart),i[0]=new Ha(n,r,o,s),!0}return i[0]=null,!1}ClipDiagonalBound(e,t,i,n){if(e>=0&&e<n)return e;const r=n-i-1,o=t%2==0;if(e<0){return o===(i%2==0)?0:1}return o===(r%2==0)?n-1:n-2}}const tl=3;function il(e,t,i,n){return new el(e,t,i).ComputeDiff(n)}class nl{constructor(e){const t=[],i=[];for(let n=0,r=e.length;n<r;n++)t[n]=ll(e[n],1),i[n]=cl(e[n],1);this.lines=e,this._startColumns=t,this._endColumns=i}getElements(){const e=[];for(let t=0,i=this.lines.length;t<i;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,i){const n=[],r=[],o=[];let s=0;for(let a=t;a<=i;a++){const t=this.lines[a],i=e?this._startColumns[a]:1,l=e?this._endColumns[a]:t.length+1;for(let e=i;e<l;e++)n[s]=t.charCodeAt(e-1),r[s]=a+1,o[s]=e,s++}return new rl(n,r,o)}}class rl{constructor(e,t,i){this._charCodes=e,this._lineNumbers=t,this._columns=i}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}}class ol{constructor(e,t,i,n,r,o,s,a){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=i,this.originalEndColumn=n,this.modifiedStartLineNumber=r,this.modifiedStartColumn=o,this.modifiedEndLineNumber=s,this.modifiedEndColumn=a}static createFromDiffChange(e,t,i){let n,r,o,s,a,l,c,h;return 0===e.originalLength?(n=0,r=0,o=0,s=0):(n=t.getStartLineNumber(e.originalStart),r=t.getStartColumn(e.originalStart),o=t.getEndLineNumber(e.originalStart+e.originalLength-1),s=t.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(a=0,l=0,c=0,h=0):(a=i.getStartLineNumber(e.modifiedStart),l=i.getStartColumn(e.modifiedStart),c=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),h=i.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new ol(n,r,o,s,a,l,c,h)}}class sl{constructor(e,t,i,n,r){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=i,this.modifiedEndLineNumber=n,this.charChanges=r}static createFromDiffResult(e,t,i,n,r,o,s){let a,l,c,h,u=void 0;if(0===t.originalLength?(a=i.getStartLineNumber(t.originalStart)-1,l=0):(a=i.getStartLineNumber(t.originalStart),l=i.getEndLineNumber(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(c=n.getStartLineNumber(t.modifiedStart)-1,h=0):(c=n.getStartLineNumber(t.modifiedStart),h=n.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),o&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&r()){const o=i.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),a=n.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);let l=il(o,a,r,!0).changes;s&&(l=function(e){if(e.length<=1)return e;const t=[e[0]];let i=t[0];for(let n=1,r=e.length;n<r;n++){const r=e[n],o=r.originalStart-(i.originalStart+i.originalLength),s=r.modifiedStart-(i.modifiedStart+i.modifiedLength);Math.min(o,s)<tl?(i.originalLength=r.originalStart+r.originalLength-i.originalStart,i.modifiedLength=r.modifiedStart+r.modifiedLength-i.modifiedStart):(t.push(r),i=r)}return t}(l)),u=[];for(let e=0,t=l.length;e<t;e++)u.push(ol.createFromDiffChange(l[e],o,a))}return new sl(a,l,c,h,u)}}class al{constructor(e,t,i){this.shouldComputeCharChanges=i.shouldComputeCharChanges,this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=i.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new nl(e),this.modified=new nl(t),this.continueLineDiff=hl(i.maxComputationTime),this.continueCharDiff=hl(0===i.maxComputationTime?0:Math.min(i.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=il(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,i=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const e=[];for(let i=0,n=t.length;i<n;i++)e.push(sl.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[i],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:i,changes:e}}const n=[];let r=0,o=0;for(let e=-1,i=t.length;e<i;e++){const s=e+1<i?t[e+1]:null,a=s?s.originalStart:this.originalLines.length,l=s?s.modifiedStart:this.modifiedLines.length;for(;r<a&&o<l;){const e=this.originalLines[r],t=this.modifiedLines[o];if(e!==t){{let i=ll(e,1),s=ll(t,1);for(;i>1&&s>1;){if(e.charCodeAt(i-2)!==t.charCodeAt(s-2))break;i--,s--}(i>1||s>1)&&this._pushTrimWhitespaceCharChange(n,r+1,1,i,o+1,1,s)}{let i=cl(e,1),s=cl(t,1);const a=e.length+1,l=t.length+1;for(;i<a&&s<l;){if(e.charCodeAt(i-1)!==e.charCodeAt(s-1))break;i++,s++}(i<a||s<l)&&this._pushTrimWhitespaceCharChange(n,r+1,i,a,o+1,s,l)}}r++,o++}s&&(n.push(sl.createFromDiffResult(this.shouldIgnoreTrimWhitespace,s,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),r+=s.originalLength,o+=s.modifiedLength)}return{quitEarly:i,changes:n}}_pushTrimWhitespaceCharChange(e,t,i,n,r,o,s){if(this._mergeTrimWhitespaceCharChange(e,t,i,n,r,o,s))return;let a=void 0;this.shouldComputeCharChanges&&(a=[new ol(t,i,t,n,r,o,r,s)]),e.push(new sl(t,t,r,r,a))}_mergeTrimWhitespaceCharChange(e,t,i,n,r,o,s){const a=e.length;if(0===a)return!1;const l=e[a-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&(l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===r&&(l.originalEndLineNumber=t,l.modifiedEndLineNumber=r,this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new ol(t,i,t,n,r,o,r,s)),!0))}}function ll(e,t){const i=hr.u(e);return-1===i?t:i+1}function cl(e,t){const i=hr.H(e);return-1===i?t:i+2}function hl(e){if(0===e)return()=>!0;const t=Date.now();return()=>Date.now()-t<e}function ul(e){return e<0?0:e>255?255:0|e}function dl(e){return e<0?0:e>4294967295?4294967295:0|e}class fl{constructor(e,t){this.index=e,this.remainder=t}}class pl{constructor(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(e,t){e=dl(e);const i=this.values,n=this.prefixSum,r=t.length;return 0!==r&&(this.values=new Uint32Array(i.length+r),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e),e+r),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}changeValue(e,t){return e=dl(e),t=dl(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)}removeValues(e,t){e=dl(e),t=dl(t);const i=this.values,n=this.prefixSum;if(e>=i.length)return!1;let r=i.length-e;return t>=r&&(t=r),0!==t&&(this.values=new Uint32Array(i.length-t),this.values.set(i.subarray(0,e),0),this.values.set(i.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalValue(){return 0===this.values.length?0:this._getAccumulatedValue(this.values.length-1)}getAccumulatedValue(e){return e<0?0:(e=dl(e),this._getAccumulatedValue(e))}_getAccumulatedValue(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];let t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(let i=t;i<=e;i++)this.prefixSum[i]=this.prefixSum[i-1]+this.values[i];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]}getIndexOf(e){e=Math.floor(e),this.getTotalValue();let t=0,i=this.values.length-1,n=0,r=0,o=0;for(;t<=i;)if(n=t+(i-t)/2|0,e<(o=(r=this.prefixSum[n])-this.values[n]))i=n-1;else{if(!(e>=r))break;t=n+1}return new fl(n,e-o)}}class ml{constructor(e,t,i,n){this._uri=e,this._lines=t,this._eol=i,this._versionId=n,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);const t=e.changes;for(const e of t)this._acceptDeleteRange(e.range),this._acceptInsertText(new pt(e.range.startLineNumber,e.range.startColumn),e.text);this._versionId=e.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const e=this._eol.length,t=this._lines.length,i=new Uint32Array(t);for(let n=0;n<t;n++)i[n]=this._lines[n].length+e;this._lineStarts=new pl(i)}}_setLineText(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)}_acceptDeleteRange(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}}_acceptInsertText(e,t){if(0===t.length)return;let i=t.split(/\r\n|\r|\n/);if(1===i.length)return void this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);let n=new Uint32Array(i.length-1);for(let t=1;t<i.length;t++)this._lines.splice(e.lineNumber+t-1,0,i[t]),n[t-1]=i[t].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)}}class gl{constructor(e){let t=ul(e);this._defaultValue=t,this._asciiMap=gl._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);for(let i=0;i<256;i++)t[i]=e;return t}set(e,t){let i=ul(t);e>=0&&e<256?this._asciiMap[e]=i:this._map.set(e,i)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class vl{constructor(e,t,i){const n=new Uint8Array(e*t);for(let r=0,o=e*t;r<o;r++)n[r]=i;this._data=n,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,i){this._data[e*this.cols+t]=i}}class bl{constructor(e){let t=0,i=0;for(let n=0,r=e.length;n<r;n++){let[r,o,s]=e[n];o>t&&(t=o),r>i&&(i=r),s>i&&(i=s)}let n=new vl(++i,++t,0);for(let t=0,i=e.length;t<i;t++){let[i,r,o]=e[t];n.set(i,r,o)}this._states=n,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let _l=null;let yl=null;class wl{static _createLink(e,t,i,n,r){let o=r-1;do{const i=t.charCodeAt(o);if(2!==e.get(i))break;o--}while(o>n);if(n>0){const e=t.charCodeAt(n-1),i=t.charCodeAt(o);(40===e&&41===i||91===e&&93===i||123===e&&125===i)&&o--}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:o+2},url:t.substring(n,o+1)}}static computeLinks(e,t=(null===_l&&(_l=new bl([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),_l)){const i=function(){if(null===yl){yl=new gl(0);const e=" \t<>'\"、。｡､，．：；‘“〈《「『【〔（［｛｢｣｝］）〕】』」》〉”’｀～…";for(let t=0;t<e.length;t++)yl.set(e.charCodeAt(t),1);const t=".,;";for(let e=0;e<t.length;e++)yl.set(t.charCodeAt(e),2)}return yl}();let n=[];for(let r=1,o=e.getLineCount();r<=o;r++){const o=e.getLineContent(r),s=o.length;let a=0,l=0,c=0,h=1,u=!1,d=!1,f=!1,p=!1;for(;a<s;){let e=!1;const s=o.charCodeAt(a);if(13===h){let t;switch(s){case 40:u=!0,t=0;break;case 41:t=u?0:1;break;case 91:f=!0,d=!0,t=0;break;case 93:f=!1,t=d?0:1;break;case 123:p=!0,t=0;break;case 125:t=p?0:1;break;case 39:t=34===c||96===c?0:1;break;case 34:t=39===c||96===c?0:1;break;case 96:t=39===c||34===c?0:1;break;case 42:t=42===c?1:0;break;case 124:t=124===c?1:0;break;case 32:t=f?0:1;break;default:t=i.get(s)}1===t&&(n.push(wl._createLink(i,o,r,l,a)),e=!0)}else if(12===h){let t;91===s?(d=!0,t=0):t=i.get(s),1===t?e=!0:h=13}else 0===(h=t.nextState(h,s))&&(e=!0);e&&(h=1,u=!1,d=!1,p=!1,l=a+1,c=s),a++}13===h&&n.push(wl._createLink(i,o,r,l,s))}return n}}class Cl{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,i,n,r){if(e&&t){let i=this.doNavigateValueSet(t,r);if(i)return{range:e,value:i}}if(i&&n){let e=this.doNavigateValueSet(n,r);if(e)return{range:i,value:e}}return null}doNavigateValueSet(e,t){let i=this.numberReplace(e,t);return null!==i?i:this.textReplace(e,t)}numberReplace(e,t){let i=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),n=Number(e),r=parseFloat(e);return isNaN(n)||isNaN(r)||n!==r?null:0!==n||t?(n=Math.floor(n*i),n+=t?i:-i,String(n/i)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,i){let n=null;for(let r=0,o=e.length;null===n&&r<o;r++)n=this.valueSetReplace(e[r],t,i);return n}valueSetReplace(e,t,i){let n=e.indexOf(t);return n>=0?((n+=i?1:-1)<0?n=e.length-1:n%=e.length,e[n]):null}}Cl.INSTANCE=new Cl;var Sl=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};class xl extends ml{get uri(){return this._uri}get version(){return this._versionId}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let i=c(e.column,a(t),this._lines[e.lineNumber-1],0);return i?new mt(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn):null}words(e){const t=this._lines,i=this._wordenize.bind(this);let n=0,r="",o=0,s=[];return{*[Symbol.iterator](){for(;;)if(o<s.length){const e=r.substring(s[o].start,s[o].end);o+=1,yield e}else{if(!(n<t.length))break;r=t[n],s=i(r,e),o=0,n+=1}}}}getLineWords(e,t){let i=this._lines[e-1],n=this._wordenize(i,t),r=[];for(const e of n)r.push({word:i.substring(e.start,e.end),startColumn:e.start+1,endColumn:e.end+1});return r}_wordenize(e,t){const i=[];let n;for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)i.push({start:n.index,end:n.index+n[0].length});return i}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,i=e.startLineNumber-1,n=e.endLineNumber-1,r=[];r.push(this._lines[i].substring(e.startColumn-1));for(let e=i+1;e<n;e++)r.push(this._lines[e]);return r.push(this._lines[n].substring(0,e.endColumn-1)),r.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}:e}_validatePosition(e){if(!pt.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:i}=e,n=!1;if(t<1)t=1,i=1,n=!0;else if(t>this._lines.length)t=this._lines.length,i=this._lines[t-1].length+1,n=!0;else{let e=this._lines[t-1].length+1;i<1?(i=1,n=!0):i>e&&(i=e,n=!0)}return n?{lineNumber:t,column:i}:e}}class kl{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new xl(rt.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeDiff(e,t,i,n){return Sl(this,void 0,void 0,function*(){const r=this._getModel(e),o=this._getModel(t);if(!r||!o)return null;const s=r.getLinesContent(),a=o.getLinesContent(),l=new al(s,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:!0,maxComputationTime:n}).computeDiff(),c=!(l.changes.length>0)&&this._modelsAreIdentical(r,o);return{quitEarly:l.quitEarly,identical:c,changes:l.changes}})}_modelsAreIdentical(e,t){const i=e.getLineCount();if(i!==t.getLineCount())return!1;for(let n=1;n<=i;n++){if(e.getLineContent(n)!==t.getLineContent(n))return!1}return!0}computeMoreMinimalEdits(e,t){return Sl(this,void 0,void 0,function*(){const i=this._getModel(e);if(!i)return t;const n=[];let r=void 0;t=zi(t,(e,t)=>{if(e.range&&t.range)return mt.compareRangesUsingStarts(e.range,t.range);return(e.range?0:1)-(t.range?0:1)});for(let{range:e,text:a,eol:l}of t){if("number"==typeof l&&(r=l),mt.isEmpty(e)&&!a)continue;const t=i.getValueInRange(e);if(t===(a=a.replace(/\r\n|\n|\r/g,i.eol)))continue;if(Math.max(a.length,t.length)>kl._diffLimit){n.push({range:e,text:a});continue}const c=(o=a,s=!1,new el(new Xa(t),new Xa(o)).ComputeDiff(s).changes),h=i.offsetAt(mt.lift(e).getStartPosition());for(const e of c){const t=i.positionAt(h+e.originalStart),r=i.positionAt(h+e.originalStart+e.originalLength),o={text:a.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:r.lineNumber,endColumn:r.column}};i.getValueInRange(o.range)!==o.text&&n.push(o)}}var o,s;return"number"==typeof r&&n.push({eol:r,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),n})}computeLinks(e){return Sl(this,void 0,void 0,function*(){let t=this._getModel(e);return t?function(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?wl.computeLinks(e):[]}(t):null})}textualSuggest(e,t,i,n){return Sl(this,void 0,void 0,function*(){const r=this._getModel(e);if(!r)return null;const o=[],s=new Set,a=new RegExp(i,n),l=r.getWordAtPosition(t,a);l&&s.add(r.getValueInRange(l));for(let e of r.words(a))if(!s.has(e)&&(s.add(e),isNaN(Number(e))&&(o.push(e),s.size>kl._suggestionsLimit)))break;return o})}computeWordRanges(e,t,i,n){return Sl(this,void 0,void 0,function*(){let r=this._getModel(e);if(!r)return Object.create(null);const o=new RegExp(i,n),s=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++){let t=r.getLineWords(e,o);for(const i of t){if(!isNaN(Number(i.word)))continue;let t=s[i.word];t||(t=[],s[i.word]=t),t.push({startLineNumber:e,startColumn:i.startColumn,endLineNumber:e,endColumn:i.endColumn})}}return s})}navigateValueSet(e,t,i,n,r){return Sl(this,void 0,void 0,function*(){let o=this._getModel(e);if(!o)return null;let s=new RegExp(n,r);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let a=o.getValueInRange(t),l=o.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},s);if(!l)return null;let c=o.getValueInRange(l);return Cl.INSTANCE.navigateValueSet(t,a,l,c,i)})}loadForeignModule(e,t,i){let n={host:Er(i,(e,t)=>this._host.fhr(e,t)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(n,t),Promise.resolve(Dr(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(e){return Promise.reject(e)}}}kl._diffLimit=1e5,kl._suggestionsLimit=1e4,"function"==typeof importScripts&&(r.b.monaco=ti());const Ll=oi("textResourceConfigurationService"),Dl=oi("textResourcePropertiesService"),El=oi("logService");var Nl;!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.Off=6]="Off"}(Nl||(Nl={}));const Tl=Nl.Info;class Ol extends ne{constructor(){super(...arguments),this.level=Tl,this._onDidChangeLogLevel=this._register(new ce)}setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}const Ml=r.b.performance&&"function"==typeof r.b.performance.now;class Il{constructor(e){this._highResolution=Ml&&e,this._startTime=this._now(),this._stopTime=-1}static create(e=!0){return new Il(e)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?r.b.performance.now():(new Date).getTime()}}var Al=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Pl=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},Rl=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};const Fl=6e4,Vl=3e5;function Bl(e,t){let i=e.getModel(t);return!!i&&!i.isTooLargeForSyncing()}let Wl=class extends ne{constructor(e,t,i){super(),this._modelService=e,this._workerManager=this._register(new class extends ne{constructor(e){super(),this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime();let t=this._register(new Fi);t.cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(Vl/2)),this._register(this._modelService.onModelRemoved(e=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;let e=this._modelService.getModels();0===e.length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;let e=(new Date).getTime()-this._lastWorkerUsedTime;e>Vl&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new jl(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}(this._modelService)),this._logService=i,this._register(Zs.register("*",{provideLinks:(e,t)=>Bl(this._modelService,e.uri)?this._workerManager.withWorker().then(t=>t.computeLinks(e.uri)).then(e=>e&&{links:e}):Promise.resolve({links:[]})})),this._register(Rs.register("*",new class{constructor(e,t,i){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=i}provideCompletionItems(e,t){return Rl(this,void 0,void 0,function*(){const{wordBasedSuggestions:i}=this._configurationService.getValue(e.uri,t,"editor");if(!i)return;if(!Bl(this._modelService,e.uri))return;const n=e.getWordAtPosition(t),r=n?new mt(t.lineNumber,n.startColumn,t.lineNumber,n.endColumn):mt.fromPositions(t),o=r.setEndPosition(t.lineNumber,t.column),s=yield this._workerManager.withWorker(),a=yield s.textualSuggest(e.uri,t);return a?{suggestions:a.map(e=>({kind:18,label:e,insertText:e,range:{insert:o,replace:r}}))}:void 0})}}(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}canComputeDiff(e,t){return Bl(this._modelService,e)&&Bl(this._modelService,t)}computeDiff(e,t,i,n){return this._workerManager.withWorker().then(r=>r.computeDiff(e,t,i,n))}computeMoreMinimalEdits(e,t){if(i=t,Array.isArray(i)&&i.length>0){if(!Bl(this._modelService,e))return Promise.resolve(t);const i=Il.create(!0),n=this._workerManager.withWorker().then(i=>i.computeMoreMinimalEdits(e,t));return n.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed())),n}return Promise.resolve(void 0);var i}canNavigateValueSet(e){return Bl(this._modelService,e)}navigateValueSet(e,t,i){return this._workerManager.withWorker().then(n=>n.navigateValueSet(e,t,i))}canComputeWordRanges(e){return Bl(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(i=>i.computeWordRanges(e,t))}};Wl=Al([Pl(0,Po),Pl(1,Ll),Pl(2,El)],Wl);class $l extends ne{constructor(e,t,i){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!i){let e=new Fi;e.cancelAndSet(()=>this._checkStopModelSync(),Math.round(Fl/2)),this._register(e)}}dispose(){for(let e in this._syncedModels)J(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e){for(const t of e){let e=t.toString();this._syncedModels[e]||this._beginModelSync(t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){let e=(new Date).getTime(),t=[];for(let i in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[i]>Fl&&t.push(i)}for(const e of t)this._stopModelSync(e)}_beginModelSync(e){let t=this._modelService.getModel(e);if(!t)return;if(t.isTooLargeForSyncing())return;let i=e.toString();this._proxy.acceptNewModel({url:t.uri.toString(),lines:t.getLinesContent(),EOL:t.getEOL(),versionId:t.getVersionId()});const n=new ie;n.add(t.onDidChangeContent(e=>{this._proxy.acceptModelChanged(i.toString(),e)})),n.add(t.onWillDispose(()=>{this._stopModelSync(i)})),n.add(te(()=>{this._proxy.acceptRemovedModel(i)})),this._syncedModels[i]=n}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],J(t)}}class zl{constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class Hl{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class jl extends ne{constructor(e,t,i){super(),this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new ga(i),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new pa(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new Hl(this)))}catch(e){da(e),this._worker=new zl(new kl(new Hl(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>(da(e),this._worker=new zl(new kl(new Hl(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new $l(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e){return this._disposed?Promise.reject(U()):this._getProxy().then(t=>(this._getOrCreateModelManager(t).ensureSyncedResources(e),t))}computeDiff(e,t,i,n){return this._withSyncedResources([e,t]).then(r=>r.computeDiff(e.toString(),t.toString(),i,n))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(i=>i.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t){return this._withSyncedResources([e]).then(i=>{let n=this._modelService.getModel(e);if(!n)return null;let r=za.getWordDefinition(n.getLanguageIdentifier().id),o=r.source,s=Object(hr.L)(r);return i.textualSuggest(e.toString(),t,o,s)})}computeWordRanges(e,t){return this._withSyncedResources([e]).then(i=>{let n=this._modelService.getModel(e);if(!n)return Promise.resolve(null);let r=za.getWordDefinition(n.getLanguageIdentifier().id),o=r.source,s=Object(hr.L)(r);return i.computeWordRanges(e.toString(),t,o,s)})}navigateValueSet(e,t,i){return this._withSyncedResources([e]).then(n=>{let r=this._modelService.getModel(e);if(!r)return null;let o=za.getWordDefinition(r.getLanguageIdentifier().id),s=o.source,a=Object(hr.L)(o);return n.navigateValueSet(e.toString(),t,i,s,a)})}dispose(){super.dispose(),this._disposed=!0}}class Ul extends jl{constructor(e,t){super(e,t.keepIdleModels||!1,t.label),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(e){return Promise.reject(e)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?Dr(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(t=>{this._foreignModuleCreateData=null;const i=(t,i)=>e.fmr(t,i),n=(e,t)=>(function(){const i=Array.prototype.slice.call(arguments,0);return t(e,i)});let r={};for(const e of t)r[e]=n(e,i);return r})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(e=>this.getProxy())}}class Kl{constructor(e,t){this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t}equals(e){return e instanceof Kl&&this.slicedEquals(e,0,this._tokensCount)}slicedEquals(e,t,i){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;const n=t<<1,r=n+(i<<1);for(let t=n;t<r;t++)if(this._tokens[t]!==e._tokens[t])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[1+(e<<1)]}getLanguageId(e){const t=this._tokens[1+(e<<1)];return Ns.getLanguageId(t)}getStandardTokenType(e){const t=this._tokens[1+(e<<1)];return Ns.getTokenType(t)}getForeground(e){const t=this._tokens[1+(e<<1)];return Ns.getForeground(t)}getClassName(e){const t=this._tokens[1+(e<<1)];return Ns.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[1+(e<<1)];return Ns.getInlineStyleFromMetadata(i,t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return Kl.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new ql(this,e,t,i)}static convertToEndOffset(e,t){const i=(e.length>>>1)-1;for(let t=0;t<i;t++)e[t<<1]=e[t+1<<1];e[i<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,n=(e.length>>>1)-1;for(;i<n;){const r=i+Math.floor((n-i)/2),o=e[r<<1];if(o===t)return r+1;o<t?i=r+1:o>t&&(n=r)}return i}}class ql{constructor(e,t,i,n){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=n,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let t=this._firstTokenIndex,n=e.getCount();t<n;t++){if(e.getStartOffset(t)>=i)break;this._tokensCount++}}equals(e){return e instanceof ql&&(this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount))}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}class Gl{constructor(e,t,i,n){this.startColumn=e,this.endColumn=t,this.className=i,this.type=n}static _equals(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type}static equalsArr(e,t){const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!Gl._equals(e[n],t[n]))return!1;return!0}static filter(e,t,i,n){if(0===e.length)return[];let r=[],o=0;for(let s=0,a=e.length;s<a;s++){const a=e[s],l=a.range;if(l.endLineNumber<t||l.startLineNumber>t)continue;if(l.isEmpty()&&(0===a.type||3===a.type))continue;const c=l.startLineNumber===t?l.startColumn:i,h=l.endLineNumber===t?l.endColumn:n;r[o++]=new Gl(c,h,a.inlineClassName,a.type)}return r}static _typeCompare(e,t){const i=[2,0,1,3];return i[e]-i[t]}static compare(e,t){if(e.startColumn===t.startColumn){if(e.endColumn===t.endColumn){const i=Gl._typeCompare(e.type,t.type);return 0===i?e.className<t.className?-1:e.className>t.className?1:0:i}return e.endColumn-t.endColumn}return e.startColumn-t.startColumn}}class Yl{constructor(e,t,i,n){this.startOffset=e,this.endOffset=t,this.className=i,this.metadata=n}}class Xl{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(e){let t=0;for(let i=0,n=e.length;i<n;i++)t|=e[i];return t}consumeLowerThan(e,t,i){for(;this.count>0&&this.stopOffsets[0]<e;){let e=0;for(;e+1<this.count&&this.stopOffsets[e]===this.stopOffsets[e+1];)e++;i.push(new Yl(t,this.stopOffsets[e],this.classNames.join(" "),Xl._metadata(this.metadata))),t=this.stopOffsets[e]+1,this.stopOffsets.splice(0,e+1),this.classNames.splice(0,e+1),this.metadata.splice(0,e+1),this.count-=e+1}return this.count>0&&t<e&&(i.push(new Yl(t,e-1,this.classNames.join(" "),Xl._metadata(this.metadata))),t=e),t}insert(e,t,i){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t),this.metadata.push(i);else for(let n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t),this.metadata.splice(n,0,i);break}this.count++}}class Zl{static normalize(e,t){if(0===t.length)return[];let i=[];const n=new Xl;let r=0;for(let o=0,s=t.length;o<s;o++){const s=t[o];let a=s.startColumn,l=s.endColumn;const c=s.className,h=1===s.type?2:2===s.type?4:0;if(a>1){const t=e.charCodeAt(a-2);hr.D(t)&&a--}if(l>1){const t=e.charCodeAt(l-2);hr.D(t)&&l--}const u=a-1,d=l-2;r=n.consumeLowerThan(u,r,i),0===n.count&&(r=u),n.insert(d,c,h)}return n.consumeLowerThan(1073741824,r,i),i}}class Ql{constructor(e,t,i){this.endIndex=e,this.type=t,this.metadata=i}isWhitespace(){return!!(1&this.metadata)}}class Jl{constructor(e,t){this.startOffset=e,this.endOffset=t}equals(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset}}class ec{constructor(e,t,i,n,r,o,s,a,l,c,h,u,d,f,p,m,g,v,b){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.continuesWithWrappedLine=n,this.isBasicASCII=r,this.containsRTL=o,this.fauxIndentLength=s,this.lineTokens=a,this.lineDecorations=l,this.tabSize=c,this.startVisibleColumn=h,this.spaceWidth=u,this.stopRenderingLineAfter=p,this.renderWhitespace="all"===m?4:"boundary"===m?1:"selection"===m?2:"trailing"===m?3:0,this.renderControlCharacters=g,this.fontLigatures=v,this.selectionsOnLine=b&&b.sort((e,t)=>e.startOffset<t.startOffset?-1:1),Math.abs(f-u)<Math.abs(d-u)?(this.renderSpaceWidth=f,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=d,this.renderSpaceCharCode=183)}sameSelection(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(let t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0}equals(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.renderSpaceWidth===e.renderSpaceWidth&&this.renderSpaceCharCode===e.renderSpaceCharCode&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&Gl.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)}}class tc{constructor(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}static getPartIndex(e){return(4294901760&e)>>>16}static getCharIndex(e){return(65535&e)>>>0}setPartData(e,t,i,n){let r=(t<<16|i<<0)>>>0;this._data[e]=r,this._absoluteOffsets[e]=n+i}getAbsoluteOffsets(){return this._absoluteOffsets}charOffsetToPartData(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]}partDataToCharOffset(e,t,i){if(0===this.length)return 0;let n=(e<<16|i<<0)>>>0,r=0,o=this.length-1;for(;r+1<o;){let e=r+o>>>1,t=this._data[e];if(t===n)return e;t>n?o=e:r=e}if(r===o)return r;let s=this._data[r],a=this._data[o];if(s===n)return r;if(a===n)return o;let l,c=tc.getPartIndex(s);return i-tc.getCharIndex(s)<=(l=c!==tc.getPartIndex(a)?t:tc.getCharIndex(a))-i?r:o}}class ic{constructor(e,t,i){this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=i}}function nc(e,t){if(0===e.lineContent.length){let i=0,n="<span><span></span></span>";if(e.lineDecorations.length>0){const t=[],r=[];for(let n=0,o=e.lineDecorations.length;n<o;n++){const o=e.lineDecorations[n];1===o.type&&(t.push(e.lineDecorations[n].className),i|=1),2===o.type&&(r.push(e.lineDecorations[n].className),i|=2)}if(0!==i){n=`<span>${t.length>0?`<span class="${t.join(" ")}"></span>`:""}${r.length>0?`<span class="${r.join(" ")}"></span>`:""}</span>`}}return t.appendASCIIString(n),new ic(new tc(0,0),!1,i)}return function(e,t){const i=e.fontIsMonospace,n=e.canUseHalfwidthRightwardsArrow,r=e.containsForeignElements,o=e.lineContent,s=e.len,a=e.isOverflowing,l=e.parts,c=e.fauxIndentLength,h=e.tabSize,u=e.startVisibleColumn,d=e.containsRTL,f=e.spaceWidth,p=e.renderSpaceCharCode,m=e.renderWhitespace,g=e.renderControlCharacters,v=new tc(s+1,l.length);let b=0,_=u,y=0,w=0,C=0,S=0;d?t.appendASCIIString('<span dir="ltr">'):t.appendASCIIString("<span>");for(let e=0,s=l.length;e<s;e++){S+=C;const s=l[e],a=s.endIndex,u=s.type,d=0!==m&&s.isWhitespace(),x=d&&!i&&("mtkw"===u||!r),k=b===a&&4===s.metadata;if(y=0,t.appendASCIIString('<span class="'),t.appendASCIIString(x?"mtkz":u),t.appendASCII(34),d){let i=0;{let e=b,t=_;for(;e<a;e++){const n=o.charCodeAt(e),r=0|(9===n?h-t%h:1);i+=r,e>=c&&(t+=r)}}for(x&&(t.appendASCIIString(' style="width:'),t.appendASCIIString(String(f*i)),t.appendASCIIString('px"')),t.appendASCII(62);b<a;b++){v.setPartData(b,e-w,y,S),w=0;const i=o.charCodeAt(b);let r;if(9===i){r=h-_%h|0,!n||r>1?t.write1(8594):t.write1(65515);for(let e=2;e<=r;e++)t.write1(160)}else r=1,t.write1(p);y+=r,b>=c&&(_+=r)}C=i}else{let i=0;for(t.appendASCII(62);b<a;b++){v.setPartData(b,e-w,y,S),w=0;const n=o.charCodeAt(b);let r=1,s=1;switch(n){case 9:s=r=h-_%h;for(let e=1;e<=r;e++)t.write1(160);break;case 32:t.write1(160);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:t.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:t.write1(65533);break;default:hr.C(n)&&s++,g&&n<32?t.write1(9216+n):t.write1(n)}y+=r,i+=r,b>=c&&(_+=s)}C=i}k?w++:w=0,t.appendASCIIString("</span>")}v.setPartData(s,l.length-1,y,S),a&&t.appendASCIIString("<span>&hellip;</span>");return t.appendASCIIString("</span>"),new ic(v,d,r)}(function(e){const t=e.lineContent;let i,n;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<t.length?(i=!0,n=e.stopRenderingLineAfter):(i=!1,n=t.length);let r=function(e,t,i){let n=[],r=0;t>0&&(n[r++]=new Ql(t,"",0));for(let o=0,s=e.getCount();o<s;o++){const s=e.getEndOffset(o);if(s<=t)continue;const a=e.getClassName(o);if(s>=i){n[r++]=new Ql(i,a,0);break}n[r++]=new Ql(s,a,0)}return n}(e.lineTokens,e.fauxIndentLength,n);(4===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine||3===e.renderWhitespace)&&(r=function(e,t,i,n){const r=e.continuesWithWrappedLine,o=e.fauxIndentLength,s=e.tabSize,a=e.startVisibleColumn,l=e.useMonospaceOptimizations,c=e.selectionsOnLine,h=1===e.renderWhitespace,u=3===e.renderWhitespace,d=e.renderSpaceWidth!==e.spaceWidth;let f=[],p=0,m=0,g=n[m].type,v=n[m].endIndex;const b=n.length;let _,y=!1,w=hr.u(t);-1===w?(y=!0,w=i,_=i):_=hr.H(t);let C=!1,S=0,x=c&&c[S],k=a%s;for(let e=o;e<i;e++){const r=t.charCodeAt(e);let a;if(x&&e>=x.endOffset&&(S++,x=c&&c[S]),e<w||e>_)a=!0;else if(9===r)a=!0;else if(32===r)if(h)if(C)a=!0;else{const n=e+1<i?t.charCodeAt(e+1):0;a=32===n||9===n}else a=!0;else a=!1;if(a&&c&&(a=!!x&&x.startOffset<=e&&x.endOffset>e),a&&u&&(a=y||e>_),C){if(!a||!l&&k>=s){if(d){const t=p>0?f[p-1].endIndex:o;for(let i=t+1;i<=e;i++)f[p++]=new Ql(i,"mtkw",1)}else f[p++]=new Ql(e,"mtkw",1);k%=s}}else(e===v||a&&e>o)&&(f[p++]=new Ql(e,g,0),k%=s);for(9===r?k=s:hr.C(r)?k+=2:k++,C=a;e===v;)++m<b&&(g=n[m].type,v=n[m].endIndex)}let L=!1;if(C)if(r&&h){let e=i>0?t.charCodeAt(i-1):0,n=i>1?t.charCodeAt(i-2):0,r=32===e&&32!==n&&9!==n;r||(L=!0)}else L=!0;if(L)if(d){const e=p>0?f[p-1].endIndex:o;for(let t=e+1;t<=i;t++)f[p++]=new Ql(t,"mtkw",1)}else f[p++]=new Ql(i,"mtkw",1);else f[p++]=new Ql(i,g,0);return f}(e,t,n,r));let o=0;if(e.lineDecorations.length>0){for(let t=0,i=e.lineDecorations.length;t<i;t++){const i=e.lineDecorations[t];3===i.type?o|=1:1===i.type?o|=1:2===i.type&&(o|=2)}r=function(e,t,i,n){n.sort(Gl.compare);const r=Zl.normalize(e,n),o=r.length;let s=0,a=[],l=0,c=0;for(let e=0,t=i.length;e<t;e++){const t=i[e],n=t.endIndex,h=t.type,u=t.metadata;for(;s<o&&r[s].startOffset<n;){const e=r[s];if(e.startOffset>c&&(c=e.startOffset,a[l++]=new Ql(c,h,u)),!(e.endOffset+1<=n)){c=n,a[l++]=new Ql(c,h+" "+e.className,u|e.metadata);break}c=e.endOffset+1,a[l++]=new Ql(c,h+" "+e.className,u|e.metadata),s++}n>c&&(c=n,a[l++]=new Ql(c,h,u))}const h=i[i.length-1].endIndex;if(s<o&&r[s].startOffset===h){let e=[],t=0;for(;s<o&&r[s].startOffset===h;)e.push(r[s].className),t|=r[s].metadata,s++;a[l++]=new Ql(c,e.join(" "),t)}return a}(t,0,r,e.lineDecorations)}e.containsRTL||(r=function(e,t,i){let n=0,r=[],o=0;if(i)for(let i=0,s=t.length;i<s;i++){const s=t[i],a=s.endIndex;if(n+50<a){const t=s.type,i=s.metadata;let l=-1,c=n;for(let s=n;s<a;s++)32===e.charCodeAt(s)&&(l=s),-1!==l&&s-c>=50&&(r[o++]=new Ql(l+1,t,i),c=l+1,l=-1);c!==a&&(r[o++]=new Ql(a,t,i))}else r[o++]=s;n=a}else for(let e=0,i=t.length;e<i;e++){const i=t[e],s=i.endIndex;let a=s-n;if(a>50){const e=i.type,t=i.metadata,l=Math.ceil(a/50);for(let i=1;i<l;i++){let s=n+50*i;r[o++]=new Ql(s,e,t)}r[o++]=new Ql(s,e,t)}else r[o++]=i;n=s}return r}(t,r,!e.isBasicASCII||e.fontLigatures));return new sc(e.useMonospaceOptimizations,e.canUseHalfwidthRightwardsArrow,t,n,i,r,o,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.renderSpaceCharCode,e.renderWhitespace,e.renderControlCharacters)}(e),t)}class rc{constructor(e,t,i,n){this.characterMapping=e,this.html=t,this.containsRTL=i,this.containsForeignElements=n}}function oc(e){let t=La(1e4),i=nc(e,t);return new rc(i.characterMapping,t.build(),i.containsRTL,i.containsForeignElements)}class sc{constructor(e,t,i,n,r,o,s,a,l,c,h,u,d,f,p){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=i,this.len=n,this.isOverflowing=r,this.parts=o,this.containsForeignElements=s,this.fauxIndentLength=a,this.tabSize=l,this.startVisibleColumn=c,this.containsRTL=h,this.spaceWidth=u,this.renderSpaceCharCode=d,this.renderWhitespace=f,this.renderControlCharacters=p}}class ac{constructor(e,t,i,n){this.top=0|e,this.left=0|t,this.width=0|i,this.height=0|n}}class lc{constructor(e,t){this.tabSize=e,this.data=t}}class cc{constructor(e,t,i,n,r,o){this.content=e,this.continuesWithWrappedLine=t,this.minColumn=i,this.maxColumn=n,this.startVisibleColumn=r,this.tokens=o}}class hc{constructor(e,t,i,n,r,o,s,a,l,c){this.minColumn=e,this.maxColumn=t,this.content=i,this.continuesWithWrappedLine=n,this.isBasicASCII=hc.isBasicASCII(i,o),this.containsRTL=hc.containsRTL(i,this.isBasicASCII,r),this.tokens=s,this.inlineDecorations=a,this.tabSize=l,this.startVisibleColumn=c}static isBasicASCII(e,t){return!t||hr.z(e)}static containsRTL(e,t,i){return!(t||!i)&&hr.l(e)}}class uc{constructor(e,t,i){this.range=e,this.inlineClassName=t,this.type=i}}class dc{constructor(e,t){this.range=e,this.options=t}}function fc(e){return!function(e){return Array.isArray(e)}(e)}function pc(e){return"string"==typeof e}function mc(e){return!pc(e)}function gc(e){return!e}function vc(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function bc(e){return e.replace(/[&<>'"_]/g,"-")}function _c(e,t){return new Error(`${e.languageId}: ${t}`)}function yc(e,t,i,n,r){let o=null;return t.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(t,s,a,l,c,h,u,d,f){return gc(a)?gc(l)?!gc(c)&&c<n.length?vc(e,n[c]):!gc(u)&&e&&"string"==typeof e[u]?e[u]:(null===o&&(o=r.split(".")).unshift(r),!gc(h)&&h<o.length?vc(e,o[h]):""):vc(e,i):"$"})}function wc(e,t){let i=t;for(;i&&i.length>0;){const t=e.tokenizer[i];if(t)return t;const n=i.lastIndexOf(".");i=n<0?null:i.substr(0,n)}return null}class Cc{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new Sc(e,t);let i=Sc.getStackElementId(e);i.length>0&&(i+="|"),i+=t;let n=this._entries[i];return n||(n=new Sc(e,t),this._entries[i]=n,n)}}Cc._INSTANCE=new Cc(5);class Sc{constructor(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(e){let t="";for(;null!==e;)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t}static _equals(e,t){for(;null!==e&&null!==t;){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t}equals(e){return Sc._equals(this,e)}push(e){return Cc.create(this,e)}pop(){return this.parent}popall(){let e=this;for(;e.parent;)e=e.parent;return e}switchTo(e){return Cc.create(this.parent,e)}}class xc{constructor(e,t){this.modeId=e,this.state=t}equals(e){return this.modeId===e.modeId&&this.state.equals(e.state)}clone(){return this.state.clone()===this.state?this:new xc(this.modeId,this.state)}}class kc{constructor(e){this._maxCacheDepth=e,this._entries=Object.create(null)}static create(e,t){return this._INSTANCE.create(e,t)}create(e,t){if(null!==t)return new Lc(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new Lc(e,t);let i=Sc.getStackElementId(e),n=this._entries[i];return n||(n=new Lc(e,null),this._entries[i]=n,n)}}kc._INSTANCE=new kc(5);class Lc{constructor(e,t){this.stack=e,this.embeddedModeData=t}clone(){return(this.embeddedModeData?this.embeddedModeData.clone():null)===this.embeddedModeData?this:kc.create(this.stack,this.embeddedModeData)}equals(e){return e instanceof Lc&&(!!this.stack.equals(e.stack)&&(null===this.embeddedModeData&&null===e.embeddedModeData||null!==this.embeddedModeData&&null!==e.embeddedModeData&&this.embeddedModeData.equals(e.embeddedModeData)))}}class Dc{constructor(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterMode(e,t){this._language=t}emit(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new vt(e,t,this._language)))}nestedModeTokenize(e,t,i){const n=t.modeId,r=t.state,o=na.get(n);if(!o)return this.enterMode(i,n),this.emit(i,""),r;let s=o.tokenize(e,r,i);return this._tokens=this._tokens.concat(s.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,s.endState}finalize(e){return new bt(this._tokens,e)}}class Ec{constructor(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterMode(e,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id}emit(e,t){let i=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==i&&(this._lastTokenMetadata=i,this._tokens.push(e),this._tokens.push(i))}static _merge(e,t,i){let n=null!==e?e.length:0,r=t.length,o=null!==i?i.length:0;if(0===n&&0===r&&0===o)return new Uint32Array(0);if(0===n&&0===r)return i;if(0===r&&0===o)return e;let s=new Uint32Array(n+r+o);null!==e&&s.set(e);for(let e=0;e<r;e++)s[n+e]=t[e];return null!==i&&s.set(i,n+r),s}nestedModeTokenize(e,t,i){const n=t.modeId,r=t.state,o=na.get(n);if(!o)return this.enterMode(i,n),this.emit(i,""),r;let s=o.tokenize2(e,r,i);return this._prependTokens=Ec._merge(this._prependTokens,this._tokens,s.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,s.endState}finalize(e){return new _t(Ec._merge(this._prependTokens,this._tokens,null),e)}}class Nc{constructor(e,t,i,n){this._modeService=e,this._standaloneThemeService=t,this._modeId=i,this._lexer=n,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let r=!1;this._tokenizationRegistryListener=na.onDidChange(e=>{if(r)return;let t=!1;for(let i=0,n=e.changedLanguages.length;i<n;i++){let n=e.changedLanguages[i];if(this._embeddedModes[n]){t=!0;break}}t&&(r=!0,na.fire([this._modeId]),r=!1)})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){let e=[];for(let t in this._embeddedModes){const i=na.get(t);if(i){if(i instanceof Nc){const t=i.getLoadStatus();!1===t.loaded&&e.push(t.promise)}continue}const n=na.getPromise(t);n&&e.push(n)}return 0===e.length?{loaded:!0}:{loaded:!1,promise:Promise.all(e).then(e=>void 0)}}getInitialState(){let e=Cc.create(null,this._lexer.start);return kc.create(e,null)}tokenize(e,t,i){let n=new Dc,r=this._tokenize(e,t,i,n);return n.finalize(r)}tokenize2(e,t,i){let n=new Ec(this._modeService,this._standaloneThemeService.getColorTheme().tokenTheme),r=this._tokenize(e,t,i,n);return n.finalize(r)}_tokenize(e,t,i,n){return t.embeddedModeData?this._nestedTokenize(e,t,i,n):this._myTokenize(e,t,i,n)}_findLeavingNestedModeOffset(e,t){let i=this._lexer.tokenizer[t.stack.state];if(!i&&!(i=wc(this._lexer,t.stack.state)))throw _c(this._lexer,"tokenizer state is not defined: "+t.stack.state);let n=-1,r=!1;for(const t of i){if(!mc(t.action)||"@pop"!==t.action.nextEmbedded)continue;r=!0;let i=t.regex,o=t.regex.source;if("^(?:"===o.substr(0,4)&&")"===o.substr(o.length-1,1)){let e=(i.ignoreCase?"i":"")+(i.unicode?"u":"");i=new RegExp(o.substr(4,o.length-5),e)}let s=e.search(i);-1===s||0!==s&&t.matchOnlyAtLineStart||(-1===n||s<n)&&(n=s)}if(!r)throw _c(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return n}_nestedTokenize(e,t,i,n){let r=this._findLeavingNestedModeOffset(e,t);if(-1===r){let r=n.nestedModeTokenize(e,t.embeddedModeData,i);return kc.create(t.stack,new xc(t.embeddedModeData.modeId,r))}let o=e.substring(0,r);o.length>0&&n.nestedModeTokenize(o,t.embeddedModeData,i);let s=e.substring(r);return this._myTokenize(s,t,i+r,n)}_safeRuleName(e){return e?e.name:"(unknown)"}_myTokenize(e,t,i,n){n.enterMode(i,this._modeId);const r=e.length;let o=t.embeddedModeData,s=t.stack,a=0,l=null,c=!0;for(;c||a<r;){const t=a,d=s.depth,f=l?l.groups.length:0,p=s.state;let m=null,g=null,v=null,b=null,_=null;if(l){m=l.matches;const e=l.groups.shift();g=e.matched,v=e.action,b=l.rule,0===l.groups.length&&(l=null)}else{if(!c&&a>=r)break;c=!1;let t=this._lexer.tokenizer[p];if(!t&&!(t=wc(this._lexer,p)))throw _c(this._lexer,"tokenizer state is not defined: "+p);let i=e.substr(a);for(const e of t)if((0===a||!e.matchOnlyAtLineStart)&&(m=i.match(e.regex))){g=m[0],v=e.action;break}}if(m||(m=[""],g=""),v||(a<r&&(g=(m=[e.charAt(a)])[0]),v=this._lexer.defaultToken),null===g)break;for(a+=g.length;fc(v)&&mc(v)&&v.test;)v=v.test(g,m,p,a===r);let y=null;if("string"==typeof v||Array.isArray(v))y=v;else if(v.group)y=v.group;else if(null!==v.token&&void 0!==v.token){if(y=v.tokenSubst?yc(this._lexer,v.token,g,m,p):v.token,v.nextEmbedded)if("@pop"===v.nextEmbedded){if(!o)throw _c(this._lexer,"cannot pop embedded mode if not inside one");o=null}else{if(o)throw _c(this._lexer,"cannot enter embedded mode from within an embedded mode");_=yc(this._lexer,v.nextEmbedded,g,m,p)}if(v.goBack&&(a=Math.max(0,a-v.goBack)),v.switchTo&&"string"==typeof v.switchTo){let e=yc(this._lexer,v.switchTo,g,m,p);if("@"===e[0]&&(e=e.substr(1)),!wc(this._lexer,e))throw _c(this._lexer,"trying to switch to a state '"+e+"' that is undefined in rule: "+this._safeRuleName(b));s=s.switchTo(e)}else{if(v.transform&&"function"==typeof v.transform)throw _c(this._lexer,"action.transform not supported");if(v.next)if("@push"===v.next){if(s.depth>=this._lexer.maxStack)throw _c(this._lexer,"maximum tokenizer stack size reached: ["+s.state+","+s.parent.state+",...]");s=s.push(p)}else if("@pop"===v.next){if(s.depth<=1)throw _c(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(b));s=s.pop()}else if("@popall"===v.next)s=s.popall();else{let e=yc(this._lexer,v.next,g,m,p);if("@"===e[0]&&(e=e.substr(1)),!wc(this._lexer,e))throw _c(this._lexer,"trying to set a next state '"+e+"' that is undefined in rule: "+this._safeRuleName(b));s=s.push(e)}}v.log&&"string"==typeof v.log&&(h=this._lexer,u=this._lexer.languageId+": "+yc(this._lexer,v.log,g,m,p),console.log(`${h.languageId}: ${u}`))}if(null===y)throw _c(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(b));const w=t=>{let o=this._modeService.getModeIdForLanguageName(t);o&&(t=o);const l=this._getNestedEmbeddedModeData(t);if(a<r){const t=e.substr(a);return this._nestedTokenize(t,kc.create(s,l),i+a,n)}return kc.create(s,l)};if(Array.isArray(y)){if(l&&l.groups.length>0)throw _c(this._lexer,"groups cannot be nested: "+this._safeRuleName(b));if(m.length!==y.length+1)throw _c(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(b));let e=0;for(let t=1;t<m.length;t++)e+=m[t].length;if(e!==g.length)throw _c(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(b));l={rule:b,matches:m,groups:[]};for(let e=0;e<y.length;e++)l.groups[e]={action:y[e],matched:m[e+1]};a-=g.length}else{{if("@rematch"===y&&(a-=g.length,g="",m=null,y="",null!==_))return w(_);if(0===g.length){if(0===r||d!==s.depth||p!==s.state||(l?l.groups.length:0)!==f)continue;throw _c(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(b))}let e=null;if(pc(y)&&0===y.indexOf("@brackets")){let t=y.substr("@brackets".length),i=Tc(this._lexer,g);if(!i)throw _c(this._lexer,"@brackets token returned but no bracket defined as: "+g);e=bc(i.token+t)}else{e=bc(""===y?"":y+this._lexer.tokenPostfix)}n.emit(t+i,e)}if(null!==_)return w(_)}}var h,u;return kc.create(s,o)}_getNestedEmbeddedModeData(e){let t=this._locateMode(e);if(t){let e=na.get(t);if(e)return new xc(t,e.getInitialState())}return new xc(t||oa,ra)}_locateMode(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._modeId)return e;let t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t}}function Tc(e,t){if(!t)return null;t=vc(e,t);let i=e.brackets;for(const e of i){if(e.open===t)return{token:e.token,bracketType:1};if(e.close===t)return{token:e.token,bracketType:-1}}return null}class Oc{static colorizeElement(e,t,i,n){let r=(n=n||{}).theme||"vs",o=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!o)return console.error("Mode not detected"),Promise.resolve();e.setTheme(r);let s=i.firstChild?i.firstChild.nodeValue:"";i.className+=" "+r;return this.colorize(t,s||"",o,n).then(e=>{i.innerHTML=e},e=>console.error(e))}static colorize(e,t,i,n){let r=4;n&&"number"==typeof n.tabSize&&(r=n.tabSize),hr.R(t)&&(t=t.substr(1));let o=t.split(/\r\n|\r|\n/),s=e.getModeId(i);if(!s)return Promise.resolve(Ic(o,r));e.triggerMode(s);const a=na.get(s);if(a)return Mc(o,r,a);const l=na.getPromise(s);return l?new Promise((e,t)=>{l.then(i=>{Mc(o,r,i).then(e,t)},t)}):new Promise((e,t)=>{let i=null,n=null;const a=()=>{i&&(i.dispose(),i=null),n&&(n.dispose(),n=null);const a=na.get(s);a?Mc(o,r,a).then(e,t):e(Ic(o,r))};(n=new Ri).cancelAndSet(a,500),i=na.onDidChange(e=>{e.changedLanguages.indexOf(s)>=0&&a()})})}static colorizeLine(e,t,i,n,r=4){const o=hc.isBasicASCII(e,t),s=hc.containsRTL(e,o,i);return oc(new ec(!1,!0,e,!1,o,s,0,n,[],r,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(e,t,i=4){let n=e.getLineContent(t);e.forceTokenization(t);let r=e.getLineTokens(t).inflate();return this.colorizeLine(n,e.mightContainNonBasicASCII(),e.mightContainRTL(),r,i)}}function Mc(e,t,i){return new Promise((n,r)=>{const o=()=>{const s=function(e,t,i){let n=[],r=i.getInitialState();for(let o=0,s=e.length;o<s;o++){let s=e[o],a=i.tokenize2(s,r,0);Kl.convertToEndOffset(a.tokens,s.length);let l=new Kl(a.tokens,s);const c=hc.isBasicASCII(s,!0),h=hc.containsRTL(s,c,!0);let u=oc(new ec(!1,!0,s,!1,c,h,0,l.inflate(),[],t,0,0,0,0,-1,"none",!1,!1,null));(n=n.concat(u.html)).push("<br/>"),r=a.endState}return n.join("")}(e,t,i);if(i instanceof Nc){const e=i.getLoadStatus();if(!1===e.loaded)return void e.promise.then(o,r)}n(s)};o()})}function Ic(e,t){let i=[];const n=new Uint32Array(2);n[0]=0,n[1]=16793600;for(let r=0,o=e.length;r<o;r++){let o=e[r];n[0]=o.length;const s=new Kl(n,o),a=hc.isBasicASCII(o,!0),l=hc.containsRTL(o,a,!0);let c=oc(new ec(!1,!0,o,!1,a,l,0,s,[],t,0,0,0,0,-1,"none",!1,!1,null));(i=i.concat(c.html)).push("<br/>")}return i.join("")}var Ac,Pc;(Pc=Ac||(Ac={}))[Pc.Ignore=0]="Ignore",Pc[Pc.Info=1]="Info",Pc[Pc.Warning=2]="Warning",Pc[Pc.Error=3]="Error",function(e){const t="error",i="warning",n="warn",r="info";e.fromValue=function(o){return o?hr.r(t,o)?e.Error:hr.r(i,o)||hr.r(n,o)?e.Warning:hr.r(r,o)?e.Info:e.Ignore:e.Ignore}}(Ac||(Ac={}));var Rc=Ac;function Fc(e){return!(!e||"function"!=typeof e.getEditorType)&&e.getEditorType()===to.ICodeEditor}const Vc=oi("IWorkspaceEditService");class Bc{constructor(e){this.metadata=e}static convert(e){return e.edits.map(e=>{if(yr(t=e)&&rt.isUri(t.resource)&&yr(t.edit))return new Wc(e.resource,e.edit,e.modelVersionId,e.metadata);if(function(e){return yr(e)&&(Boolean(e.newUri)||Boolean(e.oldUri))}(e))return new $c(e.oldUri,e.newUri,e.options,e.metadata);throw new Error("Unsupported edit")});var t}}class Wc extends Bc{constructor(e,t,i,n){super(n),this.resource=e,this.textEdit=t,this.versionId=i,this.metadata=n}}class $c extends Bc{constructor(e,t,i,n){super(n),this.oldResource=e,this.newResource=t,this.options=i,this.metadata=n}}const zc=new class{constructor(){this.data=new Map}add(e,t){zr(_r(e)),zr(yr(t)),zr(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)}as(e){return this.data.get(e)||null}},Hc="base.contributions.json";const jc=new class{constructor(){this._onDidChangeSchema=new ce,this.schemasById={}}registerSchema(e,t){var i;this.schemasById[(i=e,i.length>0&&"#"===i.charAt(i.length-1)?i.substring(0,i.length-1):i)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};zc.add(Hc,jc);const Uc={Configuration:"base.contributions.configuration"},Kc={properties:{},patternProperties:{}},qc={properties:{},patternProperties:{}},Gc={properties:{},patternProperties:{}},Yc={properties:{},patternProperties:{}},Xc={properties:{},patternProperties:{}},Zc={properties:{},patternProperties:{}},Qc="vscode://schemas/settings/resourceLanguage",Jc=zc.as(Hc);const eh=new RegExp("\\[.*\\]$");const th=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new ce,this._onDidUpdateConfiguration=new ce,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:n(0,"Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},Jc.registerSchema(Qc,this.resourceLanguageSettingsSchema)}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=[];e.forEach(e=>{i.push(...this.validateAndRegisterProperties(e,t)),this.configurationContributors.push(e),this.registerJSONConfiguration(e)}),Jc.registerSchema(Qc,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(i)}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(e,t=!0,i=3){i=xr(e.scope)?i:e.scope;let n=[],r=e.properties;if(r)for(let e in r){if(t&&ih(e)){delete r[e];continue}const o=r[e];this.updatePropertyDefaultValue(e,o),eh.test(e)?o.scope=void 0:o.scope=xr(o.scope)?i:o.scope,!r[e].hasOwnProperty("included")||r[e].included?(this.configurationProperties[e]=r[e],!r[e].deprecationMessage&&r[e].markdownDeprecationMessage&&(r[e].deprecationMessage=r[e].markdownDeprecationMessage),n.push(e)):(this.excludedConfigurationProperties[e]=r[e],delete r[e])}let o=e.allOf;if(o)for(let e of o)n.push(...this.validateAndRegisterProperties(e,t,i));return n}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){const t=e=>{let i=e.properties;if(i)for(const e in i)this.updateSchema(e,i[e]);let n=e.allOf;n&&n.forEach(t)};t(e)}updateSchema(e,t){switch(Kc.properties[e]=t,t.scope){case 1:qc.properties[e]=t;break;case 2:Gc.properties[e]=t;break;case 6:Yc.properties[e]=t;break;case 3:Xc.properties[e]=t;break;case 4:Zc.properties[e]=t;break;case 5:Zc.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:n(0,"Configure editor settings to be overridden for a language."),errorMessage:n(0,"This setting does not support per-language configuration."),$ref:Qc};this.updatePropertyDefaultValue(t,i),Kc.properties[t]=i,qc.properties[t]=i,Gc.properties[t]=i,Yc.properties[t]=i,Xc.properties[t]=i,Zc.properties[t]=i}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let i=this.defaultValues[e];Sr(i)&&(i=t.default),Sr(i)&&(i=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=i}};function ih(e){return eh.test(e)?n(0,"Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==th.getConfigurationProperties()[e]?n(0,"Cannot register '{0}'. This property is already registered.",e):null}zc.add(Uc.Configuration,th);const nh=Object.prototype.hasOwnProperty;class rh{constructor(){this.map=new Map}add(e,t){let i=this.map.get(e);i||(i=new Set,this.map.set(e,i)),i.add(t)}delete(e,t){const i=this.map.get(e);i&&(i.delete(t),0===i.size&&this.map.delete(e))}forEach(e,t){const i=this.map.get(e);i&&i.forEach(t)}}const oh=new class{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new ce,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))}},sh=Object.hasOwnProperty;class ah{constructor(){this._values=[]}_read(e){return this._values[e]}get(e){return this._values[e]}_write(e,t){this._values[e]=t}}class lh{constructor(){this._values=[]}_read(e){return this._values[e]}_write(e,t){this._values[e]=t}}class ch{static readOptions(e){const t=e,i=new lh;for(const e of F){const n="_never_"===e.name?void 0:t[e.name];i._write(e.id,n)}return i}static validateOptions(e){const t=new f;for(const i of F)t._write(i.id,i.validate(e._read(i.id)));return t}static computeOptions(e,t){const i=new ah;for(const n of F)i._write(n.id,n.compute(t,i,e._read(n.id)));return i}static _deepEquals(e,t){if("object"!=typeof e||"object"!=typeof t)return e===t;if(Array.isArray(e)||Array.isArray(t))return!(!Array.isArray(e)||!Array.isArray(t))&&$i(e,t);for(let i in e)if(!ch._deepEquals(e[i],t[i]))return!1;return!0}static checkEquals(e,t){const i=[];let n=!1;for(const r of F){const o=!ch._deepEquals(e._read(r.id),t._read(r.id));i[r.id]=o,o&&(n=!0)}return n?new d(i):null}}function hh(e){const t=e.wordWrap;!0===t?e.wordWrap="on":!1===t&&(e.wordWrap="off");const i=e.lineNumbers;!0===i?e.lineNumbers="on":!1===i&&(e.lineNumbers="off"),!1===e.autoClosingBrackets&&(e.autoClosingBrackets="never",e.autoClosingQuotes="never",e.autoSurround="never"),"visible"===e.cursorBlinking&&(e.cursorBlinking="solid");const n=e.renderWhitespace;!0===n?e.renderWhitespace="boundary":!1===n&&(e.renderWhitespace="none");const r=e.renderLineHighlight;!0===r?e.renderLineHighlight="line":!1===r&&(e.renderLineHighlight="none");const o=e.acceptSuggestionOnEnter;!0===o?e.acceptSuggestionOnEnter="on":!1===o&&(e.acceptSuggestionOnEnter="off");const s=e.tabCompletion;!1===s?e.tabCompletion="off":!0===s&&(e.tabCompletion="onlySnippets");const a=e.suggest;if(a&&"object"==typeof a.filteredTypes&&a.filteredTypes){const e={method:"showMethods",function:"showFunctions",constructor:"showConstructors",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};(function(e,t){for(let i in e)if(nh.call(e,i)&&!1===t({key:i,value:e[i]},function(){delete e[i]}))return})(e,e=>{const t=a.filteredTypes[e.key];!1===t&&(a[e.value]=t)})}const l=e.hover;!0===l?e.hover={enabled:!0}:!1===l&&(e.hover={enabled:!1});const c=e.parameterHints;!0===c?e.parameterHints={enabled:!0}:!1===c&&(e.parameterHints={enabled:!1});const h=e.autoIndent;!0===h?e.autoIndent="full":!1===h&&(e.autoIndent="advanced");const u=e.matchBrackets;!0===u?e.matchBrackets="always":!1===u&&(e.matchBrackets="never")}function uh(e){const t=Hr(e);return hh(t),t}class dh extends ne{constructor(e,t){super(),this._onDidChange=this._register(new ce),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new ce),this.onDidChangeFast=this._onDidChangeFast.event,this.isSimpleWidget=e,this._isDominatedByLongLines=!1,this._computeOptionsMemory=new p,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._rawOptions=uh(t),this._readOptions=ch.readOptions(this._rawOptions),this._validatedOptions=ch.validateOptions(this._readOptions),this._register(Xr.onDidChangeZoomLevel(e=>this._recomputeOptions())),this._register(oh.onDidChangeTabFocus(e=>this._recomputeOptions()))}observeReferenceElement(e){}dispose(){super.dispose()}_recomputeOptions(){const e=this.options,t=this._computeInternalOptions();if(e){const i=ch.checkEquals(e,t);if(null===i)return;this.options=t,this._onDidChangeFast.fire(i),this._onDidChange.fire(i)}else this.options=t}getRawOptions(){return this._rawOptions}_computeInternalOptions(){const e=this._getEnvConfiguration(),t=Jr.createFromValidatedSettings(this._validatedOptions,e.zoomLevel,this.isSimpleWidget),i={memory:this._computeOptionsMemory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,fontInfo:this.readConfiguration(t),extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:oh.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return ch.computeOptions(this._validatedOptions,i)}static _subsetEquals(e,t){for(const i in t)if(sh.call(t,i)){const n=t[i],r=e[i];if(r===n)continue;if(Array.isArray(r)&&Array.isArray(n)){if(!$i(r,n))return!1;continue}if(r&&"object"==typeof r&&n&&"object"==typeof n){if(!this._subsetEquals(r,n))return!1;continue}return!1}return!0}updateOptions(e){if(void 0===e)return;const t=uh(e);dh._subsetEquals(this._rawOptions,t)||(this._rawOptions=Ur(this._rawOptions,t||{}),this._readOptions=ch.readOptions(this._rawOptions),this._validatedOptions=ch.validateOptions(this._readOptions),this._recomputeOptions())}setIsDominatedByLongLines(e){this._isDominatedByLongLines=e,this._recomputeOptions()}setMaxLineNumber(e){const t=dh._digitCount(e);this._lineNumbersDigitCount!==t&&(this._lineNumbersDigitCount=t,this._recomputeOptions())}setViewLineCount(e){this._viewLineCount!==e&&(this._viewLineCount=e,this._recomputeOptions())}static _digitCount(e){let t=0;for(;e;)e=Math.floor(e/10),t++;return t||1}}const fh=Object.freeze({id:"editor",order:5,type:"object",title:n(0,"Editor"),scope:5}),ph=zc.as(Uc.Configuration),mh=Object.assign(Object.assign({},fh),{properties:{"editor.tabSize":{type:"number",default:O,minimum:1,markdownDescription:n(0,"The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:I,markdownDescription:n(0,"Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:A,markdownDescription:n(0,"Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:P,description:n(0,"Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:R,description:n(0,"Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:n(0,"Controls whether completions should be computed based on words in the document.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[n(0,"Semantic highlighting enabled for all color themes."),n(0,"Semantic highlighting disabled for all color themes."),n(0,"Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:n(0,"Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:n(0,"Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:n(0,"Lines above this length will not be tokenized for performance reasons")},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:n(0,"Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:n(0,"Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:n(0,"When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:n(0,"Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:n(0,"Controls whether the editor shows CodeLens.")}}});for(const e of F){const t=e.schema;if(void 0!==t)if(void 0!==(gh=t).type||void 0!==gh.anyOf)mh.properties[`editor.${e.name}`]=t;else for(let e in t)sh.call(t,e)&&(mh.properties[e]=t[e])}var gh;let vh=null;function bh(){return null===vh&&(vh=Object.create(null),Object.keys(mh.properties).forEach(e=>{vh[e]=!0})),vh}ph.registerConfiguration(mh);class _h{static insert(e,t){return{range:new mt(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}const yh=oi("configurationService");function wh(e,t){const i=Object.create(null);for(let n in e)Ch(i,n,e[n],t);return i}function Ch(e,t,i,n){const r=t.split("."),o=r.pop();let s=e;for(let e=0;e<r.length;e++){let i=r[e],o=s[i];switch(typeof o){case"undefined":o=s[i]=Object.create(null);break;case"object":break;default:return void n(`Ignoring ${t} as ${r.slice(0,e+1).join(".")} is ${JSON.stringify(o)}`)}s=o}if("object"==typeof s&&null!==s)try{s[o]=i}catch(e){n(`Ignoring ${t} as ${r.join(".")} is ${JSON.stringify(s)}`)}else n(`Ignoring ${t} as ${r.join(".")} is ${JSON.stringify(s)}`)}function Sh(e,t){!function e(t,i){const n=i.shift();if(0===i.length)return void delete t[n];if(-1!==Object.keys(t).indexOf(n)){const r=t[n];"object"!=typeof r||Array.isArray(r)||(e(r,i),0===Object.keys(r).length&&delete t[n])}}(e,t.split("."))}class xh{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?function(e,t,i){const n=function(e,t){let i=e;for(const e of t){if("object"!=typeof i||null===i)return;i=i[e]}return i}(e,t.split("."));return void 0===n?i:n}(this.contents,e):this.contents}override(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!=typeof t||!Object.keys(t).length)return this;let i={};for(const e of ji([...Object.keys(this.contents),...Object.keys(t)])){let n=this.contents[e],r=t[e];r&&("object"==typeof n&&"object"==typeof r?(n=Hr(n),this.mergeContents(n,r)):n=r),i[e]=n}return new xh(i,this.keys,this.overrides)}merge(...e){const t=Hr(this.contents),i=Hr(this.overrides),n=[...this.keys];for(const r of e){this.mergeContents(t,r.contents);for(const e of r.overrides){const[t]=i.filter(t=>$i(t.identifiers,e.identifiers));t?this.mergeContents(t.contents,e.contents):i.push(Hr(e))}for(const e of r.keys)-1===n.indexOf(e)&&n.push(e)}return new xh(t,n,i)}freeze(){return this.isFrozen=!0,this}mergeContents(e,t){for(const i of Object.keys(t))i in e&&yr(e[i])&&yr(t[i])?this.mergeContents(e[i],t[i]):e[i]=Hr(t[i])}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?function(e){if(!e||"object"!=typeof e)return e;const t=[e];for(;t.length>0;){const e=t.shift();Object.freeze(e);for(const i in e)if(jr.call(e,i)){const n=e[i];"object"!=typeof n||Object.isFrozen(n)||t.push(n)}}return e}(e):e}getContentsForOverrideIdentifer(e){for(const t of this.overrides)if(-1!==t.identifiers.indexOf(e))return t.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),Ch(this.contents,e,t,e=>{throw new Error(e)})}removeValue(e){this.removeKey(e)&&Sh(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)0===e.indexOf(this.keys[i])&&(t=i);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)}}class kh extends xh{constructor(){const e=function(){const e=Object.create(null),t=zc.as(Uc.Configuration).getConfigurationProperties();for(let i in t)Ch(e,i,t[i].default,e=>console.error(`Conflict in default settings: ${e}`));return e}(),t=function(){const e=zc.as(Uc.Configuration).getConfigurationProperties();return Object.keys(e)}(),i=[];for(const t of Object.keys(e))eh.test(t)&&i.push({identifiers:[(t=t,t.substring(1,t.length-1)).trim()],keys:Object.keys(e[t]),contents:wh(e[t],e=>console.error(`Conflict in default settings file: ${e}`))});var n;super(e,t,i)}}class Lh{constructor(e,t,i=new xh,n=new xh,r=new lo,o=new xh,s=new lo,a=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=i,this._workspaceConfiguration=n,this._folderConfigurations=r,this._memoryConfiguration=o,this._memoryConfigurationByResource=s,this._freeze=a,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new lo,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidateConfigurationModel(t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource))||(n=new xh,this._memoryConfigurationByResource.set(i.resource,n)):n=this._memoryConfiguration,void 0===t?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(e,t){let i=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?i.override(e.overrideIdentifier):i}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);const r=this._memoryConfigurationByResource.get(e);r&&(i=i.merge(r))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((e,t)=>{const{contents:i,overrides:n,keys:r}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:r}]),e},[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.user),n=this.parseConfigurationModel(e.workspace),r=e.folders.reduce((e,t)=>(e.set(rt.revive(t[0]),this.parseConfigurationModel(t[1])),e),new lo);return new Lh(t,i,new xh,n,r,new xh,new lo,!1)}static parseConfigurationModel(e){return new xh(e.contents,e.keys,e.overrides).freeze()}}class Dh{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._previousConfiguration=void 0;const r=new Set;e.keys.forEach(e=>r.add(e)),e.overrides.forEach(([,e])=>e.forEach(e=>r.add(e))),this.affectedKeys=[...r.values()];const o=new xh;this.affectedKeys.forEach(e=>o.setValue(e,{})),this.affectedKeysTree=o.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Lh.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){return!Kr(this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(i=this.previous)||void 0===i?void 0:i.workspace):void 0,this.currentConfiguraiton.getValue(e,t,this.currentWorkspace))}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i,n=wh({[t]:!0},()=>{});for(;"object"==typeof n&&(i=Object.keys(n)[0]);){if(!(e=e[i]))return!1;n=n[i]}return!0}}class Eh extends ne{constructor(e,t,i,n,r){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=r,this._onDidUpdateKeybindings=this._register(new ce),this._currentChord=null,this._currentChordChecker=new Fi,this._currentChordStatusMessage=null,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:se.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybindings(e){return Hi(this._getResolver().lookupKeybindings(e).map(e=>e.resolvedKeybinding))}lookupKeybinding(e){const t=this._getResolver().lookupPrimaryKeybinding(e);if(t)return t.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){const i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[n]=i.getDispatchParts();if(null===n)return null;const r=this._contextKeyService.getContext(t),o=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(r,o,n)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(n(0,"({0}) was pressed. Waiting for second key of chord...",t));const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-i>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t)}_doDispatch(e,t){let i=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;const[r]=e.getDispatchParts();if(null===r)return this._log("\\ Keyboard event cannot be dispatched."),i;const o=this._contextKeyService.getContext(t),s=this._currentChord?this._currentChord.keypress:null,a=e.getLabel(),l=this._getResolver().resolve(o,s,r);return this._logService.trace("KeybindingService#dispatch",a,null===l||void 0===l?void 0:l.commandId),l&&l.enterChord?(i=!0,this._enterChordMode(r,a),i):(this._currentChord&&(l&&l.commandId||(this._notificationService.status(n(0,"The key combination ({0}, {1}) is not a command.",this._currentChord.label,a),{hideAfter:1e4}),i=!0)),this._leaveChordMode(),l&&l.commandId&&(l.bubble||(i=!0),void 0===l.commandArgs?this._commandService.executeCommand(l.commandId).then(void 0,e=>this._notificationService.warn(e)):this._commandService.executeCommand(l.commandId,l.commandArgs).then(void 0,e=>this._notificationService.warn(e)),this._telemetryService.publicLog2("workbenchActionExecuted",{id:l.commandId,from:"keybinding"})),i)}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}class Nh{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let t=0,i=e.length;t<i;t++){const i=e[t].command;i&&this._defaultBoundCommands.set(i,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Nh.combine(e,t);for(let e=0,t=this._keybindings.length;e<t;e++){let t=this._keybindings[e];0!==t.keypressParts.length&&(t.when&&0===t.when.type||this._addKeyPress(t.keypressParts[0],t))}}static _isTargetedForRemoval(e,t,i,n,r){if(e.command!==n)return!1;if(t&&e.keypressParts[0]!==t)return!1;if(i&&e.keypressParts[1]!==i)return!1;if(r){if(!e.when)return!1;if(!r.equals(e.when))return!1}return!0}static combine(e,t){e=e.slice(0);let i=[];for(const n of t){if(!n.command||0===n.command.length||"-"!==n.command.charAt(0)){i.push(n);continue}const t=n.command.substr(1),r=n.keypressParts[0],o=n.keypressParts[1],s=n.when;for(let i=e.length-1;i>=0;i--)this._isTargetedForRemoval(e[i],r,o,t,s)&&e.splice(i,1)}return e.concat(i)}_addKeyPress(e,t){const i=this._map.get(e);if(void 0===i)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let e=i.length-1;e>=0;e--){let n=i[e];if(n.command===t.command)continue;const r=n.keypressParts.length>1,o=t.keypressParts.length>1;r&&o&&n.keypressParts[1]!==t.keypressParts[1]||Nh.whenIsEntirelyIncluded(n.when,t.when)&&this._removeFromLookupMap(n)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(void 0!==t)for(let i=0,n=t.length;i<n;i++)if(t[i]===e)return void t.splice(i,1)}static whenIsEntirelyIncluded(e,t){return!t||!!e&&this._implies(e,t)}static _implies(e,t){const i=e=>9===e.type?e.expr:[e];let n=i(e.negate()).concat(i(t));for(let e=0;e<n.length;e++){const t=n[e].negate();for(let i=e+1;i<n.length;i++){const e=n[i];if(t.equals(e))return!0}}return!1}getKeybindings(){return this._keybindings}lookupKeybindings(e){let t=this._lookupMap.get(e);if(void 0===t||0===t.length)return[];let i=[],n=0;for(let e=t.length-1;e>=0;e--)i[n++]=t[e];return i}lookupPrimaryKeybinding(e){let t=this._lookupMap.get(e);return void 0===t||0===t.length?null:t[t.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let n=null;if(null!==t){const e=this._map.get(t);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=[];for(let t=0,r=e.length;t<r;t++){let r=e[t];r.keypressParts[1]===i&&n.push(r)}}else{const e=this._map.get(i);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=e}let r=this._findCommand(e,n);return r?null===t&&r.keypressParts.length>1&&null!==r.keypressParts[1]?(this._log(`\\ From ${n.length} keybinding entries, matched chord, when: ${Th(r.when)}, source: ${Oh(r)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${n.length} keybinding entries, matched ${r.command}, when: ${Th(r.when)}, source: ${Oh(r)}.`),{enterChord:!1,leaveChord:r.keypressParts.length>1,commandId:r.command,commandArgs:r.commandArgs,bubble:r.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){let n=t[i];if(Nh.contextMatchesRules(e,n.when))return n}return null}static contextMatchesRules(e,t){return!t||t.evaluate(e)}}function Th(e){return e?`${e.serialize()}`:"no when condition"}function Oh(e){return e.isDefault?e.extensionId?`built-in extension ${e.extensionId}`:"built-in":e.extensionId?`user extension ${e.extensionId}`:"user"}class Mh{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===r.a){if(e&&e.win)return e.win}else if(2===r.a){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=Mh.bindToCurrentPlatform(e);if(t&&t.primary){const i=Ce(t.primary,r.a);i&&this._registerDefaultKeybinding(i,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let i=0,n=t.secondary.length;i<n;i++){const n=Ce(t.secondary[i],r.a);n&&this._registerDefaultKeybinding(n,e.id,e.args,e.weight,-i-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),Or.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||(e>=31&&e<=56||(80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e))}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&Mh._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,n,o,s){1===r.a&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:s,weight1:n,weight2:o,extensionId:null}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(Ah)),this._cachedMergedKeybindings.slice(0)}}const Ih=new Mh;function Ah(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}zc.add("platform.keybindingsRegistry",Ih);class Ph{constructor(e,t,i,n,r,o){this.resolvedKeybinding=e,this.keypressParts=e?function(e){let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n)return t;t.push(n)}return t}(e.getDispatchParts()):[],this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=r,this.extensionId=o}}class Rh{constructor(e,t,i=t){this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=i}toLabel(e,t,i){if(0===t.length)return null;const n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=i(o);if(null===s)return null;n[r]=Bh(o,s,this.modifierLabels[e])}return n.join(" ")}}const Fh=new Rh({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:n(0,"Ctrl"),shiftKey:n(0,"Shift"),altKey:n(0,"Alt"),metaKey:n(0,"Windows"),separator:"+"},{ctrlKey:n(0,"Ctrl"),shiftKey:n(0,"Shift"),altKey:n(0,"Alt"),metaKey:n(0,"Super"),separator:"+"}),Vh=new Rh({ctrlKey:n(0,"Control"),shiftKey:n(0,"Shift"),altKey:n(0,"Alt"),metaKey:n(0,"Command"),separator:"+"},{ctrlKey:n(0,"Control"),shiftKey:n(0,"Shift"),altKey:n(0,"Alt"),metaKey:n(0,"Windows"),separator:"+"},{ctrlKey:n(0,"Control"),shiftKey:n(0,"Shift"),altKey:n(0,"Alt"),metaKey:n(0,"Super"),separator:"+"});function Bh(e,t,i){if(null===t)return"";const n=[];return e.ctrlKey&&n.push(i.ctrlKey),e.shiftKey&&n.push(i.shiftKey),e.altKey&&n.push(i.altKey),e.metaKey&&n.push(i.metaKey),""!==t&&n.push(t),n.join(i.separator)}class Wh extends De{constructor(e,t){if(super(),0===t.length)throw K("parts");this._os=e,this._parts=t}getLabel(){return Fh.toLabel(this._os,this._parts,e=>this._getLabel(e))}getAriaLabel(){return Vh.toLabel(this._os,this._parts,e=>this._getAriaLabel(e))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(e=>this._getPart(e))}_getPart(e){return new Le(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map(e=>this._getDispatchPart(e))}}class $h extends Wh{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return we.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":we.toString(e.keyCode)}_getDispatchPart(e){return $h.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=we.toString(e.keyCode)}}const zh=oi("notificationService");const Hh=oi("contextService");var jh,Uh,Kh,qh,Gh,Yh,Xh,Zh,Qh,Jh,eu,tu,iu,nu,ru;!function(e){e.isIWorkspace=function(e){return!(!e||"object"!=typeof e||"string"!=typeof e.id||!Array.isArray(e.folders))}}(jh||(jh={})),function(e){(Uh||(Uh={})).isIWorkspaceFolder=function(e){return!(!e||"object"!=typeof e||!rt.isUri(e.uri)||"string"!=typeof e.name||"function"!=typeof e.toResource)}}();class ou{constructor(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}toResource(e){return mr(this.uri,e)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}(qh=Kh||(Kh={})).noSelection=n(0,"No selection"),qh.singleSelectionRange=n(0,"Line {0}, Column {1} ({2} selected)"),qh.singleSelection=n(0,"Line {0}, Column {1}"),qh.multiSelectionRange=n(0,"{0} selections ({1} characters selected)"),qh.multiSelection=n(0,"{0} selections"),qh.emergencyConfOn=n(0,"Now changing the setting `accessibilitySupport` to 'on'."),qh.openingDocs=n(0,"Now opening the Editor Accessibility documentation page."),qh.readonlyDiffEditor=n(0," in a read-only pane of a diff editor."),qh.editableDiffEditor=n(0," in a pane of a diff editor."),qh.readonlyEditor=n(0," in a read-only code editor"),qh.editableEditor=n(0," in a code editor"),qh.changeConfigToOnMac=n(0,"To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),qh.changeConfigToOnWinLinux=n(0,"To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),qh.auto_on=n(0,"The editor is configured to be optimized for usage with a Screen Reader."),qh.auto_off=n(0,"The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),qh.tabFocusModeOnMsg=n(0,"Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),qh.tabFocusModeOnMsgNoKb=n(0,"Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),qh.tabFocusModeOffMsg=n(0,"Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),qh.tabFocusModeOffMsgNoKb=n(0,"Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),qh.openDocMac=n(0,"Press Command+H now to open a browser window with more information related to editor accessibility."),qh.openDocWinLinux=n(0,"Press Control+H now to open a browser window with more information related to editor accessibility."),qh.outroMsg=n(0,"You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),qh.showAccessibilityHelpAction=n(0,"Show Accessibility Help"),(Gh||(Gh={})).inspectTokensAction=n(0,"Developer: Inspect Tokens"),(Yh||(Yh={})).gotoLineActionLabel=n(0,"Go to Line/Column..."),(Xh||(Xh={})).helpQuickAccessActionLabel=n(0,"Show all Quick Access Providers"),(Qh=Zh||(Zh={})).quickCommandActionLabel=n(0,"Command Palette"),Qh.quickCommandHelp=n(0,"Show And Run Commands"),(eu=Jh||(Jh={})).quickOutlineActionLabel=n(0,"Go to Symbol..."),eu.quickOutlineByCategoryActionLabel=n(0,"Go to Symbol by Category..."),(iu=tu||(tu={})).editorViewAccessibleLabel=n(0,"Editor content"),iu.accessibilityHelpMessage=n(0,"Press Alt+F1 for Accessibility Options."),(nu||(nu={})).toggleHighContrast=n(0,"Toggle High Contrast Theme"),(ru||(ru={})).bulkEditServiceSummary=n(0,"Made {0} edits in {1} files");var su=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},au=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},lu=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};let cu=class{constructor(e){this.modelService=e}setEditor(e){this.editor=e}createModelReference(e){let t=null;var i,n,r;return this.editor&&(i=this.editor,n=(t=>this.findModel(t,e)),r=(t=>this.findModel(t.getOriginalEditor(),e)||this.findModel(t.getModifiedEditor(),e)),t=Fc(i)?n(i):r(i)),t?Promise.resolve(new class{constructor(e){this.object=e}dispose(){}}(new class{constructor(e){this.disposed=!1,this.model=e,this._onDispose=new ce}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onDispose.fire()}}(t))):Promise.reject(new Error("Model not found"))}findModel(e,t){let i=this.modelService.getModel(t);return i&&i.uri.toString()!==t.toString()?null:i}};cu=su([au(0,Po)],cu);class hu{show(){return hu.NULL_PROGRESS_RUNNER}showWhile(e,t){return Promise.resolve(void 0)}}hu.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class uu{info(e){return this.notify({severity:Rc.Info,message:e})}warn(e){return this.notify({severity:Rc.Warning,message:e})}error(e){return this.notify({severity:Rc.Error,message:e})}notify(e){switch(e.severity){case Rc.Error:console.error(e.message);break;case Rc.Warning:console.warn(e.message);break;default:console.log(e.message)}return uu.NO_OP}status(e,t){return ne.None}}uu.NO_OP=new class{};class du{constructor(e){this._onWillExecuteCommand=new ce,this._onDidExecuteCommand=new ce,this._instantiationService=e}executeCommand(e,...t){const i=Or.getCommand(e);if(!i)return Promise.reject(new Error(`command '${e}' not found`));try{this._onWillExecuteCommand.fire({commandId:e,args:t});const n=this._instantiationService.invokeFunction.apply(this._instantiationService,[i.handler,...t]);return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(n)}catch(e){return Promise.reject(e)}}}class fu extends Eh{constructor(e,t,i,n,r,o){super(e,t,i,n,r),this._cachedResolver=null,this._dynamicKeybindings=[],this._register(dn(o,Kn.KEY_DOWN,e=>{let t=new ki(e);this._dispatch(t,t.target)&&(t.preventDefault(),t.stopPropagation())}))}addDynamicKeybinding(e,t,i,n){const o=Ce(t,r.a),s=new ie;return o&&(this._dynamicKeybindings.push({keybinding:o,command:e,when:n,weight1:1e3,weight2:0,extensionId:null}),s.add(te(()=>{for(let t=0;t<this._dynamicKeybindings.length;t++){if(this._dynamicKeybindings[t].command===e)return this._dynamicKeybindings.splice(t,1),void this.updateResolver({source:1})}}))),s.add(Or.registerCommand(e,i)),this.updateResolver({source:1}),s}updateResolver(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)}_getResolver(){if(!this._cachedResolver){const e=this._toNormalizedKeybindingItems(Ih.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Nh(e,t,e=>this._log(e))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(e,t){let i=[],n=0;for(const r of e){const e=r.when||void 0,o=r.keybinding;if(o){const s=this.resolveKeybinding(o);for(const o of s)i[n++]=new Ph(o,r.command,r.commandArgs,e,t,null)}else i[n++]=new Ph(void 0,r.command,r.commandArgs,e,t,null)}return i}resolveKeybinding(e){return[new $h(e,r.a)]}resolveKeyboardEvent(e){let t=new xe(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new $h(t,r.a)}}function pu(e){return e&&"object"==typeof e&&(!e.overrideIdentifier||"string"==typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof rt)}class mu{constructor(){this._onDidChangeConfiguration=new ce,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Lh(new kh,new xh)}getValue(e,t){const i="string"==typeof e?e:void 0,n=pu(e)?e:pu(t)?t:{};return this._configuration.getValue(i,n,void 0)}updateValues(e){const t={data:this._configuration.toData()};let i=[];for(const t of e){const[e,n]=t;this.getValue(e)!==n&&(this._configuration.updateValue(e,n),i.push(e))}if(i.length>0){const e=new Dh({keys:i,overrides:[]},t,this._configuration);e.source=7,e.sourceConfig=null,this._onDidChangeConfiguration.fire(e)}return Promise.resolve()}}let gu=class{constructor(e){this.configurationService=e}getEOL(e,t){const i=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return i&&"auto"!==i?i:r.d||r.f?"\n":"\r\n"}};gu=su([au(0,yh)],gu);class vu{constructor(){const e=rt.from({scheme:vu.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new ou({uri:e,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(e){return e&&e.scheme===vu.SCHEME?this.workspace.folders[0]:null}}function bu(e,t,i){if(!t)return;if(!(e instanceof mu))return;let n=[];var r;Object.keys(t).forEach(e=>{e=e,bh()[`editor.${e}`]&&n.push([`editor.${e}`,t[e]]),i&&function(e){return bh()[`diffEditor.${e}`]||!1}(e)&&n.push([`diffEditor.${e}`,t[e]])}),n.length>0&&e.updateValues(n)}vu.SCHEME="inmemory";class _u{constructor(e){this._modelService=e}hasPreviewHandler(){return!1}apply(e,t){return lu(this,void 0,void 0,function*(){const t=new Map;for(let i of e){if(!(i instanceof Wc))throw new Error("bad edit - only text edits are supported");const e=this._modelService.getModel(i.resource);if(!e)throw new Error("bad edit - model not found");if("number"==typeof i.versionId&&e.getVersionId()!==i.versionId)throw new Error("bad state - model changed in the meantime");let n=t.get(e);n||(n=[],t.set(e,n)),n.push(_h.replaceMove(mt.lift(i.textEdit.range),i.textEdit.text))}let i=0,n=0;for(const[e,r]of t)e.pushStackElement(),e.pushEditOperations([],r,()=>[]),e.pushStackElement(),n+=1,i+=r.length;return{ariaSummary:hr.v(ru.bulkEditServiceSummary,i,n)}})}}class yu{constructor(e,t){this._codeEditorService=e,this._container=t,this.onLayout=se.None}get dimension(){return this._dimension||(this._dimension=kn(window.document.body)),this._dimension}get container(){return this._container}focus(){var e;null===(e=this._codeEditorService.getFocusedCodeEditor())||void 0===e||e.focus()}}i("KL86");const wu=2e4;let Cu,Su,xu,ku,Lu;function Du(e){Cu&&(Su.textContent!==e?(en(xu),Eu(Su,e)):(en(Su),Eu(xu,e)))}function Eu(e,t){en(e),t.length>wu&&(t=t.substr(0,wu)),e.textContent=t,e.style.visibility="hidden",e.style.visibility="visible"}i("4Yhh");class Nu{constructor(e,t){this.chr=e,this.type=t,this.width=0}fulfill(e){this.width=e}}class Tu{constructor(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const t=document.createElement("div");t.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),t.style.fontWeight=this._bareFontInfo.fontWeight,t.style.fontSize=this._bareFontInfo.fontSize+"px",t.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,t.style.lineHeight=this._bareFontInfo.lineHeight+"px",t.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(t);const i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight="bold",i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",e.appendChild(i);const n=document.createElement("div");n.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),n.style.fontWeight=this._bareFontInfo.fontWeight,n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",n.style.fontStyle="italic",e.appendChild(n);const r=[];for(const e of this._requests){let o;0===e.type&&(o=t),2===e.type&&(o=i),1===e.type&&(o=n),o.appendChild(document.createElement("br"));const s=document.createElement("span");Tu._render(s,e),o.appendChild(s),r.push(s)}this._container=e,this._testElements=r}static _render(e,t){if(" "===t.chr){let t=" ";for(let e=0;e<8;e++)t+=t;e.innerText=t}else{let i=t.chr;for(let e=0;e<8;e++)i+=i;e.textContent=i}}_readFromDomElements(){for(let e=0,t=this._requests.length;e<t;e++){const t=this._requests[e],i=this._testElements[e];t.fulfill(i.offsetWidth/256)}}}class Ou extends ne{constructor(e,t,i){super(),this.referenceDomElement=e,this.changeCallback=i,this.width=-1,this.height=-1,this.resizeObserver=null,this.measureReferenceDomElementToken=-1,this.measureReferenceDomElement(!1,t)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this.width}getHeight(){return this.height}startObserving(){"undefined"!=typeof ResizeObserver?!this.resizeObserver&&this.referenceDomElement&&(this.resizeObserver=new ResizeObserver(e=>{e&&e[0]&&e[0].contentRect?this.observe({width:e[0].contentRect.width,height:e[0].contentRect.height}):this.observe()}),this.resizeObserver.observe(this.referenceDomElement)):-1===this.measureReferenceDomElementToken&&(this.measureReferenceDomElementToken=setInterval(()=>this.observe(),100))}stopObserving(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),-1!==this.measureReferenceDomElementToken&&(clearInterval(this.measureReferenceDomElementToken),this.measureReferenceDomElementToken=-1)}observe(e){this.measureReferenceDomElement(!0,e)}measureReferenceDomElement(e,t){let i=0,n=0;t?(i=t.width,n=t.height):this.referenceDomElement&&(i=this.referenceDomElement.clientWidth,n=this.referenceDomElement.clientHeight),i=Math.max(5,i),n=Math.max(5,n),this.width===i&&this.height===n||(this.width=i,this.height=n,e&&this.changeCallback())}}class Mu{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const t=e.getId();return!!this._values[t]}get(e){const t=e.getId();return this._values[t]}put(e,t){const i=e.getId();this._keys[i]=e,this._values[i]=t}remove(e){const t=e.getId();delete this._keys[t],delete this._values[t]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}class Iu extends ne{constructor(){super(),this._onDidChange=this._register(new ce),this.onDidChange=this._onDidChange.event,this._cache=new Mu,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearCache(){this._cache=new Mu,this._onDidChange.fire()}_writeToCache(e,t){this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const e=this._cache.getValues();let t=!1;for(let i=0,n=e.length;i<n;i++){const n=e[i];n.isTrusted||(t=!0,this._cache.remove(n))}t&&this._onDidChange.fire()}readConfiguration(e){if(!this._cache.has(e)){let t=Iu._actualReadConfiguration(e);(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2)&&(t=new eo({zoomLevel:li(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,fontFeatureSettings:t.fontFeatureSettings,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:t.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(t.spaceWidth,5),middotWidth:Math.max(t.middotWidth,5),wsmiddotWidth:Math.max(t.wsmiddotWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},!1)),this._writeToCache(e,t)}return this._cache.get(e)}static createRequest(e,t,i,n){const r=new Nu(e,t);return i.push(r),n&&n.push(r),r}static _actualReadConfiguration(e){const t=[],i=[],n=this.createRequest("n",0,t,i),r=this.createRequest("ｍ",0,t,null),o=this.createRequest(" ",0,t,i),s=this.createRequest("0",0,t,i),a=this.createRequest("1",0,t,i),l=this.createRequest("2",0,t,i),c=this.createRequest("3",0,t,i),h=this.createRequest("4",0,t,i),u=this.createRequest("5",0,t,i),d=this.createRequest("6",0,t,i),f=this.createRequest("7",0,t,i),p=this.createRequest("8",0,t,i),m=this.createRequest("9",0,t,i),g=this.createRequest("→",0,t,i),v=this.createRequest("￫",0,t,null),b=this.createRequest("·",0,t,i),_=this.createRequest(String.fromCharCode(11825),0,t,null);this.createRequest("|",0,t,i),this.createRequest("/",0,t,i),this.createRequest("-",0,t,i),this.createRequest("_",0,t,i),this.createRequest("i",0,t,i),this.createRequest("l",0,t,i),this.createRequest("m",0,t,i),this.createRequest("|",1,t,i),this.createRequest("_",1,t,i),this.createRequest("i",1,t,i),this.createRequest("l",1,t,i),this.createRequest("m",1,t,i),this.createRequest("n",1,t,i),this.createRequest("|",2,t,i),this.createRequest("_",2,t,i),this.createRequest("i",2,t,i),this.createRequest("l",2,t,i),this.createRequest("m",2,t,i),this.createRequest("n",2,t,i),function(e,t){new Tu(e,t).read()}(e,t);const y=Math.max(s.width,a.width,l.width,c.width,h.width,u.width,d.width,f.width,p.width,m.width);let w=e.fontFeatureSettings===k.OFF;const C=i[0].width;for(let e=1,t=i.length;w&&e<t;e++){const t=C-i[e].width;if(t<-.001||t>.001){w=!1;break}}let S=!0;w&&v.width!==C&&(S=!1),v.width>g.width&&(S=!1);const x=ai.INSTANCE.getTimeSinceLastZoomLevelChanged()>2e3;return new eo({zoomLevel:li(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:w,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:r.width,canUseHalfwidthRightwardsArrow:S,spaceWidth:o.width,middotWidth:b.width,wsmiddotWidth:_.width,maxDigitWidth:y},x)}}Iu.INSTANCE=new Iu;class Au extends dh{constructor(e,t,i=null,n){var r;super(e,t),this.accessibilityService=n,this._elementSizeObserver=this._register(new Ou(i,t.dimension,()=>this._onReferenceDomElementSizeChanged())),this._register(Iu.INSTANCE.onDidChange(()=>this._onCSSBasedConfigurationChanged())),this._validatedOptions.get(9)&&this._elementSizeObserver.startObserving(),this._register((r=(e=>this._recomputeOptions()),ai.INSTANCE.onDidChangeZoomLevel(r))),this._register(this.accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions())),this._recomputeOptions()}static applyFontInfoSlow(e,t){e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"}static applyFontInfo(e,t){e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)}_onReferenceDomElementSizeChanged(){this._recomputeOptions()}_onCSSBasedConfigurationChanged(){this._recomputeOptions()}observeReferenceElement(e){this._elementSizeObserver.observe(e)}dispose(){super.dispose()}_getExtraEditorClassName(){let e="";return pi||mi||(e+="no-user-select "),r.f&&(e+="mac "),e}_getEnvConfiguration(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:di||ui,pixelRatio:ai.INSTANCE.getPixelRatio(),zoomLevel:li(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}}readConfiguration(e){return Iu.INSTANCE.readConfiguration(e)}}var Pu=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};class Ru extends ne{constructor(e,t="",i="",n=!0,r){super(),this._onDidChange=this._register(new ce),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._checked=!1,this._id=e,this._label=t,this._cssClass=i,this._enabled=n,this._actionCallback=r}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}run(e,t){return this._actionCallback?this._actionCallback(e):Promise.resolve(!0)}}class Fu extends ne{constructor(){super(...arguments),this._onDidBeforeRun=this._register(new ce),this.onDidBeforeRun=this._onDidBeforeRun.event,this._onDidRun=this._register(new ce),this.onDidRun=this._onDidRun.event}run(e,t){return Pu(this,void 0,void 0,function*(){if(!e.enabled)return Promise.resolve(null);this._onDidBeforeRun.fire({action:e});try{const i=yield this.runAction(e,t);this._onDidRun.fire({action:e,result:i})}catch(t){this._onDidRun.fire({action:e,error:t})}})}runAction(e,t){const i=t?e.run(t):e.run();return Promise.resolve(i)}}class Vu extends Ru{constructor(e){super(Vu.ID,e,e?"separator text":"separator"),this.checked=!1,this.enabled=!1}}Vu.ID="vs.actions.separator";class Bu extends Ru{constructor(e,t,i,n){super(e,t,n,!0),this._actions=i}get actions(){return Array.isArray(this._actions)?this._actions:this._actions()}}const Wu=new Map;Wu.set("false",!1),Wu.set("true",!0),Wu.set("isMac",r.f),Wu.set("isLinux",r.d),Wu.set("isWindows",r.i),Wu.set("isWeb",r.h),Wu.set("isMacNative",r.f&&!r.h);const $u=Object.prototype.hasOwnProperty;class zu{static has(e){return Ku.create(e)}static equals(e,t){return qu.create(e,t)}static regex(e,t){return Qu.create(e,t)}static not(e){return Zu.create(e)}static and(...e){return ed.create(e)}static or(...e){return td.create(e)}static deserialize(e,t=!1){if(e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let i=e.split("||");return td.create(i.map(e=>this._deserializeAndExpression(e,t)))}static _deserializeAndExpression(e,t){let i=e.split("&&");return ed.create(i.map(e=>this._deserializeOne(e,t)))}static _deserializeOne(e,t){if((e=e.trim()).indexOf("!=")>=0){let i=e.split("!=");return Xu.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("==")>=0){let i=e.split("==");return qu.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("=~")>=0){let i=e.split("=~");return Qu.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(e.indexOf(" in ")>=0){let t=e.split(" in ");return Gu.create(t[0].trim(),t[1].trim())}return/^\!\s*/.test(e)?Zu.create(e.substr(1).trim()):Ku.create(e)}static _deserializeValue(e,t){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;let i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if(Object(hr.B)(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let i=e.indexOf("/"),n=e.lastIndexOf("/");if(i===n||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}let r=e.slice(i+1,n),o="i"===e[n+1]?"i":"";try{return new RegExp(r,o)}catch(i){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${i}`);return console.warn(`bad regexp-value '${e}', parse error: ${i}`),null}}}function Hu(e,t){return e.cmp(t)}class ju{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return Uu.INSTANCE}}ju.INSTANCE=new ju;class Uu{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return ju.INSTANCE}}Uu.INSTANCE=new Uu;class Ku{constructor(e){this.key=e,this.type=2}static create(e){const t=Wu.get(e);return"boolean"==typeof t?t?Uu.INSTANCE:ju.INSTANCE:new Ku(e)}cmp(e){return e.type!==this.type?this.type-e.type:this.key<e.key?-1:this.key>e.key?1:0}equals(e){return e.type===this.type&&this.key===e.key}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return Zu.create(this.key)}}class qu{constructor(e,t){this.key=e,this.value=t,this.type=4}static create(e,t){if("boolean"==typeof t)return t?Ku.create(e):Zu.create(e);const i=Wu.get(e);if("boolean"==typeof i){return t===(i?"true":"false")?Uu.INSTANCE:ju.INSTANCE}return new qu(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return this.key+" == '"+this.value+"'"}keys(){return[this.key]}negate(){return Xu.create(this.key,this.value)}}class Gu{constructor(e,t){this.key=e,this.valueKey=t,this.type=10}static create(e,t){return new Gu(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this.key<e.key?-1:this.key>e.key?1:this.valueKey<e.valueKey?-1:this.valueKey>e.valueKey?1:0}equals(e){return e.type===this.type&&(this.key===e.key&&this.valueKey===e.valueKey)}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.indexOf(i)>=0:"string"==typeof i&&"object"==typeof t&&null!==t&&$u.call(t,i)}serialize(){return this.key+" in '"+this.valueKey+"'"}keys(){return[this.key,this.valueKey]}negate(){return Yu.create(this)}}class Yu{constructor(e){this._actual=e,this.type=11}static create(e){return new Yu(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class Xu{constructor(e,t){this.key=e,this.value=t,this.type=5}static create(e,t){if("boolean"==typeof t)return t?Zu.create(e):Ku.create(e);const i=Wu.get(e);if("boolean"==typeof i){return t===(i?"true":"false")?ju.INSTANCE:Uu.INSTANCE}return new Xu(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return this.key+" != '"+this.value+"'"}keys(){return[this.key]}negate(){return qu.create(this.key,this.value)}}class Zu{constructor(e){this.key=e,this.type=3}static create(e){const t=Wu.get(e);return"boolean"==typeof t?t?ju.INSTANCE:Uu.INSTANCE:new Zu(e)}cmp(e){return e.type!==this.type?this.type-e.type:this.key<e.key?-1:this.key>e.key?1:0}equals(e){return e.type===this.type&&this.key===e.key}evaluate(e){return!e.getValue(this.key)}serialize(){return"!"+this.key}keys(){return[this.key]}negate(){return Ku.create(this.key)}}class Qu{constructor(e,t){this.key=e,this.regexp=t,this.type=7}static create(e,t){return new Qu(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}evaluate(e){let t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return Ju.create(this)}}class Ju{constructor(e){this._actual=e,this.type=8}static create(e){return new Ju(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class ed{constructor(e){this.expr=e,this.type=6}static create(e){return ed._normalizeArr(e)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=Hu(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e){const t=[];let i=!1;for(const n of e)if(n)if(1!==n.type){if(0===n.type)return ju.INSTANCE;6!==n.type?t.push(n):t.push(...n.expr)}else i=!0;if(0===t.length&&i)return Uu.INSTANCE;if(0!==t.length){if(1===t.length)return t[0];for(t.sort(Hu);t.length>1;){const e=t[t.length-1];if(9!==e.type)break;t.pop();const i=t.pop(),n=td.create(e.expr.map(e=>ed.create([e,i])));n&&(t.push(n),t.sort(Hu))}return new ed(t)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){let e=[];for(let t of this.expr)e.push(t.negate());return td.create(e)}}class td{constructor(e){this.expr=e,this.type=9}static create(e){const t=td._normalizeArr(e);if(0!==t.length)return 1===t.length?t[0]:new td(t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=Hu(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e){let t=[],i=!1;if(e){for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r)if(0!==r.type){if(1===r.type)return[Uu.INSTANCE];9!==r.type?t.push(r):t=t.concat(r.expr)}else i=!0}if(0===t.length&&i)return[ju.INSTANCE];t.sort(Hu)}return t}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){let e=[];for(let t of this.expr)e.push(t.negate());const t=e=>9===e.type?e.expr:[e];for(;e.length>1;){const i=e.shift(),n=e.shift(),r=[];for(const e of t(i))for(const i of t(n))r.push(zu.and(e,i));e.unshift(zu.or(...r))}return e[0]}}class id extends Ku{constructor(e,t){super(e),this._defaultValue=t}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return zu.not(this.key)}}const nd=oi("contextKeyService");var rd=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},od=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};function sd(e){return void 0!==e.command}class ad{constructor(e){this.id=ad._idPool++,this._debugName=e}}ad._idPool=0,ad.CommandPalette=new ad("CommandPalette"),ad.EditorContext=new ad("EditorContext"),ad.EditorContextPeek=new ad("EditorContextPeek"),ad.MenubarEditMenu=new ad("MenubarEditMenu"),ad.MenubarGoMenu=new ad("MenubarGoMenu"),ad.MenubarSelectionMenu=new ad("MenubarSelectionMenu");const ld=oi("menuService"),cd=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new ce,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:e=>e===ad.CommandPalette}}addCommand(e){return this.addCommands(q.single(e))}addCommands(e){for(const t of e)this._commands.set(t.id,t);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),te(()=>{let t=!1;for(const i of e)t=this._commands.delete(i.id)||t;t&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach((t,i)=>e.set(i,t)),e}appendMenuItem(e,t){return this.appendMenuItems(q.single({id:e,item:t}))}appendMenuItems(e){const t=new Set,i=new oe;for(const{id:n,item:r}of e){let e=this._menuItems.get(n);e||(e=new oe,this._menuItems.set(n,e)),i.push(e.push(r)),t.add(n)}return this._onDidChangeMenu.fire(t),te(()=>{if(i.size>0){for(let e of i)e();this._onDidChangeMenu.fire(t),i.clear()}})}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===ad.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const i of e)sd(i)&&(t.add(i.command.id),i.alt&&t.add(i.alt.id));this._commands.forEach((i,n)=>{t.has(n)||e.push({command:i})})}};let hd=class extends Ru{constructor(e,t,i){super(e,t),this._commandService=i}run(...e){return this._commandService.executeCommand(this.id,...e)}};hd=rd([od(2,Tr)],hd);class ud extends Bu{constructor(e,t,i,n){super(`submenuitem.${e.submenu.id}`,"string"==typeof e.title?e.title:e.title.value,()=>{const r=[],o=t.createMenu(e.submenu,i),s=o.getActions(n);o.dispose();for(let e of s){const[,t]=e;t.length>0&&(r.push(...t),r.push(new Vu))}return r.length&&r.pop(),r},"submenu"),this.item=e}}let dd=class e extends hd{constructor(t,i,n,r,o){if("string"==typeof t.title?super(t.id,t.title,o):super(t.id,t.title.value,o),this._cssClass=void 0,this._enabled=!t.precondition||r.contextMatchesRules(t.precondition),this._tooltip=t.tooltip?"string"==typeof t.tooltip?t.tooltip:t.tooltip.value:void 0,t.toggled){const e=t.toggled.condition?t.toggled:{condition:t.toggled};this._checked=r.contextMatchesRules(e.condition),this._checked&&e.tooltip&&(this._tooltip="string"==typeof e.tooltip?e.tooltip:e.tooltip.value)}this._options=n||{},this.item=t,this.alt=i?new e(i,void 0,this._options,r,o):void 0}dispose(){this.alt&&this.alt.dispose(),super.dispose()}run(...e){let t=[];return this._options.arg&&(t=[...t,this._options.arg]),this._options.shouldForwardArgs&&(t=[...t,...e]),super.run(...t)}};dd=rd([od(3,nd),od(4,Tr)],dd);const fd=oi("telemetryService");class pd{constructor(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){let e=this._kbOpts.kbExpr;this.precondition&&(e=e?zu.and(e,this.precondition):this.precondition),Ih.registerCommandAndKeybindingRule({id:this.id,handler:(e,t)=>this.runCommand(e,t),weight:this._kbOpts.weight,args:this._kbOpts.args,when:e,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else Or.registerCommand({id:this.id,handler:(e,t)=>this.runCommand(e,t),description:this._description})}_registerMenuItem(e){cd.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title,icon:e.icon},when:e.when,order:e.order})}}class md extends pd{constructor(){super(...arguments),this._implementations=[]}addImplementation(e,t){return this._implementations.push([e,t]),this._implementations.sort((e,t)=>t[0]-e[0]),{dispose:()=>{for(let e=0;e<this._implementations.length;e++)if(this._implementations[e][1]===t)return void this._implementations.splice(e,1)}}}runCommand(e,t){for(const i of this._implementations)if(i[1](e,t))return}}class gd extends pd{constructor(e,t){super(t),this.command=e}runCommand(e,t){return this.command.runCommand(e,t)}}class vd extends pd{static bindToContribution(e){return class extends vd{constructor(e){super(e),this._callback=e.handler}runEditorCommand(t,i,n){e(i)&&this._callback(e(i),n)}}}runCommand(e,t){const i=e.get(si),n=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(n)return n.invokeWithinContext(e=>{if(e.get(nd).contextMatchesRules(Nr(this.precondition)))return this.runEditorCommand(e,n,t)})}}class bd extends vd{constructor(e){super(bd.convertOptions(e)),this.label=e.label,this.alias=e.alias}static convertOptions(e){let t;function i(t){return t.menuId||(t.menuId=ad.EditorContext),t.title||(t.title=e.label),t.when=zu.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push(...e.contextMenuOpts.map(i)):e.contextMenuOpts&&t.push(i(e.contextMenuOpts)),e.menuOpts=t,e}runEditorCommand(e,t,i){return this.reportTelemetry(e,t),this.run(e,t,i||{})}reportTelemetry(e,t){e.get(fd).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}function _d(e){return Cd.INSTANCE.registerEditorCommand(e),e}function yd(e){const t=new e;return Cd.INSTANCE.registerEditorAction(t),t}var wd;!function(e){e.getEditorCommand=function(e){return Cd.INSTANCE.getEditorCommand(e)},e.getEditorActions=function(){return Cd.INSTANCE.getEditorActions()},e.getEditorContributions=function(){return Cd.INSTANCE.getEditorContributions()},e.getSomeEditorContributions=function(e){return Cd.INSTANCE.getEditorContributions().filter(t=>e.indexOf(t.id)>=0)},e.getDiffEditorContributions=function(){return Cd.INSTANCE.getDiffEditorContributions()}}(wd||(wd={}));class Cd{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(e,t){this.editorContributions.push({id:e,ctor:t})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(e){e.register(),this.editorActions.push(e)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(e){e.register(),this.editorCommands[e.id]=e}getEditorCommand(e){return this.editorCommands[e]||null}}function Sd(e){return e.register(),e}Cd.INSTANCE=new Cd,zc.add("editor.contributions",Cd.INSTANCE);const xd=Sd(new md({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:ad.MenubarEditMenu,group:"1_do",title:n(0,"&&Undo"),order:1},{menuId:ad.CommandPalette,group:"",title:n(0,"Undo"),order:1}]}));Sd(new gd(xd,{id:"default:undo",precondition:void 0}));const kd=Sd(new md({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:ad.MenubarEditMenu,group:"1_do",title:n(0,"&&Redo"),order:2},{menuId:ad.CommandPalette,group:"",title:n(0,"Redo"),order:1}]}));Sd(new gd(kd,{id:"default:redo",precondition:void 0}));const Ld=Sd(new md({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:ad.MenubarSelectionMenu,group:"1_basic",title:n(0,"&&Select All"),order:1},{menuId:ad.CommandPalette,group:"",title:n(0,"Select All"),order:1}]}));class Dd{constructor(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")}setWidth(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")}setHeight(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")}setTop(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")}unsetTop(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")}setLeft(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")}setBottom(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")}setRight(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setLineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")}setLetterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,t){hn(this.domNode,e,t),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,t){this.domNode.setAttribute(e,t)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function Ed(e){return new Dd(e)}let Nd=0;function Td(e,t,i){return function(){const e=`$memoize${Nd++}`;let t=void 0;const i=function(i,n,r){let o=null,s=null;if("function"==typeof r.value?(o="value",0!==(s=r.value).length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof r.get&&(o="get",s=r.get),!s)throw new Error("not supported");const a=`${e}:${n}`;r[o]=function(...e){return t=this,this.hasOwnProperty(a)||Object.defineProperty(this,a,{configurable:!0,enumerable:!1,writable:!0,value:s.apply(this,e)}),this[a]}};return i.clear=(()=>{void 0!==t&&Object.getOwnPropertyNames(t).forEach(i=>{0===i.indexOf(e)&&delete t[i]})}),i}()(e,t,i)}var Od,Md=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};!function(e){e.Tap="-monaco-gesturetap",e.Change="-monaco-gesturechange",e.Start="-monaco-gesturestart",e.End="-monaco-gesturesend",e.Contextmenu="-monaco-gesturecontextmenu"}(Od||(Od={}));class Id extends ne{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(dn(document,"touchstart",e=>this.onTouchStart(e),{passive:!1})),this._register(dn(document,"touchend",e=>this.onTouchEnd(e))),this._register(dn(document,"touchmove",e=>this.onTouchMove(e),{passive:!1}))}static addTarget(e){return Id.isTouchDevice()?(Id.INSTANCE||(Id.INSTANCE=new Id),Id.INSTANCE.targets.push(e),{dispose:()=>{Id.INSTANCE.targets=Id.INSTANCE.targets.filter(t=>t!==e)}}):ne.None}static ignoreTarget(e){return Id.isTouchDevice()?(Id.INSTANCE||(Id.INSTANCE=new Id),Id.INSTANCE.ignoreTargets.push(e),{dispose:()=>{Id.INSTANCE.ignoreTargets=Id.INSTANCE.ignoreTargets.filter(t=>t!==e)}}):ne.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){let t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let i=0,n=e.targetTouches.length;i<n;i++){let n=e.targetTouches.item(i);this.activeTouches[n.identifier]={id:n.identifier,initialTarget:n.target,initialTimeStamp:t,initialPageX:n.pageX,initialPageY:n.pageY,rollingTimestamps:[t],rollingPageX:[n.pageX],rollingPageY:[n.pageY]};let r=this.newGestureEvent(Od.Start,n.target);r.pageX=n.pageX,r.pageY=n.pageY,this.dispatchEvent(r)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e){let t=Date.now(),i=Object.keys(this.activeTouches).length;for(let n=0,r=e.changedTouches.length;n<r;n++){let r=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("move of an UNKNOWN touch",r);continue}let o=this.activeTouches[r.identifier],s=Date.now()-o.initialTimeStamp;if(s<Id.HOLD_DELAY&&Math.abs(o.initialPageX-Wi(o.rollingPageX))<30&&Math.abs(o.initialPageY-Wi(o.rollingPageY))<30){let e=this.newGestureEvent(Od.Tap,o.initialTarget);e.pageX=Wi(o.rollingPageX),e.pageY=Wi(o.rollingPageY),this.dispatchEvent(e)}else if(s>=Id.HOLD_DELAY&&Math.abs(o.initialPageX-Wi(o.rollingPageX))<30&&Math.abs(o.initialPageY-Wi(o.rollingPageY))<30){let e=this.newGestureEvent(Od.Contextmenu,o.initialTarget);e.pageX=Wi(o.rollingPageX),e.pageY=Wi(o.rollingPageY),this.dispatchEvent(e)}else if(1===i){let e=Wi(o.rollingPageX),i=Wi(o.rollingPageY),n=Wi(o.rollingTimestamps)-o.rollingTimestamps[0],r=e-o.rollingPageX[0],s=i-o.rollingPageY[0];const a=this.targets.filter(e=>o.initialTarget instanceof Node&&e.contains(o.initialTarget));this.inertia(a,t,Math.abs(r)/n,r>0?1:-1,e,Math.abs(s)/n,s>0?1:-1,i)}this.dispatchEvent(this.newGestureEvent(Od.End,o.initialTarget)),delete this.activeTouches[r.identifier]}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){let i=document.createEvent("CustomEvent");return i.initEvent(e,!1,!0),i.initialTarget=t,i.tapCount=0,i}dispatchEvent(e){if(e.type===Od.Tap){const t=(new Date).getTime();let i=0;i=t-this._lastSetTapCountTime>Id.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=t,e.tapCount=i}else e.type!==Od.Change&&e.type!==Od.Contextmenu||(this._lastSetTapCountTime=0);for(let t=0;t<this.ignoreTargets.length;t++)if(e.initialTarget instanceof Node&&this.ignoreTargets[t].contains(e.initialTarget))return;this.targets.forEach(t=>{e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),this.dispatched=!0)})}inertia(e,t,i,n,r,o,s,a){this.handle=vn(()=>{let l=Date.now(),c=l-t,h=0,u=0,d=!0;i+=Id.SCROLL_FRICTION*c,o+=Id.SCROLL_FRICTION*c,i>0&&(d=!1,h=n*i*c),o>0&&(d=!1,u=s*o*c);let f=this.newGestureEvent(Od.Change);f.translationX=h,f.translationY=u,e.forEach(e=>e.dispatchEvent(f)),d||this.inertia(e,l,i,n,r+h,o,s,a+u)})}onTouchMove(e){let t=Date.now();for(let i=0,n=e.changedTouches.length;i<n;i++){let n=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(n.identifier))){console.warn("end of an UNKNOWN touch",n);continue}let r=this.activeTouches[n.identifier],o=this.newGestureEvent(Od.Change,r.initialTarget);o.translationX=n.pageX-Wi(r.rollingPageX),o.translationY=n.pageY-Wi(r.rollingPageY),o.pageX=n.pageX,o.pageY=n.pageY,this.dispatchEvent(o),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(n.pageX),r.rollingPageY.push(n.pageY),r.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}function Ad(e,t){let i=new Oi(t);return i.preventDefault(),{leftButton:i.leftButton,buttons:i.buttons,posx:i.posx,posy:i.posy}}Id.SCROLL_FRICTION=-.005,Id.HOLD_DELAY=700,Id.CLEAR_TAP_COUNT_TIME=400,Md([Td],Id,"isTouchDevice",null);class Pd{constructor(){this._hooks=new ie,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e){if(!this.isMonitoring())return;this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;const t=this._onStopCallback;this._onStopCallback=null,e&&t&&t()}isMonitoring(){return!!this._mouseMoveEventMerger}startMonitoring(e,t,i,n,o){if(this.isMonitoring())return;this._mouseMoveEventMerger=i,this._mouseMoveCallback=n,this._onStopCallback=o;const s=Ti.getSameOriginWindowChain(),a=r.c&&Ji.pointerEvents?"pointermove":"mousemove",l=r.c&&Ji.pointerEvents?"pointerup":"mouseup",c=s.map(e=>e.window.document),h=Vn(e);h&&c.unshift(h);for(const e of c)this._hooks.add(Sn(e,a,e=>{e.buttons===t?this._mouseMoveCallback(e):this.stopMonitoring(!0)},(e,t)=>this._mouseMoveEventMerger(e,t))),this._hooks.add(dn(e,l,e=>this.stopMonitoring(!0)));if(Ti.hasDifferentOriginAncestor()){let e=s[s.length-1];this._hooks.add(dn(e.window.document,"mouseout",e=>{"html"===new Oi(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(dn(e.window.document,"mouseover",e=>{"html"===new Oi(e).target.tagName.toLowerCase()&&this.stopMonitoring(!0)})),this._hooks.add(dn(e.window.document.body,"mouseleave",e=>{this.stopMonitoring(!0)}))}}}class Rd{constructor(e,t){this.x=e,this.y=t}toClientCoordinates(){return new Fd(this.x-Nn.scrollX,this.y-Nn.scrollY)}}class Fd{constructor(e,t){this.clientX=e,this.clientY=t}toPageCoordinates(){return new Rd(this.clientX+Nn.scrollX,this.clientY+Nn.scrollY)}}class Vd{constructor(e,t,i,n){this.x=e,this.y=t,this.width=i,this.height=n}}function Bd(e){const t=En(e);return new Vd(t.left,t.top,t.width,t.height)}class Wd extends Oi{constructor(e,t){super(e),this.pos=new Rd(this.posx,this.posy),this.editorPos=Bd(t)}}class $d{constructor(e){this._editorViewDomNode=e}_create(e){return new Wd(e,this._editorViewDomNode)}onContextMenu(e,t){return dn(e,"contextmenu",e=>{t(this._create(e))})}onMouseUp(e,t){return dn(e,"mouseup",e=>{t(this._create(e))})}onMouseDown(e,t){return dn(e,"mousedown",e=>{t(this._create(e))})}onMouseLeave(e,t){return mn(e,e=>{t(this._create(e))})}onMouseMoveThrottled(e,t,i,n){return Sn(e,"mousemove",t,(e,t)=>i(e,this._create(t)),n)}}class zd{constructor(e){this._editorViewDomNode=e}_create(e){return new Wd(e,this._editorViewDomNode)}onPointerUp(e,t){return dn(e,"pointerup",e=>{t(this._create(e))})}onPointerDown(e,t){return dn(e,"pointerdown",e=>{t(this._create(e))})}onPointerLeave(e,t){return n=(e=>{t(this._create(e))}),dn(i=e,"pointerout",e=>{let t=e.relatedTarget;for(;t&&t!==i;)t=t.parentNode;t!==i&&n(e)});var i,n}onPointerMoveThrottled(e,t,i,n){return Sn(e,"pointermove",t,(e,t)=>i(e,this._create(t)),n)}}class Hd extends ne{constructor(e){super(),this._editorViewDomNode=e,this._globalMouseMoveMonitor=this._register(new Pd),this._keydownListener=null}startMonitoring(e,t,i,n,r){this._keydownListener=pn(document,"keydown",e=>{e.toKeybinding().isModifierKey()||this._globalMouseMoveMonitor.stopMonitoring(!0)},!0);this._globalMouseMoveMonitor.startMonitoring(e,t,(e,t)=>i(e,new Wd(t,this._editorViewDomNode)),n,()=>{this._keydownListener.dispose(),r()})}}class jd extends ne{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onConfigurationChanged(e){return!1}onCursorStateChanged(e){return!1}onDecorationsChanged(e){return!1}onFlushed(e){return!1}onFocusChanged(e){return!1}onLanguageConfigurationChanged(e){return!1}onLineMappingChanged(e){return!1}onLinesChanged(e){return!1}onLinesDeleted(e){return!1}onLinesInserted(e){return!1}onRevealRangeRequest(e){return!1}onScrollChanged(e){return!1}onThemeChanged(e){return!1}onTokensChanged(e){return!1}onTokensColorsChanged(e){return!1}onZonesChanged(e){return!1}handleEvents(e){let t=!1;for(let i=0,n=e.length;i<n;i++){let n=e[i];switch(n.type){case 0:this.onConfigurationChanged(n)&&(t=!0);break;case 1:this.onCursorStateChanged(n)&&(t=!0);break;case 2:this.onDecorationsChanged(n)&&(t=!0);break;case 3:this.onFlushed(n)&&(t=!0);break;case 4:this.onFocusChanged(n)&&(t=!0);break;case 5:this.onLanguageConfigurationChanged(n)&&(t=!0);break;case 6:this.onLineMappingChanged(n)&&(t=!0);break;case 7:this.onLinesChanged(n)&&(t=!0);break;case 8:this.onLinesDeleted(n)&&(t=!0);break;case 9:this.onLinesInserted(n)&&(t=!0);break;case 10:this.onRevealRangeRequest(n)&&(t=!0);break;case 11:this.onScrollChanged(n)&&(t=!0);break;case 13:this.onTokensChanged(n)&&(t=!0);break;case 12:this.onThemeChanged(n)&&(t=!0);break;case 14:this.onTokensColorsChanged(n)&&(t=!0);break;case 15:this.onZonesChanged(n)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(n)}}t&&(this._shouldRender=!0)}}class Ud extends jd{constructor(e){super(),this._context=e,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Kd{static write(e,t){e.setAttribute("data-mprt",String(t))}static read(e){const t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)}static collect(e,t){let i=[],n=0;for(;e&&e!==document.body&&e!==t;)e.nodeType===e.ELEMENT_NODE&&(i[n++]=this.read(e)),e=e.parentElement;const r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=i[n-e-1];return r}}class qd{constructor(e,t){this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top,this.scrollLeft=i.left,this.viewportWidth=i.width,this.viewportHeight=i.height}getScrolledTopFromAbsoluteTop(e){return e-this.scrollTop}getVerticalOffsetForLineNumber(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class Gd extends qd{constructor(e,t,i){super(e,t),this._viewLines=i}linesVisibleRangesForRange(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)}visibleRangeForPosition(e){return this._viewLines.visibleRangeForPosition(e)}}class Yd{constructor(e,t,i){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=i}}class Xd{constructor(e,t){this.left=Math.round(e),this.width=Math.round(t)}toString(){return`[${this.left},${this.width}]`}}class Zd{constructor(e,t){this.outsideRenderedLine=e,this.left=Math.round(t)}}class Qd{constructor(e,t){this.outsideRenderedLine=e,this.ranges=t}}class Jd{constructor(e,t){this.left=e,this.width=t}toString(){return`[${this.left},${this.width}]`}static compare(e,t){return e.left-t.left}}class ef{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(e,t){e.selectNodeContents(t)}static _readClientRects(e,t,i,n,r){const o=this._createRange();try{return o.setStart(e,t),o.setEnd(i,n),o.getClientRects()}catch(e){return null}finally{this._detachRange(o,r)}}static _mergeAdjacentRanges(e){if(1===e.length)return[new Xd(e[0].left,e[0].width)];e.sort(Jd.compare);let t=[],i=0,n=e[0].left,r=e[0].width;for(let o=1,s=e.length;o<s;o++){const s=e[o],a=s.left,l=s.width;n+r+.9>=a?r=Math.max(r,a+l-n):(t[i++]=new Xd(n,r),n=a,r=l)}return t[i++]=new Xd(n,r),t}static _createHorizontalRangesFromClientRects(e,t){if(!e||0===e.length)return null;const i=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];i[n]=new Jd(Math.max(0,r.left-t),r.width)}return this._mergeAdjacentRanges(i)}static readHorizontalRanges(e,t,i,n,r,o,s){const a=e.children.length-1;if(0>a)return null;if((t=Math.min(a,Math.max(0,t)))===(n=Math.min(a,Math.max(0,n)))&&i===r&&0===i){const i=e.children[t].getClientRects();return this._createHorizontalRangesFromClientRects(i,o)}t!==n&&n>0&&0===r&&(n--,r=1073741824);let l=e.children[t].firstChild,c=e.children[n].firstChild;if(l&&c||(!l&&0===i&&t>0&&(l=e.children[t-1].firstChild,i=1073741824),!c&&0===r&&n>0&&(c=e.children[n-1].firstChild,r=1073741824)),!l||!c)return null;i=Math.min(l.textContent.length,Math.max(0,i)),r=Math.min(c.textContent.length,Math.max(0,r));const h=this._readClientRects(l,i,c,r,s);return this._createHorizontalRangesFromClientRects(h,o)}}const tf=oi("themeService");function nf(e){return{id:e}}var rf;!function(e){e.isThemeIcon=function(e){return e&&"object"==typeof e&&"string"==typeof e.id};const t=/^\$\(([a-z.]+\/)?([a-z-~]+)\)$/i;e.fromString=function(e){const i=t.exec(e);if(!i)return;let[,n,r]=i;return n||(n="codicon/"),{id:n+r}};const i=/^(codicon\/)?([a-z-]+)(~[a-z]+)?$/i;e.asClassName=function(e){const t=i.exec(e.id);if(!t)return;let[,,n,r]=t,o=`codicon codicon-${n}`;return r&&(o+=` ${r.substr(1)}`),o}}(rf||(rf={}));const of="dark",sf="hc";function af(e){switch(e){case of:return"vs-dark";case sf:return"hc-black";default:return"vs"}}const lf="base.contributions.theming";let cf=new class{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new ce}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),te(()=>{const t=this.themingParticipants.indexOf(e);this.themingParticipants.splice(t,1)})}getThemingParticipants(){return this.themingParticipants}};function hf(e){return cf.onColorThemeChange(e)}zc.add(lf,cf);const uf=!!r.g||!(r.d||ui||pi);let df=!0;const ff=hi;class pf{constructor(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}get clientRectDeltaLeft(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft}}class mf{constructor(e,t){this.themeType=t;const i=e.options,n=i.get(36);this.renderWhitespace=i.get(80),this.renderControlCharacters=i.get(74),this.spaceWidth=n.spaceWidth,this.middotWidth=n.middotWidth,this.wsmiddotWidth=n.wsmiddotWidth,this.useMonospaceOptimizations=n.isMonospace&&!i.get(24),this.canUseHalfwidthRightwardsArrow=n.canUseHalfwidthRightwardsArrow,this.lineHeight=i.get(51),this.stopRenderingLineAfter=i.get(95),this.fontLigatures=i.get(37)}equals(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures}}class gf{constructor(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=Ed(e)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(e){this._isMaybeInvalid=!0,this._options=e}onSelectionChanged(){return!(!ff&&this._options.themeType!==sf&&"selection"!==this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)}renderLine(e,t,i,n){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const r=i.getViewLineRenderingData(e),o=this._options,s=Gl.filter(r.inlineDecorations,e,r.minColumn,r.maxColumn);let a=null;if(ff||o.themeType===sf||"selection"===this._options.renderWhitespace){const t=i.selections;for(const i of t){if(i.endLineNumber<e||i.startLineNumber>e)continue;const t=i.startLineNumber===e?i.startColumn:r.minColumn,n=i.endLineNumber===e?i.endColumn:r.maxColumn;t<n&&(o.themeType===sf||"selection"!==this._options.renderWhitespace?s.push(new Gl(t,n,"inline-selected-text",0)):(a||(a=[]),a.push(new Jl(t-1,n-1))))}}const l=new ec(o.useMonospaceOptimizations,o.canUseHalfwidthRightwardsArrow,r.content,r.continuesWithWrappedLine,r.isBasicASCII,r.containsRTL,r.minColumn-1,r.tokens,s,r.tabSize,r.startVisibleColumn,o.spaceWidth,o.middotWidth,o.wsmiddotWidth,o.stopRenderingLineAfter,o.renderWhitespace,o.renderControlCharacters,o.fontLigatures!==k.OFF,a);if(this._renderedViewLine&&this._renderedViewLine.input.equals(l))return!1;n.appendASCIIString('<div style="top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;height:"),n.appendASCIIString(String(this._options.lineHeight)),n.appendASCIIString('px;" class="'),n.appendASCIIString(gf.CLASS_NAME),n.appendASCIIString('">');const c=nc(l,n);n.appendASCIIString("</div>");let h=null;return df&&uf&&r.isBasicASCII&&o.useMonospaceOptimizations&&0===c.containsForeignElements&&r.content.length<300&&l.lineTokens.getCount()<100&&(h=new vf(this._renderedViewLine?this._renderedViewLine.domNode:null,l,c.characterMapping)),h||(h=yf(this._renderedViewLine?this._renderedViewLine.domNode:null,l,c.characterMapping,c.containsRTL,c.containsForeignElements)),this._renderedViewLine=h,!0}layoutLine(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof vf}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof vf?this._renderedViewLine.monospaceAssumptionsAreValid():df}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof vf&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(e,t,i){if(!this._renderedViewLine)return null;e|=0,t|=0,e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e)),t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t));const n=0|this._renderedViewLine.input.stopRenderingLineAfter;let r=!1;-1!==n&&e>n+1&&t>n+1&&(r=!0),-1!==n&&e>n+1&&(e=n+1),-1!==n&&t>n+1&&(t=n+1);const o=this._renderedViewLine.getVisibleRangesForRange(e,t,i);return o&&o.length>0?new Qd(r,o):null}getColumnOfNodeOffset(e,t,i){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,i):1}}gf.CLASS_NAME="view-line";class vf{constructor(e,t,i){this.domNode=e,this.input=t,this._characterMapping=i,this._charWidth=t.spaceWidth}getWidth(){return this._getCharPosition(this._characterMapping.length)}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return df;const e=this.getWidth(),t=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(e-t)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),df=!1),df}toSlowRenderedLine(){return yf(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(e,t,i){const n=this._getCharPosition(e),r=this._getCharPosition(t);return[new Xd(n,r-n)]}_getCharPosition(e){const t=this._characterMapping.getAbsoluteOffsets();return 0===t.length?0:Math.round(this._charWidth*t[e-1])}getColumnOfNodeOffset(e,t,i){const n=t.textContent.length;let r=-1;for(;t;)t=t.previousSibling,r++;return this._characterMapping.partDataToCharOffset(r,n,i)+1}}class bf{constructor(e,t,i,n,r){if(this.domNode=e,this.input=t,this._characterMapping=i,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=r,this._cachedWidth=-1,this._pixelOffsetCache=null,!n||0===this._characterMapping.length){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(let e=0,t=this._characterMapping.length;e<=t;e++)this._pixelOffsetCache[e]=-1}}_getReadingTarget(e){return e.domNode.firstChild}getWidth(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(e,t,i){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const n=this._readPixelOffset(this.domNode,e,i);if(-1===n)return null;const r=this._readPixelOffset(this.domNode,t,i);return-1===r?null:[new Xd(n,r-n)]}return this._readVisibleRangesForRange(this.domNode,e,t,i)}_readVisibleRangesForRange(e,t,i,n){if(t===i){const i=this._readPixelOffset(e,t,n);return-1===i?null:[new Xd(i,0)]}return this._readRawVisibleRangesForRange(e,t,i,n)}_readPixelOffset(e,t,i){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();const t=this._getReadingTarget(e);return t.firstChild?t.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){const n=this._pixelOffsetCache[t];if(-1!==n)return n;const r=this._actualReadPixelOffset(e,t,i);return this._pixelOffsetCache[t]=r,r}return this._actualReadPixelOffset(e,t,i)}_actualReadPixelOffset(e,t,i){if(0===this._characterMapping.length){const t=ef.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,i.clientRectDeltaLeft,i.endNode);return t&&0!==t.length?t[0].left:-1}if(t===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();const n=this._characterMapping.charOffsetToPartData(t-1),r=tc.getPartIndex(n),o=tc.getCharIndex(n),s=ef.readHorizontalRanges(this._getReadingTarget(e),r,o,r,o,i.clientRectDeltaLeft,i.endNode);if(!s||0===s.length)return-1;const a=s[0].left;if(this.input.isBasicASCII){const e=this._characterMapping.getAbsoluteOffsets(),i=Math.round(this.input.spaceWidth*e[t-1]);if(Math.abs(i-a)<=1)return i}return a}_readRawVisibleRangesForRange(e,t,i,n){if(1===t&&i===this._characterMapping.length)return[new Xd(0,this.getWidth())];const r=this._characterMapping.charOffsetToPartData(t-1),o=tc.getPartIndex(r),s=tc.getCharIndex(r),a=this._characterMapping.charOffsetToPartData(i-1),l=tc.getPartIndex(a),c=tc.getCharIndex(a);return ef.readHorizontalRanges(this._getReadingTarget(e),o,s,l,c,n.clientRectDeltaLeft,n.endNode)}getColumnOfNodeOffset(e,t,i){const n=t.textContent.length;let r=-1;for(;t;)t=t.previousSibling,r++;return this._characterMapping.partDataToCharOffset(r,n,i)+1}}class _f extends bf{_readVisibleRangesForRange(e,t,i,n){const r=super._readVisibleRangesForRange(e,t,i,n);if(!r||0===r.length||t===i||1===t&&i===this._characterMapping.length)return r;if(!this.input.containsRTL){const t=this._readPixelOffset(e,i,n);if(-1!==t){const e=r[r.length-1];e.left<t&&(e.width=t-e.left)}}return r}}const yf=di?wf:Cf;function wf(e,t,i,n,r){return new _f(e,t,i,n,r)}function Cf(e,t,i,n,r){return new bf(e,t,i,n,r)}class Sf{constructor(e,t,i,n){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=n}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${this.newText}")`:0===this.newText.length?`(delete@${this.oldPosition} "${this.oldText}")`:`(replace@${this.oldPosition} "${this.oldText}" with "${this.newText}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const n=t.length;lr.f(e,n,i),i+=4;for(let r=0;r<n;r++)lr.e(e,t.charCodeAt(r),i),i+=2;return i}static _readString(e,t){const i=lr.c(e,t);return Da(e,t+=4,i)}writeSize(){return 8+Sf._writeStringSize(this.oldText)+Sf._writeStringSize(this.newText)}write(e,t){return lr.f(e,this.oldPosition,t),t+=4,lr.f(e,this.newPosition,t),t+=4,t=Sf._writeString(e,this.oldText,t),t=Sf._writeString(e,this.newText,t)}static read(e,t,i){const n=lr.c(e,t);t+=4;const r=lr.c(e,t);t+=4;const o=Sf._readString(e,t);t+=Sf._writeStringSize(o);const s=Sf._readString(e,t);return t+=Sf._writeStringSize(s),i.push(new Sf(n,o,r,s)),t}}class xf{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),n=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(null===i){this._acceptCurr(n),n=this._getCurr(++t);continue}if(null===n){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldEnd<=i.newPosition){this._acceptCurr(n),n=this._getCurr(++t);continue}if(i.newEnd<=n.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(n.oldPosition<i.newPosition){const[e,t]=xf._splitCurr(n,i.newPosition-n.oldPosition);this._acceptCurr(e),n=t;continue}if(i.newPosition<n.oldPosition){const[e,t]=xf._splitPrev(i,n.oldPosition-i.newPosition);this._acceptPrev(e),i=t;continue}let r,o;if(n.oldEnd===i.newEnd)r=i,o=n,i=this._getPrev(++e),n=this._getCurr(++t);else if(n.oldEnd<i.newEnd){const[e,s]=xf._splitPrev(i,n.oldLength);r=e,o=n,i=s,n=this._getCurr(++t)}else{const[t,s]=xf._splitCurr(n,i.newLength);r=i,o=t,i=this._getPrev(++e),n=s}this._result[this._resultLen++]=new Sf(r.oldPosition,r.oldText,o.newPosition,o.newText),this._prevDeltaOffset+=r.newLength-r.oldLength,this._currDeltaOffset+=o.newLength-o.oldLength}const r=xf._merge(this._result);return xf._removeNoOps(r)}_acceptCurr(e){this._result[this._resultLen++]=xf._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=xf._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new Sf(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new Sf(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),n=e.newText.substr(t);return[new Sf(e.oldPosition,e.oldText,e.newPosition,i),new Sf(e.oldEnd,"",e.newPosition+t,n)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),n=e.oldText.substr(t);return[new Sf(e.oldPosition,i,e.newPosition,e.newText),new Sf(e.oldPosition+t,n,e.newEnd,"")]}static _merge(e){if(0===e.length)return e;let t=[],i=0,n=e[0];for(let r=1;r<e.length;r++){const o=e[r];n.oldEnd===o.oldPosition?n=new Sf(n.oldPosition,n.oldText+o.oldText,n.newPosition,n.newText+o.newText):(t[i++]=n,n=o)}return t[i++]=n,t}static _removeNoOps(e){if(0===e.length)return e;let t=[],i=0;for(let n=0;n<e.length;n++){const r=e[n];r.oldText!==r.newText&&(t[i++]=r)}return t}}function kf(e){return e.toString()}class Lf{constructor(e,t,i,n,r,o,s){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=n,this.beforeCursorState=r,this.afterCursorState=o,this.changes=s}static create(e,t){const i=e.getAlternativeVersionId(),n=Nf(e);return new Lf(i,i,n,n,t,t,[])}append(e,t,i,n,r){var o,s;t.length>0&&(this.changes=(o=this.changes,s=t,null===o||0===o.length?s:new xf(o,s).compress())),this.afterEOL=i,this.afterVersionId=n,this.afterCursorState=r}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,i){if(lr.f(e,t?t.length:0,i),i+=4,t)for(const n of t)lr.f(e,n.selectionStartLineNumber,i),i+=4,lr.f(e,n.selectionStartColumn,i),i+=4,lr.f(e,n.positionLineNumber,i),i+=4,lr.f(e,n.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const n=lr.c(e,t);t+=4;for(let r=0;r<n;r++){const n=lr.c(e,t);t+=4;const r=lr.c(e,t);t+=4;const o=lr.c(e,t);t+=4;const s=lr.c(e,t);t+=4,i.push(new gt(n,r,o,s))}return t}serialize(){let e=10+Lf._writeSelectionsSize(this.beforeCursorState)+Lf._writeSelectionsSize(this.afterCursorState)+4;for(const t of this.changes)e+=t.writeSize();const t=new Uint8Array(e);let i=0;lr.f(t,this.beforeVersionId,i),i+=4,lr.f(t,this.afterVersionId,i),i+=4,lr.g(t,this.beforeEOL,i),i+=1,lr.g(t,this.afterEOL,i),i+=1,i=Lf._writeSelections(t,this.beforeCursorState,i),i=Lf._writeSelections(t,this.afterCursorState,i),lr.f(t,this.changes.length,i),i+=4;for(const e of this.changes)i=e.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const n=lr.c(t,i);i+=4;const r=lr.c(t,i);i+=4;const o=lr.d(t,i);i+=1;const s=lr.d(t,i);i+=1;const a=[];i=Lf._readSelections(t,i,a);const l=[];i=Lf._readSelections(t,i,l);const c=lr.c(t,i);i+=4;const h=[];for(let e=0;e<c;e++)i=Sf.read(t,i,h);return new Lf(n,r,o,s,a,l,h)}}class Df{constructor(e,t){this.model=e,this._data=Lf.create(e,t)}get type(){return 0}get resource(){return rt.isUri(this.model)?this.model:this.model.uri}get label(){return n(0,"Typing")}toString(){return(this._data instanceof Lf?this._data:Lf.deserialize(this._data)).changes.map(e=>e.toString()).join(", ")}matchesResource(e){return(rt.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof Lf}append(e,t,i,n,r){this._data instanceof Lf&&this._data.append(e,t,i,n,r)}close(){this._data instanceof Lf&&(this._data=this._data.serialize())}undo(){if(rt.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Lf&&(this._data=this._data.serialize());const e=Lf.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(rt.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Lf&&(this._data=this._data.serialize());const e=Lf.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}}class Ef{constructor(e,t){this.type=1,this.label=e,this._isOpen=!0,this._editStackElementsArr=t.slice(0),this._editStackElementsMap=new Map;for(const e of this._editStackElementsArr){const t=kf(e.resource);this._editStackElementsMap.set(t,e)}this._delegate=null}get resources(){return this._editStackElementsArr.map(e=>e.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=kf(e);return this._editStackElementsMap.has(t)}setModel(e){const t=kf(rt.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=kf(e.uri);if(this._editStackElementsMap.has(t)){return this._editStackElementsMap.get(t).canAppend(e)}return!1}append(e,t,i,n,r){const o=kf(e.uri);this._editStackElementsMap.get(o).append(e,t,i,n,r)}close(){this._isOpen=!1}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}split(){return this._editStackElementsArr}}function Nf(e){return"\n"===e.getEOL()?0:1}function Tf(e){return!!e&&(e instanceof Df||e instanceof Ef)}class Of{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Tf(e)&&e.close()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e){const t=this._undoRedoService.getLastElement(this._model.uri);if(Tf(t)&&t.canAppend(this._model))return t;const i=new Df(this._model,e);return this._undoRedoService.pushElement(i),i}pushEOL(e){const t=this._getOrCreateEditStackElement(null);this._model.setEOL(e),t.append(this._model,[],Nf(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i){const n=this._getOrCreateEditStackElement(e),r=this._model.applyEdits(t,!0),o=Of._computeCursorState(i,r),s=r.map((e,t)=>({index:t,textChange:e.textChange}));return s.sort((e,t)=>e.textChange.oldPosition===t.textChange.oldPosition?e.index-t.index:e.textChange.oldPosition-t.textChange.oldPosition),n.append(this._model,s.map(e=>e.textChange),Nf(this._model),this._model.getAlternativeVersionId(),o),o}static _computeCursorState(e,t){try{return e?e(t):null}catch(e){return $(e),null}}}class Mf{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function If(e,t,i,n,r){let o;for(r.spacesDiff=0,r.looksLikeAlignment=!1,o=0;o<t&&o<n;o++){if(e.charCodeAt(o)!==i.charCodeAt(o))break}let s=0,a=0;for(let i=o;i<t;i++){32===e.charCodeAt(i)?s++:a++}let l=0,c=0;for(let e=o;e<n;e++){32===i.charCodeAt(e)?l++:c++}if(s>0&&a>0)return;if(l>0&&c>0)return;let h=Math.abs(a-c),u=Math.abs(s-l);if(0===h)return r.spacesDiff=u,void(u>0&&0<=l-1&&l-1<e.length&&l<i.length&&32!==i.charCodeAt(l)&&32===e.charCodeAt(l-1)&&44===e.charCodeAt(e.length-1)&&(r.looksLikeAlignment=!0));u%h!=0||(r.spacesDiff=u/h)}function Af(e,t,i){const n=Math.min(e.getLineCount(),1e4);let r=0,o=0,s="",a=0;const l=[2,4,6,8,3,5,7];let c=[0,0,0,0,0,0,0,0,0],h=new Mf;for(let l=1;l<=n;l++){let n=e.getLineLength(l),u=e.getLineContent(l);const d=n<=65536;let f=!1,p=0,m=0,g=0;for(let t=0,i=n;t<i;t++){let i=d?u.charCodeAt(t):e.getLineCharCode(l,t);if(9===i)g++;else{if(32!==i){f=!0,p=t;break}m++}}if(!f)continue;if(g>0?r++:m>1&&o++,If(s,a,u,p,h),h.looksLikeAlignment&&(!i||t!==h.spacesDiff))continue;let v=h.spacesDiff;v<=8&&c[v]++,s=u,a=p}let u=i;r!==o&&(u=r<o);let d=t;if(u){let e=u?0:.1*n;l.forEach(t=>{let i=c[t];i>e&&(e=i,d=t)}),4===d&&c[4]>0&&c[2]>0&&c[2]>=c[4]/2&&(d=2)}return{insertSpaces:u,tabSize:d}}function Pf(e){return(1&e.metadata)>>>0}function Rf(e,t){e.metadata=254&e.metadata|t<<0}function Ff(e){return(2&e.metadata)>>>1==1}function Vf(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function Bf(e){return(4&e.metadata)>>>2==1}function Wf(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function $f(e){return(8&e.metadata)>>>3==1}function zf(e,t){e.metadata=247&e.metadata|(t?1:0)<<3}function Hf(e,t){e.metadata=207&e.metadata|t<<4}function jf(e,t){e.metadata=191&e.metadata|(t?1:0)<<6}class Uf{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,Rf(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,Wf(this,!1),Hf(this,1),zf(this,!1),jf(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,Vf(this,!1)}reset(e,t,i,n){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=n}setOptions(e){this.options=e;let t=this.options.className;Wf(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),Hf(this,this.options.stickiness),zf(this,!(!this.options.overviewRuler||!this.options.overviewRuler.color)),jf(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const Kf=new Uf(null,0,0);Kf.parent=Kf,Kf.left=Kf,Kf.right=Kf,Rf(Kf,0);class qf{constructor(){this.root=Kf,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,n,r){return this.root===Kf?[]:function(e,t,i,n,r,o){let s=e.root,a=0,l=0,c=0,h=0,u=[],d=0;for(;s!==Kf;)if(Ff(s))Vf(s.left,!1),Vf(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),s=s.parent;else{if(!Ff(s.left)){if((l=a+s.maxEnd)<t){Vf(s,!0);continue}if(s.left!==Kf){s=s.left;continue}}if((c=a+s.start)>i)Vf(s,!0);else{if((h=a+s.end)>=t){s.setCachedOffsets(c,h,o);let e=!0;n&&s.ownerId&&s.ownerId!==n&&(e=!1),r&&Bf(s)&&(e=!1),e&&(u[d++]=s)}Vf(s,!0),s.right===Kf||Ff(s.right)||(a+=s.delta,s=s.right)}}return Vf(e.root,!1),u}(this,e,t,i,n,r)}search(e,t,i){return this.root===Kf?[]:function(e,t,i,n){let r=e.root,o=0,s=0,a=0,l=[],c=0;for(;r!==Kf;){if(Ff(r)){Vf(r.left,!1),Vf(r.right,!1),r===r.parent.right&&(o-=r.parent.delta),r=r.parent;continue}if(r.left!==Kf&&!Ff(r.left)){r=r.left;continue}s=o+r.start,a=o+r.end,r.setCachedOffsets(s,a,n);let e=!0;t&&r.ownerId&&r.ownerId!==t&&(e=!1),i&&Bf(r)&&(e=!1),e&&(l[c++]=r),Vf(r,!0),r.right===Kf||Ff(r.right)||(o+=r.delta,r=r.right)}return Vf(e.root,!1),l}(this,e,t,i)}collectNodesFromOwner(e){return function(e,t){let i=e.root,n=[],r=0;for(;i!==Kf;)Ff(i)?(Vf(i.left,!1),Vf(i.right,!1),i=i.parent):i.left===Kf||Ff(i.left)?(i.ownerId===t&&(n[r++]=i),Vf(i,!0),i.right===Kf||Ff(i.right)||(i=i.right)):i=i.left;return Vf(e.root,!1),n}(this,e)}collectNodesPostOrder(){return function(e){let t=e.root,i=[],n=0;for(;t!==Kf;)Ff(t)?(Vf(t.left,!1),Vf(t.right,!1),t=t.parent):t.left===Kf||Ff(t.left)?t.right===Kf||Ff(t.right)?(i[n++]=t,Vf(t,!0)):t=t.right:t=t.left;return Vf(e.root,!1),i}(this)}insert(e){Xf(this,e),this._normalizeDeltaIfNecessary()}delete(e){Zf(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let n=0;for(;e!==this.root;)e===e.parent.right&&(n+=e.parent.delta),e=e.parent;const r=i.start+n,o=i.end+n;i.setCachedOffsets(r,o,t)}acceptReplace(e,t,i,n){const r=function(e,t,i){let n=e.root,r=0,o=0,s=0,a=0,l=[],c=0;for(;n!==Kf;)if(Ff(n))Vf(n.left,!1),Vf(n.right,!1),n===n.parent.right&&(r-=n.parent.delta),n=n.parent;else{if(!Ff(n.left)){if((o=r+n.maxEnd)<t){Vf(n,!0);continue}if(n.left!==Kf){n=n.left;continue}}(s=r+n.start)>i?Vf(n,!0):((a=r+n.end)>=t&&(n.setCachedOffsets(s,a,0),l[c++]=n),Vf(n,!0),n.right===Kf||Ff(n.right)||(r+=n.delta,n=n.right))}return Vf(e.root,!1),l}(this,e,e+t);for(let e=0,t=r.length;e<t;e++){Zf(this,r[e])}this._normalizeDeltaIfNecessary(),function(e,t,i,n){let r=e.root,o=0,s=0,a=0;const l=n-(i-t);for(;r!==Kf;)if(Ff(r))Vf(r.left,!1),Vf(r.right,!1),r===r.parent.right&&(o-=r.parent.delta),ip(r),r=r.parent;else{if(!Ff(r.left)){if((s=o+r.maxEnd)<t){Vf(r,!0);continue}if(r.left!==Kf){r=r.left;continue}}(a=o+r.start)>i?(r.start+=l,r.end+=l,r.delta+=l,(r.delta<-1073741824||r.delta>1073741824)&&(e.requestNormalizeDelta=!0),Vf(r,!0)):(Vf(r,!0),r.right===Kf||Ff(r.right)||(o+=r.delta,r=r.right))}Vf(e.root,!1)}(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let o=0,s=r.length;o<s;o++){const s=r[o];s.start=s.cachedAbsoluteStart,s.end=s.cachedAbsoluteEnd,Yf(s,e,e+t,i,n),s.maxEnd=s.end,Xf(this,s)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function(e){let t=e.root,i=0;for(;t!==Kf;)t.left===Kf||Ff(t.left)?t.right===Kf||Ff(t.right)?(t.start=i+t.start,t.end=i+t.end,t.delta=0,ip(t),Vf(t,!0),Vf(t.left,!1),Vf(t.right,!1),t===t.parent.right&&(i-=t.parent.delta),t=t.parent):(i+=t.delta,t=t.right):t=t.left;Vf(e.root,!1)}(this))}}function Gf(e,t,i,n){return e<i||!(e>i)&&(1!==n&&(2===n||t))}function Yf(e,t,i,n,r){const o=function(e){return(48&e.metadata)>>>4}(e),s=0===o||2===o,a=1===o||2===o,l=i-t,c=n,h=Math.min(l,c),u=e.start;let d=!1;const f=e.end;let p=!1;t<=u&&f<=i&&function(e){return(64&e.metadata)>>>6==1}(e)&&(e.start=t,d=!0,e.end=t,p=!0);{const e=r?1:l>0?2:0;!d&&Gf(u,s,t,e)&&(d=!0),!p&&Gf(f,a,t,e)&&(p=!0)}if(h>0&&!r){const e=l>c?2:0;!d&&Gf(u,s,t+h,e)&&(d=!0),!p&&Gf(f,a,t+h,e)&&(p=!0)}{const n=r?1:0;!d&&Gf(u,s,i,n)&&(e.start=t+c,d=!0),!p&&Gf(f,a,i,n)&&(e.end=t+c,p=!0)}const m=c-l;d||(e.start=Math.max(0,u+m)),p||(e.end=Math.max(0,f+m)),e.start>e.end&&(e.end=e.start)}function Xf(e,t){if(e.root===Kf)return t.parent=Kf,t.left=Kf,t.right=Kf,Rf(t,0),e.root=t,e.root;!function(e,t){let i=0,n=e.root;const r=t.start,o=t.end;for(;;){const e=rp(r,o,n.start+i,n.end+i);if(e<0){if(n.left===Kf){t.start-=i,t.end-=i,t.maxEnd-=i,n.left=t;break}n=n.left}else{if(n.right===Kf){t.start-=i+n.delta,t.end-=i+n.delta,t.maxEnd-=i+n.delta,n.right=t;break}i+=n.delta,n=n.right}}t.parent=n,t.left=Kf,t.right=Kf,Rf(t,1)}(e,t),np(t.parent);let i=t;for(;i!==e.root&&1===Pf(i.parent);)if(i.parent===i.parent.parent.left){const t=i.parent.parent.right;1===Pf(t)?(Rf(i.parent,0),Rf(t,0),Rf(i.parent.parent,1),i=i.parent.parent):(i===i.parent.right&&Jf(e,i=i.parent),Rf(i.parent,0),Rf(i.parent.parent,1),ep(e,i.parent.parent))}else{const t=i.parent.parent.left;1===Pf(t)?(Rf(i.parent,0),Rf(t,0),Rf(i.parent.parent,1),i=i.parent.parent):(i===i.parent.left&&ep(e,i=i.parent),Rf(i.parent,0),Rf(i.parent.parent,1),Jf(e,i.parent.parent))}return Rf(e.root,0),t}function Zf(e,t){let i,n;if(t.left===Kf?(n=t,(i=t.right).delta+=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta):t.right===Kf?(i=t.left,n=t):((i=(n=function(e){for(;e.left!==Kf;)e=e.left;return e}(t.right)).right).start+=n.delta,i.end+=n.delta,i.delta+=n.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,n.delta=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0)),n===e.root)return e.root=i,Rf(i,0),t.detach(),Qf(),ip(i),void(e.root.parent=Kf);let r,o=1===Pf(n);if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?i.parent=n.parent:(n.parent===t?i.parent=n:i.parent=n.parent,n.left=t.left,n.right=t.right,n.parent=t.parent,Rf(n,Pf(t)),t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==Kf&&(n.left.parent=n),n.right!==Kf&&(n.right.parent=n)),t.detach(),o)return np(i.parent),n!==t&&(np(n),np(n.parent)),void Qf();for(np(i),np(i.parent),n!==t&&(np(n),np(n.parent));i!==e.root&&0===Pf(i);)i===i.parent.left?(1===Pf(r=i.parent.right)&&(Rf(r,0),Rf(i.parent,1),Jf(e,i.parent),r=i.parent.right),0===Pf(r.left)&&0===Pf(r.right)?(Rf(r,1),i=i.parent):(0===Pf(r.right)&&(Rf(r.left,0),Rf(r,1),ep(e,r),r=i.parent.right),Rf(r,Pf(i.parent)),Rf(i.parent,0),Rf(r.right,0),Jf(e,i.parent),i=e.root)):(1===Pf(r=i.parent.left)&&(Rf(r,0),Rf(i.parent,1),ep(e,i.parent),r=i.parent.left),0===Pf(r.left)&&0===Pf(r.right)?(Rf(r,1),i=i.parent):(0===Pf(r.left)&&(Rf(r.right,0),Rf(r,1),Jf(e,r),r=i.parent.left),Rf(r,Pf(i.parent)),Rf(i.parent,0),Rf(r.left,0),ep(e,i.parent),i=e.root));Rf(i,0),Qf()}function Qf(){Kf.parent=Kf,Kf.delta=0,Kf.start=0,Kf.end=0}function Jf(e,t){const i=t.right;i.delta+=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,t.right=i.left,i.left!==Kf&&(i.left.parent=t),i.parent=t.parent,t.parent===Kf?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left=t,t.parent=i,ip(t),ip(i)}function ep(e,t){const i=t.left;t.delta-=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=i.delta,t.end-=i.delta,t.left=i.right,i.right!==Kf&&(i.right.parent=t),i.parent=t.parent,t.parent===Kf?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,i.right=t,t.parent=i,ip(t),ip(i)}function tp(e){let t=e.end;if(e.left!==Kf){const i=e.left.maxEnd;i>t&&(t=i)}if(e.right!==Kf){const i=e.right.maxEnd+e.delta;i>t&&(t=i)}return t}function ip(e){e.maxEnd=tp(e)}function np(e){for(;e!==Kf;){const t=tp(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function rp(e,t,i,n){return e===i?t-n:e-i}class op{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==sp)return ap(this.right);let e=this;for(;e.parent!==sp&&e.parent.left!==e;)e=e.parent;return e.parent===sp?sp:e.parent}prev(){if(this.left!==sp)return lp(this.left);let e=this;for(;e.parent!==sp&&e.parent.right!==e;)e=e.parent;return e.parent===sp?sp:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const sp=new op(null,0);function ap(e){for(;e.left!==sp;)e=e.left;return e}function lp(e){for(;e.right!==sp;)e=e.right;return e}function cp(e){return e===sp?0:e.size_left+e.piece.length+cp(e.right)}function hp(e){return e===sp?0:e.lf_left+e.piece.lineFeedCnt+hp(e.right)}function up(){sp.parent=sp}function dp(e,t){let i=t.right;i.size_left+=t.size_left+(t.piece?t.piece.length:0),i.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=i.left,i.left!==sp&&(i.left.parent=t),i.parent=t.parent,t.parent===sp?e.root=i:t.parent.left===t?t.parent.left=i:t.parent.right=i,i.left=t,t.parent=i}function fp(e,t){let i=t.left;t.left=i.right,i.right!==sp&&(i.right.parent=t),i.parent=t.parent,t.size_left-=i.size_left+(i.piece?i.piece.length:0),t.lf_left-=i.lf_left+(i.piece?i.piece.lineFeedCnt:0),t.parent===sp?e.root=i:t===t.parent.right?t.parent.right=i:t.parent.left=i,i.right=t,t.parent=i}function pp(e,t){let i,n;if(i=t.left===sp?(n=t).right:t.right===sp?(n=t).left:(n=ap(t.right)).right,n===e.root)return e.root=i,i.color=0,t.detach(),up(),void(e.root.parent=sp);let r,o=1===n.color;if(n===n.parent.left?n.parent.left=i:n.parent.right=i,n===t?(i.parent=n.parent,vp(e,i)):(n.parent===t?i.parent=n:i.parent=n.parent,vp(e,i),n.left=t.left,n.right=t.right,n.parent=t.parent,n.color=t.color,t===e.root?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left!==sp&&(n.left.parent=n),n.right!==sp&&(n.right.parent=n),n.size_left=t.size_left,n.lf_left=t.lf_left,vp(e,n)),t.detach(),i.parent.left===i){let t=cp(i),n=hp(i);if(t!==i.parent.size_left||n!==i.parent.lf_left){let r=t-i.parent.size_left,o=n-i.parent.lf_left;i.parent.size_left=t,i.parent.lf_left=n,gp(e,i.parent,r,o)}}if(vp(e,i.parent),o)up();else{for(;i!==e.root&&0===i.color;)i===i.parent.left?(1===(r=i.parent.right).color&&(r.color=0,i.parent.color=1,dp(e,i.parent),r=i.parent.right),0===r.left.color&&0===r.right.color?(r.color=1,i=i.parent):(0===r.right.color&&(r.left.color=0,r.color=1,fp(e,r),r=i.parent.right),r.color=i.parent.color,i.parent.color=0,r.right.color=0,dp(e,i.parent),i=e.root)):(1===(r=i.parent.left).color&&(r.color=0,i.parent.color=1,fp(e,i.parent),r=i.parent.left),0===r.left.color&&0===r.right.color?(r.color=1,i=i.parent):(0===r.left.color&&(r.right.color=0,r.color=1,dp(e,r),r=i.parent.left),r.color=i.parent.color,i.parent.color=0,r.left.color=0,fp(e,i.parent),i=e.root));i.color=0,up()}}function mp(e,t){for(vp(e,t);t!==e.root&&1===t.parent.color;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&dp(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,fp(e,t.parent.parent))}else{const i=t.parent.parent.left;1===i.color?(t.parent.color=0,i.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&fp(e,t=t.parent),t.parent.color=0,t.parent.parent.color=1,dp(e,t.parent.parent))}e.root.color=0}function gp(e,t,i,n){for(;t!==e.root&&t!==sp;)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}function vp(e,t){let i=0,n=0;if(t!==e.root){if(0===i){for(;t!==e.root&&t===t.parent.right;)t=t.parent;if(t===e.root)return;i=cp((t=t.parent).left)-t.size_left,n=hp(t.left)-t.lf_left,t.size_left+=i,t.lf_left+=n}for(;t!==e.root&&(0!==i||0!==n);)t.parent.left===t&&(t.parent.size_left+=i,t.parent.lf_left+=n),t=t.parent}}sp.parent=sp,sp.left=sp,sp.right=sp,sp.color=0;const bp=function(e){let t={};return i=>(t.hasOwnProperty(i)||(t[i]=e(i)),t[i])}(e=>new class extends gl{constructor(e){super(0);for(let t=0,i=e.length;t<i;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}(e)),_p=999;class yp{constructor(e,t,i,n){this.searchString=e,this.isRegex=t,this.matchCase=i,this.wordSeparators=n}parseSearchRequest(){if(""===this.searchString)return null;let e;e=this.isRegex?function(e){if(!e||0===e.length)return!1;for(let t=0,i=e.length;t<i;t++){const n=e.charCodeAt(t);if(92===n){if(++t>=i)break;const n=e.charCodeAt(t);if(110===n||114===n||87===n||119===n)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let t=null;try{t=hr.o(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch(e){return null}if(!t)return null;let i=!this.isRegex&&!e;return i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(i=this.matchCase),new wp(t,this.wordSeparators?bp(this.wordSeparators):null,i?this.searchString:null)}}class wp{constructor(e,t,i){this.regex=e,this.wordSeparators=t,this.simpleSearch=i}}function Cp(e,t,i){if(!i)return new oo(e,null);let n=[];for(let e=0,i=t.length;e<i;e++)n[e]=t[e];return new oo(e,n)}class Sp{constructor(e){let t=[],i=0;for(let n=0,r=e.length;n<r;n++)10===e.charCodeAt(n)&&(t[i++]=n);this._lineFeedsOffsets=t}findLineFeedCountBeforeOffset(e){const t=this._lineFeedsOffsets;let i=0,n=t.length-1;if(-1===n)return 0;if(e<=t[0])return 0;for(;i<n;){const r=i+((n-i)/2>>0);t[r]>=e?n=r-1:t[r+1]>=e?(i=r,n=r):i=r+1}return i+1}}class xp{static findMatches(e,t,i,n,r){const o=t.parseSearchRequest();return o?o.regex.multiline?this._doFindMatchesMultiline(e,i,new Lp(o.wordSeparators,o.regex),n,r):this._doFindMatchesLineByLine(e,i,o,n,r):[]}static _getMultilineMatchRange(e,t,i,n,r,o){let s,a,l=0;if(s=n?t+r+(l=n.findLineFeedCountBeforeOffset(r)):t+r,n){let e=n.findLineFeedCountBeforeOffset(r+o.length)-l;a=s+o.length+e}else a=s+o.length;const c=e.getPositionAt(s),h=e.getPositionAt(a);return new mt(c.lineNumber,c.column,h.lineNumber,h.column)}static _doFindMatchesMultiline(e,t,i,n,r){const o=e.getOffsetAt(t.getStartPosition()),s=e.getValueInRange(t,1),a="\r\n"===e.getEOL()?new Sp(s):null,l=[];let c,h=0;for(i.reset(0);c=i.next(s);)if(l[h++]=Cp(this._getMultilineMatchRange(e,o,s,a,c.index,c[0]),c,n),h>=r)return l;return l}static _doFindMatchesLineByLine(e,t,i,n,r){const o=[];let s=0;if(t.startLineNumber===t.endLineNumber){const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return s=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,s,o,n,r),o}const a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);s=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,s,o,n,r);for(let a=t.startLineNumber+1;a<t.endLineNumber&&s<r;a++)s=this._findMatchesInLine(i,e.getLineContent(a),a,0,s,o,n,r);if(s<r){const a=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);s=this._findMatchesInLine(i,a,t.endLineNumber,0,s,o,n,r)}return o}static _findMatchesInLine(e,t,i,n,r,o,s,a){const l=e.wordSeparators;if(!s&&e.simpleSearch){const s=e.simpleSearch,c=s.length,h=t.length;let u=-c;for(;-1!==(u=t.indexOf(s,u+c));)if((!l||kp(l,t,h,u,c))&&(o[r++]=new oo(new mt(i,u+1+n,i,u+1+c+n),null),r>=a))return r;return r}const c=new Lp(e.wordSeparators,e.regex);let h;c.reset(0);do{if((h=c.next(t))&&(o[r++]=Cp(new mt(i,h.index+1+n,i,h.index+1+h[0].length+n),h,s),r>=a))return r}while(h);return r}static findNextMatch(e,t,i,n){const r=t.parseSearchRequest();if(!r)return null;const o=new Lp(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindNextMatchMultiline(e,i,o,n):this._doFindNextMatchLineByLine(e,i,o,n)}static _doFindNextMatchMultiline(e,t,i,n){const r=new pt(t.lineNumber,1),o=e.getOffsetAt(r),s=e.getLineCount(),a=e.getValueInRange(new mt(r.lineNumber,r.column,s,e.getLineMaxColumn(s)),1),l="\r\n"===e.getEOL()?new Sp(a):null;i.reset(t.column-1);let c=i.next(a);return c?Cp(this._getMultilineMatchRange(e,o,a,l,c.index,c[0]),c,n):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new pt(1,1),i,n):null}static _doFindNextMatchLineByLine(e,t,i,n){const r=e.getLineCount(),o=t.lineNumber,s=e.getLineContent(o),a=this._findFirstMatchInLine(i,s,o,t.column,n);if(a)return a;for(let t=1;t<=r;t++){const s=(o+t-1)%r,a=e.getLineContent(s+1),l=this._findFirstMatchInLine(i,a,s+1,1,n);if(l)return l}return null}static _findFirstMatchInLine(e,t,i,n,r){e.reset(n-1);const o=e.next(t);return o?Cp(new mt(i,o.index+1,i,o.index+1+o[0].length),o,r):null}static findPreviousMatch(e,t,i,n){const r=t.parseSearchRequest();if(!r)return null;const o=new Lp(r.wordSeparators,r.regex);return r.regex.multiline?this._doFindPreviousMatchMultiline(e,i,o,n):this._doFindPreviousMatchLineByLine(e,i,o,n)}static _doFindPreviousMatchMultiline(e,t,i,n){const r=this._doFindMatchesMultiline(e,new mt(1,1,t.lineNumber,t.column),i,n,10*_p);if(r.length>0)return r[r.length-1];const o=e.getLineCount();return t.lineNumber!==o||t.column!==e.getLineMaxColumn(o)?this._doFindPreviousMatchMultiline(e,new pt(o,e.getLineMaxColumn(o)),i,n):null}static _doFindPreviousMatchLineByLine(e,t,i,n){const r=e.getLineCount(),o=t.lineNumber,s=e.getLineContent(o).substring(0,t.column-1),a=this._findLastMatchInLine(i,s,o,n);if(a)return a;for(let t=1;t<=r;t++){const s=(r+o-t-1)%r,a=e.getLineContent(s+1),l=this._findLastMatchInLine(i,a,s+1,n);if(l)return l}return null}static _findLastMatchInLine(e,t,i,n){let r,o=null;for(e.reset(0);r=e.next(t);)o=Cp(new mt(i,r.index+1,i,r.index+1+r[0].length),r,n);return o}}function kp(e,t,i,n,r){return function(e,t,i,n,r){if(0===n)return!0;const o=t.charCodeAt(n-1);if(0!==e.get(o))return!0;if(13===o||10===o)return!0;if(r>0){const i=t.charCodeAt(n);if(0!==e.get(i))return!0}return!1}(e,t,0,n,r)&&function(e,t,i,n,r){if(n+r===i)return!0;const o=t.charCodeAt(n+r);if(0!==e.get(o))return!0;if(13===o||10===o)return!0;if(r>0){const i=t.charCodeAt(n+r-1);if(0!==e.get(i))return!0}return!1}(e,t,i,n,r)}class Lp{constructor(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(e){const t=e.length;let i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t)return null;if(!(i=this._searchRegex.exec(e)))return null;const n=i.index,r=i[0].length;if(n===this._prevMatchStartIndex&&r===this._prevMatchLength){if(0===r){hr.y(e,t,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=n,this._prevMatchLength=r,!this._wordSeparators||kp(this._wordSeparators,e,t,n,r))return i}while(i);return null}}const Dp=65535;function Ep(e){let t;return(t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length)).set(e,0),t}class Np{constructor(e,t,i,n,r){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=n,this.isBasicASCII=r}}function Tp(e,t=!0){let i=[0],n=1;for(let t=0,r=e.length;t<r;t++){const o=e.charCodeAt(t);13===o?t+1<r&&10===e.charCodeAt(t+1)?(i[n++]=t+2,t++):i[n++]=t+1:10===o&&(i[n++]=t+1)}return t?Ep(i):i}class Op{constructor(e,t,i,n,r){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=n,this.length=r}}class Mp{constructor(e,t){this.buffer=e,this.lineStarts=t}}class Ip{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==sp&&e.iterate(e.root,e=>(e!==sp&&this._pieces.push(e.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Ap{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){let i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1,i=this._cache;for(let n=0;n<i.length;n++){let r=i[n];(null===r.node.parent||r.nodeStartOffset>=e)&&(i[n]=null,t=!0)}if(t){let e=[];for(const t of i)null!==t&&e.push(t);this._cache=e}}}class Pp{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new Mp("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=sp,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let n=null;for(let t=0,i=e.length;t<i;t++)if(e[t].buffer.length>0){e[t].lineStarts||(e[t].lineStarts=Tp(e[t].buffer));let i=new Op(t+1,{line:0,column:0},{line:e[t].lineStarts.length-1,column:e[t].buffer.length-e[t].lineStarts[e[t].lineStarts.length-1]},e[t].lineStarts.length-1,e[t].buffer.length);this._buffers.push(e[t]),n=this.rbInsertRight(n,i)}this._searchCache=new Ap(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){let t=Dp,i=t-Math.floor(t/3),n=2*i,r="",o=0,s=[];if(this.iterate(this.root,t=>{let a=this.getNodeContent(t),l=a.length;if(o<=i||o+l<n)return r+=a,o+=l,!0;let c=r.replace(/\r\n|\r|\n/g,e);return s.push(new Mp(c,Tp(c))),r=a,o=l,!0}),o>0){let t=r.replace(/\r\n|\r|\n/g,e);s.push(new Mp(t,Tp(t)))}this.create(s,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new Ip(this,e)}getOffsetAt(e,t){let i=0,n=this.root;for(;n!==sp;)if(n.left!==sp&&n.lf_left+1>=e)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt+1>=e){return(i+=n.size_left)+(this.getAccumulatedValue(n,e-n.lf_left-2)+t-1)}e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0,n=e;for(;t!==sp;)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){let r=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+r.index,0===r.index){let e=this.getOffsetAt(i+1,1);return new pt(i+1,n-e+1)}return new pt(i+1,r.remainder+1)}if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===sp){let t=this.getOffsetAt(i+1,1);return new pt(i+1,n-e-t+1)}t=t.right}return new pt(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";let i=this.nodeAt2(e.startLineNumber,e.startColumn),n=this.nodeAt2(e.endLineNumber,e.endColumn),r=this.getValueInRange2(i,n);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?r:r.replace(/\r\n|\r|\n/g,t):r}getValueInRange2(e,t){if(e.node===t.node){let i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,r=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n.substring(r+e.remainder,r+t.remainder)}let i=e.node,n=this._buffers[i.piece.bufferIndex].buffer,r=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start),o=n.substring(r+e.remainder,r+i.piece.length);for(i=i.next();i!==sp;){let e=this._buffers[i.piece.bufferIndex].buffer,n=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){o+=e.substring(n,n+t.remainder);break}o+=e.substr(n,i.piece.length),i=i.next()}return o}getLinesContent(){let e=[],t=0,i="",n=!1;return this.iterate(this.root,r=>{if(r===sp)return!0;const o=r.piece;let s=o.length;if(0===s)return!0;const a=this._buffers[o.bufferIndex].buffer,l=this._buffers[o.bufferIndex].lineStarts,c=o.start.line,h=o.end.line;let u=l[c]+o.start.column;if(n&&(10===a.charCodeAt(u)&&(u++,s--),e[t++]=i,i="",n=!1,0===s))return!0;if(c===h)return this._EOLNormalized||13!==a.charCodeAt(u+s-1)?i+=a.substr(u,s):(n=!0,i+=a.substr(u,s-1)),!0;i+=this._EOLNormalized?a.substring(u,Math.max(u,l[c+1]-this._EOLLength)):a.substring(u,l[c+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let n=c+1;n<h;n++)i=this._EOLNormalized?a.substring(l[n],l[n+1]-this._EOLLength):a.substring(l[n],l[n+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return this._EOLNormalized||13!==a.charCodeAt(l[h]+o.end.column-1)?i=a.substr(l[h],o.end.column):(n=!0,0===o.end.column?t--:i=a.substr(l[h],o.end.column-1)),!0}),n&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){let t=e.node.next();if(!t)return 0;let i=this._buffers[t.piece.bufferIndex],n=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(n)}{let t=this._buffers[e.node.piece.bufferIndex],i=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(i)}}getLineCharCode(e,t){let i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){let t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,n,r,o,s,a,l,c,h){let u,d,f,p=this._buffers[e.piece.bufferIndex],m=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),g=this.offsetInBuffer(e.piece.bufferIndex,r),v=this.offsetInBuffer(e.piece.bufferIndex,o),b={line:0,column:0};t._wordSeparators?(d=p.buffer.substring(g,v),f=(e=>e+g),t.reset(0)):(d=p.buffer,f=(e=>e),t.reset(g));do{if(u=t.next(d)){if(f(u.index)>=v)return c;this.positionInBuffer(e,f(u.index)-m,b);let t=this.getLineFeedCnt(e.piece.bufferIndex,r,b),o=b.line===r.line?b.column-r.column+n:b.column+1,s=o+u[0].length;if(h[c++]=Cp(new mt(i+t,o,i+t,s),u,a),f(u.index)+u[0].length>=v)return c;if(c>=l)return c}}while(u);return c}findMatchesLineByLine(e,t,i,n){const r=[];let o=0;const s=new Lp(t.wordSeparators,t.regex);let a=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===a)return[];let l=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===l)return[];let c=this.positionInBuffer(a.node,a.remainder),h=this.positionInBuffer(l.node,l.remainder);if(a.node===l.node)return this.findMatchesInNode(a.node,s,e.startLineNumber,e.startColumn,c,h,t,i,n,o,r),r;let u=e.startLineNumber,d=a.node;for(;d!==l.node;){let l=this.getLineFeedCnt(d.piece.bufferIndex,c,d.piece.end);if(l>=1){let a=this._buffers[d.piece.bufferIndex].lineStarts,h=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start),f=a[c.line+l],p=u===e.startLineNumber?e.startColumn:1;if((o=this.findMatchesInNode(d,s,u,p,c,this.positionInBuffer(d,f-h),t,i,n,o,r))>=n)return r;u+=l}let h=u===e.startLineNumber?e.startColumn-1:0;if(u===e.endLineNumber){const a=this.getLineContent(u).substring(h,e.endColumn-1);return o=this._findMatchesInLine(t,s,a,e.endLineNumber,h,o,r,i,n),r}if((o=this._findMatchesInLine(t,s,this.getLineContent(u).substr(h),u,h,o,r,i,n))>=n)return r;u++,d=(a=this.nodeAt2(u,1)).node,c=this.positionInBuffer(a.node,a.remainder)}if(u===e.endLineNumber){let a=u===e.startLineNumber?e.startColumn-1:0;const l=this.getLineContent(u).substring(a,e.endColumn-1);return o=this._findMatchesInLine(t,s,l,e.endLineNumber,a,o,r,i,n),r}let f=u===e.startLineNumber?e.startColumn:1;return o=this.findMatchesInNode(l.node,s,u,f,c,h,t,i,n,o,r),r}_findMatchesInLine(e,t,i,n,r,o,s,a,l){const c=e.wordSeparators;if(!a&&e.simpleSearch){const t=e.simpleSearch,a=t.length,h=i.length;let u=-a;for(;-1!==(u=i.indexOf(t,u+a));)if((!c||kp(c,i,h,u,a))&&(s[o++]=new oo(new mt(n,u+1+r,n,u+1+a+r),null),o>=l))return o;return o}let h;t.reset(0);do{if((h=t.next(i))&&(s[o++]=Cp(new mt(n,h.index+1+r,n,h.index+1+h[0].length+r),h,a),o>=l))return o}while(h);return o}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==sp){let{node:i,remainder:n,nodeStartOffset:r}=this.nodeAt(e),o=i.piece,s=o.bufferIndex,a=this.positionInBuffer(i,n);if(0===i.piece.bufferIndex&&o.end.line===this._lastChangeBufferPos.line&&o.end.column===this._lastChangeBufferPos.column&&r+o.length===e&&t.length<Dp)return this.appendToNode(i,t),void this.computeBufferMetadata();if(r===e)this.insertContentToNodeLeft(t,i),this._searchCache.validate(e);else if(r+i.piece.length>e){let e=[],r=new Op(o.bufferIndex,a,o.end,this.getLineFeedCnt(o.bufferIndex,a,o.end),this.offsetInBuffer(s,o.end)-this.offsetInBuffer(s,a));if(this.shouldCheckCRLF()&&this.endWithCR(t)){if(10===this.nodeCharCodeAt(i,n)){let e={line:r.start.line+1,column:0};r=new Op(r.bufferIndex,e,r.end,this.getLineFeedCnt(r.bufferIndex,e,r.end),r.length-1),t+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){if(13===this.nodeCharCodeAt(i,n-1)){let r=this.positionInBuffer(i,n-1);this.deleteNodeTail(i,r),t="\r"+t,0===i.piece.length&&e.push(i)}else this.deleteNodeTail(i,a)}else this.deleteNodeTail(i,a);let l=this.createNewPieces(t);r.length>0&&this.rbInsertRight(i,r);let c=i;for(let e=0;e<l.length;e++)c=this.rbInsertRight(c,l[e]);this.deleteNodes(e)}else this.insertContentToNodeRight(t,i)}else{let e=this.createNewPieces(t),i=this.rbInsertLeft(null,e[0]);for(let t=1;t<e.length;t++)i=this.rbInsertRight(i,e[t])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===sp)return;let i=this.nodeAt(e),n=this.nodeAt(e+t),r=i.node,o=n.node;if(r===o){let o=this.positionInBuffer(r,i.remainder),s=this.positionInBuffer(r,n.remainder);if(i.nodeStartOffset===e){if(t===r.piece.length){let e=r.next();return pp(this,r),this.validateCRLFWithPrevNode(e),void this.computeBufferMetadata()}return this.deleteNodeHead(r,s),this._searchCache.validate(e),this.validateCRLFWithPrevNode(r),void this.computeBufferMetadata()}return i.nodeStartOffset+r.piece.length===e+t?(this.deleteNodeTail(r,o),this.validateCRLFWithNextNode(r),void this.computeBufferMetadata()):(this.shrinkNode(r,o,s),void this.computeBufferMetadata())}let s=[],a=this.positionInBuffer(r,i.remainder);this.deleteNodeTail(r,a),this._searchCache.validate(e),0===r.piece.length&&s.push(r);let l=this.positionInBuffer(o,n.remainder);this.deleteNodeHead(o,l),0===o.piece.length&&s.push(o);for(let e=r.next();e!==sp&&e!==o;e=e.next())s.push(e);let c=0===r.piece.length?r.prev():r;this.deleteNodes(s),this.validateCRLFWithNextNode(c),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){let i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){let n=t.piece,r={line:n.start.line+1,column:0},o=new Op(n.bufferIndex,r,n.end,this.getLineFeedCnt(n.bufferIndex,r,n.end),n.length-1);t.piece=o,e+="\n",gp(this,t,-1,-1),0===t.piece.length&&i.push(t)}let n=this.createNewPieces(e),r=this.rbInsertLeft(t,n[n.length-1]);for(let e=n.length-2;e>=0;e--)r=this.rbInsertLeft(r,n[e]);this.validateCRLFWithPrevNode(r),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");let i=this.createNewPieces(e),n=this.rbInsertRight(t,i[0]),r=n;for(let e=1;e<i.length;e++)r=this.rbInsertRight(r,i[e]);this.validateCRLFWithPrevNode(n)}positionInBuffer(e,t,i){let n=e.piece,r=e.piece.bufferIndex,o=this._buffers[r].lineStarts,s=o[n.start.line]+n.start.column+t,a=n.start.line,l=n.end.line,c=0,h=0,u=0;for(;a<=l&&(u=o[c=a+(l-a)/2|0],c!==l);)if(h=o[c+1],s<u)l=c-1;else{if(!(s>=h))break;a=c+1}return i?(i.line=c,i.column=s-u,null):{line:c,column:s-u}}getLineFeedCnt(e,t,i){if(0===i.column)return i.line-t.line;let n=this._buffers[e].lineStarts;if(i.line===n.length-1)return i.line-t.line;let r=n[i.line+1],o=n[i.line]+i.column;if(r>o+1)return i.line-t.line;let s=o-1;return 13===this._buffers[e].buffer.charCodeAt(s)?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)pp(this,e[t])}createNewPieces(e){if(e.length>Dp){let t=[];for(;e.length>Dp;){const i=e.charCodeAt(Dp-1);let n;13===i||i>=55296&&i<=56319?(n=e.substring(0,Dp-1),e=e.substring(Dp-1)):(n=e.substring(0,Dp),e=e.substring(Dp));let r=Tp(n);t.push(new Op(this._buffers.length,{line:0,column:0},{line:r.length-1,column:n.length-r[r.length-1]},r.length-1,n.length)),this._buffers.push(new Mp(n,r))}let i=Tp(e);return t.push(new Op(this._buffers.length,{line:0,column:0},{line:i.length-1,column:e.length-i[i.length-1]},i.length-1,e.length)),this._buffers.push(new Mp(e,i)),t}let t=this._buffers[0].buffer.length;const i=Tp(e,!1);let n=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&0!==t&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},n=this._lastChangeBufferPos;for(let e=0;e<i.length;e++)i[e]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(0!==t)for(let e=0;e<i.length;e++)i[e]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const r=this._buffers[0].buffer.length;let o=this._buffers[0].lineStarts.length-1,s={line:o,column:r-this._buffers[0].lineStarts[o]},a=new Op(0,n,s,this.getLineFeedCnt(0,n,s),r-t);return this._lastChangeBufferPos=s,[a]}getLineRawContent(e,t=0){let i=this.root,n="",r=this._searchCache.get2(e);if(r){i=r.node;let o=this.getAccumulatedValue(i,e-r.nodeStartLineNumber-1),s=this._buffers[i.piece.bufferIndex].buffer,a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(r.nodeStartLineNumber+i.piece.lineFeedCnt!==e){let n=this.getAccumulatedValue(i,e-r.nodeStartLineNumber);return s.substring(a+o,a+n-t)}n=s.substring(a+o,a+i.piece.length)}else{let r=0;const o=e;for(;i!==sp;)if(i.left!==sp&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){let n=this.getAccumulatedValue(i,e-i.lf_left-2),s=this.getAccumulatedValue(i,e-i.lf_left-1),a=this._buffers[i.piece.bufferIndex].buffer,l=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return r+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:r,nodeStartLineNumber:o-(e-1-i.lf_left)}),a.substring(l+n,l+s-t)}if(i.lf_left+i.piece.lineFeedCnt===e-1){let t=this.getAccumulatedValue(i,e-i.lf_left-2),r=this._buffers[i.piece.bufferIndex].buffer,o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n=r.substring(o+t,o+i.piece.length);break}e-=i.lf_left+i.piece.lineFeedCnt,r+=i.size_left+i.piece.length,i=i.right}}for(i=i.next();i!==sp;){let e=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){let r=this.getAccumulatedValue(i,0),o=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n+=e.substring(o,o+r-t)}{let t=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n+=e.substr(t,i.piece.length)}i=i.next()}return n}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==sp;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){let i=e.piece,n=this.positionInBuffer(e,t),r=n.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){let t=this.getLineFeedCnt(e.piece.bufferIndex,i.start,n);if(t!==r)return{index:t,remainder:0}}return{index:r,remainder:n.column}}getAccumulatedValue(e,t){if(t<0)return 0;let i=e.piece,n=this._buffers[i.bufferIndex].lineStarts,r=i.start.line+t+1;return r>i.end.line?n[i.end.line]+i.end.column-n[i.start.line]-i.start.column:n[r]-n[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,n=i.lineFeedCnt,r=this.offsetInBuffer(i.bufferIndex,i.end),o=t,s=this.offsetInBuffer(i.bufferIndex,o),a=this.getLineFeedCnt(i.bufferIndex,i.start,o),l=a-n,c=s-r,h=i.length+c;e.piece=new Op(i.bufferIndex,i.start,o,a,h),gp(this,e,c,l)}deleteNodeHead(e,t){const i=e.piece,n=i.lineFeedCnt,r=this.offsetInBuffer(i.bufferIndex,i.start),o=t,s=this.getLineFeedCnt(i.bufferIndex,o,i.end),a=s-n,l=r-this.offsetInBuffer(i.bufferIndex,o),c=i.length+l;e.piece=new Op(i.bufferIndex,o,i.end,s,c),gp(this,e,l,a)}shrinkNode(e,t,i){const n=e.piece,r=n.start,o=n.end,s=n.length,a=n.lineFeedCnt,l=t,c=this.getLineFeedCnt(n.bufferIndex,n.start,l),h=this.offsetInBuffer(n.bufferIndex,t)-this.offsetInBuffer(n.bufferIndex,r);e.piece=new Op(n.bufferIndex,n.start,l,c,h),gp(this,e,h-s,c-a);let u=new Op(n.bufferIndex,i,o,this.getLineFeedCnt(n.bufferIndex,i,o),this.offsetInBuffer(n.bufferIndex,o)-this.offsetInBuffer(n.bufferIndex,i)),d=this.rbInsertRight(e,u);this.validateCRLFWithPrevNode(d)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),n=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const r=Tp(t,!1);for(let e=0;e<r.length;e++)r[e]+=n;if(i){let e=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-e}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1));const o=this._buffers[0].lineStarts.length-1,s={line:o,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[o]},a=e.piece.length+t.length,l=e.piece.lineFeedCnt,c=this.getLineFeedCnt(0,e.piece.start,s),h=c-l;e.piece=new Op(e.piece.bufferIndex,e.piece.start,s,c,a),this._lastChangeBufferPos=s,gp(this,e,t.length,h)}nodeAt(e){let t=this.root,i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let n=0;for(;t!==sp;)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){n+=t.size_left;let i={node:t,remainder:e-t.size_left,nodeStartOffset:n};return this._searchCache.set(i),i}e-=t.size_left+t.piece.length,n+=t.size_left+t.piece.length,t=t.right}return null}nodeAt2(e,t){let i=this.root,n=0;for(;i!==sp;)if(i.left!==sp&&i.lf_left>=e-1)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt>e-1){let r=this.getAccumulatedValue(i,e-i.lf_left-2),o=this.getAccumulatedValue(i,e-i.lf_left-1);return n+=i.size_left,{node:i,remainder:Math.min(r+t-1,o),nodeStartOffset:n}}if(i.lf_left+i.piece.lineFeedCnt===e-1){let r=this.getAccumulatedValue(i,e-i.lf_left-2);if(r+t-1<=i.piece.length)return{node:i,remainder:r+t-1,nodeStartOffset:n};t-=i.piece.length-r;break}e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==sp;){if(i.piece.lineFeedCnt>0){let e=this.getAccumulatedValue(i,0),n=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,e),nodeStartOffset:n}}if(i.piece.length>=t-1){return{node:i,remainder:t-1,nodeStartOffset:this.offsetOfNode(i)}}t-=i.piece.length,i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;let i=this._buffers[e.piece.bufferIndex],n=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(n)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(e){if("string"==typeof e)return 10===e.charCodeAt(0);if(e===sp||0===e.piece.lineFeedCnt)return!1;let t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,n=t.start.line,r=i[n]+t.start.column;return n!==i.length-1&&(!(i[n+1]>r+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(r))}endWithCR(e){return"string"==typeof e?13===e.charCodeAt(e.length-1):e!==sp&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){let t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){let i,n=[],r=this._buffers[e.piece.bufferIndex].lineStarts;i=0===e.piece.end.column?{line:e.piece.end.line-1,column:r[e.piece.end.line]-r[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};const o=e.piece.length-1,s=e.piece.lineFeedCnt-1;e.piece=new Op(e.piece.bufferIndex,e.piece.start,i,s,o),gp(this,e,-1,-1),0===e.piece.length&&n.push(e);let a={line:t.piece.start.line+1,column:0};const l=t.piece.length-1,c=this.getLineFeedCnt(t.piece.bufferIndex,a,t.piece.end);t.piece=new Op(t.piece.bufferIndex,a,t.piece.end,c,l),gp(this,t,-1,-1),0===t.piece.length&&n.push(t);let h=this.createNewPieces("\r\n");this.rbInsertRight(e,h[0]);for(let e=0;e<n.length;e++)pp(this,n[e])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){let i=t.next();if(this.startWithLF(i)){if(e+="\n",1===i.piece.length)pp(this,i);else{const e=i.piece,t={line:e.start.line+1,column:0},n=e.length-1,r=this.getLineFeedCnt(e.bufferIndex,t,e.end);i.piece=new Op(e.bufferIndex,t,e.end,r,n),gp(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===sp)return t(sp);let i=this.iterate(e.left,t);return i?t(e)&&this.iterate(e.right,t):i}getNodeContent(e){if(e===sp)return"";let t,i=this._buffers[e.piece.bufferIndex],n=e.piece,r=this.offsetInBuffer(n.bufferIndex,n.start),o=this.offsetInBuffer(n.bufferIndex,n.end);return t=i.buffer.substring(r,o)}getPieceContent(e){let t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),n=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,n)}rbInsertRight(e,t){let i=new op(t,1);if(i.left=sp,i.right=sp,i.parent=sp,i.size_left=0,i.lf_left=0,this.root===sp)this.root=i,i.color=0;else if(e.right===sp)e.right=i,i.parent=e;else{let t=ap(e.right);t.left=i,i.parent=t}return mp(this,i),i}rbInsertLeft(e,t){let i=new op(t,1);if(i.left=sp,i.right=sp,i.parent=sp,i.size_left=0,i.lf_left=0,this.root===sp)this.root=i,i.color=0;else if(e.left===sp)e.left=i,i.parent=e;else{let t=lp(e.left);t.right=i,i.parent=t}return mp(this,i),i}}function Rp(e){let t=0,i=0,n=0,r=0;for(let o=0,s=e.length;o<s;o++){const a=e.charCodeAt(o);13===a?(0===t&&(i=o),t++,o+1<s&&10===e.charCodeAt(o+1)?(r|=2,o++):r|=3,n=o+1):10===a&&(r|=1,0===t&&(i=o),t++,n=o+1)}return 0===t&&(i=e.length),[t,i,e.length-n,r]}function Fp(e){return(16384|e<<0|2<<23)>>>0}const Vp=new Uint32Array(0).buffer;class Bp{constructor(){this.tokens=[]}add(e,t){if(this.tokens.length>0){const i=this.tokens[this.tokens.length-1];if(i.startLineNumber+i.tokens.length-1+1===e)return void i.tokens.push(t)}this.tokens.push(new Hp(e,[t]))}}class Wp{constructor(e){this._tokens=e,this._tokenCount=e.length/4}toString(e){let t=[];for(let i=0;i<this._tokenCount;i++)t.push(`(${this._getDeltaLine(i)+e},${this._getStartCharacter(i)}-${this._getEndCharacter(i)})`);return`[${t.join(",")}]`}getMaxDeltaLine(){const e=this._getTokenCount();return 0===e?-1:this._getDeltaLine(e-1)}getRange(){const e=this._getTokenCount();if(0===e)return null;const t=this._getStartCharacter(0),i=this._getDeltaLine(e-1),n=this._getEndCharacter(e-1);return new mt(0,t+1,i,n+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(e){return this._tokens[4*e]}_getStartCharacter(e){return this._tokens[4*e+1]}_getEndCharacter(e){return this._tokens[4*e+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(e){let t=0,i=this._getTokenCount()-1;for(;t<i;){const n=t+Math.floor((i-t)/2),r=this._getDeltaLine(n);if(r<e)t=n+1;else{if(!(r>e)){let r=n;for(;r>t&&this._getDeltaLine(r-1)===e;)r--;let o=n;for(;o<i&&this._getDeltaLine(o+1)===e;)o++;return new $p(this._tokens.subarray(4*r,4*o+4))}i=n-1}}return this._getDeltaLine(t)===e?new $p(this._tokens.subarray(4*t,4*t+4)):null}clear(){this._tokenCount=0}removeTokens(e,t,i,n){const r=this._tokens,o=this._tokenCount;let s=0,a=!1,l=0;for(let c=0;c<o;c++){const o=4*c,h=r[o],u=r[o+1],d=r[o+2],f=r[o+3];if((h>e||h===e&&d>=t)&&(h<i||h===i&&u<=n))a=!0;else{if(0===s&&(l=h),a){const e=4*s;r[e]=h-l,r[e+1]=u,r[e+2]=d,r[e+3]=f}s++}}return this._tokenCount=s,l}split(e,t,i,n){const r=this._tokens,o=this._tokenCount;let s=[],a=[],l=s,c=0,h=0;for(let s=0;s<o;s++){const o=4*s,u=r[o],d=r[o+1],f=r[o+2],p=r[o+3];if(u>e||u===e&&f>=t){if(u<i||u===i&&d<=n)continue;l!==a&&(l=a,c=0,h=u)}l[c++]=u-h,l[c++]=d,l[c++]=f,l[c++]=p}return[new Wp(new Uint32Array(s)),new Wp(new Uint32Array(a)),h]}acceptDeleteRange(e,t,i,n,r){const o=this._tokens,s=this._tokenCount,a=n-t;let l=0,c=!1;for(let h=0;h<s;h++){const u=4*h;let d=o[u],f=o[u+1],p=o[u+2];const m=o[u+3];if(d<t||d===t&&p<=i){l++;continue}if(d===t&&f<i)d===n&&p>r?p-=r-i:p=i;else if(d===t&&f===i){if(!(d===n&&p>r)){c=!0;continue}p-=r-i}else if(d<n||d===n&&f<r){if(!(d===n&&p>r)){c=!0;continue}p=d===t?(f=i)+(p-r):(f=0)+(p-r)}else if(d>n){if(0===a&&!c){l=s;break}d-=a}else{if(!(d===n&&f>=r))throw new Error("Not possible!");e&&0===d&&(f+=e,p+=e),d-=a,f-=r-i,p-=r-i}const g=4*l;o[g]=d,o[g+1]=f,o[g+2]=p,o[g+3]=m,l++}this._tokenCount=l}acceptInsertText(e,t,i,n,r,o){const s=0===i&&1===n&&(o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122),a=this._tokens,l=this._tokenCount;for(let o=0;o<l;o++){const l=4*o;let c=a[l],h=a[l+1],u=a[l+2];if(!(c<e||c===e&&u<t)){if(c===e&&u===t){if(!s)continue;u+=1}else if(c===e&&h<t&&t<u)0===i?u+=n:u=t;else{if(c===e&&h===t&&s)continue;if(c===e)if(c+=i,0===i)h+=n,u+=n;else{const e=u-h;u=(h=r+(h-t))+e}else c+=i}a[l]=c,a[l+1]=h,a[l+2]=u}}}}class $p{constructor(e){this._tokens=e}getCount(){return this._tokens.length/4}getStartCharacter(e){return this._tokens[4*e+1]}getEndCharacter(e){return this._tokens[4*e+2]}getMetadata(e){return this._tokens[4*e+3]}}class zp{constructor(e,t){this.startLineNumber=e,this.tokens=t,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}toString(){return this.tokens.toString(this.startLineNumber)}_updateEndLineNumber(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}isEmpty(){return this.tokens.isEmpty()}getLineTokens(e){return this.startLineNumber<=e&&e<=this.endLineNumber?this.tokens.getLineTokens(e-this.startLineNumber):null}getRange(){const e=this.tokens.getRange();return e?new mt(this.startLineNumber+e.startLineNumber,e.startColumn,this.startLineNumber+e.endLineNumber,e.endColumn):e}removeTokens(e){const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;this.startLineNumber+=this.tokens.removeTokens(t,e.startColumn-1,i,e.endColumn-1),this._updateEndLineNumber()}split(e){const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber,[n,r,o]=this.tokens.split(t,e.startColumn-1,i,e.endColumn-1);return[new zp(this.startLineNumber,n),new zp(this.startLineNumber+o,r)]}applyEdit(e,t){const[i,n,r]=Rp(t);this.acceptEdit(e,i,n,r,t.length>0?t.charCodeAt(0):0)}acceptEdit(e,t,i,n,r){this._acceptDeleteRange(e),this._acceptInsertText(new pt(e.startLineNumber,e.startColumn),t,i,n,r),this._updateEndLineNumber()}_acceptDeleteRange(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return;const t=e.startLineNumber-this.startLineNumber,i=e.endLineNumber-this.startLineNumber;if(i<0){const e=i-t;return void(this.startLineNumber-=e)}const n=this.tokens.getMaxDeltaLine();if(!(t>=n+1)){if(t<0&&i>=n+1)return this.startLineNumber=0,void this.tokens.clear();if(t<0){const n=-t;this.startLineNumber-=n,this.tokens.acceptDeleteRange(e.startColumn-1,0,0,i,e.endColumn-1)}else this.tokens.acceptDeleteRange(0,t,e.startColumn-1,i,e.endColumn-1)}}_acceptInsertText(e,t,i,n,r){if(0===t&&0===i)return;const o=e.lineNumber-this.startLineNumber;o<0?this.startLineNumber+=t:o>=this.tokens.getMaxDeltaLine()+1||this.tokens.acceptInsertText(o,e.column-1,t,i,n,r)}}class Hp{constructor(e,t){this.startLineNumber=e,this.tokens=t}}function jp(e){return e instanceof Uint32Array?e:new Uint32Array(e)}class Up{constructor(){this._pieces=[],this._isComplete=!1}flush(){this._pieces=[],this._isComplete=!1}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const n=t[0].getRange(),r=t[t.length-1].getRange();if(!n||!r)return e;i=e.plusRange(n).plusRange(r)}let n=null;for(let e=0,t=this._pieces.length;e<t;e++){const r=this._pieces[e];if(r.endLineNumber<i.startLineNumber)continue;if(r.startLineNumber>i.endLineNumber){n=n||{index:e};break}if(r.removeTokens(i),r.isEmpty()){this._pieces.splice(e,1),e--,t--;continue}if(r.endLineNumber<i.startLineNumber)continue;if(r.startLineNumber>i.endLineNumber){n=n||{index:e};continue}const[o,s]=r.split(i);o.isEmpty()?n=n||{index:e}:s.isEmpty()||(this._pieces.splice(e,1,o,s),e++,t++,n=n||{index:e})}return n=n||{index:this._pieces.length},t.length>0&&(this._pieces=Xi(this._pieces,n.index,t)),i}isComplete(){return this._isComplete}addSemanticTokens(e,t){const i=this._pieces;if(0===i.length)return t;const n=i[Up._findFirstPieceWithLine(i,e)].getLineTokens(e);if(!n)return t;const r=t.getCount(),o=n.getCount();let s=0,a=[],l=0,c=0;const h=(e,t)=>{e!==c&&(c=e,a[l++]=e,a[l++]=t)};for(let e=0;e<o;e++){const i=n.getStartCharacter(e),o=n.getEndCharacter(e),a=n.getMetadata(e),l=((1&a?2048:0)|(2&a?4096:0)|(4&a?8192:0)|(8&a?8372224:0)|(16&a?4286578688:0))>>>0,c=~l>>>0;for(;s<r&&t.getEndOffset(s)<=i;)h(t.getEndOffset(s),t.getMetadata(s)),s++;for(s<r&&t.getStartOffset(s)<i&&h(i,t.getMetadata(s));s<r&&t.getEndOffset(s)<o;)h(t.getEndOffset(s),t.getMetadata(s)&c|a&l),s++;if(s<r)h(o,t.getMetadata(s)&c|a&l),t.getEndOffset(s)===o&&s++;else{const e=Math.min(Math.max(0,s-1),r-1);h(o,t.getMetadata(e)&c|a&l)}}for(;s<r;)h(t.getEndOffset(s),t.getMetadata(s)),s++;return new Kl(new Uint32Array(a),t.getLineContent())}static _findFirstPieceWithLine(e,t){let i=0,n=e.length-1;for(;i<n;){let r=i+Math.floor((n-i)/2);if(e[r].endLineNumber<t)i=r+1;else{if(!(e[r].startLineNumber>t)){for(;r>i&&e[r-1].startLineNumber<=t&&t<=e[r-1].endLineNumber;)r--;return r}n=r-1}}return i}acceptEdit(e,t,i,n,r){for(const o of this._pieces)o.acceptEdit(e,t,i,n,r)}}class Kp{constructor(){this._lineTokens=[],this._len=0}flush(){this._lineTokens=[],this._len=0}getTokens(e,t,i){let n=null;if(t<this._len&&(n=this._lineTokens[t]),null!==n&&n!==Vp)return new Kl(jp(n),i);let r=new Uint32Array(2);return r[0]=i.length,r[1]=Fp(e),new Kl(r,i)}static _massageTokens(e,t,i){const n=i?jp(i):null;if(0===t){let t=!1;if(n&&n.length>1&&(t=Ns.getLanguageId(n[1])!==e),!t)return Vp}if(!n||0===n.length){const i=new Uint32Array(2);return i[0]=t,i[1]=Fp(e),i.buffer}return n[n.length-2]=t,0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;let i=[];for(let e=0;e<t;e++)i[e]=null;this._lineTokens=Xi(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,n,r){const o=Kp._massageTokens(e,i,n);this._ensureLine(t);const s=this._lineTokens[t];return this._lineTokens[t]=o,!!r&&!Kp._equals(s,o)}static _equals(e,t){if(!e||!t)return!e&&!t;const i=jp(e),n=jp(t);if(i.length!==n.length)return!1;for(let e=0,t=i.length;e<t;e++)if(i[e]!==n[e])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new pt(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;return void(this._lineTokens[t]=Kp._delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1))}this._lineTokens[t]=Kp._deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let n=null;i<this._len&&(n=Kp._deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=Kp._append(this._lineTokens[t],n),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(0===t&&0===i)return;const n=e.lineNumber-1;n>=this._len||(0!==t?(this._lineTokens[n]=Kp._deleteEnding(this._lineTokens[n],e.column-1),this._lineTokens[n]=Kp._insert(this._lineTokens[n],e.column-1,i),this._insertLines(e.lineNumber,t)):this._lineTokens[n]=Kp._insert(this._lineTokens[n],e.column-1,i))}static _deleteBeginning(e,t){return null===e||e===Vp?e:Kp._delete(e,0,t)}static _deleteEnding(e,t){if(null===e||e===Vp)return e;const i=jp(e),n=i[i.length-2];return Kp._delete(e,t,n)}static _delete(e,t,i){if(null===e||e===Vp||t===i)return e;const n=jp(e),r=n.length>>>1;if(0===t&&n[n.length-2]===i)return Vp;const o=Kl.findIndexInTokensArray(n,t),s=o>0?n[o-1<<1]:0;if(i<n[o<<1]){const s=i-t;for(let e=o;e<r;e++)n[e<<1]-=s;return e}let a,l;s!==t?(n[o<<1]=t,a=o+1<<1,l=t):(a=o<<1,l=s);const c=i-t;for(let e=o+1;e<r;e++){const t=n[e<<1]-c;t>l&&(n[a++]=t,n[a++]=n[1+(e<<1)],l=t)}if(a===n.length)return e;let h=new Uint32Array(a);return h.set(n.subarray(0,a),0),h.buffer}static _append(e,t){if(t===Vp)return e;if(e===Vp)return t;if(null===e)return e;if(null===t)return null;const i=jp(e),n=jp(t),r=n.length>>>1;let o=new Uint32Array(i.length+n.length);o.set(i,0);let s=i.length;const a=i[i.length-2];for(let e=0;e<r;e++)o[s++]=n[e<<1]+a,o[s++]=n[1+(e<<1)];return o.buffer}static _insert(e,t,i){if(null===e||e===Vp)return e;const n=jp(e),r=n.length>>>1;let o=Kl.findIndexInTokensArray(n,t);if(o>0){n[o-1<<1]===t&&o--}for(let e=o;e<r;e++)n[e<<1]+=i;return e}}class qp{constructor(e,t,i,n,r,o,s){this._onDidChangeContent=new ce,this._BOM=t,this._mightContainNonBasicASCII=!o,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=r,this._pieceTree=new Pp(e,i,s)}dispose(){this._onDidChangeContent.dispose()}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){let i=e+t;const n=this.getPositionAt(e),r=this.getPositionAt(i);return new mt(n.lineNumber,n.column,r.lineNumber,r.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;let i=this.getOffsetAt(e.startLineNumber,e.startColumn);return this.getOffsetAt(e.endLineNumber,e.endColumn)-i}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const n=e.startLineNumber,r=e.endLineNumber;for(let t=n;t<=r;t++){const o=this.getLineContent(t),s=t===n?e.startColumn-1:0,a=t===r?e.endColumn-1:o.length;for(let e=s;e<a;e++)hr.D(o.charCodeAt(e))?(i+=1,e+=1):i+=1}return i+=this._getEndOfLine(t).length*(r-n)}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=hr.u(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=hr.H(this.getLineContent(e));return-1===t?0:t+2}_getEndOfLine(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let n=this._mightContainRTL,r=this._mightContainUnusualLineTerminators,o=this._mightContainNonBasicASCII,s=!0,a=[];for(let t=0;t<e.length;t++){let i=e[t];s&&i._isTracked&&(s=!1);let l=i.range;if(i.text){let e=!0;o||(o=e=!hr.z(i.text)),!n&&e&&(n=hr.l(i.text)),!r&&e&&(r=hr.m(i.text))}let c="",h=0,u=0,d=0;if(i.text){let e;[h,u,d,e]=Rp(i.text);const t=this.getEOL();c=0===e||e===("\r\n"===t?2:1)?i.text:i.text.replace(/\r\n|\r|\n/g,t)}a[t]={sortIndex:t,identifier:i.identifier||null,range:l,rangeOffset:this.getOffsetAt(l.startLineNumber,l.startColumn),rangeLength:this.getValueLengthInRange(l),text:c,eolCount:h,firstLineLength:u,lastLineLength:d,forceMoveMarkers:Boolean(i.forceMoveMarkers),isAutoWhitespaceEdit:i.isAutoWhitespaceEdit||!1}}a.sort(qp._sortOpsAscending);let l=!1;for(let e=0,t=a.length-1;e<t;e++){let t=a[e].range.getEndPosition(),i=a[e+1].range.getStartPosition();if(i.isBeforeOrEqual(t)){if(i.isBefore(t))throw new Error("Overlapping ranges are not allowed!");l=!0}}s&&(a=this._reduceOperations(a));let c=i||t?qp._getInverseEditRanges(a):[],h=[];if(t)for(let e=0;e<a.length;e++){let t=a[e],i=c[e];if(t.isAutoWhitespaceEdit&&t.range.isEmpty())for(let e=i.startLineNumber;e<=i.endLineNumber;e++){let n="";e===i.startLineNumber&&(n=this.getLineContent(t.range.startLineNumber),-1!==hr.u(n))||h.push({lineNumber:e,oldContent:n})}}let u=null;if(i){let e=0;u=[];for(let t=0;t<a.length;t++){const i=a[t],n=c[t],r=this.getValueInRange(i.range),o=i.rangeOffset+e;e+=i.text.length-r.length,u[t]={sortIndex:i.sortIndex,identifier:i.identifier,range:n,text:r,textChange:new Sf(i.rangeOffset,r,o,i.text)}}l||u.sort((e,t)=>e.sortIndex-t.sortIndex)}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=r,this._mightContainNonBasicASCII=o;const d=this._doApplyEdits(a);let f=null;if(t&&h.length>0){h.sort((e,t)=>t.lineNumber-e.lineNumber),f=[];for(let e=0,t=h.length;e<t;e++){let t=h[e].lineNumber;if(e>0&&h[e-1].lineNumber===t)continue;let i=h[e].oldContent,n=this.getLineContent(t);0!==n.length&&n!==i&&-1===hr.u(n)&&f.push(t)}}return this._onDidChangeContent.fire(),new ao(u,d,f)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,n=e[e.length-1].range,r=new mt(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn);let o=i.startLineNumber,s=i.startColumn;const a=[];for(let i=0,n=e.length;i<n;i++){const n=e[i],r=n.range;t=t||n.forceMoveMarkers,a.push(this.getValueInRange(new mt(o,s,r.startLineNumber,r.startColumn))),n.text.length>0&&a.push(n.text),o=r.endLineNumber,s=r.endColumn}const l=a.join(""),[c,h,u]=Rp(l);return{sortIndex:0,identifier:e[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,0),text:l,eolCount:c,firstLineLength:h,lastLineLength:u,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(qp._sortOpsDescending);let t=[];for(let i=0;i<e.length;i++){let n=e[i];const r=n.range.startLineNumber,o=n.range.startColumn,s=n.range.endLineNumber,a=n.range.endColumn;if(r===s&&o===a&&0===n.text.length)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);const l=new mt(r,o,s,a);t.push({range:l,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,n){return this._pieceTree.findMatchesLineByLine(e,t,i,n)}static _getInverseEditRanges(e){let t=[],i=0,n=0,r=null;for(let o=0,s=e.length;o<s;o++){let s,a,l,c=e[o];if(r?r.range.endLineNumber===c.range.startLineNumber?(s=i,a=n+(c.range.startColumn-r.range.endColumn)):(s=i+(c.range.startLineNumber-r.range.endLineNumber),a=c.range.startColumn):(s=c.range.startLineNumber,a=c.range.startColumn),c.text.length>0){const e=c.eolCount+1;l=1===e?new mt(s,a,s,a+c.firstLineLength):new mt(s,a,s+e-1,c.lastLineLength+1)}else l=new mt(s,a,s,a);i=l.endLineNumber,n=l.endColumn,t.push(l),r=c}return t}static _sortOpsAscending(e,t){let i=mt.compareRangesUsingEnds(e.range,t.range);return 0===i?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){let i=mt.compareRangesUsingEnds(e.range,t.range);return 0===i?t.sortIndex-e.sortIndex:-i}}class Gp{constructor(e,t,i,n,r,o,s,a,l){this._chunks=e,this._bom=t,this._cr=i,this._lf=n,this._crlf=r,this._containsRTL=o,this._containsUnusualLineTerminators=s,this._isBasicASCII=a,this._normalizeEOL=l}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":i>t/2?"\r\n":"\n"}create(e){const t=this._getEOL(e);let i=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(let e=0,n=i.length;e<n;e++){let n=i[e].buffer.replace(/\r\n|\r|\n/g,t),r=Tp(n);i[e]=new Mp(n,r)}return new qp(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL)}}class Yp{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(0===e.length)return;0===this.chunks.length&&hr.R(e)&&(this.BOM=hr.b,e=e.substr(1));const t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=function(e,t){e.length=0,e[0]=0;let i=1,n=0,r=0,o=0,s=!0;for(let a=0,l=t.length;a<l;a++){const c=t.charCodeAt(a);13===c?a+1<l&&10===t.charCodeAt(a+1)?(o++,e[i++]=a+2,a++):(n++,e[i++]=a+1):10===c?(r++,e[i++]=a+1):s&&9!==c&&(c<32||c>126)&&(s=!1)}const a=new Np(Ep(e),n,r,o,s);return e.length=0,a}(this._tmpLineStarts,e);this.chunks.push(new Mp(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=hr.l(e)),this.isBasicASCII||this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=hr.m(e))}finish(e=!0){return this._finish(),new Gp(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;let e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);let t=Tp(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}}}class Xp{constructor(){this.changeType=1}}class Zp{constructor(e,t){this.changeType=2,this.lineNumber=e,this.detail=t}}class Qp{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class Jp{constructor(e,t,i){this.changeType=4,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class em{constructor(){this.changeType=5}}class tm{constructor(e,t,i,n){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=n,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++){if(this.changes[t].changeType===e)return!0}return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),n=t.versionId,r=e.isUndoing||t.isUndoing,o=e.isRedoing||t.isRedoing;return new tm(i,n,r,o)}}class im{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=tm.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=im._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new im(t,i)}static _mergeChangeEvents(e,t){return{changes:[].concat(e.changes).concat(t.changes),eol:t.eol,versionId:t.versionId,isUndoing:e.isUndoing||t.isUndoing,isRedoing:e.isRedoing||t.isRedoing,isFlush:e.isFlush||t.isFlush}}}class nm{constructor(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}_reset(e){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,e&&this._setBeginState(0,e)}flush(e){this._reset(e)}get invalidLineStartIndex(){return this._invalidLineStartIndex}_invalidateLine(e){e<this._len&&(this._valid[e]=!1),e<this._invalidLineStartIndex&&(this._invalidLineStartIndex=e)}_isValid(e){return e<this._len&&this._valid[e]}getBeginState(e){return e<this._len?this._beginState[e]:null}_ensureLine(e){for(;e>=this._len;)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++}_deleteLines(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._beginState.splice(e,t),this._valid.splice(e,t),this._len-=t)}_insertLines(e,t){if(0===t)return;let i=[],n=[];for(let e=0;e<t;e++)i[e]=null,n[e]=!1;this._beginState=Xi(this._beginState,e,i),this._valid=Xi(this._valid,e,n),this._len+=t}_setValid(e,t){this._ensureLine(e),this._valid[e]=t}_setBeginState(e,t){this._ensureLine(e),this._beginState[e]=t}setEndState(e,t,i){if(this._setValid(t,!0),this._invalidLineStartIndex=t+1,t===e-1)return;const n=this.getBeginState(t+1);if(null===n||!i.equals(n))return this._setBeginState(t+1,i),void this._invalidateLine(t+1);let r=t+1;for(;r<e&&this._isValid(r);)r++;this._invalidLineStartIndex=r}setFakeTokens(e){this._setValid(e,!1)}applyEdits(e,t){const i=e.endLineNumber-e.startLineNumber,n=t;for(let t=Math.min(i,n);t>=0;t--)this._invalidateLine(e.startLineNumber+t-1);this._acceptDeleteRange(e),this._acceptInsertText(new pt(e.startLineNumber,e.startColumn),t)}_acceptDeleteRange(e){e.startLineNumber-1>=this._len||this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t){e.lineNumber-1>=this._len||this._insertLines(e.lineNumber,t)}}class rm extends ne{constructor(e){super(),this._isDisposed=!1,this._textModel=e,this._tokenizationStateStore=new nm,this._tokenizationSupport=null,this._register(na.onDidChange(e=>{const t=this._textModel.getLanguageIdentifier();-1!==e.changedLanguages.indexOf(t.language)&&(this._resetTokenizationState(),this._textModel.clearTokens())})),this._register(this._textModel.onDidChangeRawContentFast(e=>{e.containsEvent(1)&&this._resetTokenizationState()})),this._register(this._textModel.onDidChangeContentFast(e=>{for(let t=0,i=e.changes.length;t<i;t++){const i=e.changes[t],[n]=Rp(i.text);this._tokenizationStateStore.applyEdits(i.range,n)}this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeAttached(()=>{this._beginBackgroundTokenization()})),this._register(this._textModel.onDidChangeLanguage(()=>{this._resetTokenizationState(),this._textModel.clearTokens()})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}_resetTokenizationState(){const[e,t]=function(e){const t=e.getLanguageIdentifier();let i=e.isTooLargeForTokenization()?null:na.get(t.language),n=null;if(i)try{n=i.getInitialState()}catch(e){$(e),i=null}return[i,n]}(this._textModel);this._tokenizationSupport=e,this._tokenizationStateStore.flush(t),this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&r.j(()=>{this._isDisposed||this._revalidateTokensNow()})}_revalidateTokensNow(e=this._textModel.getLineCount()){const t=new Bp,i=Il.create(!1);for(;this._hasLinesToTokenize()&&!(i.elapsed()>1);){if(this._tokenizeOneInvalidLine(t)>=e)break}this._beginBackgroundTokenization(),this._textModel.setTokens(t.tokens)}tokenizeViewport(e,t){const i=new Bp;this._tokenizeViewport(i,e,t),this._textModel.setTokens(i.tokens)}reset(){this._resetTokenizationState(),this._textModel.clearTokens()}forceTokenization(e){const t=new Bp;this._updateTokensUntilLine(t,e),this._textModel.setTokens(t.tokens)}isCheapToTokenize(e){if(!this._tokenizationSupport)return!0;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return!(e>t)&&(e<t||this._textModel.getLineLength(e)<2048)}_hasLinesToTokenize(){return!!this._tokenizationSupport&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()}_tokenizeOneInvalidLine(e){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t}_updateTokensUntilLine(e,t){if(!this._tokenizationSupport)return;const i=this._textModel.getLanguageIdentifier(),n=this._textModel.getLineCount(),r=t-1;for(let t=this._tokenizationStateStore.invalidLineStartIndex;t<=r;t++){const r=this._textModel.getLineContent(t+1),o=this._tokenizationStateStore.getBeginState(t),s=om(i,this._tokenizationSupport,r,o);e.add(t+1,s.tokens),this._tokenizationStateStore.setEndState(n,t,s.endState),t=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(e,t,i){if(!this._tokenizationSupport)return;if(i<=this._tokenizationStateStore.invalidLineStartIndex)return;if(t<=this._tokenizationStateStore.invalidLineStartIndex)return void this._updateTokensUntilLine(e,i);let n=this._textModel.getLineFirstNonWhitespaceColumn(t),r=[],o=null;for(let e=t-1;n>0&&e>=1;e--){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);if(0!==t&&t<n){if(o=this._tokenizationStateStore.getBeginState(e-1))break;r.push(this._textModel.getLineContent(e)),n=t}}o||(o=this._tokenizationSupport.getInitialState());const s=this._textModel.getLanguageIdentifier();let a=o;for(let e=r.length-1;e>=0;e--){a=om(s,this._tokenizationSupport,r[e],a).endState}for(let n=t;n<=i;n++){let t=this._textModel.getLineContent(n),i=om(s,this._tokenizationSupport,t,a);e.add(n,i.tokens),this._tokenizationStateStore.setFakeTokens(n-1),a=i.endState}}}function om(e,t,i,n){let r=null;if(t)try{r=t.tokenize2(i,n.clone(),0)}catch(e){$(e)}return r||(r=aa(e.id,0,n,0)),Kl.convertToEndOffset(r.tokens,i.length),r}function sm(e,t){const i=Math.pow(10,t);return Math.round(e*i)/i}class am{constructor(e,t,i,n=1){this.r=0|Math.min(255,Math.max(0,e)),this.g=0|Math.min(255,Math.max(0,t)),this.b=0|Math.min(255,Math.max(0,i)),this.a=sm(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}}class lm{constructor(e,t,i,n){this.h=0|Math.max(Math.min(360,e),0),this.s=sm(Math.max(Math.min(1,t),0),3),this.l=sm(Math.max(Math.min(1,i),0),3),this.a=sm(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,r=e.a,o=Math.max(t,i,n),s=Math.min(t,i,n);let a=0,l=0;const c=(s+o)/2,h=o-s;if(h>0){switch(l=Math.min(c<=.5?h/(2*c):h/(2-2*c),1),o){case t:a=(i-n)/h+(i<n?6:0);break;case i:a=(n-t)/h+2;break;case n:a=(t-i)/h+4}a*=60,a=Math.round(a)}return new lm(a,l,c,r)}static _hue2rgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}static toRGBA(e){const t=e.h/360,{s:i,l:n,a:r}=e;let o,s,a;if(0===i)o=s=a=n;else{const e=n<.5?n*(1+i):n+i-n*i,r=2*n-e;o=lm._hue2rgb(r,e,t+1/3),s=lm._hue2rgb(r,e,t),a=lm._hue2rgb(r,e,t-1/3)}return new am(Math.round(255*o),Math.round(255*s),Math.round(255*a),r)}}class cm{constructor(e,t,i,n){this.h=0|Math.max(Math.min(360,e),0),this.s=sm(Math.max(Math.min(1,t),0),3),this.v=sm(Math.max(Math.min(1,i),0),3),this.a=sm(Math.max(Math.min(1,n),0),3)}static equals(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a}static fromRGBA(e){const t=e.r/255,i=e.g/255,n=e.b/255,r=Math.max(t,i,n),o=r-Math.min(t,i,n),s=0===r?0:o/r;let a;return a=0===o?0:r===t?((i-n)/o%6+6)%6:r===i?(n-t)/o+2:(t-i)/o+4,new cm(Math.round(60*a),s,r,e.a)}static toRGBA(e){const{h:t,s:i,v:n,a:r}=e,o=n*i,s=o*(1-Math.abs(t/60%2-1)),a=n-o;let[l,c,h]=[0,0,0];return t<60?(l=o,c=s):t<120?(l=s,c=o):t<180?(c=o,h=s):t<240?(c=s,h=o):t<300?(l=s,h=o):t<360&&(l=o,h=s),l=Math.round(255*(l+a)),c=Math.round(255*(c+a)),h=Math.round(255*(h+a)),new am(l,c,h,r)}}class hm{constructor(e){if(!e)throw new Error("Color needs a value");if(e instanceof am)this.rgba=e;else if(e instanceof lm)this._hsla=e,this.rgba=lm.toRGBA(e);else{if(!(e instanceof cm))throw new Error("Invalid color ctor argument");this._hsva=e,this.rgba=cm.toRGBA(e)}}static fromHex(e){return hm.Format.CSS.parseHex(e)||hm.red}get hsla(){return this._hsla?this._hsla:lm.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:cm.fromRGBA(this.rgba)}equals(e){return!!e&&am.equals(this.rgba,e.rgba)&&lm.equals(this.hsla,e.hsla)&&cm.equals(this.hsva,e.hsva)}getRelativeLuminance(){return sm(.2126*hm._relativeLuminanceForComponent(this.rgba.r)+.7152*hm._relativeLuminanceForComponent(this.rgba.g)+.0722*hm._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(e){return this.getRelativeLuminance()>e.getRelativeLuminance()}isDarkerThan(e){return this.getRelativeLuminance()<e.getRelativeLuminance()}lighten(e){return new hm(new lm(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new hm(new lm(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:t,g:i,b:n,a:r}=this.rgba;return new hm(new am(t,i,n,r*e))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new hm(new am(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return""+hm.Format.CSS.format(this)}static getLighterColor(e,t,i){if(e.isLighterThan(t))return e;i=i||.5;const n=e.getRelativeLuminance(),r=t.getRelativeLuminance();return i=i*(r-n)/r,e.lighten(i)}static getDarkerColor(e,t,i){if(e.isDarkerThan(t))return e;i=i||.5;const n=e.getRelativeLuminance();return i=i*(n-t.getRelativeLuminance())/n,e.darken(i)}}function um(e){const t=new Yp;return t.acceptChunk(e),t.finish()}function dm(e,t){return("string"==typeof e?um(e):e).create(t)}hm.white=new hm(new am(255,255,255,1)),hm.black=new hm(new am(0,0,0,1)),hm.red=new hm(new am(255,0,0,1)),hm.blue=new hm(new am(0,0,255,1)),hm.cyan=new hm(new am(0,255,255,1)),hm.lightgrey=new hm(new am(211,211,211,1)),hm.transparent=new hm(new am(0,0,0,0)),function(e){let t;!function(t){let i;!function(t){function i(e){const t=e.toString(16);return 2!==t.length?"0"+t:t}function n(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}t.formatRGB=function(t){return 1===t.rgba.a?`rgb(${t.rgba.r}, ${t.rgba.g}, ${t.rgba.b})`:e.Format.CSS.formatRGBA(t)},t.formatRGBA=function(e){return`rgba(${e.rgba.r}, ${e.rgba.g}, ${e.rgba.b}, ${+e.rgba.a.toFixed(2)})`},t.formatHSL=function(t){return 1===t.hsla.a?`hsl(${t.hsla.h}, ${(100*t.hsla.s).toFixed(2)}%, ${(100*t.hsla.l).toFixed(2)}%)`:e.Format.CSS.formatHSLA(t)},t.formatHSLA=function(e){return`hsla(${e.hsla.h}, ${(100*e.hsla.s).toFixed(2)}%, ${(100*e.hsla.l).toFixed(2)}%, ${e.hsla.a.toFixed(2)})`},t.formatHex=function(e){return`#${i(e.rgba.r)}${i(e.rgba.g)}${i(e.rgba.b)}`},t.formatHexA=function(t,n=!1){return n&&1===t.rgba.a?e.Format.CSS.formatHex(t):`#${i(t.rgba.r)}${i(t.rgba.g)}${i(t.rgba.b)}${i(Math.round(255*t.rgba.a))}`},t.format=function(t){return t.isOpaque()?e.Format.CSS.formatHex(t):e.Format.CSS.formatRGBA(t)},t.parseHex=function(t){const i=t.length;if(0===i)return null;if(35!==t.charCodeAt(0))return null;if(7===i){const i=16*n(t.charCodeAt(1))+n(t.charCodeAt(2)),r=16*n(t.charCodeAt(3))+n(t.charCodeAt(4)),o=16*n(t.charCodeAt(5))+n(t.charCodeAt(6));return new e(new am(i,r,o,1))}if(9===i){const i=16*n(t.charCodeAt(1))+n(t.charCodeAt(2)),r=16*n(t.charCodeAt(3))+n(t.charCodeAt(4)),o=16*n(t.charCodeAt(5))+n(t.charCodeAt(6)),s=16*n(t.charCodeAt(7))+n(t.charCodeAt(8));return new e(new am(i,r,o,s/255))}if(4===i){const i=n(t.charCodeAt(1)),r=n(t.charCodeAt(2)),o=n(t.charCodeAt(3));return new e(new am(16*i+i,16*r+r,16*o+o))}if(5===i){const i=n(t.charCodeAt(1)),r=n(t.charCodeAt(2)),o=n(t.charCodeAt(3)),s=n(t.charCodeAt(4));return new e(new am(16*i+i,16*r+r,16*o+o,(16*s+s)/255))}return null}}(i=t.CSS||(t.CSS={}))}(t=e.Format||(e.Format={}))}(hm||(hm={}));let fm=0;const pm=999,mm=1e4;class gm{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;let e=[],t=0,i=0;for(;;){let n=this._source.read();if(null===n)return this._eos=!0,0===t?null:e.join("");if(n.length>0&&(e[t++]=n,i+=n.length),i>=65536)return e.join("")}}}const vm=()=>{throw new Error("Invalid change accessor")};class bm{constructor(){this._searchCanceledBrand=void 0}}function _m(e){return e instanceof bm?null:e}bm.INSTANCE=new bm;class ym extends ne{constructor(e,t,i,n=null,r){super(),this._onWillDispose=this._register(new ce),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Nm),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeLanguage=this._register(new ce),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new ce),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new ce),this.onDidChangeTokens=this._onDidChangeTokens.event,this._onDidChangeOptions=this._register(new ce),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new ce),this.onDidChangeAttached=this._onDidChangeAttached.event,this._eventEmitter=this._register(new Tm),fm++,this.id="$model"+fm,this.isForSimpleWidget=t.isForSimpleWidget,this._associatedResource=void 0===n||null===n?rt.parse("inmemory://model/"+fm):n,this._undoRedoService=r,this._attachedEditorCount=0,this._buffer=dm(e,t.defaultEOL),this._options=ym.resolveOptions(this._buffer,t);const o=this._buffer.getLineCount(),s=this._buffer.getValueLengthInRange(new mt(1,1,o,this._buffer.getLineLength(o)+1),0);t.largeFileOptimizations?this._isTooLargeForTokenization=s>ym.LARGE_FILE_SIZE_THRESHOLD||o>ym.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=s>ym.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this._isDisposing=!1,this._languageIdentifier=i||sa,this._languageRegistryListener=za.onDidChange(e=>{e.languageIdentifier.id===this._languageIdentifier.id&&this._onDidChangeLanguageConfiguration.fire({})}),this._instanceId=hr.O(fm),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new wm,this._commandManager=new Of(this,r),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._tokens=new Kp,this._tokens2=new Up,this._tokenization=new rm(this)}static resolveOptions(e,t){if(t.detectIndentation){const i=Af(e,t.tabSize,t.insertSpaces);return new ro({tabSize:i.tabSize,indentSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}return new ro({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}onDidChangeRawContentFast(e){return this._eventEmitter.fastEvent(t=>e(t.rawContentChangedEvent))}onDidChangeContentFast(e){return this._eventEmitter.fastEvent(t=>e(t.contentChangedEvent))}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}dispose(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,super.dispose(),this._isDisposing=!1}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(e,t){this._isDisposing||this._eventEmitter.fire(new im(e,t))}setValue(e){if(this._assertNotDisposed(),null===e)return;const t=dm(e,this._options.defaultEOL);this.setValueFromTextBuffer(t)}_createContentChanged2(e,t,i,n,r,o,s){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:n}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:r,isRedoing:o,isFlush:s}}setValueFromTextBuffer(e){if(this._assertNotDisposed(),null===e)return;const t=this.getFullModelRange(),i=this.getValueLengthInRange(t),n=this.getLineCount(),r=this.getLineMaxColumn(n);this._buffer=e,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new wm,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new tm([new Xp],this._versionId,!1,!1),this._createContentChanged2(new mt(1,1,n,r),0,i,this.getValue(),!1,!1,!0))}setEOL(e){this._assertNotDisposed();const t=1===e?"\r\n":"\n";if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),n=this.getValueLengthInRange(i),r=this.getLineCount(),o=this.getLineMaxColumn(r);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new tm([new em],this._versionId,!1,!1),this._createContentChanged2(new mt(1,1,r,o),0,n,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.search(0,!1,!1,e);this._ensureNodesHaveRanges(t)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,n=t.length;i<n;i++){const n=t[i],r=n.cachedAbsoluteStart-n.start,o=this._buffer.getOffsetAt(n.range.startLineNumber,n.range.startColumn),s=this._buffer.getOffsetAt(n.range.endLineNumber,n.range.endColumn);n.cachedAbsoluteStart=o,n.cachedAbsoluteEnd=s,n.cachedVersionId=e,n.start=o-r,n.end=s-r,ip(n)}}onBeforeAttached(){this._attachedEditorCount++,1===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}onBeforeDetached(){this._attachedEditorCount--,0===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let n=1;n<=i;n++){const i=this._buffer.getLineLength(n);i>=mm?t+=i:e+=i}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();let t=void 0!==e.tabSize?e.tabSize:this._options.tabSize,i=void 0!==e.indentSize?e.indentSize:this._options.indentSize,n=void 0!==e.insertSpaces?e.insertSpaces:this._options.insertSpaces,r=void 0!==e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,o=new ro({tabSize:t,indentSize:i,insertSpaces:n,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:r});if(this._options.equals(o))return;let s=this._options.createChangeEvent(o);this._options=o,this._onDidChangeOptions.fire(s)}detectIndentation(e,t){this._assertNotDisposed();let i=Af(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}static _normalizeIndentationFromWhitespace(e,t,i){let n=0;for(let i=0;i<e.length;i++)"\t"===e.charAt(i)?n+=t:n++;let r="";if(!i){let e=Math.floor(n/t);n%=t;for(let t=0;t<e;t++)r+="\t"}for(let e=0;e<n;e++)r+=" ";return r}static normalizeIndentation(e,t,i){let n=hr.u(e);return-1===n&&(n=e.length),ym._normalizeIndentationFromWhitespace(e.substring(0,n),t,i)+e.substring(n)}normalizeIndentation(e){return this._assertNotDisposed(),ym.normalizeIndentation(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(hr.a.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(e=>({range:e.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getOffsetAt(e){this._assertNotDisposed();let t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();let t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueInRange(i,e);return t?this._buffer.getBOM()+n:n}createSnapshot(e=!1){return new gm(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),n=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+n:n}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,n=e.startColumn;let r,o;if(i<1)r=1,o=1;else if(i>t)r=t,o=this.getLineMaxColumn(r);else if(r=0|i,n<=1)o=1;else{const e=this.getLineMaxColumn(r);o=n>=e?e:0|n}const s=e.endLineNumber,a=e.endColumn;let l,c;if(s<1)l=1,c=1;else if(s>t)l=t,c=this.getLineMaxColumn(l);else if(l=0|s,a<=1)c=1;else{const e=this.getLineMaxColumn(l);c=a>=e?e:0|a}return i===r&&n===o&&s===l&&a===c&&e instanceof mt&&!(e instanceof gt)?e:new mt(r,o,l,c)}_isValidPosition(e,t,i){if("number"!=typeof e||"number"!=typeof t)return!1;if(isNaN(e)||isNaN(t))return!1;if(e<1||t<1)return!1;if((0|e)!==e||(0|t)!==t)return!1;if(e>this._buffer.getLineCount())return!1;if(1===t)return!0;if(t>this.getLineMaxColumn(e))return!1;if(1===i){const i=this._buffer.getLineCharCode(e,t-2);if(hr.D(i))return!1}return!0}_validatePosition(e,t,i){const n=Math.floor("number"!=typeof e||isNaN(e)?1:e),r=Math.floor("number"!=typeof t||isNaN(t)?1:t),o=this._buffer.getLineCount();if(n<1)return new pt(1,1);if(n>o)return new pt(o,this.getLineMaxColumn(o));if(r<=1)return new pt(n,1);const s=this.getLineMaxColumn(n);if(r>=s)return new pt(n,s);if(1===i){const e=this._buffer.getLineCharCode(n,r-2);if(hr.D(e))return new pt(n,r-1)}return new pt(n,r)}validatePosition(e){return this._assertNotDisposed(),e instanceof pt&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,n=e.startColumn,r=e.endLineNumber,o=e.endColumn;if(!this._isValidPosition(i,n,0))return!1;if(!this._isValidPosition(r,o,0))return!1;if(1===t){const e=n>1?this._buffer.getLineCharCode(i,n-2):0,t=o>1&&o<=this._buffer.getLineLength(r)?this._buffer.getLineCharCode(r,o-2):0,s=hr.D(e),a=hr.D(t);return!s&&!a}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof mt&&!(e instanceof gt)&&this._isValidRange(e,1))return e;const t=this._validatePosition(e.startLineNumber,e.startColumn,0),i=this._validatePosition(e.endLineNumber,e.endColumn,0),n=t.lineNumber,r=t.column,o=i.lineNumber,s=i.column;{const e=r>1?this._buffer.getLineCharCode(n,r-2):0,t=s>1&&s<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,s-2):0,i=hr.D(e),a=hr.D(t);return i||a?n===o&&r===s?new mt(n,r-1,o,s-1):i&&a?new mt(n,r-1,o,s+1):i?new mt(n,r-1,o,s):new mt(n,r,o,s+1):new mt(n,r,o,s)}}modifyPosition(e,t){this._assertNotDisposed();let i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new mt(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,n){return this._buffer.findMatchesLineByLine(e,t,i,n)}findMatches(e,t,i,n,r,o,s=pm){this._assertNotDisposed();let a=null;null!==t&&(Array.isArray(t)||(t=[t]),t.every(e=>mt.isIRange(e))&&(a=t.map(e=>this.validateRange(e)))),null===a&&(a=[this.getFullModelRange()]),a=a.sort((e,t)=>e.startLineNumber-t.startLineNumber||e.startColumn-t.startColumn);const l=[];let c;if(l.push(a.reduce((e,t)=>mt.areIntersecting(e,t)?e.plusRange(t):(l.push(e),t))),!i&&e.indexOf("\n")<0){const t=new yp(e,i,n,r).parseSearchRequest();if(!t)return[];c=(e=>this.findMatchesLineByLine(e,t,o,s))}else c=(t=>xp.findMatches(this,new yp(e,i,n,r),t,o,s));return l.map(c).reduce((e,t)=>e.concat(t),[])}findNextMatch(e,t,i,n,r,o){this._assertNotDisposed();const s=this.validatePosition(t);if(!i&&e.indexOf("\n")<0){const t=new yp(e,i,n,r).parseSearchRequest();if(!t)return null;const a=this.getLineCount();let l=new mt(s.lineNumber,s.column,a,this.getLineMaxColumn(a)),c=this.findMatchesLineByLine(l,t,o,1);return xp.findNextMatch(this,new yp(e,i,n,r),s,o),c.length>0?c[0]:(l=new mt(1,1,s.lineNumber,this.getLineMaxColumn(s.lineNumber)),(c=this.findMatchesLineByLine(l,t,o,1)).length>0?c[0]:null)}return xp.findNextMatch(this,new yp(e,i,n,r),s,o)}findPreviousMatch(e,t,i,n,r,o){this._assertNotDisposed();const s=this.validatePosition(t);return xp.findPreviousMatch(this,new yp(e,i,n,r),s,o)}pushStackElement(){this._commandManager.pushStackElement()}pushEOL(e){if(("\n"===this.getEOL()?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof so?e:new so(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){let i=t.map(e=>({range:this.validateRange(e.range),text:e.text})),n=!0;if(e)for(let t=0,r=e.length;t<r;t++){let r=e[t],o=!1;for(let e=0,t=i.length;e<t;e++){let t=i[e].range,n=t.startLineNumber>r.endLineNumber,s=r.startLineNumber>t.endLineNumber;if(!n&&!s){o=!0;break}}if(!o){n=!1;break}}if(n)for(let e=0,n=this._trimAutoWhitespaceLines.length;e<n;e++){let n=this._trimAutoWhitespaceLines[e],r=this.getLineMaxColumn(n),o=!0;for(let e=0,t=i.length;e<t;e++){let t=i[e].range,s=i[e].text;if(!(n<t.startLineNumber||n>t.endLineNumber)&&!(n===t.startLineNumber&&t.startColumn===r&&t.isEmpty()&&s&&s.length>0&&"\n"===s.charAt(0)||n===t.startLineNumber&&1===t.startColumn&&t.isEmpty()&&s&&s.length>0&&"\n"===s.charAt(s.length-1))){o=!1;break}}if(o){const e=new mt(n,1,n,r);t.push(new so(null,e,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i)}_applyUndo(e,t,i,n){const r=e.map(e=>{const t=this.getPositionAt(e.newPosition),i=this.getPositionAt(e.newEnd);return{range:new mt(t.lineNumber,t.column,i.lineNumber,i.column),text:e.oldText}});this._applyUndoRedoEdits(r,t,!0,!1,i,n)}_applyRedo(e,t,i,n){const r=e.map(e=>{const t=this.getPositionAt(e.oldPosition),i=this.getPositionAt(e.oldEnd);return{range:new mt(t.lineNumber,t.column,i.lineNumber,i.column),text:e.newText}});this._applyUndoRedoEdits(r,t,!1,!0,i,n)}_applyUndoRedoEdits(e,t,i,n,r,o){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=n,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(r)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(o),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),n=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),r=this._buffer.getLineCount(),o=n.changes;if(this._trimAutoWhitespaceLines=n.trimAutoWhitespaceLineNumbers,0!==o.length){let e=[],t=i;for(let i=0,n=o.length;i<n;i++){const n=o[i],[s,a,l]=Rp(n.text);this._tokens.acceptEdit(n.range,s,a),this._tokens2.acceptEdit(n.range,s,a,l,n.text.length>0?n.text.charCodeAt(0):0),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(n.rangeOffset,n.rangeLength,n.text.length,n.forceMoveMarkers);const c=n.range.startLineNumber,h=n.range.endLineNumber,u=h-c,d=s,f=Math.min(u,d),p=d-u;for(let i=f;i>=0;i--){const n=c+i,o=r-t-p+n;e.push(new Zp(n,this.getLineContent(o)))}if(f<u){const t=c+f;e.push(new Qp(t+1,h))}if(f<d){const i=c+f,n=d-f,o=r-t-n+i+1;let s=[];for(let e=0;e<n;e++){let t=o+e;s[t-o]=this.getLineContent(t)}e.push(new Jp(i+1,c+d,s))}t+=p}this._increaseVersionId(),this._emitContentChangedEvent(new tm(e,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:o,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===n.reverseEdits?void 0:n.reverseEdits}undo(){this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){let i={addDecoration:(t,i)=>this._deltaDecorationsImpl(e,[],[{range:t,options:i}])[0],changeDecoration:(e,t)=>{this._changeDecorationImpl(e,t)},changeDecorationOptions:(e,t)=>{this._changeDecorationOptionsImpl(e,Em(t))},removeDecoration:t=>{this._deltaDecorationsImpl(e,[t],[])},deltaDecorations:(t,i)=>0===t.length&&0===i.length?[]:this._deltaDecorationsImpl(e,t,i)},n=null;try{n=t(i)}catch(e){$(e)}return i.addDecoration=vm,i.changeDecoration=vm,i.changeDecorationOptions=vm,i.removeDecoration=vm,i.deltaDecorations=vm,n}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const n=e?this._decorations[e]:null;if(!n)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:Dm[i]}])[0]:null;if(!t)return this._decorationsTree.delete(n),delete this._decorations[n.id],null;const r=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),s=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);return this._decorationsTree.delete(n),n.reset(this.getVersionId(),o,s,r),n.setOptions(Dm[i]),this._decorationsTree.insert(n),n.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let e=0,i=t.length;e<i;e++){const i=t[e];this._decorationsTree.delete(i),delete this._decorations[i.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];if(!t)return null;const i=this.getVersionId();return t.cachedVersionId!==i&&this._decorationsTree.resolveNode(t,i),null===t.range&&(t.range=this._getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,n=!1){let r=this.getLineCount(),o=Math.min(r,Math.max(1,e)),s=Math.min(r,Math.max(1,t)),a=this.getLineMaxColumn(s);return this._getDecorationsInRange(new mt(o,1,s,a),i,n)}getDecorationsInRange(e,t=0,i=!1){let n=this.validateRange(e);return this._getDecorationsInRange(n,t,i)}getOverviewRulerDecorations(e=0,t=!1){const i=this.getVersionId(),n=this._decorationsTree.search(e,t,!0,i);return this._ensureNodesHaveRanges(n)}getAllDecorations(e=0,t=!1){const i=this.getVersionId(),n=this._decorationsTree.search(e,t,!1,i);return this._ensureNodesHaveRanges(n)}_getDecorationsInRange(e,t,i){const n=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),r=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn),o=this.getVersionId(),s=this._decorationsTree.intervalSearch(n,r,t,i,o);return this._ensureNodesHaveRanges(s)}_ensureNodesHaveRanges(e){for(let t=0,i=e.length;t<i;t++){const i=e[t];null===i.range&&(i.range=this._getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd))}return e}_getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;const n=this._validateRangeRelaxedNoAllocations(t),r=this._buffer.getOffsetAt(n.startLineNumber,n.startColumn),o=this._buffer.getOffsetAt(n.endLineNumber,n.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),r,o,n),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const n=!(!i.options.overviewRuler||!i.options.overviewRuler.color),r=!(!t.overviewRuler||!t.overviewRuler.color);this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),n!==r?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i){const n=this.getVersionId(),r=t.length;let o=0;const s=i.length;let a=0,l=new Array(s);for(;o<r||a<s;){let c=null;if(o<r){do{c=this._decorations[t[o++]]}while(!c&&o<r);c&&(this._decorationsTree.delete(c),this._onDidChangeDecorations.checkAffectedAndFire(c.options))}if(a<s){if(!c){const e=++this._lastDecorationId,t=`${this._instanceId};${e}`;c=new Uf(t,0,0),this._decorations[t]=c}const t=i[a],r=this._validateRangeRelaxedNoAllocations(t.range),o=Em(t.options),s=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn),h=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);c.ownerId=e,c.reset(n,s,h,r),c.setOptions(o),this._onDidChangeDecorations.checkAffectedAndFire(o),this._decorationsTree.insert(c),l[a]=c.id,a++}else c&&delete this._decorations[c.id]}return l}setTokens(e){if(0===e.length)return;let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];let r=0,o=0,s=!1;for(let e=0,t=n.tokens.length;e<t;e++){const t=n.startLineNumber+e;if(s)this._tokens.setTokens(this._languageIdentifier.id,t-1,this._buffer.getLineLength(t),n.tokens[e],!1),o=t;else{this._tokens.setTokens(this._languageIdentifier.id,t-1,this._buffer.getLineLength(t),n.tokens[e],!0)&&(s=!0,r=t,o=t)}}s&&t.push({fromLineNumber:r,toLineNumber:o})}t.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:t})}setSemanticTokens(e,t){this._tokens2.set(e,t),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:null!==e,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})}hasSemanticTokens(){return this._tokens2.isComplete()}setPartialSemanticTokens(e,t){if(this.hasSemanticTokens())return;const i=this._tokens2.setPartial(e,t);this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}tokenizeViewport(e,t){e=Math.max(1,e),t=Math.min(this._buffer.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})}_emitModelTokensChangedEvent(e){this._isDisposing||this._onDidChangeTokens.fire(e)}resetTokenization(){this._tokenization.reset()}forceTokenization(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)}isCheapToTokenize(e){return this._tokenization.isCheapToTokenize(e)}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}getLineTokens(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)}_getLineTokens(e){const t=this.getLineContent(e),i=this._tokens.getTokens(this._languageIdentifier.id,e-1,t);return this._tokens2.addSemanticTokens(e,i)}getLanguageIdentifier(){return this._languageIdentifier}getModeId(){return this._languageIdentifier.language}setMode(e){if(this._languageIdentifier.id===e.id)return;let t={oldLanguage:this._languageIdentifier.language,newLanguage:e.language};this._languageIdentifier=e,this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}getLanguageIdAtPosition(e,t){const i=this.validatePosition(new pt(e,t)),n=this.getLineTokens(i.lineNumber);return n.getLanguageId(n.findTokenIndexAtOffset(i.column-1))}getWordAtPosition(e){this._assertNotDisposed();const t=this.validatePosition(e),i=this.getLineContent(t.lineNumber),n=this._getLineTokens(t.lineNumber),r=n.findTokenIndexAtOffset(t.column-1),[o,s]=ym._findLanguageBoundaries(n,r),a=c(t.column,za.getWordDefinition(n.getLanguageId(r)),i.substring(o,s),o);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a;if(r>0&&o===t.column-1){const[o,s]=ym._findLanguageBoundaries(n,r-1),a=c(t.column,za.getWordDefinition(n.getLanguageId(r-1)),i.substring(o,s),o);if(a&&a.startColumn<=e.column&&e.column<=a.endColumn)return a}return null}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let n=0;for(let r=t;r>=0&&e.getLanguageId(r)===i;r--)n=e.getStartOffset(r);let r=e.getLineContent().length;for(let n=t,o=e.getCount();n<o&&e.getLanguageId(n)===i;n++)r=e.getEndOffset(n);return[n,r]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}findMatchingBracketUp(e,t){let i=e.toLowerCase(),n=this.validatePosition(t),r=this._getLineTokens(n.lineNumber),o=r.getLanguageId(r.findTokenIndexAtOffset(n.column-1)),s=za.getBracketsSupport(o);if(!s)return null;let a=s.textIsBracket[i];return a?_m(this._findMatchingBracketUp(a,n,null)):null}matchBracket(e){return this._matchBracket(this.validatePosition(e))}_matchBracket(e){const t=e.lineNumber,i=this._getLineTokens(t),n=i.getCount(),r=this._buffer.getLineContent(t),o=i.findTokenIndexAtOffset(e.column-1);if(o<0)return null;const s=za.getBracketsSupport(i.getLanguageId(o));if(s&&!wa(i.getStandardTokenType(o))){let n=Math.max(0,e.column-1-s.maxBracketLength);for(let e=o-1;e>=0;e--){const t=i.getEndOffset(e);if(t<=n)break;wa(i.getStandardTokenType(e))&&(n=t)}const a=Math.min(r.length,e.column-1+s.maxBracketLength);let l=null;for(;;){const i=Ra.findNextBracketInRange(s.forwardRegex,t,r,n,a);if(!i)break;if(i.startColumn<=e.column&&e.column<=i.endColumn){const e=r.substring(i.startColumn-1,i.endColumn-1).toLowerCase(),t=this._matchFoundBracket(i,s.textIsBracket[e],s.textIsOpenBracket[e],null);if(t){if(t instanceof bm)return null;l=t}}n=i.endColumn-1}if(l)return l}if(o>0&&i.getStartOffset(o)===e.column-1){const s=o-1,a=za.getBracketsSupport(i.getLanguageId(s));if(a&&!wa(i.getStandardTokenType(s))){const o=Math.max(0,e.column-1-a.maxBracketLength);let l=Math.min(r.length,e.column-1+a.maxBracketLength);for(let e=s+1;e<n;e++){const t=i.getStartOffset(e);if(t>=l)break;wa(i.getStandardTokenType(e))&&(l=t)}const c=Ra.findPrevBracketInRange(a.reversedRegex,t,r,o,l);if(c&&c.startColumn<=e.column&&e.column<=c.endColumn){const e=r.substring(c.startColumn-1,c.endColumn-1).toLowerCase(),t=this._matchFoundBracket(c,a.textIsBracket[e],a.textIsOpenBracket[e],null);if(t)return t instanceof bm?null:t}}}return null}_matchFoundBracket(e,t,i,n){if(!t)return null;const r=i?this._findMatchingBracketDown(t,e.getEndPosition(),n):this._findMatchingBracketUp(t,e.getStartPosition(),n);return r?r instanceof bm?r:[e,r]:null}_findMatchingBracketUp(e,t,i){const n=e.languageIdentifier.id,r=e.reversedRegex;let o=-1,s=0;const a=(t,n,a,l)=>{for(;;){if(i&&++s%100==0&&!i())return bm.INSTANCE;const c=Ra.findPrevBracketInRange(r,t,n,a,l);if(!c)break;const h=n.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(e.isOpen(h)?o++:e.isClose(h)&&o--,0===o)return c;l=c.startColumn-1}return null};for(let e=t.lineNumber;e>=1;e--){const i=this._getLineTokens(e),r=i.getCount(),o=this._buffer.getLineContent(e);let s=r-1,l=o.length,c=o.length;e===t.lineNumber&&(s=i.findTokenIndexAtOffset(t.column-1),l=t.column-1,c=t.column-1);let h=!0;for(;s>=0;s--){const t=i.getLanguageId(s)===n&&!wa(i.getStandardTokenType(s));if(t)h?l=i.getStartOffset(s):(l=i.getStartOffset(s),c=i.getEndOffset(s));else if(h&&l!==c){const t=a(e,o,l,c);if(t)return t}h=t}if(h&&l!==c){const t=a(e,o,l,c);if(t)return t}}return null}_findMatchingBracketDown(e,t,i){const n=e.languageIdentifier.id,r=e.forwardRegex;let o=1,s=0;const a=(t,n,a,l)=>{for(;;){if(i&&++s%100==0&&!i())return bm.INSTANCE;const c=Ra.findNextBracketInRange(r,t,n,a,l);if(!c)break;const h=n.substring(c.startColumn-1,c.endColumn-1).toLowerCase();if(e.isOpen(h)?o++:e.isClose(h)&&o--,0===o)return c;a=c.endColumn-1}return null},l=this.getLineCount();for(let e=t.lineNumber;e<=l;e++){const i=this._getLineTokens(e),r=i.getCount(),o=this._buffer.getLineContent(e);let s=0,l=0,c=0;e===t.lineNumber&&(s=i.findTokenIndexAtOffset(t.column-1),l=t.column-1,c=t.column-1);let h=!0;for(;s<r;s++){const t=i.getLanguageId(s)===n&&!wa(i.getStandardTokenType(s));if(t)h?c=i.getEndOffset(s):(l=i.getStartOffset(s),c=i.getEndOffset(s));else if(h&&l!==c){const t=a(e,o,l,c);if(t)return t}h=t}if(h&&l!==c){const t=a(e,o,l,c);if(t)return t}}return null}findPrevBracket(e){const t=this.validatePosition(e);let i=-1,n=null;for(let e=t.lineNumber;e>=1;e--){const r=this._getLineTokens(e),o=r.getCount(),s=this._buffer.getLineContent(e);let a=o-1,l=s.length,c=s.length;if(e===t.lineNumber){a=r.findTokenIndexAtOffset(t.column-1),l=t.column-1,c=t.column-1;const e=r.getLanguageId(a);i!==e&&(i=e,n=za.getBracketsSupport(i))}let h=!0;for(;a>=0;a--){const t=r.getLanguageId(a);if(i!==t){if(n&&h&&l!==c){const t=Ra.findPrevBracketInRange(n.reversedRegex,e,s,l,c);if(t)return this._toFoundBracket(n,t);h=!1}i=t,n=za.getBracketsSupport(i)}const o=!!n&&!wa(r.getStandardTokenType(a));if(o)h?l=r.getStartOffset(a):(l=r.getStartOffset(a),c=r.getEndOffset(a));else if(n&&h&&l!==c){const t=Ra.findPrevBracketInRange(n.reversedRegex,e,s,l,c);if(t)return this._toFoundBracket(n,t)}h=o}if(n&&h&&l!==c){const t=Ra.findPrevBracketInRange(n.reversedRegex,e,s,l,c);if(t)return this._toFoundBracket(n,t)}}return null}findNextBracket(e){const t=this.validatePosition(e),i=this.getLineCount();let n=-1,r=null;for(let e=t.lineNumber;e<=i;e++){const i=this._getLineTokens(e),o=i.getCount(),s=this._buffer.getLineContent(e);let a=0,l=0,c=0;if(e===t.lineNumber){a=i.findTokenIndexAtOffset(t.column-1),l=t.column-1,c=t.column-1;const e=i.getLanguageId(a);n!==e&&(n=e,r=za.getBracketsSupport(n))}let h=!0;for(;a<o;a++){const t=i.getLanguageId(a);if(n!==t){if(r&&h&&l!==c){const t=Ra.findNextBracketInRange(r.forwardRegex,e,s,l,c);if(t)return this._toFoundBracket(r,t);h=!1}n=t,r=za.getBracketsSupport(n)}const o=!!r&&!wa(i.getStandardTokenType(a));if(o)h?c=i.getEndOffset(a):(l=i.getStartOffset(a),c=i.getEndOffset(a));else if(r&&h&&l!==c){const t=Ra.findNextBracketInRange(r.forwardRegex,e,s,l,c);if(t)return this._toFoundBracket(r,t)}h=o}if(r&&h&&l!==c){const t=Ra.findNextBracketInRange(r.forwardRegex,e,s,l,c);if(t)return this._toFoundBracket(r,t)}}return null}findEnclosingBrackets(e,t){let i;if(void 0===t)i=null;else{const e=Date.now();i=(()=>Date.now()-e<=t)}const n=this.validatePosition(e),r=this.getLineCount(),o=new Map;let s=[];const a=(e,t)=>{if(!o.has(e)){let i=[];for(let e=0,n=t?t.brackets.length:0;e<n;e++)i[e]=0;o.set(e,i)}s=o.get(e)};let l=0;const c=(e,t,n,r,o)=>{for(;;){if(i&&++l%100==0&&!i())return bm.INSTANCE;const a=Ra.findNextBracketInRange(e.forwardRegex,t,n,r,o);if(!a)break;const c=n.substring(a.startColumn-1,a.endColumn-1).toLowerCase(),h=e.textIsBracket[c];if(h&&(h.isOpen(c)?s[h.index]++:h.isClose(c)&&s[h.index]--,-1===s[h.index]))return this._matchFoundBracket(a,h,!1,i);r=a.endColumn-1}return null};let h=-1,u=null;for(let e=n.lineNumber;e<=r;e++){const t=this._getLineTokens(e),i=t.getCount(),r=this._buffer.getLineContent(e);let o=0,s=0,l=0;if(e===n.lineNumber){o=t.findTokenIndexAtOffset(n.column-1),s=n.column-1,l=n.column-1;const e=t.getLanguageId(o);h!==e&&a(h=e,u=za.getBracketsSupport(h))}let d=!0;for(;o<i;o++){const i=t.getLanguageId(o);if(h!==i){if(u&&d&&s!==l){const t=c(u,e,r,s,l);if(t)return _m(t);d=!1}a(h=i,u=za.getBracketsSupport(h))}const n=!!u&&!wa(t.getStandardTokenType(o));if(n)d?l=t.getEndOffset(o):(s=t.getStartOffset(o),l=t.getEndOffset(o));else if(u&&d&&s!==l){const t=c(u,e,r,s,l);if(t)return _m(t)}d=n}if(u&&d&&s!==l){const t=c(u,e,r,s,l);if(t)return _m(t)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.getValueInRange(t);i=i.toLowerCase();let n=e.textIsBracket[i];return n?{range:t,open:n.open,close:n.close,isOpen:e.textIsOpenBracket[i]}:null}static computeIndentLevel(e,t){let i=0,n=0,r=e.length;for(;n<r;){let r=e.charCodeAt(n);if(32===r)i++;else{if(9!==r)break;i=i-i%t+t}n++}return n===r?-1:i}_computeIndentLevel(e){return ym.computeIndentLevel(this._buffer.getLineContent(e+1),this._options.tabSize)}getActiveIndentGuide(e,t,i){this._assertNotDisposed();const n=this.getLineCount();if(e<1||e>n)throw new Error("Illegal value for lineNumber");const r=za.getFoldingRules(this._languageIdentifier.id),o=Boolean(r&&r.offSide);let s=-2,a=-1,l=-2,c=-1;const h=e=>{if(-1!==s&&(-2===s||s>e-1)){s=-1,a=-1;for(let t=e-2;t>=0;t--){let e=this._computeIndentLevel(t);if(e>=0){s=t,a=e;break}}}if(-2===l){l=-1,c=-1;for(let t=e;t<n;t++){let e=this._computeIndentLevel(t);if(e>=0){l=t,c=e;break}}}};let u=-2,d=-1,f=-2,p=-1;const m=e=>{if(-2===u){u=-1,d=-1;for(let t=e-2;t>=0;t--){let e=this._computeIndentLevel(t);if(e>=0){u=t,d=e;break}}}if(-1!==f&&(-2===f||f<e-1)){f=-1,p=-1;for(let t=e;t<n;t++){let e=this._computeIndentLevel(t);if(e>=0){f=t,p=e;break}}}};let g=0,v=!0,b=0,_=!0,y=0,w=0;for(let r=0;v||_;r++){const s=e-r,f=e+r;r>1&&(s<1||s<t)&&(v=!1),r>1&&(f>n||f>i)&&(_=!1),r>5e4&&(v=!1,_=!1);let C=-1;if(v){const e=this._computeIndentLevel(s-1);e>=0?(l=s-1,c=e,C=Math.ceil(e/this._options.indentSize)):(h(s),C=this._getIndentLevelForWhitespaceLine(o,a,c))}let S=-1;if(_){const e=this._computeIndentLevel(f-1);e>=0?(u=f-1,d=e,S=Math.ceil(e/this._options.indentSize)):(m(f),S=this._getIndentLevelForWhitespaceLine(o,d,p))}if(0!==r){if(1===r){if(f<=n&&S>=0&&w+1===S){v=!1,g=f,b=f,y=S;continue}if(s>=1&&C>=0&&C-1===w){_=!1,g=s,b=s,y=C;continue}if(g=e,b=e,0===(y=w))return{startLineNumber:g,endLineNumber:b,indent:y}}v&&(C>=y?g=s:v=!1),_&&(S>=y?b=f:_=!1)}else w=C}return{startLineNumber:g,endLineNumber:b,indent:y}}getLinesIndentGuides(e,t){this._assertNotDisposed();const i=this.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const n=za.getFoldingRules(this._languageIdentifier.id),r=Boolean(n&&n.offSide);let o=new Array(t-e+1),s=-2,a=-1,l=-2,c=-1;for(let n=e;n<=t;n++){let t=n-e;const h=this._computeIndentLevel(n-1);if(h>=0)s=n-1,a=h,o[t]=Math.ceil(h/this._options.indentSize);else{if(-2===s){s=-1,a=-1;for(let e=n-2;e>=0;e--){let t=this._computeIndentLevel(e);if(t>=0){s=e,a=t;break}}}if(-1!==l&&(-2===l||l<n-1)){l=-1,c=-1;for(let e=n;e<i;e++){let t=this._computeIndentLevel(e);if(t>=0){l=e,c=t;break}}}o[t]=this._getIndentLevelForWhitespaceLine(r,a,c)}}return o}_getIndentLevelForWhitespaceLine(e,t,i){return-1===t||-1===i?0:t<i?1+Math.floor(t/this._options.indentSize):t===i?Math.ceil(i/this._options.indentSize):e?Math.ceil(i/this._options.indentSize):1+Math.floor(i/this._options.indentSize)}}ym.MODEL_SYNC_LIMIT=52428800,ym.LARGE_FILE_SIZE_THRESHOLD=20971520,ym.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,ym.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:O,indentSize:M,insertSpaces:I,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:P,largeFileOptimizations:R};class wm{constructor(){this._decorationsTree0=new qf,this._decorationsTree1=new qf}intervalSearch(e,t,i,n,r){const o=this._decorationsTree0.intervalSearch(e,t,i,n,r),s=this._decorationsTree1.intervalSearch(e,t,i,n,r);return o.concat(s)}search(e,t,i,n){if(i)return this._decorationsTree1.search(e,t,n);{const i=this._decorationsTree0.search(e,t,n),r=this._decorationsTree1.search(e,t,n);return i.concat(r)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e);return t.concat(i)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder();return e.concat(t)}insert(e){$f(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){$f(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}resolveNode(e,t){$f(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,n){this._decorationsTree0.acceptReplace(e,t,i,n),this._decorationsTree1.acceptReplace(e,t,i,n)}}function Cm(e){return e.replace(/[^a-z0-9\-_]/gi," ")}class Sm{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class xm extends Sm{constructor(e){super(e),this._resolvedColor=null,this.position="number"==typeof e.position?e.position:io.Center}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if("string"==typeof e)return e;let i=e?t.getColor(e.id):null;return i?i.toString():""}}class km extends Sm{constructor(e){super(e),this.position=e.position}getColor(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return"string"==typeof e?hm.fromHex(e):t.getColor(e.id)}}class Lm{constructor(e){this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Cm(e.className):null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new xm(e.overviewRuler):null,this.minimap=e.minimap?new km(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?Cm(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Cm(e.linesDecorationsClassName):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Cm(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Cm(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Cm(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Cm(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Cm(e.afterContentClassName):null}static register(e){return new Lm(e)}static createDynamic(e){return new Lm(e)}}Lm.EMPTY=Lm.register({});const Dm=[Lm.register({stickiness:0}),Lm.register({stickiness:1}),Lm.register({stickiness:2}),Lm.register({stickiness:3})];function Em(e){return e instanceof Lm?e:Lm.createDynamic(e)}class Nm extends ne{constructor(){super(),this._actual=this._register(new ce),this.event=this._actual.event,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){if(this._deferredCnt--,0===this._deferredCnt&&this._shouldFire){const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(e)}}checkAffectedAndFire(e){this._affectsMinimap||(this._affectsMinimap=!(!e.minimap||!e.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!e.overviewRuler||!e.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class Tm extends ne{constructor(){super(),this._fastEmitter=this._register(new ce),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new ce),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))}}const Om=()=>!0,Mm=()=>!1,Im=e=>" "===e||"\t"===e;function Am(e,t,i){e.has(t)?e.get(t).push(i):e.set(t,[i])}class Pm{constructor(e,t,i){this._languageIdentifier=e;const n=i.options,r=n.get(117);this.readOnly=n.get(72),this.tabSize=t.tabSize,this.indentSize=t.indentSize,this.insertSpaces=t.insertSpaces,this.lineHeight=n.get(51),this.pageSize=Math.max(1,Math.floor(r.height/this.lineHeight)-2),this.useTabStops=n.get(104),this.wordSeparators=n.get(105),this.emptySelectionClipboard=n.get(26),this.copyWithSyntaxHighlighting=n.get(16),this.multiCursorMergeOverlapping=n.get(60),this.multiCursorPaste=n.get(62),this.autoClosingBrackets=n.get(5),this.autoClosingQuotes=n.get(7),this.autoClosingOvertype=n.get(6),this.autoSurround=n.get(10),this.autoIndent=n.get(8),this.autoClosingPairsOpen2=new Map,this.autoClosingPairsClose2=new Map,this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:Pm._getShouldAutoClose(e,this.autoClosingQuotes),bracket:Pm._getShouldAutoClose(e,this.autoClosingBrackets)};let o=Pm._getAutoClosingPairs(e);if(o)for(const e of o)Am(this.autoClosingPairsOpen2,e.open.charAt(e.open.length-1),e),1===e.close.length&&Am(this.autoClosingPairsClose2,e.close,e);let s=Pm._getSurroundingPairs(e);if(s)for(const e of s)this.surroundingPairs[e.open]=e.close}static shouldRecreate(e){return e.hasChanged(117)||e.hasChanged(105)||e.hasChanged(26)||e.hasChanged(60)||e.hasChanged(62)||e.hasChanged(5)||e.hasChanged(7)||e.hasChanged(6)||e.hasChanged(10)||e.hasChanged(104)||e.hasChanged(51)||e.hasChanged(72)}get electricChars(){if(!this._electricChars){this._electricChars={};let e=Pm._getElectricCharacters(this._languageIdentifier);if(e)for(const t of e)this._electricChars[t]=!0}return this._electricChars}normalizeIndentation(e){return ym.normalizeIndentation(e,this.indentSize,this.insertSpaces)}static _getElectricCharacters(e){try{return za.getElectricCharacters(e.id)}catch(e){return $(e),null}}static _getAutoClosingPairs(e){try{return za.getAutoClosingPairs(e.id)}catch(e){return $(e),null}}static _getShouldAutoClose(e,t){switch(t){case"beforeWhitespace":return Im;case"languageDefined":return Pm._getLanguageDefinedShouldAutoClose(e);case"always":return Om;case"never":return Mm}}static _getLanguageDefinedShouldAutoClose(e){try{const t=za.getAutoCloseBeforeSet(e.id);return e=>-1!==t.indexOf(e)}catch(e){return $(e),Mm}}static _getSurroundingPairs(e){try{return za.getSurroundingPairs(e.id)}catch(e){return $(e),null}}}class Rm{constructor(e,t,i,n){this.selectionStart=e,this.selectionStartLeftoverVisibleColumns=t,this.position=i,this.leftoverVisibleColumns=n,this.selection=Rm._computeSelection(this.selectionStart,this.position)}equals(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(e,t,i,n){return e?new Rm(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new pt(t,i),n):new Rm(new mt(t,i,t,i),n,new pt(t,i),n)}static _computeSelection(e,t){let i,n,r,o;return e.isEmpty()?(i=e.startLineNumber,n=e.startColumn,r=t.lineNumber,o=t.column):t.isBeforeOrEqual(e.getStartPosition())?(i=e.endLineNumber,n=e.endColumn,r=t.lineNumber,o=t.column):(i=e.startLineNumber,n=e.startColumn,r=t.lineNumber,o=t.column),new gt(i,n,r,o)}}class Fm{constructor(e,t,i){this.model=e,this.coordinatesConverter=t,this.cursorConfig=i}}class Vm{constructor(e){this.modelState=e,this.viewState=null}}class Bm{constructor(e){this.modelState=null,this.viewState=e}}class Wm{constructor(e,t){this.modelState=e,this.viewState=t}static fromModelState(e){return new Vm(e)}static fromViewState(e){return new Bm(e)}static fromModelSelection(e){const t=e.selectionStartLineNumber,i=e.selectionStartColumn,n=e.positionLineNumber,r=e.positionColumn,o=new Rm(new mt(t,i,t,i),0,new pt(n,r),0);return Wm.fromModelState(o)}static fromModelSelections(e){let t=[];for(let i=0,n=e.length;i<n;i++)t[i]=this.fromModelSelection(e[i]);return t}equals(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)}}class $m{constructor(e,t,i){this.type=e,this.commands=t,this.shouldPushStackElementBefore=i.shouldPushStackElementBefore,this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}}class zm{static visibleColumnFromColumn(e,t,i){const n=e.length,r=t-1<n?t-1:n;let o=0,s=0;for(;s<r;){const t=hr.y(e,r,s);if(s+=t>=65536?2:1,9===t)o=zm.nextRenderTabStop(o,i);else{let i=hr.w(t);for(;s<r;){const t=hr.y(e,r,s),n=hr.w(t);if(hr.c(i,n))break;s+=t>=65536?2:1,i=n}hr.C(t)||hr.A(t)?o+=2:o+=1}}return o}static visibleColumnFromColumn2(e,t,i){return this.visibleColumnFromColumn(t.getLineContent(i.lineNumber),i.column,e.tabSize)}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const n=e.length;let r=0,o=1,s=0;for(;s<n;){const a=hr.y(e,n,s);let l;if(s+=a>=65536?2:1,9===a)l=zm.nextRenderTabStop(r,i);else{let t=hr.w(a);for(;s<n;){const i=hr.y(e,n,s),r=hr.w(i);if(hr.c(t,r))break;s+=i>=65536?2:1,t=r}l=hr.C(a)||hr.A(a)?r+2:r+1}const c=s+1;if(l>=t){return l-t<t-r?c:o}r=l,o=c}return n+1}static columnFromVisibleColumn2(e,t,i,n){let r=this.columnFromVisibleColumn(t.getLineContent(i),n,e.tabSize),o=t.getLineMinColumn(i);if(r<o)return o;let s=t.getLineMaxColumn(i);return r>s?s:r}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return e-1-(e-1)%t}static prevIndentTabStop(e,t){return e-1-(e-1)%t}}function Hm(e){return"'"===e||'"'===e||"`"===e}class jm{constructor(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}}class Um{constructor(e,t,i=0,n=null,r=null,o=null){this.element=e,this.type=t,this.mouseColumn=i,this.position=n,!r&&n&&(r=new mt(n.lineNumber,n.column,n.lineNumber,n.column)),this.range=r,this.detail=o}static _typeToString(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"}static toString(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail}toString(){return Um.toString(this)}}class Km{static isTextArea(e){return 2===e.length&&3===e[0]&&6===e[1]}static isChildOfViewLines(e){return e.length>=4&&3===e[0]&&7===e[3]}static isStrictChildOfViewLines(e){return e.length>4&&3===e[0]&&7===e[3]}static isChildOfScrollableElement(e){return e.length>=2&&3===e[0]&&5===e[1]}static isChildOfMinimap(e){return e.length>=2&&3===e[0]&&8===e[1]}static isChildOfContentWidgets(e){return e.length>=4&&3===e[0]&&1===e[3]}static isChildOfOverflowingContentWidgets(e){return e.length>=1&&2===e[0]}static isChildOfOverlayWidgets(e){return e.length>=2&&3===e[0]&&4===e[1]}}class qm{constructor(e,t,i){this.model=e.model;const n=e.configuration.options;this.layoutInfo=n.get(117),this.viewDomNode=t.viewDomNode,this.lineHeight=n.get(51),this.typicalHalfwidthCharacterWidth=n.get(36).typicalHalfwidthCharacterWidth,this.lastRenderData=i,this._context=e,this._viewHelper=t}getZoneAtCoord(e){return qm.getZoneAtCoord(this._context,e)}static getZoneAtCoord(e,t){const i=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(i){let n,r=i.verticalOffset+i.height/2,o=e.model.getLineCount(),s=null,a=null;return i.afterLineNumber!==o&&(a=new pt(i.afterLineNumber+1,1)),i.afterLineNumber>0&&(s=new pt(i.afterLineNumber,e.model.getLineMaxColumn(i.afterLineNumber))),n=null===a?s:null===s?a:t<r?s:a,{viewZoneId:i.id,afterLineNumber:i.afterLineNumber,positionBefore:s,positionAfter:a,position:n}}return null}getFullLineRangeAtCoord(e){if(this._context.viewLayout.isAfterLines(e)){const e=this._context.model.getLineCount(),t=this._context.model.getLineMaxColumn(e);return{range:new mt(e,t,e,t),isAfterLines:!0}}const t=this._context.viewLayout.getLineNumberAtVerticalOffset(e),i=this._context.model.getLineMaxColumn(t);return{range:new mt(t,1,t,i),isAfterLines:!1}}getLineNumberAtVerticalOffset(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)}isAfterLines(e){return this._context.viewLayout.isAfterLines(e)}getVerticalOffsetForLineNumber(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)}findAttribute(e,t){return qm._findAttribute(e,t,this._viewHelper.viewDomNode)}static _findAttribute(e,t,i){for(;e&&e!==document.body;){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===i)return null;e=e.parentNode}return null}getLineWidth(e){return this._viewHelper.getLineWidth(e)}visibleRangeForPosition(e,t){return this._viewHelper.visibleRangeForPosition(e,t)}getPositionFromDOMInfo(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Gm{constructor(e,t,i){this.editorPos=t,this.pos=i,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+i.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+i.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=i.x-t.x<e.layoutInfo.contentLeft&&i.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Qm._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}}class Ym extends Gm{constructor(e,t,i,n){super(e,t,i),this._ctx=e,n?(this.target=n,this.targetPath=Kd.collect(n,e.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}fulfill(e,t=null,i=null,n=null){let r=this.mouseColumn;return t&&t.column<this._ctx.model.getLineMaxColumn(t.lineNumber)&&(r=zm.visibleColumnFromColumn(this._ctx.model.getLineContent(t.lineNumber),t.column,this._ctx.model.getTextModelOptions().tabSize)+1),new Um(this.target,e,r,t,i,n)}withTarget(e){return new Ym(this._ctx,this.editorPos,this.pos,e)}}const Xm={isAfterLines:!0};function Zm(e){return{isAfterLines:!1,horizontalDistanceToText:e}}class Qm{constructor(e,t){this._context=e,this._viewHelper=t}mouseTargetIsWidget(e){const t=e.target,i=Kd.collect(t,this._viewHelper.viewDomNode);return!(!Km.isChildOfContentWidgets(i)&&!Km.isChildOfOverflowingContentWidgets(i))||!!Km.isChildOfOverlayWidgets(i)}createMouseTarget(e,t,i,n){const r=new qm(this._context,this._viewHelper,e),o=new Ym(r,t,i,n);try{return Qm._createMouseTarget(r,o,!1)}catch(e){return o.fulfill(0)}}static _createMouseTarget(e,t,i){if(null===t.target){if(i)return t.fulfill(0);const n=Qm._doHitTest(e,t);return n.position?Qm.createMouseTargetFromHitTestPosition(e,t,n.position.lineNumber,n.position.column):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}const n=t;let r=null;return(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r||Qm._hitTestContentWidget(e,n))||Qm._hitTestOverlayWidget(e,n))||Qm._hitTestMinimap(e,n))||Qm._hitTestScrollbarSlider(e,n))||Qm._hitTestViewZone(e,n))||Qm._hitTestMargin(e,n))||Qm._hitTestViewCursor(e,n))||Qm._hitTestTextArea(e,n))||Qm._hitTestViewLines(e,n,i))||Qm._hitTestScrollbar(e,n))||t.fulfill(0)}static _hitTestContentWidget(e,t){if(Km.isChildOfContentWidgets(t.targetPath)||Km.isChildOfOverflowingContentWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(9,null,null,i):t.fulfill(0)}return null}static _hitTestOverlayWidget(e,t){if(Km.isChildOfOverlayWidgets(t.targetPath)){const i=e.findAttribute(t.target,"widgetId");return i?t.fulfill(12,null,null,i):t.fulfill(0)}return null}static _hitTestViewCursor(e,t){if(t.target){const i=e.lastRenderData.lastViewCursorsRenderData;for(const e of i)if(t.target===e.domNode)return t.fulfill(6,e.position)}if(t.isInContentArea){const i=e.lastRenderData.lastViewCursorsRenderData,n=t.mouseContentHorizontalOffset,r=t.mouseVerticalOffset;for(const o of i){if(n<o.contentLeft)continue;if(n>o.contentLeft+o.width)continue;const i=e.getVerticalOffsetForLineNumber(o.position.lineNumber);if(i<=r&&r<=i+o.height)return t.fulfill(6,o.position)}}return null}static _hitTestViewZone(e,t){const i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){const e=t.isInContentArea?8:5;return t.fulfill(e,i.position,null,i)}return null}static _hitTestTextArea(e,t){return Km.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfill(6,e.lastRenderData.lastTextareaPosition):t.fulfill(1,e.lastRenderData.lastTextareaPosition):null}static _hitTestMargin(e,t){if(t.isInMarginArea){const i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),n=i.range.getStartPosition();let r=Math.abs(t.pos.x-t.editorPos.x);const o={isAfterLines:i.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:r};return(r-=e.layoutInfo.glyphMarginLeft)<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,n,i.range,o):(r-=e.layoutInfo.glyphMarginWidth)<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,n,i.range,o):(r-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,n,i.range,o))}return null}static _hitTestViewLines(e,t,i){if(!Km.isChildOfViewLines(t.targetPath))return null;if(e.isAfterLines(t.mouseVerticalOffset)){const i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return t.fulfill(7,new pt(i,n),void 0,Xm)}if(i){if(Km.isStrictChildOfViewLines(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);if(0===e.model.getLineLength(i)){const n=e.getLineWidth(i),r=Zm(t.mouseContentHorizontalOffset-n);return t.fulfill(7,new pt(i,1),void 0,r)}const n=e.getLineWidth(i);if(t.mouseContentHorizontalOffset>=n){const r=Zm(t.mouseContentHorizontalOffset-n),o=new pt(i,e.model.getLineMaxColumn(i));return t.fulfill(7,o,void 0,r)}}return t.fulfill(0)}const n=Qm._doHitTest(e,t);return n.position?Qm.createMouseTargetFromHitTestPosition(e,t,n.position.lineNumber,n.position.column):this._createMouseTarget(e,t.withTarget(n.hitTarget),!0)}static _hitTestMinimap(e,t){if(Km.isChildOfMinimap(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new pt(i,n))}return null}static _hitTestScrollbarSlider(e,t){if(Km.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){const i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new pt(i,n))}}return null}static _hitTestScrollbar(e,t){if(Km.isChildOfScrollableElement(t.targetPath)){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.model.getLineMaxColumn(i);return t.fulfill(11,new pt(i,n))}return null}getMouseColumn(e,t){const i=this._context.configuration.options,n=i.get(117),r=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-n.contentLeft;return Qm._getMouseColumn(r,i.get(36).typicalHalfwidthCharacterWidth)}static _getMouseColumn(e,t){if(e<0)return 1;return Math.round(e/t)+1}static createMouseTargetFromHitTestPosition(e,t,i,n){const r=new pt(i,n),o=e.getLineWidth(i);if(t.mouseContentHorizontalOffset>o){if(hi&&1===r.column){const n=Zm(t.mouseContentHorizontalOffset-o);return t.fulfill(7,new pt(i,e.model.getLineMaxColumn(i)),void 0,n)}const n=Zm(t.mouseContentHorizontalOffset-o);return t.fulfill(7,r,void 0,n)}const s=e.visibleRangeForPosition(i,n);if(!s)return t.fulfill(0,r);const a=s.left;if(t.mouseContentHorizontalOffset===a)return t.fulfill(6,r);const l=[];if(l.push({offset:s.left,column:n}),n>1){const t=e.visibleRangeForPosition(i,n-1);t&&l.push({offset:t.left,column:n-1})}if(n<e.model.getLineMaxColumn(i)){const t=e.visibleRangeForPosition(i,n+1);t&&l.push({offset:t.left,column:n+1})}l.sort((e,t)=>e.offset-t.offset);for(let e=1;e<l.length;e++){const n=l[e-1],o=l[e];if(n.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=o.offset){const e=new mt(i,n.column,i,o.column);return t.fulfill(6,r,e)}}return t.fulfill(6,r)}static _doHitTestWithCaretRangeFromPoint(e,t){const i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),n=e.getVerticalOffsetForLineNumber(i)+Math.floor(e.lineHeight/2);let r=t.pos.y+(n-t.mouseVerticalOffset);r<=t.editorPos.y&&(r=t.editorPos.y+1),r>=t.editorPos.y+e.layoutInfo.height&&(r=t.editorPos.y+e.layoutInfo.height-1);const o=new Rd(t.pos.x,r),s=this._actualDoHitTestWithCaretRangeFromPoint(e,o.toClientCoordinates());return s.position?s:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(e,t){const i=Vn(e.viewDomNode);let n;if(!(n=i?void 0===i.caretRangeFromPoint?function(e,t,i){const n=document.createRange();let r=e.elementFromPoint(t,i);if(null!==r){for(;r&&r.firstChild&&r.firstChild.nodeType!==r.firstChild.TEXT_NODE;)r=r.lastChild;const e=r.getBoundingClientRect(),i=window.getComputedStyle(r,null).getPropertyValue("font"),o=r.innerText;let s,a=e.left,l=0;if(t>e.left+e.width)l=o.length;else{const e=Jm.getInstance();for(let n=0;n<o.length+1;n++){if(s=e.getCharWidth(o.charAt(n),i)/2,t<(a+=s)){l=n;break}a+=s}}n.setStart(r.firstChild,l),n.setEnd(r.firstChild,l)}return n}(i,t.clientX,t.clientY):i.caretRangeFromPoint(t.clientX,t.clientY):document.caretRangeFromPoint(t.clientX,t.clientY))||!n.startContainer)return{position:null,hitTarget:null};const r=n.startContainer;let o=null;if(r.nodeType===r.TEXT_NODE){const t=r.parentNode,i=t?t.parentNode:null,s=i?i.parentNode:null;if((s&&s.nodeType===s.ELEMENT_NODE?s.className:null)===gf.CLASS_NAME){return{position:e.getPositionFromDOMInfo(t,n.startOffset),hitTarget:null}}o=r.parentNode}else if(r.nodeType===r.ELEMENT_NODE){const t=r.parentNode,i=t?t.parentNode:null;if((i&&i.nodeType===i.ELEMENT_NODE?i.className:null)===gf.CLASS_NAME){return{position:e.getPositionFromDOMInfo(r,r.textContent.length),hitTarget:null}}o=r}return{position:null,hitTarget:o}}static _doHitTestWithCaretPositionFromPoint(e,t){const i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){const t=i.offsetNode.parentNode,n=t?t.parentNode:null,r=n?n.parentNode:null;if((r&&r.nodeType===r.ELEMENT_NODE?r.className:null)===gf.CLASS_NAME){return{position:e.getPositionFromDOMInfo(i.offsetNode.parentNode,i.offset),hitTarget:null}}return{position:null,hitTarget:i.offsetNode.parentNode}}if(i.offsetNode.nodeType===i.offsetNode.ELEMENT_NODE){const t=i.offsetNode.parentNode;if((t&&t.nodeType===t.ELEMENT_NODE?t.className:null)===gf.CLASS_NAME){const t=i.offsetNode.childNodes[Math.min(i.offset,i.offsetNode.childNodes.length-1)];if(t){return{position:e.getPositionFromDOMInfo(t,0),hitTarget:null}}}}return{position:null,hitTarget:i.offsetNode}}static _doHitTestWithMoveToPoint(e,t){let i=null,n=null;const r=document.body.createTextRange();try{r.moveToPoint(t.clientX,t.clientY)}catch(e){return{position:null,hitTarget:null}}r.collapse(!0);const o=r?r.parentElement():null,s=o?o.parentNode:null,a=s?s.parentNode:null;if((a&&a.nodeType===a.ELEMENT_NODE?a.className:"")===gf.CLASS_NAME){const t=r.duplicate();t.moveToElementText(o),t.setEndPoint("EndToStart",r),i=e.getPositionFromDOMInfo(o,t.text.length),t.moveToElementText(e.viewDomNode)}else n=o;return r.moveToElementText(e.viewDomNode),{position:i,hitTarget:n}}static _doHitTest(e,t){return"function"==typeof document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates()):document.body.createTextRange?this._doHitTestWithMoveToPoint(e,t.pos.toClientCoordinates()):{position:null,hitTarget:null}}}class Jm{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return Jm._INSTANCE||(Jm._INSTANCE=new Jm),Jm._INSTANCE}getCharWidth(e,t){const i=e+t;if(this._cache[i])return this._cache[i];const n=this._canvas.getContext("2d");n.font=t;const r=n.measureText(e).width;return this._cache[i]=r,r}}function eg(e){return function(t,i){let n=!1;return e&&(n=e.mouseTargetIsWidget(i)),n||i.preventDefault(),i}}Jm._INSTANCE=null;class tg extends jd{constructor(e,t,i){super(),this._context=e,this.viewController=t,this.viewHelper=i,this.mouseTargetFactory=new Qm(this._context,i),this._mouseDownOperation=this._register(new ig(this._context,this.viewController,this.viewHelper,(e,t)=>this._createMouseTarget(e,t),e=>this._getMouseColumn(e))),this.lastMouseLeaveTime=-1;const n=new $d(this.viewHelper.viewDomNode);this._register(n.onContextMenu(this.viewHelper.viewDomNode,e=>this._onContextMenu(e,!0))),this._register(n.onMouseMoveThrottled(this.viewHelper.viewDomNode,e=>this._onMouseMove(e),eg(this.mouseTargetFactory),tg.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onMouseUp(this.viewHelper.viewDomNode,e=>this._onMouseUp(e))),this._register(n.onMouseLeave(this.viewHelper.viewDomNode,e=>this._onMouseLeave(e))),this._register(n.onMouseDown(this.viewHelper.viewDomNode,e=>this._onMouseDown(e)));this._register(dn(this.viewHelper.viewDomNode,Kn.MOUSE_WHEEL,e=>{if(this.viewController.emitMouseWheel(e),!this._context.configuration.options.get(59))return;const t=new Mi(e);if(t.browserEvent.ctrlKey||t.browserEvent.metaKey){const e=Xr.getZoomLevel(),i=t.deltaY>0?1:-1;Xr.setZoomLevel(e+i),t.preventDefault(),t.stopPropagation()}},{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onCursorStateChanged(e){return this._mouseDownOperation.onCursorStateChanged(e),!1}onFocusChanged(e){return!1}onScrollChanged(e){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(e,t){const i=new Fd(e,t).toPageCoordinates(),n=Bd(this.viewHelper.viewDomNode);return i.y<n.y||i.y>n.y+n.height||i.x<n.x||i.x>n.x+n.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),n,i,null)}_createMouseTarget(e,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?e.target:null)}_getMouseColumn(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)}_onContextMenu(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})}_onMouseMove(e){if(this._mouseDownOperation.isActive())return;e.timestamp<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}_onMouseLeave(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})}_onMouseUp(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})}_onMouseDown(e){const t=this._createMouseTarget(e,!0),i=6===t.type||7===t.type,n=2===t.type||3===t.type||4===t.type,o=3===t.type,s=this._context.configuration.options.get(90),a=8===t.type||5===t.type,l=9===t.type;let c=e.leftButton||e.middleButton;r.f&&e.leftButton&&e.ctrlKey&&(c=!1);const h=()=>{e.preventDefault(),this.viewHelper.focusTextArea()};if(c&&(i||o&&s))h(),this._mouseDownOperation.start(t.type,e);else if(n)e.preventDefault();else if(a){const i=t.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(i.viewZoneId)&&(h(),this._mouseDownOperation.start(t.type,e),e.preventDefault())}else l&&this.viewHelper.shouldSuppressMouseDownOnWidget(t.detail)&&(h(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:t})}}tg.MOUSE_MOVE_MINIMUM_TIME=100;class ig extends ne{constructor(e,t,i,n,r){super(),this._context=e,this._viewController=t,this._viewHelper=i,this._createMouseTarget=n,this._getMouseColumn=r,this._mouseMoveMonitor=this._register(new Hd(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new Ri),this._mouseState=new ng,this._currentSelection=new gt(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);const t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))}start(e,t){this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);const i=this._findMousePosition(t,!0);if(!i||!i.position)return;this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count;const n=this._context.configuration.options;if(!n.get(72)&&n.get(25)&&!n.get(13)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===i.type&&i.position&&this._currentSelection.containsPosition(i.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,eg(null),e=>this._onMouseDownThenMove(e),()=>{const e=this._findMousePosition(this._lastMouseEvent,!0);this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:e?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,eg(null),e=>this._onMouseDownThenMove(e),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onScrollChanged(){this._isActive&&this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const e=this._findMousePosition(this._lastMouseEvent,!1);e&&(this._mouseState.isDragAndDrop||this._dispatchMouse(e,!0))},10)}onCursorStateChanged(e){this._currentSelection=e.selections[0]}_getPositionOutsideEditor(e){const t=e.editorPos,i=this._context.model,n=this._context.viewLayout,r=this._getMouseColumn(e);if(e.posy<t.y){const i=Math.max(n.getCurrentScrollTop()-(t.y-e.posy),0),o=qm.getZoneAtCoord(this._context,i);if(o){const e=this._helpPositionJumpOverViewZone(o);if(e)return new Um(null,13,r,e)}const s=n.getLineNumberAtVerticalOffset(i);return new Um(null,13,r,new pt(s,1))}if(e.posy>t.y+t.height){const o=n.getCurrentScrollTop()+(e.posy-t.y),s=qm.getZoneAtCoord(this._context,o);if(s){const e=this._helpPositionJumpOverViewZone(s);if(e)return new Um(null,13,r,e)}const a=n.getLineNumberAtVerticalOffset(o);return new Um(null,13,r,new pt(a,i.getLineMaxColumn(a)))}const o=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new Um(null,13,r,new pt(o,1)):e.posx>t.x+t.width?new Um(null,13,r,new pt(o,i.getLineMaxColumn(o))):null}_findMousePosition(e,t){const i=this._getPositionOutsideEditor(e);if(i)return i;const n=this._createMouseTarget(e,t);if(!n.position)return null;if(8===n.type||5===n.type){const e=this._helpPositionJumpOverViewZone(n.detail);if(e)return new Um(n.element,n.type,n.mouseColumn,e,null,n.detail)}return n}_helpPositionJumpOverViewZone(e){const t=new pt(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),i=e.positionBefore,n=e.positionAfter;return i&&n?i.isBefore(t)?i:n:null}_dispatchMouse(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})}}class ng{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey}setStartButtons(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton}setStartedOnLineNumbers(e){this._startedOnLineNumbers=e}trySetCount(e,t){const i=(new Date).getTime();i-this._lastSetMouseDownCountTime>ng.CLEAR_MOUSE_DOWN_COUNT_TIME&&(e=1),this._lastSetMouseDownCountTime=i,e>this._lastMouseDownCount+1&&(e=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=t,this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)}}function rg(e,t){const i={translationY:t.translationY,translationX:t.translationX};return e&&(i.translationY+=e.translationY,i.translationX+=e.translationX),i}ng.CLEAR_MOUSE_DOWN_COUNT_TIME=400;class og extends tg{constructor(e,t,i){super(e,t,i),this.viewHelper.linesContentDomNode.style.touchAction="none",this._installGestureHandlerTimeout=window.setTimeout(()=>{if(this._installGestureHandlerTimeout=-1,window.MSGesture){const e=new MSGesture,t=new MSGesture;e.target=this.viewHelper.linesContentDomNode,t.target=this.viewHelper.linesContentDomNode,this.viewHelper.linesContentDomNode.addEventListener("pointerdown",i=>{const n=i.pointerType;"mouse"!==n?"touch"===n?(this._lastPointerType="touch",e.addPointer(i.pointerId)):(this._lastPointerType="pen",t.addPointer(i.pointerId)):this._lastPointerType="mouse"}),this._register(Sn(this.viewHelper.linesContentDomNode,"MSGestureChange",e=>this._onGestureChange(e),rg)),this._register(dn(this.viewHelper.linesContentDomNode,"MSGestureTap",e=>this._onCaptureGestureTap(e),!0))}},100),this._lastPointerType="mouse"}_onMouseDown(e){"mouse"===this._lastPointerType&&super._onMouseDown(e)}_onCaptureGestureTap(e){const t=new Wd(e,this.viewHelper.viewDomNode),i=this._createMouseTarget(t,!1);i.position&&this.viewController.moveTo(i.position),t.browserEvent.fromElement?(t.preventDefault(),this.viewHelper.focusTextArea()):setTimeout(()=>{this.viewHelper.focusTextArea()})}_onGestureChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}dispose(){window.clearTimeout(this._installGestureHandlerTimeout),super.dispose()}}class sg extends tg{constructor(e,t,i){super(e,t,i),this._register(Id.addTarget(this.viewHelper.linesContentDomNode)),this._register(dn(this.viewHelper.linesContentDomNode,Od.Tap,e=>this.onTap(e))),this._register(dn(this.viewHelper.linesContentDomNode,Od.Change,e=>this.onChange(e))),this._register(dn(this.viewHelper.linesContentDomNode,Od.Contextmenu,e=>this._onContextMenu(new Wd(e,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(dn(this.viewHelper.linesContentDomNode,"pointerdown",e=>{const t=e.pointerType;this._lastPointerType="mouse"!==t?"touch"===t?"touch":"pen":"mouse"}));const n=new zd(this.viewHelper.viewDomNode);this._register(n.onPointerMoveThrottled(this.viewHelper.viewDomNode,e=>this._onMouseMove(e),eg(this.mouseTargetFactory),tg.MOUSE_MOVE_MINIMUM_TIME)),this._register(n.onPointerUp(this.viewHelper.viewDomNode,e=>this._onMouseUp(e))),this._register(n.onPointerLeave(this.viewHelper.viewDomNode,e=>this._onMouseLeave(e))),this._register(n.onPointerDown(this.viewHelper.viewDomNode,e=>this._onMouseDown(e)))}onTap(e){if(!e.initialTarget||!this.viewHelper.linesContentDomNode.contains(e.initialTarget))return;e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new Wd(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}onChange(e){"touch"===this._lastPointerType&&this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}_onMouseDown(e){e.target&&this.viewHelper.linesContentDomNode.contains(e.target)&&"touch"===this._lastPointerType||super._onMouseDown(e)}}class ag extends tg{constructor(e,t,i){super(e,t,i),this._register(Id.addTarget(this.viewHelper.linesContentDomNode)),this._register(dn(this.viewHelper.linesContentDomNode,Od.Tap,e=>this.onTap(e))),this._register(dn(this.viewHelper.linesContentDomNode,Od.Change,e=>this.onChange(e))),this._register(dn(this.viewHelper.linesContentDomNode,Od.Contextmenu,e=>this._onContextMenu(new Wd(e,this.viewHelper.viewDomNode),!1)))}onTap(e){e.preventDefault(),this.viewHelper.focusTextArea();const t=this._createMouseTarget(new Wd(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.moveTo(t.position)}onChange(e){this._context.model.deltaScrollNow(-e.translationX,-e.translationY)}}class lg extends ne{constructor(e,t,i){super(),r.c&&Ji.pointerEvents?this.handler=this._register(new sg(e,t,i)):window.TouchEvent?this.handler=this._register(new ag(e,t,i)):window.navigator.pointerEnabled||window.PointerEvent?this.handler=this._register(new og(e,t,i)):this.handler=this._register(new tg(e,t,i))}getTargetAtClientPoint(e,t){return this.handler.getTargetAtClientPoint(e,t)}}i("9vcT");class cg{constructor(e,t,i,n,r){this.value=e,this.selectionStart=t,this.selectionEnd=i,this.selectionStartPosition=n,this.selectionEndPosition=r}toString(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"}static readFromTextArea(e){return new cg(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)}collapseSelection(){return new cg(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(e,t,i){t.setValue(e,this.value),i&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}deduceEditorPosition(e){if(e<=this.selectionStart){const t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){const t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}const t=this.value.substring(this.selectionStart,e);if(-1===t.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,t,1);const i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)}_finishDeduceEditorPosition(e,t,i){let n=0,r=-1;for(;-1!==(r=t.indexOf("\n",r+1));)n++;return[e,i*t.length,n]}static selectedText(e){return new cg(e,0,e.length,null,null)}static deduceInput(e,t,i){if(!e)return{text:"",replaceCharCnt:0};let n=e.value,r=e.selectionStart,o=e.selectionEnd,s=t.value,a=t.selectionStart,l=t.selectionEnd;const c=n.substring(o),h=s.substring(l),u=hr.e(c,h);s=s.substring(0,s.length-u);const d=(n=n.substring(0,n.length-u)).substring(0,r),f=s.substring(0,a),p=hr.d(d,f);if(s=s.substring(p),n=n.substring(p),a-=p,r-=p,l-=p,o-=p,i&&a===l&&n.length>0){let e=null;if(a===s.length?hr.P(s,n)&&(e=s.substring(n.length)):hr.q(s,n)&&(e=s.substring(0,s.length-n.length)),null!==e&&e.length>0&&(/\uFE0F/.test(e)||hr.j(e)))return{text:e,replaceCharCnt:0}}if(a===l){if(n===s&&0===r&&o===n.length&&a===s.length&&-1===s.indexOf("\n")&&hr.k(s))return{text:"",replaceCharCnt:0};return{text:s,replaceCharCnt:d.length-p}}return{text:s,replaceCharCnt:o-r}}}cg.EMPTY=new cg("",0,0,null,null);class hg{static _getPageOfLine(e,t){return Math.floor((e-1)/t)}static _getRangeForPage(e,t){const i=e*t;return new mt(i+1,1,i+t+1,1)}static fromEditorSelection(e,t,i,n,r){const o=hg._getPageOfLine(i.startLineNumber,n),s=hg._getRangeForPage(o,n),a=hg._getPageOfLine(i.endLineNumber,n),l=hg._getRangeForPage(a,n),c=s.intersectRanges(new mt(1,1,i.startLineNumber,i.startColumn));let h=t.getValueInRange(c,1);const u=t.getLineCount(),d=t.getLineMaxColumn(u),f=l.intersectRanges(new mt(i.endLineNumber,i.endColumn,u,d));let p,m=t.getValueInRange(f,1);if(o===a||o+1===a)p=t.getValueInRange(i,1);else{const e=s.intersectRanges(i),n=l.intersectRanges(i);p=t.getValueInRange(e,1)+String.fromCharCode(8230)+t.getValueInRange(n,1)}if(r){const e=500;h.length>e&&(h=h.substring(h.length-e,h.length)),m.length>e&&(m=m.substring(0,e)),p.length>2*e&&(p=p.substring(0,e)+String.fromCharCode(8230)+p.substring(p.length-e,p.length))}return new cg(h+p+m,h.length,h.length+p.length,new pt(i.startLineNumber,i.startColumn),new pt(i.endLineNumber,i.endColumn))}}const ug={forceCopyWithSyntaxHighlighting:!1};class dg{constructor(){this._lastState=null}set(e,t){this._lastState={lastCopiedValue:e,data:t}}get(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)}}dg.INSTANCE=new dg;class fg extends ne{constructor(e,t){super(),this.textArea=t,this._onFocus=this._register(new ce),this.onFocus=this._onFocus.event,this._onBlur=this._register(new ce),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new ce),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new ce),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new ce),this.onCut=this._onCut.event,this._onPaste=this._register(new ce),this.onPaste=this._onPaste.event,this._onType=this._register(new ce),this.onType=this._onType.event,this._onCompositionStart=this._register(new ce),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new ce),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new ce),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new ce),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._host=e,this._textArea=this._register(new mg(t)),this._asyncTriggerCut=this._register(new Vi(()=>this._onCut.fire(),0)),this._textAreaState=cg.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._isDoingComposition=!1,this._nextCommand=0;let i=null;this._register(pn(t.domNode,"keydown",e=>{(109===e.keyCode||this._isDoingComposition&&1===e.keyCode)&&e.stopPropagation(),e.equals(9)&&e.preventDefault(),i=e,this._onKeyDown.fire(e)})),this._register(pn(t.domNode,"keyup",e=>{this._onKeyUp.fire(e)})),this._register(dn(t.domNode,"compositionstart",e=>{if(this._isDoingComposition)return;this._isDoingComposition=!0;let t=!1;r.f&&i&&i.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===e.data&&("ArrowRight"!==i.code&&"ArrowLeft"!==i.code||(t=!0)),t?this._textAreaState=new cg(this._textAreaState.value,this._textAreaState.selectionStart-1,this._textAreaState.selectionEnd,this._textAreaState.selectionStartPosition?new pt(this._textAreaState.selectionStartPosition.lineNumber,this._textAreaState.selectionStartPosition.column-1):null,this._textAreaState.selectionEndPosition):hi||this._setAndWriteTextAreaState("compositionstart",cg.EMPTY),this._onCompositionStart.fire({moveOneCharacterLeft:t})}));const n=e=>{const t=this._textAreaState,i=cg.readFromTextArea(this._textArea);return[i,cg.deduceInput(t,i,e)]},o=e=>{const t=this._textAreaState,i=cg.selectedText(e);return[i,{text:i.value,replaceCharCnt:t.selectionEnd-t.selectionStart}]},s=e=>!(!hi||"ja"!==e);this._register(dn(t.domNode,"compositionupdate",e=>{if(s(e.locale)){const[t,i]=n(!1);return this._textAreaState=t,this._onType.fire(i),void this._onCompositionUpdate.fire(e)}const[t,i]=o(e.data||"");this._textAreaState=t,this._onType.fire(i),this._onCompositionUpdate.fire(e)})),this._register(dn(t.domNode,"compositionend",e=>{if(this._isDoingComposition){if(s(e.locale)){const[e,t]=n(!1);this._textAreaState=e,this._onType.fire(t)}else{const[t,i]=o(e.data||"");this._textAreaState=t,this._onType.fire(i)}(hi||fi)&&(this._textAreaState=cg.readFromTextArea(this._textArea)),this._isDoingComposition&&(this._isDoingComposition=!1,this._onCompositionEnd.fire())}})),this._register(dn(t.domNode,"input",()=>{if(this._textArea.setIgnoreSelectionChangeTime("received input event"),this._isDoingComposition)return;const[e,t]=n(r.f);0===t.replaceCharCnt&&1===t.text.length&&hr.D(t.text.charCodeAt(0))||(this._textAreaState=e,0===this._nextCommand?""!==t.text&&this._onType.fire(t):(""===t.text&&0===t.replaceCharCnt||this._firePaste(t.text,null),this._nextCommand=0))})),this._register(dn(t.domNode,"cut",e=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(e),this._asyncTriggerCut.schedule()})),this._register(dn(t.domNode,"copy",e=>{this._ensureClipboardGetsEditorSelection(e)})),this._register(dn(t.domNode,"paste",e=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),pg.canUseTextData(e)){const[t,i]=pg.getTextData(e);""!==t&&this._firePaste(t,i)}else this._textArea.getSelectionStart()!==this._textArea.getSelectionEnd()&&this._setAndWriteTextAreaState("paste",cg.EMPTY),this._nextCommand=1})),this._register(dn(t.domNode,"focus",()=>{this._setHasFocus(!0)})),this._register(dn(t.domNode,"blur",()=>{this._setHasFocus(!1)}))}_installSelectionChangeListener(){let e=0;return dn(document,"selectionchange",t=>{if(!this._hasFocus)return;if(this._isDoingComposition)return;if(!fi)return;const i=Date.now(),n=i-e;if(e=i,n<5)return;const r=i-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),r<100)return;if(!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const o=this._textArea.getValue();if(this._textAreaState.value!==o)return;const s=this._textArea.getSelectionStart(),a=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===s&&this._textAreaState.selectionEnd===a)return;const l=this._textAreaState.deduceEditorPosition(s),c=this._host.deduceModelPosition(l[0],l[1],l[2]),h=this._textAreaState.deduceEditorPosition(a),u=this._host.deduceModelPosition(h[0],h[1],h[2]),d=new gt(c.lineNumber,c.column,u.lineNumber,u.column);this._onSelectionChangeRequest.fire(d)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){const e=Vn(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):nn(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)}_setHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&(hi?this._setAndWriteTextAreaState("focusgain",cg.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t}writeScreenReaderContent(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(e){const t=this._host.getDataToCopy(pg.canUseTextData(e)&&Ji.clipboard.richText),i={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};dg.INSTANCE.set(ui?t.text.replace(/\r\n/g,"\n"):t.text,i),pg.canUseTextData(e)?pg.setTextData(e,t.text,t.html,i):this._setAndWriteTextAreaState("copy or cut",cg.selectedText(t.text))}_firePaste(e,t){t||(t=dg.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:t})}}class pg{static canUseTextData(e){return!!e.clipboardData||!!window.clipboardData}static getTextData(e){if(e.clipboardData){e.preventDefault();const t=e.clipboardData.getData("text/plain");let i=null;const n=e.clipboardData.getData("vscode-editor-data");if("string"==typeof n)try{1!==(i=JSON.parse(n)).version&&(i=null)}catch(e){}return[t,i]}if(window.clipboardData){return e.preventDefault(),[window.clipboardData.getData("Text"),null]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")}static setTextData(e,t,i,n){if(e.clipboardData)return e.clipboardData.setData("text/plain",t),"string"==typeof i&&e.clipboardData.setData("text/html",i),e.clipboardData.setData("vscode-editor-data",JSON.stringify(n)),void e.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",t),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")}}class mg extends ne{constructor(e){super(),this._actual=e,this._ignoreSelectionChangeTime=0}setIgnoreSelectionChangeTime(e){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.domNode.value}setValue(e,t){const i=this._actual.domNode;i.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),i.value=t)}getSelectionStart(){return this._actual.domNode.selectionStart}getSelectionEnd(){return this._actual.domNode.selectionEnd}setSelectionRange(e,t,i){const n=this._actual.domNode;let r=null;const o=Vn(n),s=(r=o?o.activeElement:document.activeElement)===n,a=n.selectionStart,l=n.selectionEnd;if(s&&a===t&&l===i)ui&&window.parent!==window&&n.focus();else{if(s)return this.setIgnoreSelectionChangeTime("setSelectionRange"),n.setSelectionRange(t,i),void(ui&&window.parent!==window&&n.focus());try{const e=function(e){let t=[];for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)t[i]=e.scrollTop,e=e.parentNode;return t}(n);this.setIgnoreSelectionChangeTime("setSelectionRange"),n.focus(),n.setSelectionRange(t,i),function(e,t){for(let i=0;e&&e.nodeType===e.ELEMENT_NODE;i++)e.scrollTop!==t[i]&&(e.scrollTop=t[i]),e=e.parentNode}(n,e)}catch(e){}}}}i("7Do+");class gg extends jd{}const vg="base.contributions.colors";const bg=new class{constructor(){this._onDidChangeSchema=new ce,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(e,t,i,n=!1,r){let o={id:e,description:i,defaults:t,needsTransparency:n,deprecationMessage:r};this.colorsById[e]=o;let s={type:"string",description:i,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return r&&(s.deprecationMessage=r),this.colorSchema.properties[e]=s,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(i),this._onDidChangeSchema.fire(),e}resolveDefaultColor(e,t){const i=this.colorsById[e];if(i&&i.defaults)return ob(i.defaults[t.type],t)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((e,t)=>{let i=-1===e.indexOf(".")?0:1,n=-1===t.indexOf(".")?0:1;return i!==n?i-n:e.localeCompare(t)}).map(e=>`- \`${e}\`: ${this.colorsById[e].description}`).join("\n")}};function _g(e,t,i,n,r){return bg.registerColor(e,t,i,n,r)}zc.add(vg,bg);const yg=_g("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},n(0,"Overall foreground color. This color is only used if not overridden by a component.")),wg=(_g("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},n(0,"Overall foreground color for error messages. This color is only used if not overridden by a component.")),_g("icon.foreground",{dark:"#C5C5C5",light:"#424242",hc:"#FFFFFF"},n(0,"The default color for icons in the workbench.")),_g("focusBorder",{dark:"#007FD4",light:"#0090F1",hc:"#F38518"},n(0,"Overall border color for focused elements. This color is only used if not overridden by a component."))),Cg=_g("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},n(0,"An extra border around elements to separate them from others for greater contrast.")),Sg=_g("contrastActiveBorder",{light:null,dark:null,hc:wg},n(0,"An extra border around active elements to separate them from others for greater contrast.")),xg=(_g("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},n(0,"Foreground color for links in text.")),_g("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:hm.black},n(0,"Background color for code blocks in text.")),_g("widget.shadow",{dark:"#000000",light:"#A8A8A8",hc:null},n(0,"Shadow color of widgets such as find/replace inside the editor."))),kg=_g("input.background",{dark:"#3C3C3C",light:hm.white,hc:hm.black},n(0,"Input box background.")),Lg=_g("input.foreground",{dark:yg,light:yg,hc:yg},n(0,"Input box foreground.")),Dg=_g("input.border",{dark:null,light:null,hc:Cg},n(0,"Input box border.")),Eg=(_g("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:Cg},n(0,"Border color of activated options in input fields.")),_g("inputOption.activeBackground",{dark:nb(wg,.4),light:nb(wg,.2),hc:hm.transparent},n(0,"Background color of activated options in input fields.")),_g("inputOption.activeForeground",{dark:hm.white,light:hm.black,hc:null},n(0,"Foreground color of activated options in input fields.")),_g("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:hm.black},n(0,"Input validation background color for information severity."))),Ng=_g("inputValidation.infoForeground",{dark:null,light:null,hc:null},n(0,"Input validation foreground color for information severity.")),Tg=_g("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:Cg},n(0,"Input validation border color for information severity.")),Og=_g("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:hm.black},n(0,"Input validation background color for warning severity.")),Mg=_g("inputValidation.warningForeground",{dark:null,light:null,hc:null},n(0,"Input validation foreground color for warning severity.")),Ig=_g("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:Cg},n(0,"Input validation border color for warning severity.")),Ag=_g("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:hm.black},n(0,"Input validation background color for error severity.")),Pg=_g("inputValidation.errorForeground",{dark:null,light:null,hc:null},n(0,"Input validation foreground color for error severity.")),Rg=_g("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:Cg},n(0,"Input validation border color for error severity.")),Fg=_g("dropdown.background",{dark:"#3C3C3C",light:hm.white,hc:hm.black},n(0,"Dropdown background.")),Vg=_g("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:hm.white},n(0,"Dropdown foreground.")),Bg=_g("button.foreground",{dark:hm.white,light:hm.white,hc:hm.white},n(0,"Button foreground color.")),Wg=_g("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},n(0,"Button background color.")),$g=_g("button.hoverBackground",{dark:ib(Wg,.2),light:tb(Wg,.2),hc:null},n(0,"Button background color when hovering.")),zg=_g("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:hm.black},n(0,"Badge background color. Badges are small information labels, e.g. for search results count.")),Hg=_g("badge.foreground",{dark:hm.white,light:"#333",hc:hm.white},n(0,"Badge foreground color. Badges are small information labels, e.g. for search results count.")),jg=_g("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},n(0,"Scrollbar shadow to indicate that the view is scrolled.")),Ug=_g("scrollbarSlider.background",{dark:hm.fromHex("#797979").transparent(.4),light:hm.fromHex("#646464").transparent(.4),hc:nb(Cg,.6)},n(0,"Scrollbar slider background color.")),Kg=_g("scrollbarSlider.hoverBackground",{dark:hm.fromHex("#646464").transparent(.7),light:hm.fromHex("#646464").transparent(.7),hc:nb(Cg,.8)},n(0,"Scrollbar slider background color when hovering.")),qg=_g("scrollbarSlider.activeBackground",{dark:hm.fromHex("#BFBFBF").transparent(.4),light:hm.fromHex("#000000").transparent(.6),hc:Cg},n(0,"Scrollbar slider background color when clicked on.")),Gg=_g("progressBar.background",{dark:hm.fromHex("#0E70C0"),light:hm.fromHex("#0E70C0"),hc:Cg},n(0,"Background color of the progress bar that can show for long running operations.")),Yg=_g("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},n(0,"Foreground color of error squigglies in the editor.")),Xg=_g("editorError.border",{dark:null,light:null,hc:hm.fromHex("#E47777").transparent(.8)},n(0,"Border color of error boxes in the editor.")),Zg=_g("editorWarning.foreground",{dark:"#CCA700",light:"#E9A700",hc:null},n(0,"Foreground color of warning squigglies in the editor.")),Qg=_g("editorWarning.border",{dark:null,light:null,hc:hm.fromHex("#FFCC00").transparent(.8)},n(0,"Border color of warning boxes in the editor.")),Jg=_g("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},n(0,"Foreground color of info squigglies in the editor.")),ev=_g("editorInfo.border",{dark:null,light:null,hc:hm.fromHex("#75BEFF").transparent(.8)},n(0,"Border color of info boxes in the editor.")),tv=_g("editorHint.foreground",{dark:hm.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},n(0,"Foreground color of hint squigglies in the editor.")),iv=_g("editorHint.border",{dark:null,light:null,hc:hm.fromHex("#eeeeee").transparent(.8)},n(0,"Border color of hint boxes in the editor.")),nv=_g("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:hm.black},n(0,"Editor background color.")),rv=_g("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:hm.white},n(0,"Editor default foreground color.")),ov=_g("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},n(0,"Background color of editor widgets, such as find/replace.")),sv=_g("editorWidget.foreground",{dark:yg,light:yg,hc:yg},n(0,"Foreground color of editor widgets, such as find/replace.")),av=_g("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:Cg},n(0,"Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),lv=(_g("editorWidget.resizeBorder",{light:null,dark:null,hc:null},n(0,"Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),_g("quickInput.background",{dark:ov,light:ov,hc:ov},n(0,"Quick picker background color. The quick picker widget is the container for pickers like the command palette."))),cv=_g("quickInput.foreground",{dark:sv,light:sv,hc:sv},n(0,"Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),hv=_g("quickInputTitle.background",{dark:new hm(new am(255,255,255,.105)),light:new hm(new am(0,0,0,.06)),hc:"#000000"},n(0,"Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),uv=_g("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:hm.white},n(0,"Quick picker color for grouping labels.")),dv=_g("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:hm.white},n(0,"Quick picker color for grouping borders.")),fv=_g("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},n(0,"Color of the editor selection.")),pv=_g("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},n(0,"Color of the selected text for high contrast.")),mv=_g("editor.inactiveSelectionBackground",{light:nb(fv,.5),dark:nb(fv,.5),hc:nb(fv,.5)},n(0,"Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),gv=_g("editor.selectionHighlightBackground",{light:rb(fv,nv,.3,.6),dark:rb(fv,nv,.3,.6),hc:null},n(0,"Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),vv=(_g("editor.selectionHighlightBorder",{light:null,dark:null,hc:Sg},n(0,"Border color for regions with the same content as the selection.")),_g("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},n(0,"Color of the current search match.")),_g("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},n(0,"Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0)),bv=(_g("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},n(0,"Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),_g("editor.findMatchBorder",{light:null,dark:null,hc:Sg},n(0,"Border color of the current search match.")),_g("editor.findMatchHighlightBorder",{light:null,dark:null,hc:Sg},n(0,"Border color of the other search matches.")),_g("editor.findRangeHighlightBorder",{dark:null,light:null,hc:nb(Sg,.4)},n(0,"Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),_g("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},n(0,"Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),_g("editorHoverWidget.background",{light:ov,dark:ov,hc:ov},n(0,"Background color of the editor hover."))),_v=(_g("editorHoverWidget.foreground",{light:sv,dark:sv,hc:sv},n(0,"Foreground color of the editor hover.")),_g("editorHoverWidget.border",{light:av,dark:av,hc:av},n(0,"Border color of the editor hover.")),_g("editorHoverWidget.statusBarBackground",{dark:ib(bv,.2),light:tb(bv,.05),hc:ov},n(0,"Background color of the editor hover status bar.")),_g("editorLink.activeForeground",{dark:"#4E94CE",light:hm.blue,hc:hm.cyan},n(0,"Color of active links.")),_g("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},n(0,"The color used for the lightbulb actions icon.")),_g("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},n(0,"The color used for the lightbulb auto fix actions icon.")),new hm(new am(155,185,85,.2))),yv=new hm(new am(255,0,0,.2)),wv=_g("diffEditor.insertedTextBackground",{dark:_v,light:_v,hc:null},n(0,"Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Cv=_g("diffEditor.removedTextBackground",{dark:yv,light:yv,hc:null},n(0,"Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Sv=_g("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},n(0,"Outline color for the text that got inserted.")),xv=_g("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},n(0,"Outline color for text that got removed.")),kv=_g("diffEditor.border",{dark:null,light:null,hc:Cg},n(0,"Border color between the two text editors.")),Lv=_g("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hc:null},n(0,"Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),Dv=_g("list.focusBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},n(0,"List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ev=_g("list.focusForeground",{dark:null,light:null,hc:null},n(0,"List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Nv=_g("list.activeSelectionBackground",{dark:"#094771",light:"#0074E8",hc:null},n(0,"List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Tv=_g("list.activeSelectionForeground",{dark:hm.white,light:hm.white,hc:null},n(0,"List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ov=_g("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},n(0,"List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Mv=_g("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},n(0,"List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Iv=_g("list.inactiveFocusBackground",{dark:null,light:null,hc:null},n(0,"List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Av=_g("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},n(0,"List/Tree background when hovering over items using the mouse.")),Pv=_g("list.hoverForeground",{dark:null,light:null,hc:null},n(0,"List/Tree foreground when hovering over items using the mouse.")),Rv=_g("list.dropBackground",{dark:Dv,light:Dv,hc:null},n(0,"List/Tree drag and drop background when moving items around using the mouse.")),Fv=(_g("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:wg},n(0,"List/Tree foreground color of the match highlights when searching inside the list/tree.")),_g("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:hm.black},n(0,"Background color of the type filter widget in lists and trees."))),Vv=_g("listFilterWidget.outline",{dark:hm.transparent,light:hm.transparent,hc:"#f38518"},n(0,"Outline color of the type filter widget in lists and trees.")),Bv=_g("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:Cg},n(0,"Outline color of the type filter widget in lists and trees, when there are no matches.")),Wv=_g("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},n(0,"Tree stroke color for the indentation guides.")),$v=_g("menu.border",{dark:null,light:null,hc:Cg},n(0,"Border color of menus.")),zv=_g("menu.foreground",{dark:Vg,light:yg,hc:Vg},n(0,"Foreground color of menu items.")),Hv=_g("menu.background",{dark:Fg,light:Fg,hc:Fg},n(0,"Background color of menu items.")),jv=_g("menu.selectionForeground",{dark:Tv,light:Tv,hc:Tv},n(0,"Foreground color of the selected menu item in menus.")),Uv=_g("menu.selectionBackground",{dark:Nv,light:Nv,hc:Nv},n(0,"Background color of the selected menu item in menus.")),Kv=_g("menu.selectionBorder",{dark:null,light:null,hc:Sg},n(0,"Border color of the selected menu item in menus.")),qv=_g("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:Cg},n(0,"Color of a separator menu item in menus.")),Gv=(_g("editor.snippetTabstopHighlightBackground",{dark:new hm(new am(124,124,124,.3)),light:new hm(new am(10,50,100,.2)),hc:new hm(new am(124,124,124,.3))},n(0,"Highlight background color of a snippet tabstop.")),_g("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},n(0,"Highlight border color of a snippet tabstop.")),_g("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},n(0,"Highlight background color of the final tabstop of a snippet.")),_g("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new hm(new am(10,50,100,.5)),hc:"#525252"},n(0,"Highlight border color of the final tabstop of a snippet.")),_g("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},n(0,"Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),_g("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},n(0,"Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),_g("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},n(0,"Minimap marker color for find matches."),!0),_g("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},n(0,"Minimap marker color for the editor selection."),!0)),Yv=_g("minimap.errorHighlight",{dark:new hm(new am(255,18,18,.7)),light:new hm(new am(255,18,18,.7)),hc:new hm(new am(255,50,50,1))},n(0,"Minimap marker color for errors.")),Xv=_g("minimap.warningHighlight",{dark:Zg,light:Zg,hc:Qg},n(0,"Minimap marker color for warnings.")),Zv=_g("minimap.background",{dark:null,light:null,hc:null},n(0,"Minimap background color.")),Qv=_g("minimapSlider.background",{light:nb(Ug,.5),dark:nb(Ug,.5),hc:nb(Ug,.5)},n(0,"Minimap slider background color.")),Jv=_g("minimapSlider.hoverBackground",{light:nb(Kg,.5),dark:nb(Kg,.5),hc:nb(Kg,.5)},n(0,"Minimap slider background color when hovering.")),eb=_g("minimapSlider.activeBackground",{light:nb(qg,.5),dark:nb(qg,.5),hc:nb(qg,.5)},n(0,"Minimap slider background color when clicked on."));_g("problemsErrorIcon.foreground",{dark:Yg,light:Yg,hc:Yg},n(0,"The color used for the problems error icon.")),_g("problemsWarningIcon.foreground",{dark:Zg,light:Zg,hc:Zg},n(0,"The color used for the problems warning icon.")),_g("problemsInfoIcon.foreground",{dark:Jg,light:Jg,hc:Jg},n(0,"The color used for the problems info icon."));function tb(e,t){return i=>{let n=ob(e,i);if(n)return n.darken(t)}}function ib(e,t){return i=>{let n=ob(e,i);if(n)return n.lighten(t)}}function nb(e,t){return i=>{let n=ob(e,i);if(n)return n.transparent(t)}}function rb(e,t,i,n){return r=>{let o=ob(e,r);if(o){let e=ob(t,r);return e?o.isDarkerThan(e)?hm.getLighterColor(o,e,i).transparent(n):hm.getDarkerColor(o,e,i).transparent(n):o.transparent(i*n)}}}function ob(e,t){if(null!==e)return"string"==typeof e?"#"===e[0]?hm.fromHex(e):t.getColor(e):e instanceof hm?e:"function"==typeof e?e(t):void 0}let sb=zc.as(Hc);sb.registerSchema("vscode://schemas/workbench-colors",bg.getColorSchema());const ab=new Vi(()=>sb.notifySchemaChanged("vscode://schemas/workbench-colors"),200);bg.onDidChangeSchema(()=>{ab.isScheduled()||ab.schedule()});const lb=_g("editor.lineHighlightBackground",{dark:null,light:null,hc:null},n(0,"Background color for the highlight of line at the cursor position.")),cb=_g("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},n(0,"Background color for the border around the line at the cursor position.")),hb=_g("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},n(0,"Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),ub=_g("editor.rangeHighlightBorder",{dark:null,light:null,hc:Sg},n(0,"Background color of the border around highlighted ranges."),!0),db=_g("editor.symbolHighlightBackground",{dark:vv,light:vv,hc:null},n(0,"Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),fb=_g("editor.symbolHighlightBorder",{dark:null,light:null,hc:Sg},n(0,"Background color of the border around highlighted symbols."),!0),pb=_g("editorCursor.foreground",{dark:"#AEAFAD",light:hm.black,hc:hm.white},n(0,"Color of the editor cursor.")),mb=_g("editorCursor.background",null,n(0,"The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),gb=_g("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},n(0,"Color of whitespace characters in the editor.")),vb=_g("editorIndentGuide.background",{dark:gb,light:gb,hc:gb},n(0,"Color of the editor indentation guides.")),bb=_g("editorIndentGuide.activeBackground",{dark:gb,light:gb,hc:gb},n(0,"Color of the active editor indentation guides.")),_b=_g("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:hm.white},n(0,"Color of editor line numbers.")),yb=_g("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:Sg},n(0,"Color of editor active line number"),!1,n(0,"Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),wb=_g("editorLineNumber.activeForeground",{dark:yb,light:yb,hc:yb},n(0,"Color of editor active line number")),Cb=_g("editorRuler.foreground",{dark:"#5A5A5A",light:hm.lightgrey,hc:hm.white},n(0,"Color of the editor rulers.")),Sb=(_g("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},n(0,"Foreground color of editor CodeLens")),_g("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},n(0,"Background color behind matching brackets")),_g("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:Cg},n(0,"Color for matching brackets boxes")),_g("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},n(0,"Color of the overview ruler border."))),xb=_g("editorOverviewRuler.background",null,n(0,"Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),kb=_g("editorGutter.background",{dark:nv,light:nv,hc:nv},n(0,"Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),Lb=_g("editorUnnecessaryCode.border",{dark:null,light:null,hc:hm.fromHex("#fff").transparent(.8)},n(0,"Border color of unnecessary (unused) source code in the editor.")),Db=_g("editorUnnecessaryCode.opacity",{dark:hm.fromHex("#000a"),light:hm.fromHex("#0007"),hc:null},n(0,"Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),Eb=new hm(new am(0,122,204,.6)),Nb=(_g("editorOverviewRuler.rangeHighlightForeground",{dark:Eb,light:Eb,hc:Eb},n(0,"Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),_g("editorOverviewRuler.errorForeground",{dark:new hm(new am(255,18,18,.7)),light:new hm(new am(255,18,18,.7)),hc:new hm(new am(255,50,50,1))},n(0,"Overview ruler marker color for errors."))),Tb=_g("editorOverviewRuler.warningForeground",{dark:Zg,light:Zg,hc:Qg},n(0,"Overview ruler marker color for warnings.")),Ob=_g("editorOverviewRuler.infoForeground",{dark:Jg,light:Jg,hc:ev},n(0,"Overview ruler marker color for infos."));hf((e,t)=>{const i=e.getColor(nv);i&&t.addRule(`.monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: ${i}; }`);const n=e.getColor(rv);n&&t.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${n}; }`);const r=e.getColor(kb);r&&t.addRule(`.monaco-editor .margin { background-color: ${r}; }`);const o=e.getColor(hb);o&&t.addRule(`.monaco-editor .rangeHighlight { background-color: ${o}; }`);const s=e.getColor(ub);s&&t.addRule(`.monaco-editor .rangeHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${s}; }`);const a=e.getColor(db);a&&t.addRule(`.monaco-editor .symbolHighlight { background-color: ${a}; }`);const l=e.getColor(fb);l&&t.addRule(`.monaco-editor .symbolHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${l}; }`);const c=e.getColor(gb);c&&(t.addRule(`.monaco-editor .mtkw { color: ${c} !important; }`),t.addRule(`.monaco-editor .mtkz { color: ${c} !important; }`))});class Mb extends gg{constructor(e){super(),this._context=e,this._readConfig(),this._lastCursorModelPosition=new pt(1,1),this._renderResult=null,this._context.addEventHandler(this)}_readConfig(){const e=this._context.configuration.options;this._lineHeight=e.get(51);const t=e.get(52);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(76);const i=e.get(117);this._lineNumbersLeft=i.lineNumbersLeft,this._lineNumbersWidth=i.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return this._readConfig(),!0}onCursorStateChanged(e){const t=e.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t),2===this._renderLineNumbers||3===this._renderLineNumbers}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getLineRenderLineNumber(e){const t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new pt(e,1));if(1!==t.column)return"";const i=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(i);if(2===this._renderLineNumbers){const e=Math.abs(this._lastCursorModelPosition.lineNumber-i);return 0===e?'<span class="relative-current-line-number">'+i+"</span>":String(e)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===i?String(i):i%10==0?String(i):"":String(i)}prepareRender(e){if(0===this._renderLineNumbers)return void(this._renderResult=null);const t=r.d?this._lineHeight%2==0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,o='<div class="'+Mb.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',s=this._context.model.getLineCount(),a=[];for(let e=i;e<=n;e++){const t=e-i;if(!this._renderFinalNewline&&e===s&&0===this._context.model.getLineLength(e)){a[t]="";continue}const n=this._getLineRenderLineNumber(e);a[t]=n?o+n+"</div>":""}this._renderResult=a}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}Mb.CLASS_NAME="line-numbers",hf((e,t)=>{const i=e.getColor(_b);i&&t.addRule(`.monaco-editor .line-numbers { color: ${i}; }`);const n=e.getColor(wb);n&&t.addRule(`.monaco-editor .current-line ~ .line-numbers { color: ${n}; }`)});class Ib extends Ud{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(117);this._canUseLayerHinting=!t.get(23),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._domNode=Ed(document.createElement("div")),this._domNode.setClassName(Ib.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=Ed(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Ib.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(117);return this._canUseLayerHinting=!t.get(23),this._contentLeft=i.contentLeft,this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollTopChanged}prepareRender(e){}render(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);const i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(i)}}Ib.CLASS_NAME="glyph-margin",Ib.OUTER_CLASS_NAME="margin";i("8BNP");const Ab="monaco-mouse-cursor-text";class Pb{constructor(e,t,i){this.top=e,this.left=t,this.width=i}setWidth(e){return new Pb(this.top,this.left,e)}}const Rb=hi||ui;class Fb extends Ud{constructor(e,t,i){super(e),this._primaryCursorPosition=new pt(1,1),this._primaryCursorVisibleRange=null,this._viewController=t,this._viewHelper=i,this._scrollLeft=0,this._scrollTop=0;const o=this._context.configuration.options,s=o.get(117);this._setAccessibilityOptions(o),this._contentLeft=s.contentLeft,this._contentWidth=s.contentWidth,this._contentHeight=s.height,this._fontInfo=o.get(36),this._lineHeight=o.get(51),this._emptySelectionClipboard=o.get(26),this._copyWithSyntaxHighlighting=o.get(16),this._visibleTextArea=null,this._selections=[new gt(1,1,1,1)],this._modelSelections=[new gt(1,1,1,1)],this._lastRenderPosition=null,this.textArea=Ed(document.createElement("textarea")),Kd.write(this.textArea,6),this.textArea.setClassName(`inputarea ${Ab}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("tabindex",String(o.get(102))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",n(0,"editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),r.h&&o.get(72)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=Ed(document.createElement("div")),this.textAreaCover.setPosition("absolute");const a={getLineCount:()=>this._context.model.getLineCount(),getLineMaxColumn:e=>this._context.model.getLineMaxColumn(e),getValueInRange:(e,t)=>this._context.model.getValueInRange(e,t)},l={getDataToCopy:e=>{const t=this._context.model.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,r.i),i=this._context.model.getEOL(),n=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),o=Array.isArray(t)?t:null,s=Array.isArray(t)?t.join(i):t;let a=void 0,l=null;if(e&&(ug.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&s.length<65536)){const e=this._context.model.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);e&&(a=e.html,l=e.mode)}return{isFromEmptySelection:n,multicursorText:o,text:s,html:a,mode:l}},getScreenReaderContent:e=>{if(1===this._accessibilitySupport){if(r.f){const e=this._selections[0];if(e.isEmpty()){const t=e.getStartPosition();let i=this._getWordBeforePosition(t);if(0===i.length&&(i=this._getCharacterBeforePosition(t)),i.length>0)return new cg(i,i.length,i.length,t,t)}}return cg.EMPTY}return hg.fromEditorSelection(e,a,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(e,t,i)=>this._context.model.deduceModelPositionRelativeToViewPosition(e,t,i)};this._textAreaInput=this._register(new fg(l,this.textArea)),this._register(this._textAreaInput.onKeyDown(e=>{this._viewController.emitKeyDown(e)})),this._register(this._textAreaInput.onKeyUp(e=>{this._viewController.emitKeyUp(e)})),this._register(this._textAreaInput.onPaste(e=>{let t=!1,i=null,n=null;e.metadata&&(t=this._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,i=void 0!==e.metadata.multicursorText?e.metadata.multicursorText:null,n=e.metadata.mode),this._viewController.paste(e.text,t,i,n)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(e=>{e.replaceCharCnt?this._viewController.replacePreviousChar(e.text,e.replaceCharCnt):this._viewController.type(e.text)})),this._register(this._textAreaInput.onSelectionChangeRequest(e=>{this._viewController.setSelection(e)})),this._register(this._textAreaInput.onCompositionStart(e=>{const t=this._selections[0].startLineNumber,i=this._selections[0].startColumn-(e.moveOneCharacterLeft?1:0);this._context.model.revealRange("keyboard",!0,new mt(t,i,t,i),0,1);const n=this._viewHelper.visibleRangeForPositionRelativeToEditor(t,i);n&&(this._visibleTextArea=new Pb(this._context.viewLayout.getVerticalOffsetForLineNumber(t),n.left,Rb?0:1),this._render()),this.textArea.setClassName(`inputarea ${Ab} ime-input`),this._viewController.compositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(e=>{this._visibleTextArea=hi?this._visibleTextArea.setWidth(0):this._visibleTextArea.setWidth(function(e,t){const i=document.createElement("canvas").getContext("2d");i.font=(n=t,r="normal",o=n.fontWeight,s=n.fontSize,a=n.lineHeight,l=n.fontFamily,`${r} normal ${o} ${s}px / ${a}px ${l}`);var n,r,o,s,a,l;const c=i.measureText(e);return ui?c.width+2:c.width}(e.data,this._fontInfo)),this._render()})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${Ab}`),this._viewController.compositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.model.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.model.setHasFocus(!1)}))}dispose(){super.dispose()}_getWordBeforePosition(e){const t=this._context.model.getLineContent(e.lineNumber),i=bp(this._context.configuration.options.get(105));let n=e.column,r=0;for(;n>1;){const o=t.charCodeAt(n-2);if(0!==i.get(o)||r>50)return t.substring(n-1,e.column-1);r++,n--}return t.substring(0,e.column-1)}_getCharacterBeforePosition(e){if(e.column>1){const t=this._context.model.getLineContent(e.lineNumber).charAt(e.column-2);if(!hr.D(t.charCodeAt(0)))return t}return""}_getAriaLabel(e){return 1===e.get(2)?n(0,"The editor is not accessible at this time. Press {0} for options.",r.d?"Shift+Alt+F1":"Alt+F1"):e.get(4)}_setAccessibilityOptions(e){this._accessibilitySupport=e.get(2);const t=e.get(3);2===this._accessibilitySupport&&t===B.accessibilityPageSize.defaultValue?this._accessibilityPageSize=100:this._accessibilityPageSize=t}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(117);return this._setAccessibilityOptions(t),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._contentHeight=i.height,this._fontInfo=t.get(36),this._lineHeight=t.get(51),this._emptySelectionClipboard=t.get(26),this._copyWithSyntaxHighlighting=t.get(16),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),this.textArea.setAttribute("tabindex",String(t.get(102))),r.h&&e.hasChanged(72)&&(t.get(72)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0}onZonesChanged(e){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),e.role&&this.textArea.setAttribute("role",e.role)}prepareRender(e){this._primaryCursorPosition=new pt(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)}render(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea)return void this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;t<0||t>this._contentHeight?this._renderAtTopLeft():r.f?this._renderInsideEditor(this._primaryCursorPosition,t,e,Rb?0:1,this._lineHeight):this._renderInsideEditor(this._primaryCursorPosition,t,e,Rb?0:1,Rb?0:1)}_renderInsideEditor(e,t,i,n,r){this._lastRenderPosition=e;const o=this.textArea,s=this.textAreaCover;Au.applyFontInfo(o,this._fontInfo),o.setTop(t),o.setLeft(i),o.setWidth(n),o.setHeight(r),s.setTop(0),s.setLeft(0),s.setWidth(0),s.setHeight(0)}_renderAtTopLeft(){this._lastRenderPosition=null;const e=this.textArea,t=this.textAreaCover;if(Au.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),Rb)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);const i=this._context.configuration.options;i.get(42)?t.setClassName("monaco-editor-background textAreaCover "+Ib.OUTER_CLASS_NAME):0!==i.get(52).renderType?t.setClassName("monaco-editor-background textAreaCover "+Mb.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")}}class Vb{static columnSelect(e,t,i,n,r,o){let s=Math.abs(r-i)+1,a=i>r,l=n>o,c=n<o,h=[];for(let r=0;r<s;r++){let s=i+(a?-r:r),u=zm.columnFromVisibleColumn2(e,t,s,n),d=zm.columnFromVisibleColumn2(e,t,s,o),f=zm.visibleColumnFromColumn2(e,t,new pt(s,u)),p=zm.visibleColumnFromColumn2(e,t,new pt(s,d));if(c){if(f>o)continue;if(p<n)continue}if(l){if(p>n)continue;if(f<o)continue}h.push(new Rm(new mt(s,u,s,u),0,new pt(s,d),0))}if(0===h.length)for(let e=0;e<s;e++){const n=i+(a?-e:e),r=t.getLineMaxColumn(n);h.push(new Rm(new mt(n,r,n,r),0,new pt(n,r),0))}return{viewStates:h,reversed:a,fromLineNumber:i,fromVisualColumn:n,toLineNumber:r,toVisualColumn:o}}static columnSelectLeft(e,t,i){let n=i.toViewVisualColumn;return n>1&&n--,Vb.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,n)}static columnSelectRight(e,t,i){let n=0;const r=Math.min(i.fromViewLineNumber,i.toViewLineNumber),o=Math.max(i.fromViewLineNumber,i.toViewLineNumber);for(let i=r;i<=o;i++){const r=t.getLineMaxColumn(i),o=zm.visibleColumnFromColumn2(e,t,new pt(i,r));n=Math.max(n,o)}let s=i.toViewVisualColumn;return s<n&&s++,this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,s)}static columnSelectUp(e,t,i,n){const r=n?e.pageSize:1,o=Math.max(1,i.toViewLineNumber-r);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,o,i.toViewVisualColumn)}static columnSelectDown(e,t,i,n){const r=n?e.pageSize:1,o=Math.min(t.getLineCount(),i.toViewLineNumber+r);return this.columnSelect(e,t,i.fromViewLineNumber,i.fromViewVisualColumn,o,i.toViewVisualColumn)}}class Bb{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new gt(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn)}}class Wb{constructor(e,t,i=!1){this._range=e,this._text=t,this.insertsAutoWhitespace=i}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new gt(i.startLineNumber,i.startColumn,i.startLineNumber,i.startColumn)}}class $b{constructor(e,t,i,n,r=!1){this._range=e,this._text=t,this._columnDeltaOffset=n,this._lineNumberDeltaOffset=i,this.insertsAutoWhitespace=r}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text)}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return new gt(i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset,i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset)}}class zb{constructor(e,t,i,n=!1){this._range=e,this._text=t,this._initialSelection=i,this._forceMoveMarkers=n,this._selectionId=null}getEditOperations(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}class Hb{constructor(e,t,i){this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=i}}class jb{static leftPosition(e,t,i){return i>e.getLineMinColumn(t)?i-=hr.K(e.getLineContent(t),i-1):t>1&&(t-=1,i=e.getLineMaxColumn(t)),new pt(t,i)}static left(e,t,i,n){const r=jb.leftPosition(t,i,n);return new Hb(r.lineNumber,r.column,0)}static moveLeft(e,t,i,n,r){let o,s;if(i.hasSelection()&&!n)o=i.selection.startLineNumber,s=i.selection.startColumn;else{let n=jb.left(e,t,i.position.lineNumber,i.position.column-(r-1));o=n.lineNumber,s=n.column}return i.move(n,o,s,0)}static rightPosition(e,t,i){return i<e.getLineMaxColumn(t)?i+=hr.J(e.getLineContent(t),i-1):t<e.getLineCount()&&(t+=1,i=e.getLineMinColumn(t)),new pt(t,i)}static right(e,t,i,n){const r=jb.rightPosition(t,i,n);return new Hb(r.lineNumber,r.column,0)}static moveRight(e,t,i,n,r){let o,s;if(i.hasSelection()&&!n)o=i.selection.endLineNumber,s=i.selection.endColumn;else{let n=jb.right(e,t,i.position.lineNumber,i.position.column+(r-1));o=n.lineNumber,s=n.column}return i.move(n,o,s,0)}static down(e,t,i,n,r,o,s){const a=zm.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+r,l=t.getLineCount(),c=i===l&&n===t.getLineMaxColumn(i);return(i+=o)>l?(i=l,n=s?t.getLineMaxColumn(i):Math.min(t.getLineMaxColumn(i),n)):n=zm.columnFromVisibleColumn2(e,t,i,a),r=c?0:a-zm.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize),new Hb(i,n,r)}static moveDown(e,t,i,n,r){let o,s;i.hasSelection()&&!n?(o=i.selection.endLineNumber,s=i.selection.endColumn):(o=i.position.lineNumber,s=i.position.column);let a=jb.down(e,t,o,s,i.leftoverVisibleColumns,r,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateDown(e,t,i){let n=i.selection,r=jb.down(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),o=jb.down(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new Rm(new mt(r.lineNumber,r.column,r.lineNumber,r.column),r.leftoverVisibleColumns,new pt(o.lineNumber,o.column),o.leftoverVisibleColumns)}static up(e,t,i,n,r,o,s){const a=zm.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+r,l=1===i&&1===n;return(i-=o)<1?(i=1,n=s?t.getLineMinColumn(i):Math.min(t.getLineMaxColumn(i),n)):n=zm.columnFromVisibleColumn2(e,t,i,a),r=l?0:a-zm.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize),new Hb(i,n,r)}static moveUp(e,t,i,n,r){let o,s;i.hasSelection()&&!n?(o=i.selection.startLineNumber,s=i.selection.startColumn):(o=i.position.lineNumber,s=i.position.column);let a=jb.up(e,t,o,s,i.leftoverVisibleColumns,r,!0);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)}static translateUp(e,t,i){let n=i.selection,r=jb.up(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),o=jb.up(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,!1);return new Rm(new mt(r.lineNumber,r.column,r.lineNumber,r.column),r.leftoverVisibleColumns,new pt(o.lineNumber,o.column),o.leftoverVisibleColumns)}static moveToBeginningOfLine(e,t,i,n){let r,o=i.position.lineNumber,s=t.getLineMinColumn(o),a=t.getLineFirstNonWhitespaceColumn(o)||s;return r=i.position.column===a?s:a,i.move(n,o,r,0)}static moveToEndOfLine(e,t,i,n,r){let o=i.position.lineNumber,s=t.getLineMaxColumn(o);return i.move(n,o,s,r?1073741824-s:0)}static moveToBeginningOfBuffer(e,t,i,n){return i.move(n,1,1,0)}static moveToEndOfBuffer(e,t,i,n){let r=t.getLineCount(),o=t.getLineMaxColumn(r);return i.move(n,r,o,0)}}class Ub{static deleteRight(e,t,i,n){let r=[],o=3!==e;for(let e=0,s=n.length;e<s;e++){const s=n[e];let a=s;if(a.isEmpty()){let e=s.getPosition(),n=jb.right(t,i,e.lineNumber,e.column);a=new mt(n.lineNumber,n.column,e.lineNumber,e.column)}a.isEmpty()?r[e]=null:(a.startLineNumber!==a.endLineNumber&&(o=!0),r[e]=new Bb(a,""))}return[o,r]}static _isAutoClosingPairDelete(e,t,i){if("never"===e.autoClosingBrackets&&"never"===e.autoClosingQuotes)return!1;for(let n=0,r=i.length;n<r;n++){const r=i[n],o=r.getPosition();if(!r.isEmpty())return!1;const s=t.getLineContent(o.lineNumber),a=s[o.column-2],l=e.autoClosingPairsOpen2.get(a);if(!l)return!1;if(Hm(a)){if("never"===e.autoClosingQuotes)return!1}else if("never"===e.autoClosingBrackets)return!1;const c=s[o.column-1];let h=!1;for(const e of l)e.open===a&&e.close===c&&(h=!0);if(!h)return!1}return!0}static _runAutoClosingPairDelete(e,t,i){let n=[];for(let e=0,t=i.length;e<t;e++){const t=i[e].getPosition(),r=new mt(t.lineNumber,t.column-1,t.lineNumber,t.column+1);n[e]=new Bb(r,"")}return[!0,n]}static deleteLeft(e,t,i,n){if(this._isAutoClosingPairDelete(t,i,n))return this._runAutoClosingPairDelete(t,i,n);let r=[],o=2!==e;for(let e=0,s=n.length;e<s;e++){const s=n[e];let a=s;if(a.isEmpty()){let e=s.getPosition();if(t.useTabStops&&e.column>1){let n=i.getLineContent(e.lineNumber),r=hr.u(n),o=-1===r?n.length+1:r+1;if(e.column<=o){let n=zm.visibleColumnFromColumn2(t,i,e),r=zm.prevIndentTabStop(n,t.indentSize),o=zm.columnFromVisibleColumn2(t,i,e.lineNumber,r);a=new mt(e.lineNumber,o,e.lineNumber,e.column)}else a=new mt(e.lineNumber,e.column-1,e.lineNumber,e.column)}else{let n=jb.left(t,i,e.lineNumber,e.column);a=new mt(n.lineNumber,n.column,e.lineNumber,e.column)}}a.isEmpty()?r[e]=null:(a.startLineNumber!==a.endLineNumber&&(o=!0),r[e]=new Bb(a,""))}return[o,r]}static cut(e,t,i){let n=[];for(let r=0,o=i.length;r<o;r++){const o=i[r];if(o.isEmpty())if(e.emptySelectionClipboard){let e,i,s,a,l=o.getPosition();l.lineNumber<t.getLineCount()?(e=l.lineNumber,i=1,s=l.lineNumber+1,a=1):l.lineNumber>1?(e=l.lineNumber-1,i=t.getLineMaxColumn(l.lineNumber-1),s=l.lineNumber,a=t.getLineMaxColumn(l.lineNumber)):(e=l.lineNumber,i=1,s=l.lineNumber,a=t.getLineMaxColumn(l.lineNumber));let c=new mt(e,i,s,a);c.isEmpty()?n[r]=null:n[r]=new Bb(c,"")}else n[r]=null;else n[r]=new Bb(o,"")}return new $m(0,n,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}class Kb{static _createWord(e,t,i,n,r){return{start:n,end:r,wordType:t,nextCharClass:i}}static _findPreviousWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,e,i)}static _doFindPreviousWordOnLine(e,t,i){let n=0;for(let r=i.column-2;r>=0;r--){let i=e.charCodeAt(r),o=t.get(i);if(0===o){if(2===n)return this._createWord(e,n,o,r+1,this._findEndOfWord(e,t,n,r+1));n=1}else if(2===o){if(1===n)return this._createWord(e,n,o,r+1,this._findEndOfWord(e,t,n,r+1));n=2}else if(1===o&&0!==n)return this._createWord(e,n,o,r+1,this._findEndOfWord(e,t,n,r+1))}return 0!==n?this._createWord(e,n,1,0,this._findEndOfWord(e,t,n,0)):null}static _findEndOfWord(e,t,i,n){let r=e.length;for(let o=n;o<r;o++){let n=e.charCodeAt(o),r=t.get(n);if(1===r)return o;if(1===i&&2===r)return o;if(2===i&&0===r)return o}return r}static _findNextWordOnLine(e,t,i){let n=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,e,i)}static _doFindNextWordOnLine(e,t,i){let n=0,r=e.length;for(let o=i.column-1;o<r;o++){let i=e.charCodeAt(o),r=t.get(i);if(0===r){if(2===n)return this._createWord(e,n,r,this._findStartOfWord(e,t,n,o-1),o);n=1}else if(2===r){if(1===n)return this._createWord(e,n,r,this._findStartOfWord(e,t,n,o-1),o);n=2}else if(1===r&&0!==n)return this._createWord(e,n,r,this._findStartOfWord(e,t,n,o-1),o)}return 0!==n?this._createWord(e,n,1,this._findStartOfWord(e,t,n,r-1),r):null}static _findStartOfWord(e,t,i,n){for(let r=n;r>=0;r--){let n=e.charCodeAt(r),o=t.get(n);if(1===o)return r+1;if(1===i&&2===o)return r+1;if(2===i&&0===o)return r+1}return 0}static moveWordLeft(e,t,i,n){let r=i.lineNumber,o=i.column;1===o&&r>1&&(r-=1,o=t.getLineMaxColumn(r));let s=Kb._findPreviousWordOnLine(e,t,new pt(r,o));if(0===n)return new pt(r,s?s.start+1:1);if(1===n)return s&&2===s.wordType&&s.end-s.start==1&&0===s.nextCharClass&&(s=Kb._findPreviousWordOnLine(e,t,new pt(r,s.start+1))),new pt(r,s?s.start+1:1);if(3===n){for(;s&&2===s.wordType;)s=Kb._findPreviousWordOnLine(e,t,new pt(r,s.start+1));return new pt(r,s?s.start+1:1)}return s&&o<=s.end+1&&(s=Kb._findPreviousWordOnLine(e,t,new pt(r,s.start+1))),new pt(r,s?s.end+1:1)}static _moveWordPartLeft(e,t){const i=t.lineNumber,n=e.getLineMaxColumn(i);if(1===t.column)return i>1?new pt(i-1,e.getLineMaxColumn(i-1)):t;const r=e.getLineContent(i);for(let e=t.column-1;e>1;e--){const t=r.charCodeAt(e-2),o=r.charCodeAt(e-1);if(95===t&&95!==o)return new pt(i,e);if(hr.F(t)&&hr.G(o))return new pt(i,e);if(hr.G(t)&&hr.G(o)&&e+1<n){const t=r.charCodeAt(e);if(hr.F(t))return new pt(i,e)}}return new pt(i,1)}static moveWordRight(e,t,i,n){let r=i.lineNumber,o=i.column,s=!1;o===t.getLineMaxColumn(r)&&r<t.getLineCount()&&(s=!0,r+=1,o=1);let a=Kb._findNextWordOnLine(e,t,new pt(r,o));if(2===n)a&&2===a.wordType&&a.end-a.start==1&&0===a.nextCharClass&&(a=Kb._findNextWordOnLine(e,t,new pt(r,a.end+1))),o=a?a.end+1:t.getLineMaxColumn(r);else if(3===n){for(s&&(o=0);a&&(2===a.wordType||a.start+1<=o);)a=Kb._findNextWordOnLine(e,t,new pt(r,a.end+1));o=a?a.start+1:t.getLineMaxColumn(r)}else a&&!s&&o>=a.start+1&&(a=Kb._findNextWordOnLine(e,t,new pt(r,a.end+1))),o=a?a.start+1:t.getLineMaxColumn(r);return new pt(r,o)}static _moveWordPartRight(e,t){const i=t.lineNumber,n=e.getLineMaxColumn(i);if(t.column===n)return i<e.getLineCount()?new pt(i+1,1):t;const r=e.getLineContent(i);for(let e=t.column+1;e<n;e++){const t=r.charCodeAt(e-2),o=r.charCodeAt(e-1);if(95!==t&&95===o)return new pt(i,e);if(hr.F(t)&&hr.G(o))return new pt(i,e);if(hr.G(t)&&hr.G(o)&&e+1<n){const t=r.charCodeAt(e);if(hr.F(t))return new pt(i,e)}}return new pt(i,n)}static _deleteWordLeftWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-2,r=hr.H(i,n);return r+1<n?new mt(t.lineNumber,r+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t,i,n,r){if(!i.isEmpty())return i;const o=new pt(i.positionLineNumber,i.positionColumn);let s=o.lineNumber,a=o.column;if(1===s&&1===a)return null;if(n){let e=this._deleteWordLeftWhitespace(t,o);if(e)return e}let l=Kb._findPreviousWordOnLine(e,t,o);return 0===r?l?a=l.start+1:a>1?a=1:(s--,a=t.getLineMaxColumn(s)):(l&&a<=l.end+1&&(l=Kb._findPreviousWordOnLine(e,t,new pt(s,l.start+1))),l?a=l.end+1:a>1?a=1:(s--,a=t.getLineMaxColumn(s))),new mt(s,a,o.lineNumber,o.column)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=Kb._moveWordPartLeft(e,i);return new mt(i.lineNumber,i.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(e,t){let i=e.length;for(let n=t;n<i;n++){let t=e.charAt(n);if(" "!==t&&"\t"!==t)return n}return i}static _deleteWordRightWhitespace(e,t){const i=e.getLineContent(t.lineNumber),n=t.column-1,r=this._findFirstNonWhitespaceChar(i,n);return n+1<r?new mt(t.lineNumber,t.column,t.lineNumber,r+1):null}static deleteWordRight(e,t,i,n,r){if(!i.isEmpty())return i;const o=new pt(i.positionLineNumber,i.positionColumn);let s=o.lineNumber,a=o.column;const l=t.getLineCount(),c=t.getLineMaxColumn(s);if(s===l&&a===c)return null;if(n){let e=this._deleteWordRightWhitespace(t,o);if(e)return e}let h=Kb._findNextWordOnLine(e,t,o);return 2===r?h?a=h.end+1:a<c||s===l?a=c:(s++,a=(h=Kb._findNextWordOnLine(e,t,new pt(s,1)))?h.start+1:t.getLineMaxColumn(s)):(h&&a>=h.start+1&&(h=Kb._findNextWordOnLine(e,t,new pt(s,h.end+1))),h?a=h.start+1:a<c||s===l?a=c:(s++,a=(h=Kb._findNextWordOnLine(e,t,new pt(s,1)))?h.start+1:t.getLineMaxColumn(s))),new mt(s,a,o.lineNumber,o.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const i=t.getPosition(),n=Kb._moveWordPartRight(e,i);return new mt(i.lineNumber,i.column,n.lineNumber,n.column)}static _createWordAtPosition(e,t,i){const n=new mt(t,i.start+1,t,i.end+1);return{word:e.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(e,t,i){const n=bp(t),r=Kb._findPreviousWordOnLine(n,e,i);if(r&&1===r.wordType&&r.start<=i.column-1&&i.column-1<=r.end)return Kb._createWordAtPosition(e,i.lineNumber,r);const o=Kb._findNextWordOnLine(n,e,i);return o&&1===o.wordType&&o.start<=i.column-1&&i.column-1<=o.end?Kb._createWordAtPosition(e,i.lineNumber,o):null}static word(e,t,i,n,r){const o=bp(e.wordSeparators);let s,a,l=Kb._findPreviousWordOnLine(o,t,r),c=Kb._findNextWordOnLine(o,t,r);if(!n){let e,i;return l&&1===l.wordType&&l.start<=r.column-1&&r.column-1<=l.end?(e=l.start+1,i=l.end+1):c&&1===c.wordType&&c.start<=r.column-1&&r.column-1<=c.end?(e=c.start+1,i=c.end+1):(e=l?l.end+1:1,i=c?c.start+1:t.getLineMaxColumn(r.lineNumber)),new Rm(new mt(r.lineNumber,e,r.lineNumber,i),0,new pt(r.lineNumber,i),0)}l&&1===l.wordType&&l.start<r.column-1&&r.column-1<l.end?(s=l.start+1,a=l.end+1):c&&1===c.wordType&&c.start<r.column-1&&r.column-1<c.end?(s=c.start+1,a=c.end+1):(s=r.column,a=r.column);let h,u=r.lineNumber;if(i.selectionStart.containsPosition(r))h=i.selectionStart.endColumn;else if(r.isBeforeOrEqual(i.selectionStart.getStartPosition())){let e=new pt(u,h=s);i.selectionStart.containsPosition(e)&&(h=i.selectionStart.endColumn)}else{let e=new pt(u,h=a);i.selectionStart.containsPosition(e)&&(h=i.selectionStart.startColumn)}return i.move(!0,u,h,0)}}class qb{static addCursorDown(e,t,i){let n=[],r=0;for(let o=0,s=t.length;o<s;o++){const s=t[o];n[r++]=new Wm(s.modelState,s.viewState),n[r++]=i?Wm.fromModelState(jb.translateDown(e.cursorConfig,e.model,s.modelState)):Wm.fromViewState(jb.translateDown(e.cursorConfig,e,s.viewState))}return n}static addCursorUp(e,t,i){let n=[],r=0;for(let o=0,s=t.length;o<s;o++){const s=t[o];n[r++]=new Wm(s.modelState,s.viewState),n[r++]=i?Wm.fromModelState(jb.translateUp(e.cursorConfig,e.model,s.modelState)):Wm.fromViewState(jb.translateUp(e.cursorConfig,e,s.viewState))}return n}static moveToBeginningOfLine(e,t,i){let n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];n[r]=this._moveToLineStart(e,o,i)}return n}static _moveToLineStart(e,t,i){const n=t.viewState.position.column,r=n===t.modelState.position.column,o=t.viewState.position.lineNumber,s=e.getLineFirstNonWhitespaceColumn(o);return r||n===s?this._moveToLineStartByModel(e,t,i):this._moveToLineStartByView(e,t,i)}static _moveToLineStartByView(e,t,i){return Wm.fromViewState(jb.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,i))}static _moveToLineStartByModel(e,t,i){return Wm.fromModelState(jb.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,i))}static moveToEndOfLine(e,t,i,n){let r=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];r[o]=this._moveToLineEnd(e,s,i,n)}return r}static _moveToLineEnd(e,t,i,n){const r=t.viewState.position,o=e.getLineMaxColumn(r.lineNumber),s=r.column===o,a=t.modelState.position,l=e.model.getLineMaxColumn(a.lineNumber),c=o-r.column==l-a.column;return s||c?this._moveToLineEndByModel(e,t,i,n):this._moveToLineEndByView(e,t,i,n)}static _moveToLineEndByView(e,t,i,n){return Wm.fromViewState(jb.moveToEndOfLine(e.cursorConfig,e,t.viewState,i,n))}static _moveToLineEndByModel(e,t,i,n){return Wm.fromModelState(jb.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,i,n))}static expandLineSelection(e,t){let i=[];for(let n=0,r=t.length;n<r;n++){const r=t[n],o=r.modelState.selection.startLineNumber,s=e.model.getLineCount();let a,l=r.modelState.selection.endLineNumber;l===s?a=e.model.getLineMaxColumn(s):(l++,a=1),i[n]=Wm.fromModelState(new Rm(new mt(o,1,o,1),0,new pt(l,a),0))}return i}static moveToBeginningOfBuffer(e,t,i){let n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];n[r]=Wm.fromModelState(jb.moveToBeginningOfBuffer(e.cursorConfig,e.model,o.modelState,i))}return n}static moveToEndOfBuffer(e,t,i){let n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];n[r]=Wm.fromModelState(jb.moveToEndOfBuffer(e.cursorConfig,e.model,o.modelState,i))}return n}static selectAll(e,t){const i=e.model.getLineCount(),n=e.model.getLineMaxColumn(i);return Wm.fromModelState(new Rm(new mt(1,1,1,1),0,new pt(i,n),0))}static line(e,t,i,n,r){const o=e.model.validatePosition(n),s=r?e.coordinatesConverter.validateViewPosition(new pt(r.lineNumber,r.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);if(!i||!t.modelState.hasSelection()){const t=e.model.getLineCount();let i=o.lineNumber+1,n=1;return i>t&&(i=t,n=e.model.getLineMaxColumn(i)),Wm.fromModelState(new Rm(new mt(o.lineNumber,1,i,n),0,new pt(i,n),0))}const a=t.modelState.selectionStart.getStartPosition().lineNumber;if(o.lineNumber<a)return Wm.fromViewState(t.viewState.move(t.modelState.hasSelection(),s.lineNumber,1,0));if(o.lineNumber>a){const i=e.getLineCount();let n=s.lineNumber+1,r=1;return n>i&&(n=i,r=e.getLineMaxColumn(n)),Wm.fromViewState(t.viewState.move(t.modelState.hasSelection(),n,r,0))}{const e=t.modelState.selectionStart.getEndPosition();return Wm.fromModelState(t.modelState.move(t.modelState.hasSelection(),e.lineNumber,e.column,0))}}static word(e,t,i,n){const r=e.model.validatePosition(n);return Wm.fromModelState(Kb.word(e.cursorConfig,e.model,t.modelState,i,r))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new Wm(t.modelState,t.viewState);const i=t.viewState.position.lineNumber,n=t.viewState.position.column;return Wm.fromViewState(new Rm(new mt(i,n,i,n),0,new pt(i,n),0))}static moveTo(e,t,i,n,r){const o=e.model.validatePosition(n),s=r?e.coordinatesConverter.validateViewPosition(new pt(r.lineNumber,r.column),o):e.coordinatesConverter.convertModelPositionToViewPosition(o);return Wm.fromViewState(t.viewState.move(i,s.lineNumber,s.column,0))}static simpleMove(e,t,i,n,r,o){switch(i){case 0:return 4===o?this._moveHalfLineLeft(e,t,n):this._moveLeft(e,t,n,r);case 1:return 4===o?this._moveHalfLineRight(e,t,n):this._moveRight(e,t,n,r);case 2:return 2===o?this._moveUpByViewLines(e,t,n,r):this._moveUpByModelLines(e,t,n,r);case 3:return 2===o?this._moveDownByViewLines(e,t,n,r):this._moveDownByModelLines(e,t,n,r);case 4:return this._moveToViewMinColumn(e,t,n);case 5:return this._moveToViewFirstNonWhitespaceColumn(e,t,n);case 6:return this._moveToViewCenterColumn(e,t,n);case 7:return this._moveToViewMaxColumn(e,t,n);case 8:return this._moveToViewLastNonWhitespaceColumn(e,t,n);default:return null}}static viewportMove(e,t,i,n,r){const o=e.getCompletelyVisibleViewRange(),s=e.coordinatesConverter.convertViewRangeToModelRange(o);switch(i){case 9:{const i=this._firstLineNumberInRange(e.model,s,r),o=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,o)]}case 11:{const i=this._lastLineNumberInRange(e.model,s,r),o=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,o)]}case 10:{const i=Math.round((s.startLineNumber+s.endLineNumber)/2),r=e.model.getLineFirstNonWhitespaceColumn(i);return[this._moveToModelPosition(e,t[0],n,i,r)]}case 12:{let i=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];i[r]=this.findPositionInViewportIfOutside(e,s,o,n)}return i}default:return null}}static findPositionInViewportIfOutside(e,t,i,n){let r=t.viewState.position.lineNumber;if(i.startLineNumber<=r&&r<=i.endLineNumber-1)return new Wm(t.modelState,t.viewState);{r>i.endLineNumber-1&&(r=i.endLineNumber-1),r<i.startLineNumber&&(r=i.startLineNumber);const o=e.getLineFirstNonWhitespaceColumn(r);return this._moveToViewPosition(e,t,n,r,o)}}static _firstLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.min(t.endLineNumber,n+i-1)}static _lastLineNumberInRange(e,t,i){let n=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(n)&&n++,Math.max(n,t.endLineNumber-i+1)}static _moveLeft(e,t,i,n){const r=t.length>1;let o=[];for(let s=0,a=t.length;s<a;s++){const a=t[s],l=r||!a.viewState.hasSelection();let c=jb.moveLeft(e.cursorConfig,e,a.viewState,i,n);if(l&&1===n&&c.position.lineNumber!==a.viewState.position.lineNumber){e.coordinatesConverter.convertViewPositionToModelPosition(c.position).lineNumber===a.modelState.position.lineNumber&&(c=jb.moveLeft(e.cursorConfig,e,c,i,1))}o[s]=Wm.fromViewState(c)}return o}static _moveHalfLineLeft(e,t,i){let n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=Math.round(e.getLineContent(s).length/2);n[r]=Wm.fromViewState(jb.moveLeft(e.cursorConfig,e,o.viewState,i,a))}return n}static _moveRight(e,t,i,n){const r=t.length>1;let o=[];for(let s=0,a=t.length;s<a;s++){const a=t[s],l=r||!a.viewState.hasSelection();let c=jb.moveRight(e.cursorConfig,e,a.viewState,i,n);if(l&&1===n&&c.position.lineNumber!==a.viewState.position.lineNumber){e.coordinatesConverter.convertViewPositionToModelPosition(c.position).lineNumber===a.modelState.position.lineNumber&&(c=jb.moveRight(e.cursorConfig,e,c,i,1))}o[s]=Wm.fromViewState(c)}return o}static _moveHalfLineRight(e,t,i){let n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=Math.round(e.getLineContent(s).length/2);n[r]=Wm.fromViewState(jb.moveRight(e.cursorConfig,e,o.viewState,i,a))}return n}static _moveDownByViewLines(e,t,i,n){let r=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];r[o]=Wm.fromViewState(jb.moveDown(e.cursorConfig,e,s.viewState,i,n))}return r}static _moveDownByModelLines(e,t,i,n){let r=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];r[o]=Wm.fromModelState(jb.moveDown(e.cursorConfig,e.model,s.modelState,i,n))}return r}static _moveUpByViewLines(e,t,i,n){let r=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];r[o]=Wm.fromViewState(jb.moveUp(e.cursorConfig,e,s.viewState,i,n))}return r}static _moveUpByModelLines(e,t,i,n){let r=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];r[o]=Wm.fromModelState(jb.moveUp(e.cursorConfig,e.model,s.modelState,i,n))}return r}static _moveToViewPosition(e,t,i,n,r){return Wm.fromViewState(t.viewState.move(i,n,r,0))}static _moveToModelPosition(e,t,i,n,r){return Wm.fromModelState(t.modelState.move(i,n,r,0))}static _moveToViewMinColumn(e,t,i){let n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=e.getLineMinColumn(s);n[r]=this._moveToViewPosition(e,o,i,s,a)}return n}static _moveToViewFirstNonWhitespaceColumn(e,t,i){let n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=e.getLineFirstNonWhitespaceColumn(s);n[r]=this._moveToViewPosition(e,o,i,s,a)}return n}static _moveToViewCenterColumn(e,t,i){let n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=Math.round((e.getLineMaxColumn(s)+e.getLineMinColumn(s))/2);n[r]=this._moveToViewPosition(e,o,i,s,a)}return n}static _moveToViewMaxColumn(e,t,i){let n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=e.getLineMaxColumn(s);n[r]=this._moveToViewPosition(e,o,i,s,a)}return n}static _moveToViewLastNonWhitespaceColumn(e,t,i){let n=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,a=e.getLineLastNonWhitespaceColumn(s);n[r]=this._moveToViewPosition(e,o,i,s,a)}return n}}var Gb;!function(e){e.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down'\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!yr(e))return!1;let t=e;return!(!_r(t.to)||!Sr(t.select)&&!Cr(t.select)||!Sr(t.by)&&!_r(t.by)||!Sr(t.value)&&!wr(t.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},e.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},e.parse=function(t){if(!t.to)return null;let i;switch(t.to){case e.RawDirection.Left:i=0;break;case e.RawDirection.Right:i=1;break;case e.RawDirection.Up:i=2;break;case e.RawDirection.Down:i=3;break;case e.RawDirection.WrappedLineStart:i=4;break;case e.RawDirection.WrappedLineFirstNonWhitespaceCharacter:i=5;break;case e.RawDirection.WrappedLineColumnCenter:i=6;break;case e.RawDirection.WrappedLineEnd:i=7;break;case e.RawDirection.WrappedLineLastNonWhitespaceCharacter:i=8;break;case e.RawDirection.ViewPortTop:i=9;break;case e.RawDirection.ViewPortBottom:i=11;break;case e.RawDirection.ViewPortCenter:i=10;break;case e.RawDirection.ViewPortIfOutside:i=12;break;default:return null}let n=0;switch(t.by){case e.RawUnit.Line:n=1;break;case e.RawUnit.WrappedLine:n=2;break;case e.RawUnit.Character:n=3;break;case e.RawUnit.HalfLine:n=4}return{direction:i,unit:n,select:!!t.select,value:t.value||1}}}(Gb||(Gb={}));const Yb=Object.create(null);function Xb(e,t){Yb[e]||(Yb[e]=["",e]);const i=Yb[e];for(let n=i.length;n<=t;n++)i[n]=i[n-1]+e;return i[t]}class Zb{constructor(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(e,t,i,n,r){const o=zm.visibleColumnFromColumn(e,t,i);if(r){return Xb(Xb(" ",n),zm.prevIndentTabStop(o,n)/n)}return Xb("\t",zm.prevRenderTabStop(o,i)/i)}static shiftIndent(e,t,i,n,r){const o=zm.visibleColumnFromColumn(e,t,i);if(r){return Xb(Xb(" ",n),zm.nextIndentTabStop(o,n)/n)}return Xb("\t",zm.nextRenderTabStop(o,i)/i)}_addEditOperation(e,t,i){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,i):e.addEditOperation(t,i)}getEditOperations(e,t){const i=this._selection.startLineNumber;let n=this._selection.endLineNumber;1===this._selection.endColumn&&i!==n&&(n-=1);const{tabSize:r,indentSize:o,insertSpaces:s}=this._opts,a=i===n;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(e.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0);let l=0,c=0;for(let h=i;h<=n;h++,l=c){c=0;let n,u=e.getLineContent(h),d=hr.u(u);if((!this._opts.isUnshift||0!==u.length&&0!==d)&&(a||this._opts.isUnshift||0!==u.length)){if(-1===d&&(d=u.length),h>1){if(zm.visibleColumnFromColumn(u,d+1,r)%o!=0&&e.isCheapToTokenize(h-1)){let t=za.getEnterAction(this._opts.autoIndent,e,new mt(h-1,e.getLineMaxColumn(h-1),h-1,e.getLineMaxColumn(h-1)));if(t){if(c=l,t.appendText)for(let e=0,i=t.appendText.length;e<i&&c<o&&32===t.appendText.charCodeAt(e);e++)c++;t.removeText&&(c=Math.max(0,c-t.removeText));for(let e=0;e<c&&(0!==d&&32===u.charCodeAt(d-1));e++)d--}}}this._opts.isUnshift&&0===d||(n=this._opts.isUnshift?Zb.unshiftIndent(u,d+1,r,o,s):Zb.shiftIndent(u,d+1,r,o,s),this._addEditOperation(t,new mt(h,1,h,d+1),n),h!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=d+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===e.getLineLength(i)&&(this._useLastEditRangeForCursorEndPosition=!0);const r=s?Xb(" ",o):"\t";for(let s=i;s<=n;s++){const n=e.getLineContent(s);let l=hr.u(n);if((!this._opts.isUnshift||0!==n.length&&0!==l)&&((a||this._opts.isUnshift||0!==n.length)&&(-1===l&&(l=n.length),!this._opts.isUnshift||0!==l)))if(this._opts.isUnshift){l=Math.min(l,o);for(let e=0;e<l;e++){if(9===n.charCodeAt(e)){l=e+1;break}}this._addEditOperation(t,new mt(s,1,s,l+1),"")}else this._addEditOperation(t,new mt(s,1,s,1),r),s!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){if(this._useLastEditRangeForCursorEndPosition){let e=t.getInverseEditOperations()[0];return new gt(e.range.endLineNumber,e.range.endColumn,e.range.endLineNumber,e.range.endColumn)}const i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){let e=this._selection.startColumn;return i.startColumn<=e?i:0===i.getDirection()?new gt(i.startLineNumber,e,i.endLineNumber,i.endColumn):new gt(i.endLineNumber,i.endColumn,i.startLineNumber,e)}return i}}class Qb{constructor(e,t,i){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=i}getEditOperations(e,t){t.addTrackedEditOperation(new mt(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new mt(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(e,t){let i=t.getInverseEditOperations(),n=i[0].range,r=i[1].range;return new gt(n.endLineNumber,n.endColumn,r.endLineNumber,r.endColumn-this._charAfterSelection.length)}}class Jb{static indent(e,t,i){if(null===t||null===i)return[];let n=[];for(let t=0,r=i.length;t<r;t++)n[t]=new Zb(i[t],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static outdent(e,t,i){let n=[];for(let t=0,r=i.length;t<r;t++)n[t]=new Zb(i[t],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return n}static shiftIndent(e,t,i){return i=i||1,Zb.shiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,i){return i=i||1,Zb.unshiftIndent(t,t.length+i,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,i,n){let r=[];for(let e=0,t=i.length;e<t;e++)r[e]=new Bb(i[e],n[e]);return new $m(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,i,n,r){let o=[];for(let e=0,t=i.length;e<t;e++){const t=i[e];let s=t.getPosition();if(r&&!t.isEmpty()&&(r=!1),r&&n.indexOf("\n")!==n.length-1&&(r=!1),r){let i=new mt(s.lineNumber,1,s.lineNumber,1);o[e]=new zb(i,n,t,!0)}else o[e]=new Bb(t,n)}return new $m(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,i,n,r){if(n)return null;if(1===t.length)return null;if(r&&r.length===t.length)return r;if("spread"===e.multiCursorPaste){10===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1)),13===i.charCodeAt(i.length-1)&&(i=i.substr(0,i.length-1));let e=i.split(/\r\n|\r|\n/);if(e.length===t.length)return e}return null}static paste(e,t,i,n,r,o){const s=this._distributePasteToCursors(e,i,n,r,o);return s?(i=i.sort(mt.compareRangesUsingStarts),this._distributedPaste(e,t,i,s)):this._simplePaste(e,t,i,n,r)}static _goodIndentForLine(e,t,i){let n=null,r="";const o=za.getInheritIndentForLine(e.autoIndent,t,i,!1);if(o)n=o.action,r=o.indentation;else if(i>1){let n;for(n=i-1;n>=1;n--){const e=t.getLineContent(n);if(hr.H(e)>=0)break}if(n<1)return null;const o=t.getLineMaxColumn(n),s=za.getEnterAction(e.autoIndent,t,new mt(n,o,n,o));s&&(r=s.indentation+s.appendText)}return n&&(n===va.Indent&&(r=Jb.shiftIndent(e,r)),n===va.Outdent&&(r=Jb.unshiftIndent(e,r)),r=e.normalizeIndentation(r)),r||null}static _replaceJumpToNextIndent(e,t,i,n){let r="",o=i.getStartPosition();if(e.insertSpaces){let i=zm.visibleColumnFromColumn2(e,t,o),n=e.indentSize,s=n-i%n;for(let e=0;e<s;e++)r+=" "}else r="\t";return new Bb(i,r,n)}static tab(e,t,i){let n=[];for(let r=0,o=i.length;r<o;r++){const o=i[r];if(o.isEmpty()){let i=t.getLineContent(o.startLineNumber);if(/^\s*$/.test(i)&&t.isCheapToTokenize(o.startLineNumber)){let s=this._goodIndentForLine(e,t,o.startLineNumber);s=s||"\t";let a=e.normalizeIndentation(s);if(!hr.P(i,a)){n[r]=new Bb(new mt(o.startLineNumber,1,o.startLineNumber,i.length+1),a,!0);continue}}n[r]=this._replaceJumpToNextIndent(e,t,o,!0)}else{if(o.startLineNumber===o.endLineNumber){let i=t.getLineMaxColumn(o.startLineNumber);if(1!==o.startColumn||o.endColumn!==i){n[r]=this._replaceJumpToNextIndent(e,t,o,!1);continue}}n[r]=new Zb(o,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return n}static replacePreviousChar(e,t,i,n,r,o){let s=[];for(let e=0,t=n.length;e<t;e++){const t=n[e];if(!t.isEmpty()){s[e]=null;continue}const a=t.getPosition(),l=Math.max(1,a.column-o),c=new mt(a.lineNumber,l,a.lineNumber,a.column);i.getValueInRange(c)!==r?s[e]=new Bb(c,r):s[e]=null}return new $m(1,s,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})}static _typeCommand(e,t,i){return i?new Wb(e,t,!0):new Bb(e,t,!0)}static _enter(e,t,i,n){if(0===e.autoIndent)return Jb._typeCommand(n,"\n",i);if(!t.isCheapToTokenize(n.getStartPosition().lineNumber)||1===e.autoIndent){let r=t.getLineContent(n.startLineNumber),o=hr.x(r).substring(0,n.startColumn-1);return Jb._typeCommand(n,"\n"+e.normalizeIndentation(o),i)}const r=za.getEnterAction(e.autoIndent,t,n);if(r){if(r.indentAction===va.None)return Jb._typeCommand(n,"\n"+e.normalizeIndentation(r.indentation+r.appendText),i);if(r.indentAction===va.Indent)return Jb._typeCommand(n,"\n"+e.normalizeIndentation(r.indentation+r.appendText),i);if(r.indentAction===va.IndentOutdent){const t=e.normalizeIndentation(r.indentation),o=e.normalizeIndentation(r.indentation+r.appendText),s="\n"+o+"\n"+t;return i?new Wb(n,s,!0):new $b(n,s,-1,o.length-t.length,!0)}if(r.indentAction===va.Outdent){const t=Jb.unshiftIndent(e,r.indentation);return Jb._typeCommand(n,"\n"+e.normalizeIndentation(t+r.appendText),i)}}const o=t.getLineContent(n.startLineNumber),s=hr.x(o).substring(0,n.startColumn-1);if(e.autoIndent>=4){const r=za.getIndentForEnter(e.autoIndent,t,n,{unshiftIndent:t=>Jb.unshiftIndent(e,t),shiftIndent:t=>Jb.shiftIndent(e,t),normalizeIndentation:t=>e.normalizeIndentation(t)});if(r){let a=zm.visibleColumnFromColumn2(e,t,n.getEndPosition());const l=n.endColumn;let c="\n";s!==e.normalizeIndentation(r.beforeEnter)&&(c=e.normalizeIndentation(r.beforeEnter)+o.substring(s.length,n.startColumn-1)+"\n",n=new mt(n.startLineNumber,1,n.endLineNumber,n.endColumn));const h=t.getLineContent(n.endLineNumber),u=hr.u(h);if(n=u>=0?n.setEndPosition(n.endLineNumber,Math.max(n.endColumn,u+1)):n.setEndPosition(n.endLineNumber,t.getLineMaxColumn(n.endLineNumber)),i)return new Wb(n,c+e.normalizeIndentation(r.afterEnter),!0);{let t=0;return l<=u+1&&(e.insertSpaces||(a=Math.ceil(a/e.indentSize)),t=Math.min(a+1-e.normalizeIndentation(r.afterEnter).length-1,0)),new $b(n,c+e.normalizeIndentation(r.afterEnter),0,t,!0)}}}return Jb._typeCommand(n,"\n"+e.normalizeIndentation(s),i)}static _isAutoIndentType(e,t,i){if(e.autoIndent<4)return!1;for(let e=0,n=i.length;e<n;e++)if(!t.isCheapToTokenize(i[e].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,i,n){const r=za.getIndentationAtPosition(t,i.startLineNumber,i.startColumn),o=za.getIndentActionForType(e.autoIndent,t,i,n,{shiftIndent:t=>Jb.shiftIndent(e,t),unshiftIndent:t=>Jb.unshiftIndent(e,t)});if(null===o)return null;if(o!==e.normalizeIndentation(r)){const r=t.getLineFirstNonWhitespaceColumn(i.startLineNumber);return 0===r?Jb._typeCommand(new mt(i.startLineNumber,0,i.endLineNumber,i.endColumn),e.normalizeIndentation(o)+n,!1):Jb._typeCommand(new mt(i.startLineNumber,0,i.endLineNumber,i.endColumn),e.normalizeIndentation(o)+t.getLineContent(i.startLineNumber).substring(r-1,i.startColumn-1)+n,!1)}return null}static _isAutoClosingOvertype(e,t,i,n,r){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairsClose2.has(r))return!1;for(let o=0,s=i.length;o<s;o++){const s=i[o];if(!s.isEmpty())return!1;const a=s.getPosition(),l=t.getLineContent(a.lineNumber);if(l.charAt(a.column-1)!==r)return!1;const c=Hm(r);if(92===(a.column>2?l.charCodeAt(a.column-2):0)&&c)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let t=0,i=n.length;t<i;t++){const i=n[t];if(a.lineNumber===i.startLineNumber&&a.column===i.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,t,i,n,r){let o=[];for(let e=0,t=n.length;e<t;e++){const t=n[e].getPosition(),i=new mt(t.lineNumber,t.column,t.lineNumber,t.column+1);o[e]=new Bb(i,r)}return new $m(1,o,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})}static _autoClosingPairIsSymmetric(e){const{open:t,close:i}=e;return t.indexOf(i)>=0||i.indexOf(t)>=0}static _isBeforeClosingBrace(e,t,i){const n=e.autoClosingPairsClose2.get(i);if(!n)return!1;const r=Jb._autoClosingPairIsSymmetric(t);for(const e of n){const t=Jb._autoClosingPairIsSymmetric(e);if(r||!t)return!0}return!1}static _findAutoClosingPairOpen(e,t,i,n){const r=e.autoClosingPairsOpen2.get(n);if(!r)return null;let o=null;for(const e of r)if(null===o||e.open.length>o.open.length){let r=!0;for(const o of i){if(t.getValueInRange(new mt(o.lineNumber,o.column-e.open.length+1,o.lineNumber,o.column))+n!==e.open){r=!1;break}}r&&(o=e)}return o}static _isAutoClosingOpenCharType(e,t,i,n,r){const o=Hm(n),s=o?e.autoClosingQuotes:e.autoClosingBrackets;if("never"===s)return null;const a=this._findAutoClosingPairOpen(e,t,i.map(e=>e.getPosition()),n);if(!a)return null;const l=o?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;for(let n=0,c=i.length;n<c;n++){const c=i[n];if(!c.isEmpty())return null;const h=c.getPosition(),u=t.getLineContent(h.lineNumber);if(u.length>h.column-1){const t=u.charAt(h.column-1);if(!Jb._isBeforeClosingBrace(e,a,t)&&!l(t))return null}if(!t.isCheapToTokenize(h.lineNumber))return null;if(1===a.open.length&&o&&"always"!==s){const t=bp(e.wordSeparators);if(r&&h.column>1&&0===t.get(u.charCodeAt(h.column-2)))return null;if(!r&&h.column>2&&0===t.get(u.charCodeAt(h.column-3)))return null}t.forceTokenization(h.lineNumber);const d=t.getLineTokens(h.lineNumber);let f=!1;try{f=za.shouldAutoClosePair(a,d,r?h.column:h.column-1)}catch(e){$(e)}if(!f)return null}return a}static _runAutoClosingOpenCharType(e,t,i,n,r,o,s){let a=[];for(let e=0,t=n.length;e<t;e++){const t=n[e];a[e]=new e_(t,r,o,s.close)}return new $m(1,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return Hm(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,i,n){if(!Jb._shouldSurroundChar(e,n)||!e.surroundingPairs.hasOwnProperty(n))return!1;const r=Hm(n);for(let e=0,n=i.length;e<n;e++){const n=i[e];if(n.isEmpty())return!1;let o=!0;for(let e=n.startLineNumber;e<=n.endLineNumber;e++){const i=t.getLineContent(e),r=e===n.startLineNumber?n.startColumn-1:0,s=e===n.endLineNumber?n.endColumn-1:i.length,a=i.substring(r,s);if(/[^ \t]/.test(a)){o=!1;break}}if(o)return!1;if(r&&n.startLineNumber===n.endLineNumber&&n.startColumn+1===n.endColumn){if(Hm(t.getValueInRange(n)))return!1}}return!0}static _runSurroundSelectionType(e,t,i,n,r){let o=[];for(let e=0,i=n.length;e<i;e++){const i=n[e],s=t.surroundingPairs[r];o[e]=new Qb(i,r,s)}return new $m(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,i){return!(1!==i.length||!t.isCheapToTokenize(i[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,i,n,r){if(!t.electricChars.hasOwnProperty(r)||!n.isEmpty())return null;let o=n.getPosition();i.forceTokenization(o.lineNumber);let s,a=i.getLineTokens(o.lineNumber);try{s=za.onElectricCharacter(r,a,o.column)}catch(e){return $(e),null}if(!s)return null;if(s.matchOpenBracket){let e=(a.getLineContent()+r).lastIndexOf(s.matchOpenBracket)+1,n=i.findMatchingBracketUp(s.matchOpenBracket,{lineNumber:o.lineNumber,column:e});if(n){if(n.startLineNumber===o.lineNumber)return null;let e=i.getLineContent(n.startLineNumber),s=hr.x(e),a=t.normalizeIndentation(s),l=i.getLineContent(o.lineNumber),c=i.getLineFirstNonWhitespaceColumn(o.lineNumber)||o.column,h=a+l.substring(c-1,o.column-1)+r,u=new mt(o.lineNumber,1,o.lineNumber,o.column);const d=new Bb(u,h);return new $m(1,[d],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,i,n,r,o){if(!n||gt.selectionsArrEqual(n,r))return null;let s=null;for(const e of r){if(!e.isEmpty())return null;const t=e.getPosition(),n=i.getValueInRange(new mt(t.lineNumber,t.column-1,t.lineNumber,t.column));if(null===s)s=n;else if(s!==n)return null}if(!s)return null;if(this._isAutoClosingOvertype(t,i,r,o,s)){const e=r.map(e=>new Bb(new mt(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1));return new $m(1,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const a=this._isAutoClosingOpenCharType(t,i,r,s,!1);return a?this._runAutoClosingOpenCharType(e,t,i,r,s,!1,a):null}static typeWithInterceptors(e,t,i,n,r,o,s){if(!e&&"\n"===s){let e=[];for(let t=0,o=r.length;t<o;t++)e[t]=Jb._enter(i,n,!1,r[t]);return new $m(1,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(i,n,r)){let e=[],t=!1;for(let o=0,a=r.length;o<a;o++)if(e[o]=this._runAutoIndentType(i,n,r[o],s),!e[o]){t=!0;break}if(!t)return new $m(1,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(i,n,r,o,s))return this._runAutoClosingOvertype(t,i,n,r,s);if(!e){const e=this._isAutoClosingOpenCharType(i,n,r,s,!0);if(e)return this._runAutoClosingOpenCharType(t,i,n,r,s,!0,e)}if(this._isSurroundSelectionType(i,n,r,s))return this._runSurroundSelectionType(t,i,n,r,s);if(!e&&this._isTypeInterceptorElectricChar(i,n,r)){const e=this._typeInterceptorElectricChar(t,i,n,r[0],s);if(e)return e}let a=[];for(let e=0,t=r.length;e<t;e++)a[e]=new Bb(r[e],s);let l=1!==t;return" "===s&&(l=!0),new $m(1,a,{shouldPushStackElementBefore:l,shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,i,n,r){let o=[];for(let e=0,t=n.length;e<t;e++)o[e]=new Bb(n[e],r);return new $m(1,o,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,i){if(null===t||null===i)return[];let n=[];for(let r=0,o=i.length;r<o;r++){let o=i[r].positionLineNumber;if(1===o)n[r]=new Wb(new mt(1,1,1,1),"\n");else{o--;let i=t.getLineMaxColumn(o);n[r]=this._enter(e,t,!1,new mt(o,i,o,i))}}return n}static lineInsertAfter(e,t,i){if(null===t||null===i)return[];let n=[];for(let r=0,o=i.length;r<o;r++){const o=i[r].positionLineNumber;let s=t.getLineMaxColumn(o);n[r]=this._enter(e,t,!1,new mt(o,s,o,s))}return n}static lineBreakInsert(e,t,i){let n=[];for(let r=0,o=i.length;r<o;r++)n[r]=this._enter(e,t,!0,i[r]);return n}}class e_ extends $b{constructor(e,t,i,n){super(e,(i?t:"")+n,0,-n.length),this._openCharacter=t,this._closeCharacter=n,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){let i=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new mt(i.startLineNumber,i.endColumn-this._closeCharacter.length,i.endLineNumber,i.endColumn),this.enclosingRange=new mt(i.startLineNumber,i.endColumn-this._openCharacter.length-this._closeCharacter.length,i.endLineNumber,i.endColumn),super.computeCursorState(e,t)}}var t_,i_;(i_=t_||(t_={})).editorSimpleInput=new id("editorSimpleInput",!1),i_.editorTextFocus=new id("editorTextFocus",!1),i_.focus=new id("editorFocus",!1),i_.textInputFocus=new id("textInputFocus",!1),i_.readOnly=new id("editorReadonly",!1),i_.columnSelection=new id("editorColumnSelection",!1),i_.writable=i_.readOnly.toNegated(),i_.hasNonEmptySelection=new id("editorHasSelection",!1),i_.hasOnlyEmptySelection=i_.hasNonEmptySelection.toNegated(),i_.hasMultipleSelections=new id("editorHasMultipleSelections",!1),i_.hasSingleSelection=i_.hasMultipleSelections.toNegated(),i_.tabMovesFocus=new id("editorTabMovesFocus",!1),i_.tabDoesNotMoveFocus=i_.tabMovesFocus.toNegated(),i_.isInWalkThroughSnippet=new id("isInEmbeddedEditor",!1),i_.canUndo=new id("canUndo",!1),i_.canRedo=new id("canRedo",!1),i_.hoverVisible=new id("editorHoverVisible",!1),i_.inCompositeEditor=new id("inCompositeEditor",void 0),i_.notInCompositeEditor=i_.inCompositeEditor.toNegated(),i_.languageId=new id("editorLangId",""),i_.hasCompletionItemProvider=new id("editorHasCompletionItemProvider",!1),i_.hasCodeActionsProvider=new id("editorHasCodeActionsProvider",!1),i_.hasCodeLensProvider=new id("editorHasCodeLensProvider",!1),i_.hasDefinitionProvider=new id("editorHasDefinitionProvider",!1),i_.hasDeclarationProvider=new id("editorHasDeclarationProvider",!1),i_.hasImplementationProvider=new id("editorHasImplementationProvider",!1),i_.hasTypeDefinitionProvider=new id("editorHasTypeDefinitionProvider",!1),i_.hasHoverProvider=new id("editorHasHoverProvider",!1),i_.hasDocumentHighlightProvider=new id("editorHasDocumentHighlightProvider",!1),i_.hasDocumentSymbolProvider=new id("editorHasDocumentSymbolProvider",!1),i_.hasReferenceProvider=new id("editorHasReferenceProvider",!1),i_.hasRenameProvider=new id("editorHasRenameProvider",!1),i_.hasSignatureHelpProvider=new id("editorHasSignatureHelpProvider",!1),i_.hasDocumentFormattingProvider=new id("editorHasDocumentFormattingProvider",!1),i_.hasDocumentSelectionFormattingProvider=new id("editorHasDocumentSelectionFormattingProvider",!1),i_.hasMultipleDocumentFormattingProvider=new id("editorHasMultipleDocumentFormattingProvider",!1),i_.hasMultipleDocumentSelectionFormattingProvider=new id("editorHasMultipleDocumentSelectionFormattingProvider",!1);const n_=0;class r_ extends vd{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i||{})}}var o_,s_,a_,l_;!function(e){e.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(e){if(!yr(e))return!1;const t=e;return!(!_r(t.to)||!Sr(t.by)&&!_r(t.by)||!Sr(t.value)&&!wr(t.value)||!Sr(t.revealCursor)&&!Cr(t.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},e.RawDirection={Up:"up",Down:"down"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},e.parse=function(t){let i,n;switch(t.to){case e.RawDirection.Up:i=1;break;case e.RawDirection.Down:i=2;break;default:return null}switch(t.by){case e.RawUnit.Line:n=1;break;case e.RawUnit.WrappedLine:n=2;break;case e.RawUnit.Page:n=3;break;case e.RawUnit.HalfPage:n=4;break;default:n=2}return{direction:i,unit:n,value:Math.floor(t.value||1),revealCursor:!!t.revealCursor,select:!!t.select}}}(o_||(o_={})),(a_=s_||(s_={})).description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed .\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(e){if(!yr(e))return!1;const t=e;return!(!wr(t.lineNumber)||!Sr(t.at)&&!_r(t.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:"number"},at:{type:"string",enum:["top","center","bottom"]}}}}]},a_.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"};class c_{constructor(e){e.addImplementation(1e4,(e,t)=>{const i=e.get(si).getFocusedCodeEditor();return!(!i||!i.hasTextFocus())&&(this.runEditorCommand(e,i,t),!0)}),e.addImplementation(1e3,(e,t)=>{const i=document.activeElement;return!!(i&&["input","textarea"].indexOf(i.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),e.addImplementation(0,(e,t)=>{const i=e.get(si).getActiveCodeEditor();return!!i&&(i.focus(),this.runEditorCommand(e,i,t),!0)})}}!function(e){class t extends r_{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[qb.moveTo(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!0)}}e.MoveTo=_d(new t({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=_d(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class i extends r_{runCoreEditorCommand(e,t){e.model.pushStackElement();const i=this._getColumnSelectResult(e,e.getPrimaryCursorState(),e.getCursorColumnSelectData(),t);e.setCursorStates(t.source,3,i.viewStates.map(e=>Wm.fromViewState(e))),e.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:i.fromLineNumber,fromViewVisualColumn:i.fromVisualColumn,toViewLineNumber:i.toLineNumber,toViewVisualColumn:i.toVisualColumn}),i.reversed?e.revealTopMostCursor(t.source):e.revealBottomMostCursor(t.source)}}e.ColumnSelect=_d(new class extends i{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(e,t,i,n){const r=e.model.validatePosition(n.position),o=e.coordinatesConverter.validateViewPosition(new pt(n.viewPosition.lineNumber,n.viewPosition.column),r);let s=n.doColumnSelect?i.fromViewLineNumber:o.lineNumber,a=n.doColumnSelect?i.fromViewVisualColumn:n.mouseColumn-1;return Vb.columnSelect(e.cursorConfig,e,s,a,o.lineNumber,n.mouseColumn-1)}}),e.CursorColumnSelectLeft=_d(new class extends i{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return Vb.columnSelectLeft(e.cursorConfig,e,i)}}),e.CursorColumnSelectRight=_d(new class extends i{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(e,t,i,n){return Vb.columnSelectRight(e.cursorConfig,e,i)}});class r extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return Vb.columnSelectUp(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectUp=_d(new r({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=_d(new r({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:3595,linux:{primary:0}}}));class o extends i{constructor(e){super(e),this._isPaged=e.isPaged}_getColumnSelectResult(e,t,i,n){return Vb.columnSelectDown(e.cursorConfig,e,i,this._isPaged)}}e.CursorColumnSelectDown=_d(new o({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=_d(new o({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:3596,linux:{primary:0}}}));class s extends r_{constructor(){super({id:"cursorMove",precondition:void 0,description:Gb.description})}runCoreEditorCommand(e,t){const i=Gb.parse(t);i&&this._runCursorMove(e,t.source,i)}_runCursorMove(e,t,i){e.model.pushStackElement(),e.setCursorStates(t,3,s._move(e,e.getCursorStates(),i)),e.revealPrimaryCursor(t,!0)}static _move(e,t,i){const n=i.select,r=i.value;switch(i.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:return qb.simpleMove(e,t,i.direction,n,r,i.unit);case 9:case 11:case 10:case 12:return qb.viewportMove(e,t,i.direction,n,r);default:return null}}}e.CursorMoveImpl=s,e.CursorMove=_d(new s);class a extends r_{constructor(e){super(e),this._staticArgs=e.args}runCoreEditorCommand(e,t){let i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:e.cursorConfig.pageSize}),e.model.pushStackElement(),e.setCursorStates(t.source,3,qb.simpleMove(e,e.getCursorStates(),i.direction,i.select,i.value,i.unit)),e.revealPrimaryCursor(t.source,!0)}}e.CursorLeft=_d(new a({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=_d(new a({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:1039}})),e.CursorRight=_d(new a({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=_d(new a({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:1041}})),e.CursorUp=_d(new a({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=_d(new a({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=_d(new a({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:11}})),e.CursorPageUpSelect=_d(new a({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:1035}})),e.CursorDown=_d(new a({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=_d(new a({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=_d(new a({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:12}})),e.CursorPageDownSelect=_d(new a({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:1036}})),e.CreateCursor=_d(new class extends r_{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(e,t){let i;i=t.wholeLine?qb.line(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition):qb.moveTo(e,e.getPrimaryCursorState(),!1,t.position,t.viewPosition);const n=e.getCursorStates();if(n.length>1){const r=i.modelState?i.modelState.position:null,o=i.viewState?i.viewState.position:null;for(let i=0,s=n.length;i<s;i++){const s=n[i];if((!r||s.modelState.selection.containsPosition(r))&&(!o||s.viewState.selection.containsPosition(o)))return n.splice(i,1),e.model.pushStackElement(),void e.setCursorStates(t.source,3,n)}}n.push(i),e.model.pushStackElement(),e.setCursorStates(t.source,3,n)}}),e.LastCursorMoveToSelect=_d(new class extends r_{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),r=n.slice(0);r[i]=qb.moveTo(e,n[i],!0,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,r)}});class l extends r_{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,qb.moveToBeginningOfLine(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorHome=_d(new l({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=_d(new l({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class c extends r_{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i],r=n.modelState.position.lineNumber;t[i]=Wm.fromModelState(n.modelState.move(this._inSelectionMode,r,1,0))}return t}}e.CursorLineStart=_d(new c({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:0,mac:{primary:287}}})),e.CursorLineStartSelect=_d(new c({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:0,mac:{primary:1311}}}));class h extends r_{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,qb.moveToEndOfLine(e,e.getCursorStates(),this._inSelectionMode,t.sticky||!1)),e.revealPrimaryCursor(t.source,!0)}}e.CursorEnd=_d(new h({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:n_,kbExpr:t_.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:n(0,"Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),e.CursorEndSelect=_d(new h({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:n_,kbExpr:t_.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:n(0,"Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class u extends r_{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,this._exec(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}_exec(e,t){const i=[];for(let n=0,r=t.length;n<r;n++){const r=t[n],o=r.modelState.position.lineNumber,s=e.model.getLineMaxColumn(o);i[n]=Wm.fromModelState(r.modelState.move(this._inSelectionMode,o,s,0))}return i}}e.CursorLineEnd=_d(new u({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:0,mac:{primary:291}}})),e.CursorLineEndSelect=_d(new u({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:0,mac:{primary:1315}}}));class d extends r_{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,qb.moveToBeginningOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorTop=_d(new d({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=_d(new d({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:3086,mac:{primary:3088}}}));class f extends r_{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,qb.moveToEndOfBuffer(e,e.getCursorStates(),this._inSelectionMode)),e.revealPrimaryCursor(t.source,!0)}}e.CursorBottom=_d(new f({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=_d(new f({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:3085,mac:{primary:3090}}}));class p extends r_{constructor(){super({id:"editorScroll",precondition:void 0,description:o_.description})}runCoreEditorCommand(e,t){const i=o_.parse(t);i&&this._runEditorScroll(e,t.source,i)}_runEditorScroll(e,t,i){const n=this._computeDesiredScrollTop(e,i);if(i.revealCursor){const r=e.getCompletelyVisibleViewRangeAtScrollTop(n);e.setCursorStates(t,3,[qb.findPositionInViewportIfOutside(e,e.getPrimaryCursorState(),r,i.select)])}e.setScrollTop(n,0)}_computeDesiredScrollTop(e,t){if(1===t.unit){const i=e.getCompletelyVisibleViewRange(),n=e.coordinatesConverter.convertViewRangeToModelRange(i);let r;r=1===t.direction?Math.max(1,n.startLineNumber-t.value):Math.min(e.model.getLineCount(),n.startLineNumber+t.value);const o=e.coordinatesConverter.convertModelPositionToViewPosition(new pt(r,1));return e.getVerticalOffsetForLineNumber(o.lineNumber)}let i;i=3===t.unit?e.cursorConfig.pageSize*t.value:4===t.unit?Math.round(e.cursorConfig.pageSize/2)*t.value:t.value;const n=(1===t.direction?-1:1)*i;return e.getScrollTop()+n*e.cursorConfig.lineHeight}}e.EditorScrollImpl=p,e.EditorScroll=_d(new p),e.ScrollLineUp=_d(new class extends r_{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageUp=_d(new class extends r_{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),e.ScrollLineDown=_d(new class extends r_{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),e.ScrollPageDown=_d(new class extends r_{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(t,i){e.EditorScroll._runEditorScroll(t,i.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}});class m extends r_{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[qb.word(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position)]),e.revealPrimaryCursor(t.source,!0)}}e.WordSelect=_d(new m({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=_d(new m({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=_d(new class extends r_{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),r=n.slice(0),o=n[i];r[i]=qb.word(e,o,o.modelState.hasSelection(),t.position),e.model.pushStackElement(),e.setCursorStates(t.source,3,r)}});class g extends r_{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[qb.line(e,e.getPrimaryCursorState(),this._inSelectionMode,t.position,t.viewPosition)]),e.revealPrimaryCursor(t.source,!1)}}e.LineSelect=_d(new g({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=_d(new g({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class v extends r_{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode}runCoreEditorCommand(e,t){const i=e.getLastAddedCursorIndex(),n=e.getCursorStates(),r=n.slice(0);r[i]=qb.line(e,n[i],this._inSelectionMode,t.position,t.viewPosition),e.model.pushStackElement(),e.setCursorStates(t.source,3,r)}}e.LastCursorLineSelect=_d(new v({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=_d(new v({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.ExpandLineSelection=_d(new class extends r_{constructor(){super({id:"expandLineSelection",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:2090}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,qb.expandLineSelection(e,e.getCursorStates())),e.revealPrimaryCursor(t.source,!0)}}),e.CancelSelection=_d(new class extends r_{constructor(){super({id:"cancelSelection",precondition:t_.hasNonEmptySelection,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[qb.cancelSelection(e,e.getPrimaryCursorState())]),e.revealPrimaryCursor(t.source,!0)}}),e.RemoveSecondaryCursors=_d(new class extends r_{constructor(){super({id:"removeSecondaryCursors",precondition:t_.hasMultipleSelections,kbOpts:{weight:n_+1,kbExpr:t_.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[e.getPrimaryCursorState()]),e.revealPrimaryCursor(t.source,!0)}}),e.RevealLine=_d(new class extends r_{constructor(){super({id:"revealLine",precondition:void 0,description:s_.description})}runCoreEditorCommand(e,t){const i=t;let n=(i.lineNumber||0)+1;n<1&&(n=1);const r=e.model.getLineCount();n>r&&(n=r);const o=new mt(n,1,n,e.model.getLineMaxColumn(n));let s=0;if(i.at)switch(i.at){case s_.RawAtArgument.Top:s=3;break;case s_.RawAtArgument.Center:s=1;break;case s_.RawAtArgument.Bottom:s=4}const a=e.coordinatesConverter.convertModelRangeToViewRange(o);e.revealRange(t.source,!1,a,s,0)}}),e.SelectAll=new class extends c_{constructor(){super(Ld)}runDOMCommand(){document.execCommand("selectAll")}runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditorCommand(n,i)}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates("keyboard",3,[qb.selectAll(e,e.getPrimaryCursorState())])}},e.SetSelection=_d(new class extends r_{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(e,t){e.model.pushStackElement(),e.setCursorStates(t.source,3,[Wm.fromModelSelection(t.selection)])}})}(l_||(l_={}));const h_=zu.and(t_.textInputFocus,t_.columnSelection);function u_(e,t){Ih.registerKeybindingRule({id:e,primary:t,when:h_,weight:n_+1})}function d_(e){return e.register(),e}var f_;u_(l_.CursorColumnSelectLeft.id,1039),u_(l_.CursorColumnSelectRight.id,1041),u_(l_.CursorColumnSelectUp.id,1040),u_(l_.CursorColumnSelectPageUp.id,1035),u_(l_.CursorColumnSelectDown.id,1042),u_(l_.CursorColumnSelectPageDown.id,1036),function(e){class t extends vd{runEditorCommand(e,t,i){const n=t._getViewModel();n&&this.runCoreEditingCommand(t,n,i||{})}}e.CoreEditingCommand=t,e.LineBreakInsert=_d(new class extends t{constructor(){super({id:"lineBreakInsert",precondition:t_.writable,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,Jb.lineBreakInsert(t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection)))}}),e.Outdent=_d(new class extends t{constructor(){super({id:"outdent",precondition:t_.writable,kbOpts:{weight:n_,kbExpr:zu.and(t_.editorTextFocus,t_.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,Jb.outdent(t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection))),e.pushUndoStop()}}),e.Tab=_d(new class extends t{constructor(){super({id:"tab",precondition:t_.writable,kbOpts:{weight:n_,kbExpr:zu.and(t_.editorTextFocus,t_.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(e,t,i){e.pushUndoStop(),e.executeCommands(this.id,Jb.tab(t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection))),e.pushUndoStop()}}),e.DeleteLeft=_d(new class extends t{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(e,t,i){const[n,r]=Ub.deleteLeft(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection));n&&e.pushUndoStop(),e.executeCommands(this.id,r),t.setPrevEditOperationType(2)}}),e.DeleteRight=_d(new class extends t{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:n_,kbExpr:t_.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(e,t,i){const[n,r]=Ub.deleteRight(t.getPrevEditOperationType(),t.cursorConfig,t.model,t.getCursorStates().map(e=>e.modelState.selection));n&&e.pushUndoStop(),e.executeCommands(this.id,r),t.setPrevEditOperationType(3)}}),e.Undo=new class extends c_{constructor(){super(xd)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(e,t,i){t.hasModel()&&!0!==t.getOption(72)&&t.getModel().undo()}},e.Redo=new class extends c_{constructor(){super(kd)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(e,t,i){t.hasModel()&&!0!==t.getOption(72)&&t.getModel().redo()}}}(f_||(f_={}));class p_ extends pd{constructor(e,t,i){super({id:e,precondition:void 0,description:i}),this._handlerId=t}runCommand(e,t){const i=e.get(si).getFocusedCodeEditor();i&&i.trigger("keyboard",this._handlerId,t)}}function m_(e,t){d_(new p_("default:"+e,e)),d_(new p_(e,e,t))}m_("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),m_("replacePreviousChar"),m_("compositionStart"),m_("compositionEnd"),m_("paste"),m_("cut");class g_{constructor(e,t,i,n){this.configuration=e,this.viewModel=t,this.userInputEvents=i,this.commandDelegate=n}paste(e,t,i,n){this.commandDelegate.paste(e,t,i,n)}type(e){this.commandDelegate.type(e)}replacePreviousChar(e,t){this.commandDelegate.replacePreviousChar(e,t)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(e){l_.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:e})}_validateViewColumn(e){const t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new pt(e.lineNumber,t):e}_hasMulticursorModifier(e){switch(this.configuration.options.get(61)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey;default:return!1}}_hasNonMulticursorModifier(e){switch(this.configuration.options.get(61)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey;default:return!1}}dispatchMouse(e){const t=this.configuration.options,i=r.d&&t.get(88),n=t.get(13);e.middleButton&&!i?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):n?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)}_usualArgs(e){return e=this._validateViewColumn(e),{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e}}moveTo(e){l_.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_moveToSelect(e){l_.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_columnSelect(e,t,i){e=this._validateViewColumn(e),l_.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:i})}_createCursor(e,t){e=this._validateViewColumn(e),l_.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})}_lastCursorMoveToSelect(e){l_.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelect(e){l_.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_wordSelectDrag(e){l_.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorWordSelect(e){l_.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelect(e){l_.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lineSelectDrag(e){l_.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelect(e){l_.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_lastCursorLineSelectDrag(e){l_.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(e))}_selectAll(){l_.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)}emitKeyDown(e){this.userInputEvents.emitKeyDown(e)}emitKeyUp(e){this.userInputEvents.emitKeyUp(e)}emitContextMenu(e){this.userInputEvents.emitContextMenu(e)}emitMouseMove(e){this.userInputEvents.emitMouseMove(e)}emitMouseLeave(e){this.userInputEvents.emitMouseLeave(e)}emitMouseUp(e){this.userInputEvents.emitMouseUp(e)}emitMouseDown(e){this.userInputEvents.emitMouseDown(e)}emitMouseDrag(e){this.userInputEvents.emitMouseDrag(e)}emitMouseDrop(e){this.userInputEvents.emitMouseDrop(e)}emitMouseWheel(e){this.userInputEvents.emitMouseWheel(e)}}class v_{constructor(e){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseWheel=null,this._coordinatesConverter=e}emitKeyDown(e){this.onKeyDown&&this.onKeyDown(e)}emitKeyUp(e){this.onKeyUp&&this.onKeyUp(e)}emitContextMenu(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))}emitMouseMove(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))}emitMouseLeave(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))}emitMouseDown(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))}emitMouseUp(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))}emitMouseDrag(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))}emitMouseDrop(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))}emitMouseWheel(e){this.onMouseWheel&&this.onMouseWheel(e)}_convertViewToModelMouseEvent(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e}_convertViewToModelMouseTarget(e){return v_.convertViewToModelMouseTarget(e,this._coordinatesConverter)}static convertViewToModelMouseTarget(e,t){return new b_(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)}}class b_{constructor(e,t,i,n,r,o){this.element=e,this.type=t,this.mouseColumn=i,this.position=n,this.range=r,this.detail=o}toString(){return Um.toString(this)}}class __{constructor(e){this._createLine=e,this._set(1,[])}flush(){this._set(1,[])}_set(e,t){this._lines=t,this._rendLineNumberStart=e}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(e){const t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]}onLinesDeleted(e,t){if(0===this.getCount())return null;const i=this.getStartLineNumber(),n=this.getEndLineNumber();if(t<i){const i=t-e+1;return this._rendLineNumberStart-=i,null}if(e>n)return null;let r=0,o=0;for(let s=i;s<=n;s++){const i=s-this._rendLineNumberStart;e<=s&&s<=t&&(0===o?(r=i,o=1):o++)}if(e<i){let n=0;n=t<i?t-e+1:i-e,this._rendLineNumberStart-=n}return this._lines.splice(r,o)}onLinesChanged(e,t){if(0===this.getCount())return!1;const i=this.getStartLineNumber(),n=this.getEndLineNumber();let r=!1;for(let o=e;o<=t;o++)o>=i&&o<=n&&(this._lines[o-this._rendLineNumberStart].onContentChanged(),r=!0);return r}onLinesInserted(e,t){if(0===this.getCount())return null;const i=t-e+1,n=this.getStartLineNumber(),r=this.getEndLineNumber();if(e<=n)return this._rendLineNumberStart+=i,null;if(e>r)return null;if(i+e>r){return this._lines.splice(e-this._rendLineNumberStart,r-e+1)}const o=[];for(let e=0;e<i;e++)o[e]=this._createLine();const s=e-this._rendLineNumberStart,a=this._lines.slice(0,s),l=this._lines.slice(s,this._lines.length-i),c=this._lines.slice(this._lines.length-i,this._lines.length);return this._lines=a.concat(o).concat(l),c}onTokensChanged(e){if(0===this.getCount())return!1;const t=this.getStartLineNumber(),i=this.getEndLineNumber();let n=!1;for(let r=0,o=e.length;r<o;r++){const o=e[r];if(o.toLineNumber<t||o.fromLineNumber>i)continue;const s=Math.max(t,o.fromLineNumber),a=Math.min(i,o.toLineNumber);for(let e=s;e<=a;e++){const t=e-this._rendLineNumberStart;this._lines[t].onTokensChanged(),n=!0}}return n}}class y_{constructor(e){this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new __(()=>this._host.createVisibleLine())}_createDomNode(){const e=Ed(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e}onConfigurationChanged(e){return!!e.hasChanged(117)}onFlushed(e){return this._linesCollection.flush(),!0}onLinesChanged(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){const t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(let e=0,i=t.length;e<i;e++){const i=t[e].getDomNode();i&&this.domNode.domNode.removeChild(i)}return!0}onLinesInserted(e){const t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(let e=0,i=t.length;e<i;e++){const i=t[e].getDomNode();i&&this.domNode.domNode.removeChild(i)}return!0}onScrollChanged(e){return e.scrollTopChanged}onTokensChanged(e){return this._linesCollection.onTokensChanged(e.ranges)}onZonesChanged(e){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(e){return this._linesCollection.getLine(e)}renderLines(e){const t=this._linesCollection._get(),i=new w_(this.domNode.domNode,this._host,e),n={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},r=i.render(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(r.rendLineNumberStart,r.lines)}}class w_{constructor(e,t,i){this.domNode=e,this.host=t,this.viewportData=i}render(e,t,i,n){const r={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(r.rendLineNumberStart+r.linesLength-1<t||i<r.rendLineNumberStart){r.rendLineNumberStart=t,r.linesLength=i-t+1,r.lines=[];for(let e=t;e<=i;e++)r.lines[e-t]=this.host.createVisibleLine();return this._finishRendering(r,!0,n),r}if(this._renderUntouchedLines(r,Math.max(t-r.rendLineNumberStart,0),Math.min(i-r.rendLineNumberStart,r.linesLength-1),n,t),r.rendLineNumberStart>t){const e=t,o=Math.min(i,r.rendLineNumberStart-1);e<=o&&(this._insertLinesBefore(r,e,o,n,t),r.linesLength+=o-e+1)}else if(r.rendLineNumberStart<t){const e=Math.min(r.linesLength,t-r.rendLineNumberStart);e>0&&(this._removeLinesBefore(r,e),r.linesLength-=e)}if(r.rendLineNumberStart=t,r.rendLineNumberStart+r.linesLength-1<i){const e=r.rendLineNumberStart+r.linesLength,o=i;e<=o&&(this._insertLinesAfter(r,e,o,n,t),r.linesLength+=o-e+1)}else if(r.rendLineNumberStart+r.linesLength-1>i){const e=Math.max(0,i-r.rendLineNumberStart+1),t=r.linesLength-1-e+1;t>0&&(this._removeLinesAfter(r,t),r.linesLength-=t)}return this._finishRendering(r,!1,n),r}_renderUntouchedLines(e,t,i,n,r){const o=e.rendLineNumberStart,s=e.lines;for(let e=t;e<=i;e++){const t=o+e;s[e].layoutLine(t,n[t-r])}}_insertLinesBefore(e,t,i,n,r){const o=[];let s=0;for(let e=t;e<=i;e++)o[s++]=this.host.createVisibleLine();e.lines=o.concat(e.lines)}_removeLinesBefore(e,t){for(let i=0;i<t;i++){const t=e.lines[i].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(0,t)}_insertLinesAfter(e,t,i,n,r){const o=[];let s=0;for(let e=t;e<=i;e++)o[s++]=this.host.createVisibleLine();e.lines=e.lines.concat(o)}_removeLinesAfter(e,t){const i=e.linesLength-t;for(let n=0;n<t;n++){const t=e.lines[i+n].getDomNode();t&&this.domNode.removeChild(t)}e.lines.splice(i,t)}_finishRenderingNewLines(e,t,i,n){const r=this.domNode.lastChild;t||!r?this.domNode.innerHTML=i:r.insertAdjacentHTML("afterend",i);let o=this.domNode.lastChild;for(let t=e.linesLength-1;t>=0;t--){const i=e.lines[t];n[t]&&(i.setDomNode(o),o=o.previousSibling)}}_finishRenderingInvalidLines(e,t,i){const n=document.createElement("div");n.innerHTML=t;for(let t=0;t<e.linesLength;t++){const r=e.lines[t];if(i[t]){const e=n.firstChild,t=r.getDomNode();t.parentNode.replaceChild(e,t),r.setDomNode(e)}}}_finishRendering(e,t,i){const n=w_._sb,r=e.linesLength,o=e.lines,s=e.rendLineNumberStart,a=[];{n.reset();let l=!1;for(let e=0;e<r;e++){const t=o[e];(a[e]=!1,t.getDomNode())||t.renderLine(e+s,i[e],this.viewportData,n)&&(a[e]=!0,l=!0)}l&&this._finishRenderingNewLines(e,t,n.build(),a)}{n.reset();let t=!1;const l=[];for(let e=0;e<r;e++){const r=o[e];(l[e]=!1,a[e])||r.renderLine(e+s,i[e],this.viewportData,n)&&(l[e]=!0,t=!0)}t&&this._finishRenderingInvalidLines(e,n.build(),l)}}}w_._sb=La(1e5);class C_ extends Ud{constructor(e){super(e),this._visibleLines=new y_(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let e=0,t=this._dynamicOverlays.length;e<t;e++){if(this._dynamicOverlays[e].shouldRender())return!0}return!1}dispose(){super.dispose();for(let e=0,t=this._dynamicOverlays.length;e<t;e++){this._dynamicOverlays[e].dispose()}this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new S_(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(e){this._dynamicOverlays.push(e)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e);const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){this._visibleLines.getVisibleLine(n).onConfigurationChanged(e)}return!0}onFlushed(e){return this._visibleLines.onFlushed(e)}onFocusChanged(e){return this._isFocused=e.isFocused,!0}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onScrollChanged(e){return this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._visibleLines.onZonesChanged(e)}prepareRender(e){const t=this._dynamicOverlays.filter(e=>e.shouldRender());for(let i=0,n=t.length;i<n;i++){const n=t[i];n.prepareRender(e),n.onDidRender()}}render(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(e){this._visibleLines.renderLines(e.viewportData)}}class S_{constructor(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(51),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(e){this._domNode=Ed(e)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(e){this._lineHeight=this._configuration.options.get(51)}renderLine(e,t,i,n){let r="";for(let t=0,n=this._dynamicOverlays.length;t<n;t++){r+=this._dynamicOverlays[t].render(i.startLineNumber,e)}return this._renderedContent!==r&&(this._renderedContent=r,n.appendASCIIString('<div style="position:absolute;top:'),n.appendASCIIString(String(t)),n.appendASCIIString("px;width:100%;height:"),n.appendASCIIString(String(this._lineHeight)),n.appendASCIIString('px;">'),n.appendASCIIString(r),n.appendASCIIString("</div>"),!0)}layoutLine(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))}}class x_ extends C_{constructor(e){super(e);const t=this._context.configuration.options.get(117);this._contentWidth=t.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(e){const t=this._context.configuration.options.get(117);return this._contentWidth=t.contentWidth,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollWidthChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e),this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))}}class k_ extends C_{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(117);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),Au.applyFontInfo(this.domNode,t.get(36))}onConfigurationChanged(e){const t=this._context.configuration.options;Au.applyFontInfo(this.domNode,t.get(36));const i=t.get(117);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(e)||!0}onScrollChanged(e){return super.onScrollChanged(e)||e.scrollHeightChanged}_viewOverlaysRender(e){super._viewOverlaysRender(e);const t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t),this.domNode.setWidth(this._contentLeft)}}class L_{constructor(e,t){this.top=e,this.left=t}}class D_ extends Ud{constructor(e,t){super(e),this._viewDomNode=t,this._widgets={},this.domNode=Ed(document.createElement("div")),Kd.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=Ed(document.createElement("div")),Kd.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onConfigurationChanged(e);return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLineMappingChanged(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onLineMappingChanged(e);return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onZonesChanged(e){return!0}addWidget(e){const t=new E_(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()}setWidgetPosition(e,t,i){this._widgets[e.getId()].setPosition(t,i),this.setShouldRender()}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t];delete this._widgets[t];const i=e.domNode.domNode;i.parentNode.removeChild(i),i.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown}onBeforeRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].onBeforeRender(e)}prepareRender(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].prepareRender(e)}render(e){const t=Object.keys(this._widgets);for(const i of t)this._widgets[i].render(e)}}class E_{constructor(e,t,i){this._context=e,this._viewDomNode=t,this._actual=i,this.domNode=Ed(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,r=n.get(117);this._fixedOverflowWidgets=n.get(30),this._contentWidth=r.contentWidth,this._contentLeft=r.contentLeft,this._lineHeight=n.get(51),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(e){const t=this._context.configuration.options;if(this._lineHeight=t.get(51),e.hasChanged(117)){const e=t.get(117);this._contentLeft=e.contentLeft,this._contentWidth=e.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(e){this._setPosition(this._range)}_setPosition(e){if(this._range=e,this._viewRange=null,this._range){const e=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(e.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(e.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(e))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth}setPosition(e,t){this._setPosition(e),this._preference=t,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1}_layoutBoxInViewport(e,t,i,n,r){const o=e.top,s=o,a=t.top+this._lineHeight,l=o-n,c=s>=n,h=a,u=r.viewportHeight-a>=n;let d=e.left,f=t.left;return d+i>r.scrollLeft+r.viewportWidth&&(d=r.scrollLeft+r.viewportWidth-i),f+i>r.scrollLeft+r.viewportWidth&&(f=r.scrollLeft+r.viewportWidth-i),d<r.scrollLeft&&(d=r.scrollLeft),f<r.scrollLeft&&(f=r.scrollLeft),{fitsAbove:c,aboveTop:l,aboveLeft:d,fitsBelow:u,belowTop:h,belowLeft:f}}_layoutHorizontalSegmentInPage(e,t,i,n){const r=Math.max(0,t.left-n),o=Math.min(t.left+t.width+n,e.width);let s=t.left+i-Nn.scrollX;if(s+n>o){const e=s-(o-n);s-=e,i-=e}if(s<r){const e=s-r;s-=e,i-=e}return[i,s]}_layoutBoxInPage(e,t,i,n,r){const o=e.top-n,s=t.top+this._lineHeight,a=En(this._viewDomNode.domNode),l=a.top+o-Nn.scrollY,c=a.top+s-Nn.scrollY,h=kn(document.body),[u,d]=this._layoutHorizontalSegmentInPage(h,a,e.left-r.scrollLeft+this._contentLeft,i),[f,p]=this._layoutHorizontalSegmentInPage(h,a,t.left-r.scrollLeft+this._contentLeft,i),m=l>=22,g=c+n<=h.height-22;return this._fixedOverflowWidgets?{fitsAbove:m,aboveTop:Math.max(l,22),aboveLeft:d,fitsBelow:g,belowTop:c,belowLeft:p}:{fitsAbove:m,aboveTop:o,aboveLeft:u,fitsBelow:g,belowTop:s,belowLeft:f}}_prepareRenderWidgetAtExactPositionOverflowing(e){return new L_(e.top,e.left+this._contentLeft)}_getTopAndBottomLeft(e){if(!this._viewRange)return[null,null];const t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||0===t.length)return[null,null];let i=t[0],n=t[0];for(const e of t)e.lineNumber<i.lineNumber&&(i=e),e.lineNumber>n.lineNumber&&(n=e);let r=1073741824;for(const e of i.ranges)e.left<r&&(r=e.left);let o=1073741824;for(const e of n.ranges)e.left<o&&(o=e.left);const s=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,a=new L_(s,r),l=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop;return[a,new L_(l,o)]}_prepareRenderWidget(e){const[t,i]=this._getTopAndBottomLeft(e);if(!t||!i)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){const e=this.domNode.domNode;this._cachedDomNodeClientWidth=e.clientWidth,this._cachedDomNodeClientHeight=e.clientHeight}let n;if(n=this.allowEditorOverflow?this._layoutBoxInPage(t,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):this._layoutBoxInViewport(t,i,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(let e=1;e<=2;e++)for(const i of this._preference)if(1===i){if(!n)return null;if(2===e||n.fitsAbove)return new L_(n.aboveTop,n.aboveLeft)}else{if(2!==i)return this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(t):t;if(!n)return null;if(2===e||n.fitsBelow)return new L_(n.belowTop,n.belowLeft)}return null}onBeforeRender(e){this._viewRange&&this._preference&&(this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))}prepareRender(e){this._renderData=this._prepareRenderWidget(e)}render(e){this._renderData?(this.allowEditorOverflow?(this.domNode.setTop(this._renderData.top),this.domNode.setLeft(this._renderData.left)):(this.domNode.setTop(this._renderData.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)):this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"))}}i("Eawl");let N_=!0;class T_ extends gg{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(117);this._lineHeight=t.get(51),this._renderLineHighlight=t.get(77),this._renderLineHightlightOnlyWhenFocus=t.get(78),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[],this._selections=[],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let e=!1;const t=N_?this._selections.slice(0,1):this._selections,i=t.map(e=>e.positionLineNumber);i.sort((e,t)=>e-t),$i(this._cursorLineNumbers,i)||(this._cursorLineNumbers=i,e=!0);const n=t.every(e=>e.isEmpty());return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,e=!0),e}onThemeChanged(e){return this._readFromSelections()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(117);return this._lineHeight=t.get(51),this._renderLineHighlight=t.get(77),this._renderLineHightlightOnlyWhenFocus=t.get(78),this._contentLeft=i.contentLeft,this._contentWidth=i.contentWidth,!0}onCursorStateChanged(e){return this._selections=e.selections,this._readFromSelections()}onFlushed(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollWidthChanged||e.scrollTopChanged}onZonesChanged(e){return!0}onFocusChanged(e){return!!this._renderLineHightlightOnlyWhenFocus&&(this._focused=e.isFocused,!0)}prepareRender(e){if(!this._shouldRenderThis())return void(this._renderData=null);const t=this._renderOne(e),i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,r=this._cursorLineNumbers.length;let o=0;const s=[];for(let e=i;e<=n;e++){const n=e-i;for(;o<r&&this._cursorLineNumbers[o]<e;)o++;o<r&&this._cursorLineNumbers[o]===e?s[n]=t:s[n]=""}this._renderData=s}render(e,t){if(!this._renderData)return"";const i=t-e;return i>=this._renderData.length?"":this._renderData[i]}}class O_ extends T_{_renderOne(e){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(e.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHightlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHightlightOnlyWhenFocus||this._focused)}}class M_ extends T_{_renderOne(e){return`<div class="${"current-line current-line-margin"+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHightlightOnlyWhenFocus||this._focused)}_shouldRenderOther(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHightlightOnlyWhenFocus||this._focused)}}hf((e,t)=>{N_=!1;const i=e.getColor(lb);if(i&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${i}; border: none; }`)),!i||i.isTransparent()||e.defines(cb)){const i=e.getColor(cb);i&&(N_=!0,t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${i}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${i}; }`),"hc"===e.type&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});i("84z/");class I_ extends gg{constructor(e){super(),this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(51),this._typicalHalfwidthCharacterWidth=t.get(36).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(51),this._typicalHalfwidthCharacterWidth=t.get(36).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}prepareRender(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let e=0,r=t.length;e<r;e++){const r=t[e];r.options.className&&(i[n++]=r)}i=i.sort((e,t)=>{if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;const i=e.options.className,n=t.options.className;return i<n?-1:i>n?1:mt.compareRangesUsingStarts(e.range,t.range)});const r=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,s=[];for(let e=r;e<=o;e++){s[e-r]=""}this._renderWholeLineDecorations(e,i,s),this._renderNormalDecorations(e,i,s),this._renderResult=s}_renderWholeLineDecorations(e,t,i){const n=String(this._lineHeight),r=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber;for(let e=0,s=t.length;e<s;e++){const s=t[e];if(!s.options.isWholeLine)continue;const a='<div class="cdr '+s.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>',l=Math.max(s.range.startLineNumber,r),c=Math.min(s.range.endLineNumber,o);for(let e=l;e<=c;e++){i[e-r]+=a}}}_renderNormalDecorations(e,t,i){const n=String(this._lineHeight),r=e.visibleRange.startLineNumber;let o=null,s=!1,a=null;for(let l=0,c=t.length;l<c;l++){const c=t[l];if(c.options.isWholeLine)continue;const h=c.options.className,u=Boolean(c.options.showIfCollapsed);let d=c.range;u&&1===d.endColumn&&d.endLineNumber!==d.startLineNumber&&(d=new mt(d.startLineNumber,d.startColumn,d.endLineNumber-1,this._context.model.getLineMaxColumn(d.endLineNumber-1))),o===h&&s===u&&mt.areIntersectingOrTouching(a,d)?a=mt.plusRange(a,d):(null!==o&&this._renderNormalDecoration(e,a,o,s,n,r,i),o=h,s=u,a=d)}null!==o&&this._renderNormalDecoration(e,a,o,s,n,r,i)}_renderNormalDecoration(e,t,i,n,r,o,s){const a=e.linesVisibleRangesForRange(t,"findMatch"===i);if(a)for(let e=0,t=a.length;e<t;e++){const t=a[e];if(t.outsideRenderedLine)continue;const l=t.lineNumber-o;if(n&&1===t.ranges.length){const e=t.ranges[0];0===e.width&&(t.ranges[0]=new Xd(e.left,this._typicalHalfwidthCharacterWidth))}for(let e=0,n=t.ranges.length;e<n;e++){const n=t.ranges[e],o='<div class="cdr '+i+'" style="left:'+String(n.left)+"px;width:"+String(n.width)+"px;height:"+r+'px;"></div>';s[l]+=o}}}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}i("XTA7");class A_ extends ne{onclick(e,t){this._register(dn(e,Kn.CLICK,e=>t(new Oi(e))))}onmousedown(e,t){this._register(dn(e,Kn.MOUSE_DOWN,e=>t(new Oi(e))))}onmouseover(e,t){this._register(dn(e,Kn.MOUSE_OVER,e=>t(new Oi(e))))}onnonbubblingmouseout(e,t){this._register(mn(e,e=>t(new Oi(e))))}onkeydown(e,t){this._register(dn(e,Kn.KEY_DOWN,e=>t(new ki(e))))}onkeyup(e,t){this._register(dn(e,Kn.KEY_UP,e=>t(new ki(e))))}oninput(e,t){this._register(dn(e,Kn.INPUT,t))}onblur(e,t){this._register(dn(e,Kn.BLUR,t))}onfocus(e,t){this._register(dn(e,Kn.FOCUS,t))}ignoreGesture(e){Id.ignoreTarget(e)}}const P_=11;class R_ extends A_{constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",void 0!==e.top&&(this.bgDomNode.style.top="0px"),void 0!==e.left&&(this.bgDomNode.style.left="0px"),void 0!==e.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==e.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,an(this.domNode,e.icon.classNames),this.domNode.style.position="absolute",this.domNode.style.width=P_+"px",this.domNode.style.height=P_+"px",void 0!==e.top&&(this.domNode.style.top=e.top+"px"),void 0!==e.left&&(this.domNode.style.left=e.left+"px"),void 0!==e.bottom&&(this.domNode.style.bottom=e.bottom+"px"),void 0!==e.right&&(this.domNode.style.right=e.right+"px"),this._mouseMoveMonitor=this._register(new Pd),this.onmousedown(this.bgDomNode,e=>this._arrowMouseDown(e)),this.onmousedown(this.domNode,e=>this._arrowMouseDown(e)),this._mousedownRepeatTimer=this._register(new Fi),this._mousedownScheduleRepeatTimer=this._register(new Ri)}_arrowMouseDown(e){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(()=>{this._mousedownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)},200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,Ad,e=>{},()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()}),e.preventDefault()}}class F_ extends ne{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new Ri)}applyVisibilitySetting(e){return 2!==this._visibility&&(3===this._visibility||e)}setShouldBeVisible(e){let t=this.applyVisibilitySetting(e);this._shouldBeVisible!==t&&(this._shouldBeVisible=t,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}}const V_=140;class B_ extends A_{constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new F_(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._mouseMoveMonitor=this._register(new Pd),this._shouldRender=!0,this.domNode=Ed(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this.onmousedown(this.domNode.domNode,e=>this._domNodeMouseDown(e))}_createArrow(e){let t=this._register(new R_(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)}_createSlider(e,t,i,n){this.slider=Ed(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"==typeof i&&this.slider.setWidth(i),"number"==typeof n&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,e=>{e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{}))}),this.onclick(this.slider.domNode,e=>{e.leftButton&&e.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodeMouseDown(e){e.target===this.domNode.domNode&&this._onMouseDown(e)}delegateMouseDown(e){let t=this.domNode.domNode.getClientRects()[0].top,i=t+this._scrollbarState.getSliderPosition(),n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),r=this._sliderMousePosition(e);i<=r&&r<=n?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{})):this._onMouseDown(e)}_onMouseDown(e){let t,i;if(e.target===this.domNode.domNode&&"number"==typeof e.browserEvent.offsetX&&"number"==typeof e.browserEvent.offsetY)t=e.browserEvent.offsetX,i=e.browserEvent.offsetY;else{const n=En(this.domNode.domNode);t=e.posx-n.left,i=e.posy-n.top}this._setDesiredScrollPositionNow(this._scrollbarState.getDesiredScrollPositionFromOffset(this._mouseDownRelativePosition(t,i))),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,()=>{}))}_sliderMouseDown(e,t){const i=this._sliderMousePosition(e),n=this._sliderOrthogonalMousePosition(e),o=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,Ad,e=>{const t=this._sliderOrthogonalMousePosition(e),s=Math.abs(t-n);if(r.i&&s>V_)return void this._setDesiredScrollPositionNow(o.getScrollPosition());const a=this._sliderMousePosition(e)-i;this._setDesiredScrollPositionNow(o.getDesiredScrollPositionFromDelta(a))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd(),t()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){let t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}}const W_=20;class $_{constructor(e,t,i,n,r,o){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=n,this._scrollSize=r,this._scrollPosition=o,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new $_(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){let t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}setScrollSize(e){let t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}setScrollPosition(e){let t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}setScrollbarSize(e){this._scrollbarSize=e}static _computeValues(e,t,i,n,r){const o=Math.max(0,i-e),s=Math.max(0,o-2*t),a=n>0&&n>i;if(!a)return{computedAvailableSize:Math.round(o),computedIsNeeded:a,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};const l=Math.round(Math.max(W_,Math.floor(i*s/n))),c=(s-l)/(n-i),h=r*c;return{computedAvailableSize:Math.round(o),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:c,computedSliderPosition:Math.round(h)}}_refreshComputedValues(){const e=$_._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;let t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;let t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}const z_=Ss("scrollbar-button-left",xs.triangleLeft),H_=Ss("scrollbar-button-right",xs.triangleRight);class j_ extends B_{constructor(e,t,i){const n=e.getScrollDimensions(),r=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new $_(t.horizontalHasArrows?t.arrowSize:0,2===t.horizontal?0:t.horizontalScrollbarSize,2===t.vertical?0:t.verticalScrollbarSize,n.width,n.scrollWidth,r.scrollLeft),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e}),t.horizontalHasArrows){let e=(t.arrowSize-P_)/2,i=(t.horizontalScrollbarSize-P_)/2;this._createArrow({className:"scra",icon:z_,top:i,left:e,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Mi(null,1,0))}),this._createArrow({className:"scra",icon:H_,top:i,left:void 0,bottom:void 0,right:e,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new Mi(null,-1,0))})}this._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,void 0,t.horizontalSliderSize)}_updateSlider(e,t){this.slider.setWidth(e),this.slider.setLeft(t)}_renderDomNode(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return e}_sliderMousePosition(e){return e.posx}_sliderOrthogonalMousePosition(e){return e.posy}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,t){e.scrollLeft=t}}const U_=Ss("scrollbar-button-up",xs.triangleUp),K_=Ss("scrollbar-button-down",xs.triangleDown);class q_ extends B_{constructor(e,t,i){const n=e.getScrollDimensions(),r=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new $_(t.verticalHasArrows?t.arrowSize:0,2===t.vertical?0:t.verticalScrollbarSize,0,n.height,n.scrollHeight,r.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e}),t.verticalHasArrows){let e=(t.arrowSize-P_)/2,i=(t.verticalScrollbarSize-P_)/2;this._createArrow({className:"scra",icon:U_,top:e,left:i,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Mi(null,0,1))}),this._createArrow({className:"scra",icon:K_,top:void 0,left:i,bottom:e,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new Mi(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return t}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}}class G_{constructor(e,t,i,n,r,o){e|=0,t|=0,i|=0,n|=0,r|=0,o|=0,this.rawScrollLeft=i,this.rawScrollTop=o,e<0&&(e=0),i+e>t&&(i=t-e),i<0&&(i=0),n<0&&(n=0),o+n>r&&(o=r-n),o<0&&(o=0),this.width=e,this.scrollWidth=t,this.scrollLeft=i,this.height=n,this.scrollHeight=r,this.scrollTop=o}equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,t){return new G_(void 0!==e.width?e.width:this.width,void 0!==e.scrollWidth?e.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,void 0!==e.height?e.height:this.height,void 0!==e.scrollHeight?e.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new G_(this.width,this.scrollWidth,void 0!==e.scrollLeft?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,void 0!==e.scrollTop?e.scrollTop:this.rawScrollTop)}createScrollEvent(e){const t=this.width!==e.width,i=this.scrollWidth!==e.scrollWidth,n=this.scrollLeft!==e.scrollLeft,r=this.height!==e.height,o=this.scrollHeight!==e.scrollHeight,s=this.scrollTop!==e.scrollTop;return{oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:t,scrollWidthChanged:i,scrollLeftChanged:n,heightChanged:r,scrollHeightChanged:o,scrollTopChanged:s}}}class Y_ extends ne{constructor(e,t){super(),this._onScroll=this._register(new ce),this.onScroll=this._onScroll.event,this._smoothScrollDuration=e,this._scheduleAtNextAnimationFrame=t,this._state=new G_(0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,t){const i=this._state.withScrollDimensions(e,t);this._setState(i),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t)}setScrollPositionSmooth(e){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:void 0===e.scrollLeft?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:void 0===e.scrollTop?this._smoothScrolling.to.scrollTop:e.scrollTop};const t=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===t.scrollLeft&&this._smoothScrolling.to.scrollTop===t.scrollTop)return;const i=this._smoothScrolling.combine(this._state,t,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=i}else{const t=this._state.withScrollPosition(e);this._smoothScrolling=Q_.start(this._state,t,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),t=this._state.withScrollPosition(e);return this._setState(t),this._smoothScrolling?e.isDone?(this._smoothScrolling.dispose(),void(this._smoothScrolling=null)):void(this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})):void 0}_setState(e){const t=this._state;t.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(t)))}}class X_{constructor(e,t,i){this.scrollLeft=e,this.scrollTop=t,this.isDone=i}}function Z_(e,t){const i=t-e;return function(t){return e+i*(1-function(e){return Math.pow(e,3)}(1-t))}}class Q_{constructor(e,t,i,n){this.from=e,this.to=t,this.duration=n,this._startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,t,i){if(Math.abs(e-t)>2.5*i){let s,a;return e<t?(s=e+.75*i,a=t-.75*i):(s=e-.75*i,a=t+.75*i),n=Z_(e,s),r=Z_(a,t),o=.33,function(e){return e<o?n(e/o):r((e-o)/(1-o))}}var n,r,o;return Z_(e,t)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const t=(e-this._startTime)/this.duration;if(t<1){const e=this.scrollLeft(t),i=this.scrollTop(t);return new X_(e,i,!1)}return new X_(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,t,i){return Q_.start(e,t,i)}static start(e,t,i){i+=10;const n=Date.now()-10;return new Q_(e,t,n,i)}}const J_=500,ey=50,ty=!0;class iy{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class ny{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let e=1,t=0,i=1,n=this._rear;for(;;){const r=n===this._front?e:Math.pow(2,-i);if(e-=r,t+=this._memory[n].score*r,n===this._front)break;n=(this._capacity+n-1)%this._capacity,i++}return t<=.5}accept(e,t,i){const n=new iy(e,t,i);n.score=this._computeScore(n),-1===this._front&&-1===this._rear?(this._memory[0]=n,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=n)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;-1===this._front&&-1===this._rear||this._memory[this._rear];return this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}ny.INSTANCE=new ny;class ry extends A_{constructor(e,t,i){super(),this._onScroll=this._register(new ce),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new ce),e.style.overflow="hidden",this._options=function(e){let t={lazyRender:void 0!==e.lazyRender&&e.lazyRender,className:void 0!==e.className?e.className:"",useShadows:void 0===e.useShadows||e.useShadows,handleMouseWheel:void 0===e.handleMouseWheel||e.handleMouseWheel,flipAxes:void 0!==e.flipAxes&&e.flipAxes,alwaysConsumeMouseWheel:void 0!==e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:void 0!==e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:void 0!==e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:void 0===e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:void 0!==e.arrowSize?e.arrowSize:11,listenOnDomNode:void 0!==e.listenOnDomNode?e.listenOnDomNode:null,horizontal:void 0!==e.horizontal?e.horizontal:1,horizontalScrollbarSize:void 0!==e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:void 0!==e.horizontalHasArrows&&e.horizontalHasArrows,vertical:void 0!==e.vertical?e.vertical:1,verticalScrollbarSize:void 0!==e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:void 0!==e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:void 0!==e.verticalSliderSize?e.verticalSliderSize:0};t.horizontalSliderSize=void 0!==e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=void 0!==e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,r.f&&(t.className+=" mac");return t}(t),this._scrollable=i,this._register(this._scrollable.onScroll(e=>{this._onWillScroll.fire(e),this._onDidScroll(e),this._onScroll.fire(e)}));let n={onMouseWheel:e=>this._onMouseWheel(e),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new q_(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new j_(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Ed(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Ed(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Ed(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,e=>this._onMouseOver(e)),this.onnonbubblingmouseout(this._listenOnDomNode,e=>this._onMouseOut(e)),this._hideTimeout=this._register(new Ri),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=J(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(e){this._verticalScrollbar.delegateMouseDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,r.f&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){void 0!==e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),void 0!==e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),void 0!==e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),void 0!==e.horizontalScrollbarSize&&this._horizontalScrollbar.updateScrollbarSize(e.horizontalScrollbarSize),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=J(this._mouseWheelToDispose),e)){let e=e=>{this._onMouseWheel(new Mi(e))};this._mouseWheelToDispose.push(dn(this._listenOnDomNode,Kn.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(e){const t=ny.INSTANCE;if(ty){const i=window.devicePixelRatio/ai.INSTANCE.getZoomFactor();r.i||r.d?t.accept(Date.now(),e.deltaX/i,e.deltaY/i):t.accept(Date.now(),e.deltaX,e.deltaY)}if(e.deltaY||e.deltaX){let i=e.deltaY*this._options.mouseWheelScrollSensitivity,n=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(i)>=Math.abs(n)?n=0:i=0),this._options.flipAxes&&([i,n]=[n,i]);const o=!r.f&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!o||n||(n=i,i=0),e.browserEvent&&e.browserEvent.altKey&&(n*=this._options.fastScrollSensitivity,i*=this._options.fastScrollSensitivity);const s=this._scrollable.getFutureScrollPosition();let a={};if(i){const e=s.scrollTop-ey*i;this._verticalScrollbar.writeScrollPosition(a,e)}if(n){const e=s.scrollLeft-ey*n;this._horizontalScrollbar.writeScrollPosition(a,e)}if(a=this._scrollable.validateScrollPosition(a),s.scrollLeft!==a.scrollLeft||s.scrollTop!==a.scrollTop){ty&&this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(a):this._scrollable.setScrollPositionNow(a),this._shouldRender=!0}}(this._options.alwaysConsumeMouseWheel||this._shouldRender)&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition();let t=e.scrollTop>0,i=e.scrollLeft>0;this._leftShadowDomNode.setClassName("shadow"+(i?" left":"")),this._topShadowDomNode.setClassName("shadow"+(t?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(t?" top":"")+(i?" left":""))}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet(()=>this._hide(),J_)}}class oy extends ry{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const i=new Y_(0,e=>vn(e));super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class sy extends ry{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class ay extends oy{constructor(e,t){super(e,t),this._element=e,this.onScroll(e=>{e.scrollTopChanged&&(this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this._element.scrollLeft=e.scrollLeft)}),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}class ly extends Ud{constructor(e,t,i,n){super(e);const r=this._context.configuration.options,o=r.get(84),s=r.get(58),a=r.get(28),l=r.get(87),c={listenOnDomNode:i.domNode,className:"editor-scrollable "+af(e.theme.type),useShadows:!1,lazyRender:!0,vertical:o.vertical,horizontal:o.horizontal,verticalHasArrows:o.verticalHasArrows,horizontalHasArrows:o.horizontalHasArrows,verticalScrollbarSize:o.verticalScrollbarSize,verticalSliderSize:o.verticalSliderSize,horizontalScrollbarSize:o.horizontalScrollbarSize,horizontalSliderSize:o.horizontalSliderSize,handleMouseWheel:o.handleMouseWheel,alwaysConsumeMouseWheel:o.alwaysConsumeMouseWheel,arrowSize:o.arrowSize,mouseWheelScrollSensitivity:s,fastScrollSensitivity:a,scrollPredominantAxis:l};this.scrollbar=this._register(new sy(t.domNode,c,this._context.viewLayout.getScrollable())),Kd.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=Ed(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const h=(e,t,i)=>{const n={};if(t){const t=e.scrollTop;t&&(n.scrollTop=this._context.viewLayout.getCurrentScrollTop()+t,e.scrollTop=0)}if(i){const t=e.scrollLeft;t&&(n.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+t,e.scrollLeft=0)}this._context.model.setScrollPosition(n,1)};this._register(dn(i.domNode,"scroll",e=>h(i.domNode,!0,!0))),this._register(dn(t.domNode,"scroll",e=>h(t.domNode,!0,!1))),this._register(dn(n.domNode,"scroll",e=>h(n.domNode,!0,!1))),this._register(dn(this.scrollbarDomNode.domNode,"scroll",e=>h(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const e=this._context.configuration.options,t=e.get(117);this.scrollbarDomNode.setLeft(t.contentLeft),"right"===e.get(56).side?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimap.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarMouseDown(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)}onConfigurationChanged(e){if(e.hasChanged(84)||e.hasChanged(58)||e.hasChanged(28)){const e=this._context.configuration.options,t=e.get(84),i=e.get(58),n=e.get(28),r=e.get(87),o={handleMouseWheel:t.handleMouseWheel,mouseWheelScrollSensitivity:i,fastScrollSensitivity:n,scrollPredominantAxis:r};this.scrollbar.updateOptions(o)}return e.hasChanged(117)&&this._setLayout(),!0}onScrollChanged(e){return!0}onThemeChanged(e){return this.scrollbar.updateClassName("editor-scrollable "+af(this._context.theme.type)),!0}prepareRender(e){}render(e){this.scrollbar.renderNow()}}i("uHSv");class cy{constructor(e,t,i){this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(i)}}class hy extends gg{_render(e,t,i){const n=[];for(let i=e;i<=t;i++){n[i-e]=[]}if(0===i.length)return n;i.sort((e,t)=>e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1);let r=null,o=0;for(let s=0,a=i.length;s<a;s++){const a=i[s],l=a.className;let c=Math.max(a.startLineNumber,e)-e;const h=Math.min(a.endLineNumber,t)-e;r===l?(c=Math.max(o+1,c),o=Math.max(o,h)):(r=l,o=h);for(let e=c;e<=o;e++)n[e].push(r)}return n}}class uy extends hy{constructor(e){super(),this._context=e;const t=this._context.configuration.options,i=t.get(117);this._lineHeight=t.get(51),this._glyphMargin=t.get(42),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(117);return this._lineHeight=t.get(51),this._glyphMargin=t.get(42),this._glyphMarginLeft=i.glyphMarginLeft,this._glyphMarginWidth=i.glyphMarginWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let e=0,r=t.length;e<r;e++){const r=t[e],o=r.options.glyphMarginClassName;o&&(i[n++]=new cy(r.range.startLineNumber,r.range.endLineNumber,o))}return i}prepareRender(e){if(!this._glyphMargin)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),r=this._lineHeight.toString(),o='" style="left:'+this._glyphMarginLeft.toString()+"px;width:"+this._glyphMarginWidth.toString()+"px;height:"+r+'px;"></div>',s=[];for(let e=t;e<=i;e++){const i=e-t,r=n[i];0===r.length?s[i]="":s[i]='<div class="cgmr codicon '+r.join(" ")+o}this._renderResult=s}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}i("gCdB");class dy extends gg{constructor(e){super(),this._context=e,this._primaryLineNumber=0;const t=this._context.configuration.options,i=t.get(118),n=t.get(36);this._lineHeight=t.get(51),this._spaceWidth=n.spaceWidth,this._enabled=t.get(75),this._activeIndentEnabled=t.get(45),this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(118),n=t.get(36);return this._lineHeight=t.get(51),this._spaceWidth=n.spaceWidth,this._enabled=t.get(75),this._activeIndentEnabled=t.get(45),this._maxIndentLeft=-1===i.wrappingColumn?-1:i.wrappingColumn*n.typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){const t=e.selections[0],i=t.isEmpty()?t.positionLineNumber:0;return this._primaryLineNumber!==i&&(this._primaryLineNumber=i,!0)}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}onLanguageConfigurationChanged(e){return!0}prepareRender(e){if(!this._enabled)return void(this._renderResult=null);const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,{indentSize:n}=this._context.model.getTextModelOptions(),r=n*this._spaceWidth,o=e.scrollWidth,s=this._lineHeight,a=this._context.model.getLinesIndentGuides(t,i);let l=0,c=0,h=0;if(this._activeIndentEnabled&&this._primaryLineNumber){const e=this._context.model.getActiveIndentGuide(this._primaryLineNumber,t,i);l=e.startLineNumber,c=e.endLineNumber,h=e.indent}const u=[];for(let n=t;n<=i;n++){const i=l<=n&&n<=c,d=n-t,f=a[d];let p="";if(f>=1){const t=e.visibleRangeForPosition(new pt(n,1));let a=t?t.left:0;for(let e=1;e<=f;e++){if(p+=`<div class="${i&&e===h?"cigra":"cigr"}" style="left:${a}px;height:${s}px;width:${r}px"></div>`,(a+=r)>o||this._maxIndentLeft>0&&a>this._maxIndentLeft)break}}u[d]=p}this._renderResult=u}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}hf((e,t)=>{const i=e.getColor(vb);i&&t.addRule(`.monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 ${i} inset; }`);const n=e.getColor(bb)||i;n&&t.addRule(`.monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 ${n} inset; }`)});i("+0Qw");class fy{constructor(){this._currentVisibleRange=new mt(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(e){this._currentVisibleRange=e}}class py{constructor(e,t,i,n,r,o){this.lineNumber=e,this.startColumn=t,this.endColumn=i,this.startScrollTop=n,this.stopScrollTop=r,this.scrollType=o,this.type="range",this.minLineNumber=e,this.maxLineNumber=e}}class my{constructor(e,t,i,n){this.selections=e,this.startScrollTop=t,this.stopScrollTop=i,this.scrollType=n,this.type="selections";let r=e[0].startLineNumber,o=e[0].endLineNumber;for(let t=1,i=e.length;t<i;t++){const i=e[t];r=Math.min(r,i.startLineNumber),o=Math.max(o,i.endLineNumber)}this.minLineNumber=r,this.maxLineNumber=o}}class gy extends Ud{constructor(e,t){super(e),this._linesContent=t,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new y_(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration,n=this._context.configuration.options,r=n.get(36),o=n.get(118);this._lineHeight=n.get(51),this._typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this._isViewportWrapping=o.isViewportWrapping,this._revealHorizontalRightPadding=n.get(81),this._cursorSurroundingLines=n.get(20),this._cursorSurroundingLinesStyle=n.get(21),this._canUseLayerHinting=!n.get(23),this._viewLineOptions=new mf(i,this._context.theme.type),Kd.write(this.domNode,7),this.domNode.setClassName(`view-lines ${Ab}`),Au.applyFontInfo(this.domNode,r),this._maxLineWidth=0,this._asyncUpdateLineWidths=new Vi(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new Vi(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new fy,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new gf(this._viewLineOptions)}onConfigurationChanged(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(118)&&(this._maxLineWidth=0);const t=this._context.configuration.options,i=t.get(36),n=t.get(118);return this._lineHeight=t.get(51),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._isViewportWrapping=n.isViewportWrapping,this._revealHorizontalRightPadding=t.get(81),this._cursorSurroundingLines=t.get(20),this._cursorSurroundingLinesStyle=t.get(21),this._canUseLayerHinting=!t.get(23),Au.applyFontInfo(this.domNode,i),this._onOptionsMaybeChanged(),e.hasChanged(117)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const e=this._context.configuration,t=new mf(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;const e=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let t=e;t<=i;t++){this._visibleLines.getVisibleLine(t).onOptionsChanged(this._viewLineOptions)}return!0}return!1}onCursorStateChanged(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=!1;for(let e=t;e<=i;e++)n=this._visibleLines.getVisibleLine(e).onSelectionChanged()||n;return n}onDecorationsChanged(e){{const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++)this._visibleLines.getVisibleLine(i).onDecorationsChanged()}return!0}onFlushed(e){const t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t}onLinesChanged(e){return this._visibleLines.onLinesChanged(e)}onLinesDeleted(e){return this._visibleLines.onLinesDeleted(e)}onLinesInserted(e){return this._visibleLines.onLinesInserted(e)}onRevealRangeRequest(e){const t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.selections,e.verticalType);if(-1===t)return!1;let i=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range&&e.range.startLineNumber!==e.range.endLineNumber?i={scrollTop:i.scrollTop,scrollLeft:0}:e.range?this._horizontalRevealRequest=new py(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType):e.selections&&e.selections.length>0&&(this._horizontalRevealRequest=new my(e.selections,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)):this._horizontalRevealRequest=null;const n=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop)<=this._lineHeight?1:e.scrollType;return this._context.model.setScrollPosition(i,n),!0}onScrollChanged(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){const t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>i)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0}onTokensChanged(e){return this._visibleLines.onTokensChanged(e)}onZonesChanged(e){return this._context.model.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(e)}onThemeChanged(e){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(e,t){const i=this._getViewLineDomNode(e);if(null===i)return null;const n=this._getLineNumberFor(i);if(-1===n)return null;if(n<1||n>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(n))return new pt(n,1);const r=this._visibleLines.getStartLineNumber(),o=this._visibleLines.getEndLineNumber();if(n<r||n>o)return null;let s=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(n,e,t);const a=this._context.model.getLineMinColumn(n);return s<a&&(s=a),new pt(n,s)}_getViewLineDomNode(e){for(;e&&1===e.nodeType;){if(e.className===gf.CLASS_NAME)return e;e=e.parentElement}return null}_getLineNumberFor(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();for(let n=t;n<=i;n++){if(e===this._visibleLines.getVisibleLine(n).getDomNode())return n}return-1}getLineWidth(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();return e<t||e>i?-1:this._visibleLines.getVisibleLine(e).getWidth()}linesVisibleRangesForRange(e,t){if(this.shouldRender())return null;const i=e.endLineNumber,n=mt.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!n)return null;let r=[],o=0;const s=new pf(this.domNode.domNode,this._textRangeRestingSpot);let a=0;t&&(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new pt(n.startLineNumber,1)).lineNumber);const l=this._visibleLines.getStartLineNumber(),c=this._visibleLines.getEndLineNumber();for(let e=n.startLineNumber;e<=n.endLineNumber;e++){if(e<l||e>c)continue;const h=e===n.startLineNumber?n.startColumn:1,u=e===n.endLineNumber?n.endColumn:this._context.model.getLineMaxColumn(e),d=this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(h,u,s);if(d){if(t&&e<i){a!==(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new pt(e+1,1)).lineNumber)&&(d.ranges[d.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}r[o++]=new Yd(d.outsideRenderedLine,e,d.ranges)}}return 0===o?null:r}_visibleRangesForLineRange(e,t,i){return this.shouldRender()?null:e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(t,i,new pf(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(e){const t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new Zd(t.outsideRenderedLine,t.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(e){const t=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber();let n=1,r=!0;for(let o=t;o<=i;o++){const t=this._visibleLines.getVisibleLine(o);!e||t.getWidthIsFast()?n=Math.max(n,t.getWidth()):r=!1}return r&&1===t&&i===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(n),r}_checkMonospaceFontAssumptions(){let e=-1,t=-1;const i=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();for(let r=i;r<=n;r++){const i=this._visibleLines.getVisibleLine(r);if(i.needsMonospaceFontCheck()){const n=i.getWidth();n>t&&(t=n,e=r)}}if(-1!==e&&!this._visibleLines.getVisibleLine(e).monospaceAssumptionsAreValid())for(let e=i;e<=n;e++){this._visibleLines.getVisibleLine(e).onMonospaceAssumptionsInvalidated()}}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const t=this._horizontalRevealRequest;if(e.startLineNumber<=t.minLineNumber&&t.maxLineNumber<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const e=this._computeScrollLeftToReveal(t);e&&(this._isViewportWrapping||this._ensureMaxLineWidth(e.maxHorizontalOffset),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},t.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),r.d&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const e=this._visibleLines.getStartLineNumber(),t=this._visibleLines.getEndLineNumber();for(let i=e;i<=t;i++){if(this._visibleLines.getVisibleLine(i).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const t=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-t),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(e){const t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.model.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(e,t,i,n,r){const o=e.top,s=e.height,a=o+s;let l,c,h;if(n&&n.length>0){let e=n[0].startLineNumber,t=n[0].endLineNumber;for(let i=1,r=n.length;i<r;i++){const r=n[i];e=Math.min(e,r.startLineNumber),t=Math.max(t,r.endLineNumber)}l=!1,c=this._context.viewLayout.getVerticalOffsetForLineNumber(e),h=this._context.viewLayout.getVerticalOffsetForLineNumber(t)+this._lineHeight}else{if(!i)return-1;l=!0,c=this._context.viewLayout.getVerticalOffsetForLineNumber(i.startLineNumber),h=this._context.viewLayout.getVerticalOffsetForLineNumber(i.endLineNumber)+this._lineHeight}if(!("mouse"===t&&"default"===this._cursorSurroundingLinesStyle)){const e=Math.min(s/this._lineHeight/2,this._cursorSurroundingLines);c-=e*this._lineHeight,h+=Math.max(0,e-1)*this._lineHeight}let u;if(0!==r&&4!==r||(h+=this._lineHeight),h-c>s){if(!l)return-1;u=c}else if(5===r||6===r)if(6===r&&o<=c&&h<=a)u=o;else{const e=c-Math.max(5*this._lineHeight,.2*s),t=h-s;u=Math.max(t,e)}else if(1===r||2===r)if(2===r&&o<=c&&h<=a)u=o;else{const e=(c+h)/2;u=Math.max(0,e-s/2)}else u=this._computeMinimumScrolling(o,a,c,h,3===r,4===r);return u}_computeScrollLeftToReveal(e){const t=this._context.viewLayout.getCurrentViewport(),i=t.left,n=i+t.width;let r=1073741824,o=0;if("range"===e.type){const t=this._visibleRangesForLineRange(e.lineNumber,e.startColumn,e.endColumn);if(!t)return null;for(const e of t.ranges)r=Math.min(r,e.left),o=Math.max(o,e.left+e.width)}else for(const t of e.selections){if(t.startLineNumber!==t.endLineNumber)return null;const e=this._visibleRangesForLineRange(t.startLineNumber,t.startColumn,t.endColumn);if(!e)return null;for(const t of e.ranges)r=Math.min(r,t.left),o=Math.max(o,t.left+t.width)}if(r=Math.max(0,r-gy.HORIZONTAL_EXTRA_PX),o+=this._revealHorizontalRightPadding,"selections"===e.type&&o-r>t.width)return null;return{scrollLeft:this._computeMinimumScrolling(i,n,r,o),maxHorizontalOffset:o}}_computeMinimumScrolling(e,t,i,n,r,o){r=!!r,o=!!o;const s=(t|=0)-(e|=0);return(n|=0)-(i|=0)<s?r?i:o?Math.max(0,n-s):i<e?i:n>t?Math.max(0,n-s):e:i}}gy.HORIZONTAL_EXTRA_PX=30;i("MlKm");class vy extends hy{constructor(e){super(),this._context=e;const t=this._context.configuration.options.get(117);this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options.get(117);return this._decorationsLeft=t.decorationsLeft,this._decorationsWidth=t.decorationsWidth,!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let e=0,r=t.length;e<r;e++){const r=t[e],o=r.options.linesDecorationsClassName;o&&(i[n++]=new cy(r.range.startLineNumber,r.range.endLineNumber,o));const s=r.options.firstLineDecorationClassName;s&&(i[n++]=new cy(r.range.startLineNumber,r.range.startLineNumber,s))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),r='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',o=[];for(let e=t;e<=i;e++){const i=e-t,s=n[i];let a="";for(let e=0,t=s.length;e<t;e++)a+='<div class="cldr '+s[e]+r;o[i]=a}this._renderResult=o}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}i("nLHh");class by extends hy{constructor(e){super(),this._context=e,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){return!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_getDecorations(e){const t=e.getDecorationsInViewport();let i=[],n=0;for(let e=0,r=t.length;e<r;e++){const r=t[e],o=r.options.marginClassName;o&&(i[n++]=new cy(r.range.startLineNumber,r.range.endLineNumber,o))}return i}prepareRender(e){const t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,n=this._render(t,i,this._getDecorations(e)),r=[];for(let e=t;e<=i;e++){const i=e-t,o=n[i];let s="";for(let e=0,t=o.length;e<t;e++)s+='<div class="cmdr '+o[e]+'" style=""></div>';r[i]=s}this._renderResult=r}render(e,t){return this._renderResult?this._renderResult[t-e]:""}}i("OkZj");class _y{constructor(e,t,i,n){this.r=_y._clamp(e),this.g=_y._clamp(t),this.b=_y._clamp(i),this.a=_y._clamp(n)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:0|e}}_y.Empty=new _y(0,0,0,0);class yy{constructor(){this._onDidChange=new ce,this.onDidChange=this._onDidChange.event,this._updateColorMap(),na.onDidChange(e=>{e.changedColorMap&&this._updateColorMap()})}static getInstance(){return this._INSTANCE||(this._INSTANCE=new yy),this._INSTANCE}_updateColorMap(){const e=na.getColorMap();if(!e)return this._colors=[_y.Empty],void(this._backgroundIsLight=!0);this._colors=[_y.Empty];for(let t=1;t<e.length;t++){const i=e[t].rgba;this._colors[t]=new _y(i.r,i.g,i.b,Math.round(255*i.a))}let t=e[2].getRelativeLuminance();this._backgroundIsLight=t>=.5,this._onDidChange.fire(void 0)}getColor(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]}backgroundIsLight(){return this._backgroundIsLight}}yy._INSTANCE=null;const wy=(()=>{const e=[];for(let t=32;t<=126;t++)e.push(t);return e.push(65533),e})(),Cy=(e,t)=>(e-=32)<0||e>96?t<=2?(e+96)%96:95:e;class Sy{constructor(e,t){this.scale=t,this.charDataNormal=Sy.soften(e,.8),this.charDataLight=Sy.soften(e,50/60)}static soften(e,t){let i=new Uint8ClampedArray(e.length);for(let n=0,r=e.length;n<r;n++)i[n]=ul(e[n]*t);return i}renderChar(e,t,i,n,r,o,s,a,l){const c=1*this.scale,h=2*this.scale,u=l?1:h;if(t+c>e.width||i+u>e.height)return void console.warn("bad render request outside image data");const d=a?this.charDataLight:this.charDataNormal,f=Cy(n,s),p=4*e.width,m=o.r,g=o.g,v=o.b,b=r.r-m,_=r.g-g,y=r.b-v,w=e.data;let C=f*c*h,S=i*p+4*t;for(let e=0;e<u;e++){let e=S;for(let t=0;t<c;t++){const t=d[C++]/255;w[e++]=m+b*t,w[e++]=g+_*t,w[e++]=v+y*t,e++}S+=p}}blockRenderChar(e,t,i,n,r,o,s){const a=1*this.scale,l=2*this.scale,c=s?1:l;if(t+a>e.width||i+c>e.height)return void console.warn("bad render request outside image data");const h=4*e.width,u=r.r,d=r.g,f=r.b,p=u+.5*(n.r-u),m=d+.5*(n.g-d),g=f+.5*(n.b-f),v=e.data;let b=i*h+4*t;for(let e=0;e<c;e++){let e=b;for(let t=0;t<a;t++)v[e++]=p,v[e++]=m,v[e++]=g,e++;b+=h}}}function xy(e){const t=this;let i,n=!1;return function(){return n?i:(n=!0,i=e.apply(t,arguments))}}const ky={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},Ly=e=>{const t=new Uint8ClampedArray(e.length/2);for(let i=0;i<e.length;i+=2)t[i>>1]=ky[e[i]]<<4|15&ky[e[i+1]];return t},Dy={1:xy(()=>Ly("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:xy(()=>Ly("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Ey{static create(e,t){if(this.lastCreated&&e===this.lastCreated.scale&&t===this.lastFontFamily)return this.lastCreated;let i;return i=Dy[e]?new Sy(Dy[e](),e):Ey.createFromSampleData(Ey.createSampleData(t).data,e),this.lastFontFamily=t,this.lastCreated=i,i}static createSampleData(e){const t=document.createElement("canvas"),i=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",i.fillStyle="#ffffff",i.font=`bold 16px ${e}`,i.textBaseline="middle";let n=0;for(const e of wy)i.fillText(String.fromCharCode(e),n,8),n+=10;return i.getImageData(0,0,960,16)}static createFromSampleData(e,t){if(61440!==e.length)throw new Error("Unexpected source in MinimapCharRenderer");let i=Ey._downsample(e,t);return new Sy(i,t)}static _downsampleChar(e,t,i,n,r){const o=1*r,s=2*r;let a=n,l=0;for(let n=0;n<s;n++){const r=n/s*16,c=(n+1)/s*16;for(let n=0;n<o;n++){const s=n/o*10,h=(n+1)/o*10;let u=0,d=0;for(let i=r;i<c;i++){const n=t+3840*Math.floor(i),r=1-(i-Math.floor(i));for(let t=s;t<h;t++){const i=1-(t-Math.floor(t)),o=n+4*Math.floor(t),s=i*r;d+=s,u+=e[o]*e[o+3]/255*s}}const f=u/d;l=Math.max(l,f),i[a++]=ul(f)}}return l}static _downsample(e,t){const i=2*t*1*t,n=96*i,r=new Uint8ClampedArray(n);let o=0,s=0,a=0;for(let n=0;n<96;n++)a=Math.max(a,this._downsampleChar(e,s,r,o,t)),o+=i,s+=40;if(a>0){const e=255/a;for(let t=0;t<n;t++)r[t]*=e}return r}}const Ny=140,Ty=2;class Oy{constructor(e,t,i){const n=e.options,r=n.get(115),o=n.get(117),s=o.minimap,a=n.get(36),l=n.get(56);this.renderMinimap=s.renderMinimap,this.size=l.size,this.minimapHeightIsEditorHeight=s.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=n.get(86),this.showSlider=l.showSlider,this.pixelRatio=r,this.typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(51),this.minimapLeft=s.minimapLeft,this.minimapWidth=s.minimapWidth,this.minimapHeight=o.height,this.canvasInnerWidth=s.minimapCanvasInnerWidth,this.canvasInnerHeight=s.minimapCanvasInnerHeight,this.canvasOuterWidth=s.minimapCanvasOuterWidth,this.canvasOuterHeight=s.minimapCanvasOuterHeight,this.isSampling=s.minimapIsSampling,this.editorHeight=o.height,this.fontScale=s.minimapScale,this.minimapLineHeight=s.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=xy(()=>Ey.create(this.fontScale,a.fontFamily)),this.backgroundColor=Oy._getMinimapBackground(t,i)}static _getMinimapBackground(e,t){const i=e.getColor(Zv);return i?new _y(i.rgba.r,i.rgba.g,i.rgba.b,i.rgba.a):t.getColor(2)}equals(e){return this.renderMinimap===e.renderMinimap&&this.size===e.size&&this.minimapHeightIsEditorHeight===e.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight&&this.isSampling===e.isSampling&&this.editorHeight===e.editorHeight&&this.fontScale===e.fontScale&&this.minimapLineHeight===e.minimapLineHeight&&this.minimapCharWidth===e.minimapCharWidth&&this.backgroundColor&&this.backgroundColor.equals(e.backgroundColor)}}class My{constructor(e,t,i,n,r,o,s,a){this.scrollTop=e,this.scrollHeight=t,this.sliderNeeded=i,this._computedSliderRatio=n,this.sliderTop=r,this.sliderHeight=o,this.startLineNumber=s,this.endLineNumber=a}getDesiredScrollTopFromDelta(e){const t=this.sliderTop+e;return Math.round(t/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)}static create(e,t,i,n,r,o,s,a,l,c){const h=e.pixelRatio,u=e.minimapLineHeight,d=Math.floor(e.canvasInnerHeight/u),f=e.lineHeight;if(e.minimapHeightIsEditorHeight){const t=s*e.lineHeight+(e.scrollBeyondLastLine?n-e.lineHeight:0),i=Math.max(1,Math.floor(n*n/t)),r=Math.max(0,e.minimapHeight-i),c=r/(l-n),h=a*c,u=r>0,d=Math.floor(e.canvasInnerHeight/e.minimapLineHeight);return new My(a,l,u,c,h,i,1,Math.min(o,d))}let p,m;if(r&&i!==o){const e=i-t+1;p=Math.floor(e*u/h)}else{const e=n/f;p=Math.floor(e*u/h)}m=e.scrollBeyondLastLine?(o-1)*u/h:Math.max(0,o*u/h-p);const g=(m=Math.min(e.minimapHeight-p,m))/(l-n),v=a*g;let b=0;if(e.scrollBeyondLastLine){b=n/f-1}if(d>=o+b){return new My(a,l,m>0,g,v,p,1,o)}{let e=Math.max(1,Math.floor(t-v*h/u));c&&c.scrollHeight===l&&(c.scrollTop>a&&(e=Math.min(e,c.startLineNumber)),c.scrollTop<a&&(e=Math.max(e,c.startLineNumber)));const i=Math.min(o,e+d-1);return new My(a,l,!0,g,v,p,e,i)}}}class Iy{constructor(e){this.dy=e}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Iy.INVALID=new Iy(-1);class Ay{constructor(e,t,i){this.renderedLayout=e,this._imageData=t,this._renderedLines=new __(()=>Iy.INVALID),this._renderedLines._set(e.startLineNumber,i)}linesEquals(e){if(!this.scrollEquals(e))return!1;const t=this._renderedLines._get().lines;for(let e=0,i=t.length;e<i;e++)if(-1===t[e].dy)return!1;return!0}scrollEquals(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber}_get(){const e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}}onLinesChanged(e,t){return this._renderedLines.onLinesChanged(e,t)}onLinesDeleted(e,t){this._renderedLines.onLinesDeleted(e,t)}onLinesInserted(e,t){this._renderedLines.onLinesInserted(e,t)}onTokensChanged(e){return this._renderedLines.onTokensChanged(e)}}class Py{constructor(e,t,i,n){this._backgroundFillData=Py._createBackgroundFillData(t,i,n),this._buffers=[e.createImageData(t,i),e.createImageData(t,i)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e}static _createBackgroundFillData(e,t,i){const n=i.r,r=i.g,o=i.b,s=new Uint8ClampedArray(e*t*4);let a=0;for(let i=0;i<t;i++)for(let t=0;t<e;t++)s[a]=n,s[a+1]=r,s[a+2]=o,s[a+3]=255,a+=4;return s}}class Ry{constructor(e,t){this.samplingRatio=e,this.minimapLines=t}static compute(e,t,i){if(0===e.renderMinimap||!e.isSampling)return[null,[]];const n=e.pixelRatio,r=e.lineHeight,o=e.scrollBeyondLastLine,{minimapLineCount:s}=D.computeContainedMinimapLineCount({viewLineCount:t,scrollBeyondLastLine:o,height:e.editorHeight,lineHeight:r,pixelRatio:n}),a=t/s,l=a/2;if(!i||0===i.minimapLines.length){let e=[];if(e[0]=1,s>1){for(let t=0,i=s-1;t<i;t++)e[t]=Math.round(t*a+l);e[s-1]=t}return[new Ry(a,e),[]]}const c=i.minimapLines,h=c.length;let u=[],d=0,f=0,p=1;let m=[],g=null;for(let e=0;e<s;e++){const i=Math.max(p,Math.round(e*a)),n=Math.max(i,Math.round((e+1)*a));for(;d<h&&c[d]<i;){if(m.length<10){const e=d+1+f;g&&"deleted"===g.type&&g._oldIndex===d-1?g.deleteToLineNumber++:(g={type:"deleted",_oldIndex:d,deleteFromLineNumber:e,deleteToLineNumber:e},m.push(g)),f--}d++}let r;if(d<h&&c[d]<=n)r=c[d],d++;else if(r=0===e?1:e+1===s?t:Math.round(e*a+l),m.length<10){const t=d+1+f;g&&"inserted"===g.type&&g._i===e-1?g.insertToLineNumber++:(g={type:"inserted",_i:e,insertFromLineNumber:t,insertToLineNumber:t},m.push(g)),f++}u[e]=r,p=r}if(m.length<10)for(;d<h;){const e=d+1+f;g&&"deleted"===g.type&&g._oldIndex===d-1?g.deleteToLineNumber++:(g={type:"deleted",_oldIndex:d,deleteFromLineNumber:e,deleteToLineNumber:e},m.push(g)),f--,d++}else m=[{type:"flush"}];return[new Ry(a,u),m]}modelLineToMinimapLine(e){return Math.min(this.minimapLines.length,Math.max(1,Math.round(e/this.samplingRatio)))}modelLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e)-1;for(;i>0&&this.minimapLines[i-1]>=e;)i--;let n=this.modelLineToMinimapLine(t)-1;for(;n+1<this.minimapLines.length&&this.minimapLines[n+1]<=t;)n++;if(i===n){const n=this.minimapLines[i];if(n<e||n>t)return null}return[i+1,n+1]}decorationLineRangeToMinimapLineRange(e,t){let i=this.modelLineToMinimapLine(e),n=this.modelLineToMinimapLine(t);return e!==t&&n===i&&(n===this.minimapLines.length?i>1&&i--:n++),[i,n]}onLinesDeleted(e){const t=e.toLineNumber-e.fromLineNumber+1;let i=this.minimapLines.length,n=0;for(let r=this.minimapLines.length-1;r>=0&&!(this.minimapLines[r]<e.fromLineNumber);r--)this.minimapLines[r]<=e.toLineNumber?(this.minimapLines[r]=Math.max(1,e.fromLineNumber-1),i=Math.min(i,r),n=Math.max(n,r)):this.minimapLines[r]-=t;return[i,n]}onLinesInserted(e){const t=e.toLineNumber-e.fromLineNumber+1;for(let i=this.minimapLines.length-1;i>=0&&!(this.minimapLines[i]<e.fromLineNumber);i--)this.minimapLines[i]+=t}}class Fy extends Ud{constructor(e){super(e),this.tokensColorTracker=yy.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new Oy(this._context.configuration,this._context.theme,this.tokensColorTracker);const[t]=Ry.compute(this.options,this._context.model.getLineCount(),null);this._samplingState=t,this._shouldCheckSampling=!1,this._actual=new Vy(e.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const e=new Oy(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(e)&&(this.options=e,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(e){return this._onOptionsMaybeChanged()}onCursorStateChanged(e){return this._selections=e.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(e){return!!e.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(e){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(e){if(this._samplingState){const t=this._samplingState.modelLineRangeToMinimapLineRange(e.fromLineNumber,e.toLineNumber);return!!t&&this._actual.onLinesChanged(t[0],t[1])}return this._actual.onLinesChanged(e.fromLineNumber,e.toLineNumber)}onLinesDeleted(e){if(this._samplingState){const[t,i]=this._samplingState.onLinesDeleted(e);return t<=i&&this._actual.onLinesChanged(t+1,i+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(e.fromLineNumber,e.toLineNumber)}onLinesInserted(e){return this._samplingState?(this._samplingState.onLinesInserted(e),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(e.fromLineNumber,e.toLineNumber)}onScrollChanged(e){return this._actual.onScrollChanged()}onThemeChanged(e){return this._context.model.invalidateMinimapColorCache(),this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(e){if(this._samplingState){let t=[];for(const i of e.ranges){const e=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.toLineNumber);e&&t.push({fromLineNumber:e[0],toLineNumber:e[1]})}return!!t.length&&this._actual.onTokensChanged(t)}return this._actual.onTokensChanged(e.ranges)}onTokensColorsChanged(e){return this._actual.onTokensColorsChanged()}onZonesChanged(e){return this._actual.onZonesChanged()}prepareRender(e){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(e){let t=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber;this._samplingState&&(t=this._samplingState.modelLineToMinimapLine(t),i=this._samplingState.modelLineToMinimapLine(i));const n={viewportContainsWhitespaceGaps:e.viewportData.whitespaceViewportData.length>0,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,viewportStartLineNumber:t,viewportEndLineNumber:i,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight};this._actual.render(n)}_recreateLineSampling(){this._minimapSelections=null;const e=Boolean(this._samplingState),[t,i]=Ry.compute(this.options,this._context.model.getLineCount(),this._samplingState);if(this._samplingState=t,e&&this._samplingState)for(const e of i)switch(e.type){case"deleted":this._actual.onLinesDeleted(e.deleteFromLineNumber,e.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(e.insertFromLineNumber,e.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.model.getLineCount()}getRealLineCount(){return this._context.model.getLineCount()}getLineContent(e){return this._samplingState?this._context.model.getLineContent(this._samplingState.minimapLines[e-1]):this._context.model.getLineContent(e)}getMinimapLinesRenderingData(e,t,i){if(this._samplingState){let n=[];for(let r=0,o=t-e+1;r<o;r++)i[r]?n[r]=this._context.model.getViewLineData(this._samplingState.minimapLines[e+r-1]):n[r]=null;return n}return this._context.model.getMinimapLinesRenderingData(e,t,i).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const e of this._selections){const[t,i]=this._samplingState.decorationLineRangeToMinimapLineRange(e.startLineNumber,e.endLineNumber);this._minimapSelections.push(new gt(t,e.startColumn,i,e.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(e,t){let i;if(this._samplingState){const n=this._samplingState.minimapLines[e-1],r=this._samplingState.minimapLines[t-1];i=new mt(n,1,r,this._context.model.getLineMaxColumn(r))}else i=new mt(e,1,t,this._context.model.getLineMaxColumn(t));const n=this._context.model.getDecorationsInViewport(i);if(this._samplingState){let e=[];for(const t of n){if(!t.options.minimap)continue;const i=t.range,n=this._samplingState.modelLineToMinimapLine(i.startLineNumber),r=this._samplingState.modelLineToMinimapLine(i.endLineNumber);e.push(new dc(new mt(n,i.startColumn,r,i.endColumn),t.options))}return e}return n}getOptions(){return this._context.model.getTextModelOptions()}revealLineNumber(e){this._samplingState&&(e=this._samplingState.minimapLines[e-1]),this._context.model.revealRange("mouse",!1,new mt(e,1,e,1),1,0)}setScrollTop(e){this._context.model.setScrollPosition({scrollTop:e},1)}}class Vy extends ne{constructor(e,t){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=e,this._model=t,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(Gv),this._domNode=Ed(document.createElement("div")),Kd.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=Ed(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=Ed(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=Ed(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=Ed(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=Ed(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._mouseDownListener=pn(this._domNode.domNode,"mousedown",e=>{if(e.preventDefault(),0===this._model.options.renderMinimap)return;if(!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(e.leftButton&&this._lastRenderData){const t=En(this._slider.domNode),i=t.top+t.height/2;this._startSliderDragging(e.buttons,e.posx,i,e.posy,this._lastRenderData.renderedLayout)}return}const t=this._model.options.minimapLineHeight,i=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*e.browserEvent.offsetY;let n=Math.floor(i/t)+this._lastRenderData.renderedLayout.startLineNumber;n=Math.min(n,this._model.getLineCount()),this._model.revealLineNumber(n)}),this._sliderMouseMoveMonitor=new Pd,this._sliderMouseDownListener=pn(this._slider.domNode,"mousedown",e=>{e.preventDefault(),e.stopPropagation(),e.leftButton&&this._lastRenderData&&this._startSliderDragging(e.buttons,e.posx,e.posy,e.posy,this._lastRenderData.renderedLayout)}),this._gestureDisposable=Id.addTarget(this._domNode.domNode),this._sliderTouchStartListener=dn(this._domNode.domNode,Od.Start,e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(e))},{passive:!1}),this._sliderTouchMoveListener=dn(this._domNode.domNode,Od.Change,e=>{e.preventDefault(),e.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(e)},{passive:!1}),this._sliderTouchEndListener=pn(this._domNode.domNode,Od.End,e=>{e.preventDefault(),e.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(e,t,i,n,o){this._slider.toggleClassName("active",!0);const s=(e,n)=>{const s=Math.abs(n-t);if(r.i&&s>Ny)return void this._model.setScrollTop(o.scrollTop);const a=e-i;this._model.setScrollTop(o.getDesiredScrollTopFromDelta(a))};n!==i&&s(n,t),this._sliderMouseMoveMonitor.startMonitoring(this._slider.domNode,e,Ad,e=>s(e.posy,e.posx),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(e){const t=this._domNode.domNode.getBoundingClientRect().top,i=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._model.setScrollTop(i)}dispose(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){return"always"===this._model.options.showSlider?"minimap slider-always":"minimap slider-mouseover"}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new Py(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(e,t){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e,t)}onLinesDeleted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e,t),!0}onLinesInserted(e,t){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e,t),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(Gv),this._renderDecorations=!0,!0}onTokensChanged(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(e){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const t=My.create(this._model.options,e.viewportStartLineNumber,e.viewportEndLineNumber,e.viewportHeight,e.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(t.sliderNeeded?"block":"none"),this._slider.setTop(t.sliderTop),this._slider.setHeight(t.sliderHeight);const i=e.scrollLeft/this._model.options.typicalHalfwidthCharacterWidth,n=Math.min(this._model.options.minimapWidth,Math.round(i*this._model.options.minimapCharWidth/this._model.options.pixelRatio));this._sliderHorizontal.setLeft(n),this._sliderHorizontal.setWidth(this._model.options.minimapWidth-n),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(t.sliderHeight),this.renderDecorations(t),this._lastRenderData=this.renderLines(t)}renderDecorations(e){if(this._renderDecorations){this._renderDecorations=!1;const t=this._model.getSelections(),i=this._model.getMinimapDecorationsInViewport(e.startLineNumber,e.endLineNumber),{canvasInnerWidth:n,canvasInnerHeight:r}=this._model.options,o=this._model.options.minimapLineHeight,s=this._model.options.minimapCharWidth,a=this._model.getOptions().tabSize,l=this._decorationsCanvas.domNode.getContext("2d");l.clearRect(0,0,n,r);const c=new Map;for(let i=0;i<t.length;i++){const n=t[i];for(let t=n.startLineNumber;t<=n.endLineNumber;t++)this.renderDecorationOnLine(l,c,n,this._selectionColor,e,t,o,o,a,s)}for(let t=0;t<i.length;t++){const n=i[t];if(!n.options.minimap)continue;const r=n.options.minimap.getColor(this._theme);for(let t=n.range.startLineNumber;t<=n.range.endLineNumber;t++)switch(n.options.minimap.position){case no.Inline:this.renderDecorationOnLine(l,c,n.range,r,e,t,o,o,a,s);continue;case no.Gutter:const i=(t-e.startLineNumber)*o,h=2;this.renderDecoration(l,r,h,i,Ty,o);continue}}}}renderDecorationOnLine(e,t,i,n,r,o,s,a,l,c){const h=(o-r.startLineNumber)*a;if(h+s<0||h>this._model.options.canvasInnerHeight)return;let d=t.get(o);const f=!d;if(!d){const e=this._model.getLineContent(o);d=[u];for(let t=1;t<e.length+1;t++){const i=e.charCodeAt(t-1),n=9===i?l*c:hr.C(i)?2*c:c;d[t]=d[t-1]+n}t.set(o,d)}const{startColumn:p,endColumn:m,startLineNumber:g,endLineNumber:v}=i,b=g===o?d[p-1]:u,_=v>o?d.length-1:m-1;if(_>0){const t=d[_]-b||2;this.renderDecoration(e,n,b,h,t,s)}f&&this.renderLineHighlight(e,n,h,s)}renderLineHighlight(e,t,i,n){e.fillStyle=t&&t.transparent(.5).toString()||"",e.fillRect(u,i,e.canvas.width,n)}renderDecoration(e,t,i,n,r,o){e.fillStyle=t&&t.toString()||"",e.fillRect(i,n,r,o)}renderLines(e){const t=e.startLineNumber,i=e.endLineNumber,n=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){const t=this._lastRenderData._get();return new Ay(e,t.imageData,t.lines)}const r=this._getBuffer();if(!r)return null;let[o,s,a]=Vy._renderUntouchedLines(r,t,i,n,this._lastRenderData);const l=this._model.getMinimapLinesRenderingData(t,i,a),c=this._model.getOptions().tabSize,h=this._model.options.backgroundColor,u=this._model.tokensColorTracker,d=u.backgroundIsLight(),f=this._model.options.renderMinimap,p=this._model.options.charRenderer(),m=this._model.options.fontScale,g=this._model.options.minimapCharWidth,v=(1===f?2:3)*m,b=n>v?Math.floor((n-v)/2):0;let _=0;const y=[];for(let e=0,o=i-t+1;e<o;e++)a[e]&&Vy._renderLine(r,h,d,f,g,u,p,_,b,c,l[e],m,n),y[e]=new Iy(_),_+=n;const w=-1===o?0:o,C=(-1===s?r.height:s)-w;return this._canvas.domNode.getContext("2d").putImageData(r,0,0,0,w,r.width,C),new Ay(e,r,y)}static _renderUntouchedLines(e,t,i,n,r){const o=[];if(!r){for(let e=0,n=i-t+1;e<n;e++)o[e]=!0;return[-1,-1,o]}const s=r._get(),a=s.imageData.data,l=s.rendLineNumberStart,c=s.lines,h=c.length,u=e.width,d=e.data,f=(i-t+1)*n*u*4;let p=-1,m=-1,g=-1,v=-1,b=-1,_=-1,y=0;for(let e=t;e<=i;e++){const i=e-t,r=e-l,s=r>=0&&r<h?c[r].dy:-1;if(-1===s){o[i]=!0,y+=n;continue}const w=s*u*4,C=(s+n)*u*4,S=y*u*4,x=(y+n)*u*4;v===w&&_===S?(v=C,_=x):(-1!==g&&(d.set(a.subarray(g,v),b),-1===p&&0===g&&g===b&&(p=v),-1===m&&v===f&&g===b&&(m=g)),g=w,v=C,b=S,_=x),o[i]=!1,y+=n}return-1!==g&&(d.set(a.subarray(g,v),b),-1===p&&0===g&&g===b&&(p=v),-1===m&&v===f&&g===b&&(m=g)),[-1===p?-1:p/(4*u),-1===m?-1:m/(4*u),o]}static _renderLine(e,t,i,n,r,o,s,a,l,c,h,d,f){const p=h.content,m=h.tokens,g=e.width-r,v=1===f;let b=u,_=0,y=0;for(let h=0,u=m.getCount();h<u;h++){const u=m.getEndOffset(h),f=m.getForeground(h),w=o.getColor(f);for(;_<u;_++){if(b>g)return;const o=p.charCodeAt(_);if(9===o){const e=c-(_+y)%c;y+=e-1,b+=e*r}else if(32===o)b+=r;else{const c=hr.C(o)?2:1;for(let h=0;h<c;h++)if(2===n?s.blockRenderChar(e,b,a+l,w,t,i,v):s.renderChar(e,b,a+l,o,w,t,d,i,v),(b+=r)>g)return}}}}}hf((e,t)=>{const i=e.getColor(Zv);i&&t.addRule(`.monaco-editor .minimap > canvas { opacity: ${i.rgba.a}; will-change: opacity; }`);const n=e.getColor(Qv);n&&t.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${n}; }`);const r=e.getColor(Jv);r&&t.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${r}; }`);const o=e.getColor(eb);o&&t.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${o}; }`);const s=e.getColor(jg);s&&t.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${s} -6px 0 6px -6px inset; }`)});i("EG+O");class By extends Ud{constructor(e){super(e);const t=this._context.configuration.options.get(117);this._widgets={},this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,this._domNode=Ed(document.createElement("div")),Kd.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options.get(117);return this._verticalScrollbarWidth=t.verticalScrollbarWidth,this._minimapWidth=t.minimap.minimapWidth,this._horizontalScrollbarHeight=t.horizontalScrollbarHeight,this._editorHeight=t.height,this._editorWidth=t.width,!0}addWidget(e){const t=Ed(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()}setWidgetPosition(e,t){const i=this._widgets[e.getId()];return i.preference!==t&&(i.preference=t,this.setShouldRender(),!0)}removeWidget(e){const t=e.getId();if(this._widgets.hasOwnProperty(t)){const e=this._widgets[t].domNode.domNode;delete this._widgets[t],e.parentNode.removeChild(e),this.setShouldRender()}}_renderWidget(e){const t=e.domNode;if(null!==e.preference)if(0===e.preference)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===e.preference){const e=t.domNode.clientHeight;t.setTop(this._editorHeight-e-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===e.preference&&(t.setTop(0),t.domNode.style.right="50%");else t.unsetTop()}prepareRender(e){}render(e){this._domNode.setWidth(this._editorWidth);const t=Object.keys(this._widgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];this._renderWidget(this._widgets[i])}}}class Wy{constructor(e,t){const i=e.options;this.lineHeight=i.get(51),this.pixelRatio=i.get(115),this.overviewRulerLanes=i.get(65),this.renderBorder=i.get(64);const n=t.getColor(Sb);this.borderColor=n?n.toString():null,this.hideCursor=i.get(44);const r=t.getColor(pb);this.cursorColor=r?r.transparent(.7).toString():null,this.themeType=t.type;const o=i.get(56),s=o.enabled,a=o.side,l=s?t.getColor(xb)||na.getDefaultBackground():null;this.backgroundColor=null===l||"left"===a?null:hm.Format.CSS.formatHex(l);const c=i.get(117).overviewRuler;this.top=c.top,this.right=c.right,this.domWidth=c.width,this.domHeight=c.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[h,u]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=h,this.w=u}_initLanes(e,t,i){const n=t-e;if(i>=3){const t=Math.floor(n/3),i=Math.floor(n/3),r=n-t-i,o=e+t;return[[0,e,o,e,e+t+r,e,o,e],[0,t,r,t+r,i,t+r+i,r+i,t+r+i]]}if(2===i){const t=Math.floor(n/2),i=n-t;return[[0,e,e,e,e+t,e,e,e],[0,t,t,t,i,t+i,t+i,t+i]]}return[[0,e,e,e,e,e,e,e],[0,n,n,n,n,n,n,n]]}equals(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight}}class $y extends Ud{constructor(e){super(e),this._domNode=Ed(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=na.onDidChange(e=>{e.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(e){const t=new Wy(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(t))&&(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)}onConfigurationChanged(e){return this._updateSettings(!1)}onCursorStateChanged(e){this._cursorPositions=[];for(let t=0,i=e.selections.length;t<i;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(pt.compare),!0}onDecorationsChanged(e){return!!e.affectsOverviewRuler}onFlushed(e){return!0}onScrollChanged(e){return e.scrollHeightChanged}onZonesChanged(e){return!0}onThemeChanged(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(e){}render(e){this._render()}_render(){if(0===this._settings.overviewRulerLanes)return void this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"");const e=this._settings.canvasWidth,t=this._settings.canvasHeight,i=this._settings.lineHeight,n=this._context.viewLayout,r=t/this._context.viewLayout.getScrollHeight(),o=this._context.model.getAllOverviewRulerDecorations(this._context.theme),s=6*this._settings.pixelRatio|0,a=s/2|0,l=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?l.clearRect(0,0,e,t):(l.fillStyle=this._settings.backgroundColor,l.fillRect(0,0,e,t));const c=this._settings.x,h=this._settings.w,u=Object.keys(o);u.sort();for(let e=0,d=u.length;e<d;e++){const d=u[e],f=o[d];l.fillStyle=d;let p=0,m=0,g=0;for(let e=0,o=f.length;e<o;e++){const o=f[3*e],u=f[3*e+1],d=f[3*e+2];let v=n.getVerticalOffsetForLineNumber(u)*r|0,b=(n.getVerticalOffsetForLineNumber(d)+i)*r|0;if(b-v<s){let e=(v+b)/2|0;e<a?e=a:e+a>t&&(e=t-a),v=e-a,b=e+a}v>g+1||o!==p?(0!==e&&l.fillRect(c[p],m,h[p],g-m),p=o,m=v,g=b):b>g&&(g=b)}l.fillRect(c[p],m,h[p],g-m)}if(!this._settings.hideCursor&&this._settings.cursorColor){const e=2*this._settings.pixelRatio|0,i=e/2|0,o=this._settings.x[7],s=this._settings.w[7];l.fillStyle=this._settings.cursorColor;let a=-100,c=-100;for(let h=0,u=this._cursorPositions.length;h<u;h++){const u=this._cursorPositions[h];let d=n.getVerticalOffsetForLineNumber(u.lineNumber)*r|0;d<i?d=i:d+i>t&&(d=t-i);const f=d-i,p=f+e;f>c+1?(0!==h&&l.fillRect(o,a,s,c-a),a=f,c=p):p>c&&(c=p)}l.fillRect(o,a,s,c-a)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(l.beginPath(),l.lineWidth=1,l.strokeStyle=this._settings.borderColor,l.moveTo(0,0),l.lineTo(0,t),l.stroke(),l.moveTo(0,0),l.lineTo(e,0),l.stroke())}}class zy{constructor(e,t,i){this.from=0|e,this.to=0|t,this.colorId=0|i}static compare(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId}}class Hy{constructor(e,t,i){this.startLineNumber=e,this.endLineNumber=t,this.color=i,this._colorZone=null}static compare(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1}setColorZone(e){this._colorZone=e}getColorZones(){return this._colorZone}}class jy{constructor(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(e){this._zones=e,this._zones.sort(Hy.compare)}setLineHeight(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)}setPixelRatio(e){this._pixelRatio=e,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),i=Math.floor(this.getCanvasHeight()),n=i/Math.floor(this._outerHeight),r=Math.floor(4*this._pixelRatio/2);let o=[];for(let s=0,a=this._zones.length;s<a;s++){const a=this._zones[s];if(!e){const e=a.getColorZones();if(e){o.push(e);continue}}const l=Math.floor(n*this._getVerticalOffsetForLine(a.startLineNumber)),c=Math.floor(n*(this._getVerticalOffsetForLine(a.endLineNumber)+t));let h=Math.floor((l+c)/2),u=c-h;u<r&&(u=r),h-u<0&&(h=u),h+u>i&&(h=i-u);const d=a.color;let f=this._color2Id[d];f||(f=++this._lastAssignedId,this._color2Id[d]=f,this._id2Color[f]=d);const p=new zy(h-u,h+u,f);a.setColorZone(p),o.push(p)}return this._colorZonesInvalid=!1,o.sort(zy.compare),o}}class Uy extends jd{constructor(e,t){super(),this._context=e;const i=this._context.configuration.options;this._domNode=Ed(document.createElement("canvas")),this._domNode.setClassName(t),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new jy(e=>this._context.viewLayout.getVerticalOffsetForLineNumber(e)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(i.get(51)),this._zoneManager.setPixelRatio(i.get(115)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return e.hasChanged(51)&&(this._zoneManager.setLineHeight(t.get(51)),this._render()),e.hasChanged(115)&&(this._zoneManager.setPixelRatio(t.get(115)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(e){return this._render(),!0}onScrollChanged(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0}onZonesChanged(e){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);let t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,(t=this._zoneManager.setDOMHeight(e.height)||t)&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(e){this._zoneManager.setZones(e),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),i=this._zoneManager.resolveColorZones(),n=this._zoneManager.getId2Color(),r=this._domNode.domNode.getContext("2d");return r.clearRect(0,0,e,t),i.length>0&&this._renderOneLane(r,i,n,e),!0}_renderOneLane(e,t,i,n){let r=0,o=0,s=0;for(const a of t){const t=a.colorId,l=a.from,c=a.to;t!==r?(e.fillRect(0,o,n,s-o),r=t,e.fillStyle=i[r],o=l,s=c):s>=l?s=Math.max(s,c):(e.fillRect(0,o,n,s-o),o=l,s=c)}e.fillRect(0,o,n,s-o)}}i("5RGO");class Ky extends Ud{constructor(e){super(e),this.domNode=Ed(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const t=this._context.configuration.options;this._rulers=t.get(83),this._typicalHalfwidthCharacterWidth=t.get(36).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._rulers=t.get(83),this._typicalHalfwidthCharacterWidth=t.get(36).typicalHalfwidthCharacterWidth,!0}onScrollChanged(e){return e.scrollHeightChanged}prepareRender(e){}_ensureRulersCount(){const e=this._renderedRulers.length,t=this._rulers.length;if(e===t)return;if(e<t){const{tabSize:i}=this._context.model.getTextModelOptions(),n=i;let r=t-e;for(;r>0;){const e=Ed(document.createElement("div"));e.setClassName("view-ruler"),e.setWidth(n),this.domNode.appendChild(e),this._renderedRulers.push(e),r--}return}let i=e-t;for(;i>0;){const e=this._renderedRulers.pop();this.domNode.removeChild(e),i--}}render(e){this._ensureRulersCount();for(let t=0,i=this._rulers.length;t<i;t++){const i=this._renderedRulers[t],n=this._rulers[t];i.setBoxShadow(n.color?`1px 0 0 0 ${n.color} inset`:""),i.setHeight(Math.min(e.scrollHeight,1e6)),i.setLeft(n.column*this._typicalHalfwidthCharacterWidth)}}}hf((e,t)=>{const i=e.getColor(Cb);i&&t.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${i} inset; }`)});i("x33M");class qy extends Ud{constructor(e){super(e),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const t=this._context.configuration.options.get(84);this._useShadows=t.useShadows,this._domNode=Ed(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)}getDomNode(){return this._domNode}_updateWidth(){const e=this._context.configuration.options.get(117);0===e.minimap.renderMinimap||e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?this._width=e.width:this._width=e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}onConfigurationChanged(e){const t=this._context.configuration.options.get(84);return this._useShadows=t.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()}prepareRender(e){}render(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}hf((e,t)=>{const i=e.getColor(jg);i&&t.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${i} 0 6px 6px -6px inset; }`)});i("MfYP");class Gy{constructor(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}}class Yy{constructor(e,t){this.lineNumber=e,this.ranges=t}}function Xy(e){return new Gy(e)}function Zy(e){return new Yy(e.lineNumber,e.ranges.map(Xy))}const Qy=hi;class Jy extends gg{constructor(e){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=e;const t=this._context.configuration.options;this._lineHeight=t.get(51),this._roundedSelection=t.get(82),this._typicalHalfwidthCharacterWidth=t.get(36).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(e){const t=this._context.configuration.options;return this._lineHeight=t.get(51),this._roundedSelection=t.get(82),this._typicalHalfwidthCharacterWidth=t.get(36).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(e){return this._selections=e.selections.slice(0),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return e.scrollTopChanged}onZonesChanged(e){return!0}_visibleRangesHaveGaps(e){for(let t=0,i=e.length;t<i;t++){if(e[t].ranges.length>1)return!0}return!1}_enrichVisibleRangesWithStyle(e,t,i){const n=this._typicalHalfwidthCharacterWidth/4;let r=null,o=null;if(i&&i.length>0&&t.length>0){const n=t[0].lineNumber;if(n===e.startLineNumber)for(let e=0;!r&&e<i.length;e++)i[e].lineNumber===n&&(r=i[e].ranges[0]);const s=t[t.length-1].lineNumber;if(s===e.endLineNumber)for(let e=i.length-1;!o&&e>=0;e--)i[e].lineNumber===s&&(o=i[e].ranges[0]);r&&!r.startStyle&&(r=null),o&&!o.startStyle&&(o=null)}for(let e=0,i=t.length;e<i;e++){const s=t[e].ranges[0],a=s.left,l=s.left+s.width,c={top:0,bottom:0},h={top:0,bottom:0};if(e>0){const i=t[e-1].ranges[0].left,r=t[e-1].ranges[0].left+t[e-1].ranges[0].width;ew(a-i)<n?c.top=2:a>i&&(c.top=1),ew(l-r)<n?h.top=2:i<l&&l<r&&(h.top=1)}else r&&(c.top=r.startStyle.top,h.top=r.endStyle.top);if(e+1<i){const i=t[e+1].ranges[0].left,r=t[e+1].ranges[0].left+t[e+1].ranges[0].width;ew(a-i)<n?c.bottom=2:i<a&&a<r&&(c.bottom=1),ew(l-r)<n?h.bottom=2:l<r&&(h.bottom=1)}else o&&(c.bottom=o.startStyle.bottom,h.bottom=o.endStyle.bottom);s.startStyle=c,s.endStyle=h}}_getVisibleRangesWithStyle(e,t,i){const n=(t.linesVisibleRangesForRange(e,!0)||[]).map(Zy),r=this._visibleRangesHaveGaps(n);return Qy||r||!this._roundedSelection||this._enrichVisibleRangesWithStyle(t.visibleRange,n,i),n}_createSelectionPiece(e,t,i,n,r){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+r.toString()+"px;height:"+t+'px;"></div>'}_actualRenderOneSelection(e,t,i,n){if(0===n.length)return;const r=!!n[0].ranges[0].startStyle,o=this._lineHeight.toString(),s=(this._lineHeight-1).toString(),a=n[0].lineNumber,l=n[n.length-1].lineNumber;for(let c=0,h=n.length;c<h;c++){const h=n[c],u=h.lineNumber,d=u-t,f=i&&(u===l||u===a)?s:o,p=i&&u===a?1:0;let m="",g="";for(let e=0,t=h.ranges.length;e<t;e++){const t=h.ranges[e];if(r){const e=t.startStyle,i=t.endStyle;if(1===e.top||1===e.bottom){m+=this._createSelectionPiece(p,f,Jy.SELECTION_CLASS_NAME,t.left-Jy.ROUNDED_PIECE_WIDTH,Jy.ROUNDED_PIECE_WIDTH);let i=Jy.EDITOR_BACKGROUND_CLASS_NAME;1===e.top&&(i+=" "+Jy.SELECTION_TOP_RIGHT),1===e.bottom&&(i+=" "+Jy.SELECTION_BOTTOM_RIGHT),m+=this._createSelectionPiece(p,f,i,t.left-Jy.ROUNDED_PIECE_WIDTH,Jy.ROUNDED_PIECE_WIDTH)}if(1===i.top||1===i.bottom){m+=this._createSelectionPiece(p,f,Jy.SELECTION_CLASS_NAME,t.left+t.width,Jy.ROUNDED_PIECE_WIDTH);let e=Jy.EDITOR_BACKGROUND_CLASS_NAME;1===i.top&&(e+=" "+Jy.SELECTION_TOP_LEFT),1===i.bottom&&(e+=" "+Jy.SELECTION_BOTTOM_LEFT),m+=this._createSelectionPiece(p,f,e,t.left+t.width,Jy.ROUNDED_PIECE_WIDTH)}}let i=Jy.SELECTION_CLASS_NAME;if(r){const e=t.startStyle,n=t.endStyle;0===e.top&&(i+=" "+Jy.SELECTION_TOP_LEFT),0===e.bottom&&(i+=" "+Jy.SELECTION_BOTTOM_LEFT),0===n.top&&(i+=" "+Jy.SELECTION_TOP_RIGHT),0===n.bottom&&(i+=" "+Jy.SELECTION_BOTTOM_RIGHT)}g+=this._createSelectionPiece(p,f,i,t.left,t.width)}e[d][0]+=m,e[d][1]+=g}}prepareRender(e){const t=[],i=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber;for(let e=i;e<=n;e++){t[e-i]=["",""]}const r=[];for(let n=0,o=this._selections.length;n<o;n++){const o=this._selections[n];if(o.isEmpty()){r[n]=null;continue}const s=this._getVisibleRangesWithStyle(o,e,this._previousFrameVisibleRangesWithStyle[n]);r[n]=s,this._actualRenderOneSelection(t,i,this._selections.length>1,s)}this._previousFrameVisibleRangesWithStyle=r,this._renderResult=t.map(([e,t])=>e+t)}render(e,t){if(!this._renderResult)return"";const i=t-e;return i<0||i>=this._renderResult.length?"":this._renderResult[i]}}function ew(e){return e<0?-e:e}Jy.SELECTION_CLASS_NAME="selected-text",Jy.SELECTION_TOP_LEFT="top-left-radius",Jy.SELECTION_BOTTOM_LEFT="bottom-left-radius",Jy.SELECTION_TOP_RIGHT="top-right-radius",Jy.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Jy.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Jy.ROUNDED_PIECE_WIDTH=10,hf((e,t)=>{const i=e.getColor(fv);i&&t.addRule(`.monaco-editor .focused .selected-text { background-color: ${i}; }`);const n=e.getColor(mv);n&&t.addRule(`.monaco-editor .selected-text { background-color: ${n}; }`);const r=e.getColor(pv);r&&!r.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${r}; }`)});i("8EM9");class tw{constructor(e,t,i,n,r,o){this.top=e,this.left=t,this.width=i,this.height=n,this.textContent=r,this.textContentClassName=o}}class iw{constructor(e){this._context=e;const t=this._context.configuration.options,i=t.get(36);this._cursorStyle=t.get(19),this._lineHeight=t.get(51),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(22),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Ed(document.createElement("div")),this._domNode.setClassName(`cursor ${Ab}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),Au.applyFontInfo(this._domNode,i),this._domNode.setDisplay("none"),this._position=new pt(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(36);return this._cursorStyle=t.get(19),this._lineHeight=t.get(51),this._typicalHalfwidthCharacterWidth=i.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(22),this._typicalHalfwidthCharacterWidth),Au.applyFontInfo(this._domNode,i),!0}onCursorPositionChanged(e){return this._position=e,!0}_prepareRender(e){let t="";if(this._cursorStyle===x.Line||this._cursorStyle===x.LineThin){const i=e.visibleRangeForPosition(this._position);if(!i||i.outsideRenderedLine)return null;let n;if(this._cursorStyle===x.Line){if((n=or(this._lineCursorWidth>0?this._lineCursorWidth:2))>2){const e=this._context.model.getLineContent(this._position.lineNumber),i=hr.J(e,this._position.column-1);t=e.substr(this._position.column-1,i)}}else n=or(1);let r=i.left;n>=2&&r>=1&&(r-=1);const o=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new tw(o,r,n,this._lineHeight,t,"")}const i=this._context.model.getLineContent(this._position.lineNumber),n=hr.J(i,this._position.column-1),r=e.linesVisibleRangesForRange(new mt(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+n),!1);if(!r||0===r.length)return null;const o=r[0];if(o.outsideRenderedLine||0===o.ranges.length)return null;const s=o.ranges[0],a=s.width<1?this._typicalHalfwidthCharacterWidth:s.width;let l="";if(this._cursorStyle===x.Block){const e=this._context.model.getViewLineData(this._position.lineNumber);t=i.substr(this._position.column-1,n);const r=e.tokens.findTokenIndexAtOffset(this._position.column-1);l=e.tokens.getClassName(r)}let c=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,h=this._lineHeight;return this._cursorStyle!==x.Underline&&this._cursorStyle!==x.UnderlineThin||(c+=this._lineHeight-2,h=2),new tw(c,s.left,a,h,t,l)}prepareRender(e){this._renderData=this._prepareRender(e)}render(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${Ab} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class nw extends Ud{constructor(e){super(e);const t=this._context.configuration.options;this._readOnly=t.get(72),this._cursorBlinking=t.get(17),this._cursorStyle=t.get(19),this._cursorSmoothCaretAnimation=t.get(18),this._selectionIsEmpty=!0,this._isVisible=!1,this._primaryCursor=new iw(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=Ed(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new Ri,this._cursorFlatBlinkInterval=new Fi,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(e){const t=this._context.configuration.options;this._readOnly=t.get(72),this._cursorBlinking=t.get(17),this._cursorStyle=t.get(19),this._cursorSmoothCaretAnimation=t.get(18),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].onConfigurationChanged(e);return!0}_onCursorPositionChanged(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length){const e=t.length-this._secondaryCursors.length;for(let t=0;t<e;t++){const e=new iw(this._context);this._domNode.domNode.insertBefore(e.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(e)}}else if(this._secondaryCursors.length>t.length){const e=this._secondaryCursors.length-t.length;for(let t=0;t<e;t++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let e=0;e<t.length;e++)this._secondaryCursors[e].onCursorPositionChanged(t[e])}onCursorStateChanged(e){const t=[];for(let i=0,n=e.selections.length;i<n;i++)t[i]=e.selections[i].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));const i=e.selections[0].isEmpty();return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,this._updateDomClassName()),!0}onDecorationsChanged(e){return!0}onFlushed(e){return!0}onFocusChanged(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1}onLinesChanged(e){return!0}onLinesDeleted(e){return!0}onLinesInserted(e){return!0}onScrollChanged(e){return!0}onTokensChanged(e){const t=t=>{for(let i=0,n=e.ranges.length;i<n;i++)if(e.ranges[i].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[i].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const e of this._secondaryCursors)if(t(e.getPosition()))return!0;return!1}onZonesChanged(e){return!0}_getCursorBlinking(){return this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const e=this._getCursorBlinking(),t=0===e,i=5===e;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),t||i||(1===e?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},nw.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},nw.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case x.Line:e+=" cursor-line-style";break;case x.Block:e+=" cursor-block-style";break;case x.Underline:e+=" cursor-underline-style";break;case x.LineThin:e+=" cursor-line-thin-style";break;case x.BlockOutline:e+=" cursor-block-outline-style";break;case x.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e}_show(){this._primaryCursor.show();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1}prepareRender(e){this._primaryCursor.prepareRender(e);for(let t=0,i=this._secondaryCursors.length;t<i;t++)this._secondaryCursors[t].prepareRender(e)}render(e){let t=[],i=0;const n=this._primaryCursor.render(e);n&&(t[i++]=n);for(let n=0,r=this._secondaryCursors.length;n<r;n++){const r=this._secondaryCursors[n].render(e);r&&(t[i++]=r)}this._renderData=t}getLastRenderData(){return this._renderData}}nw.BLINK_INTERVAL=500,hf((e,t)=>{const i=e.getColor(pb);if(i){let n=e.getColor(mb);n||(n=i.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${i}; border-color: ${i}; color: ${n}; }`),"hc"===e.type&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${n}; border-right: 1px solid ${n}; }`)}});const rw=()=>{throw new Error("Invalid change accessor")};class ow extends Ud{constructor(e){super(e);const t=this._context.configuration.options,i=t.get(117);this._lineHeight=t.get(51),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,this.domNode=Ed(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=Ed(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const e=this._context.viewLayout.getWhitespaces(),t=new Map;for(const i of e)t.set(i.id,i);let i=!1;return this._context.model.changeWhitespace(e=>{const n=Object.keys(this._zones);for(let r=0,o=n.length;r<o;r++){const o=n[r],s=this._zones[o],a=this._computeWhitespaceProps(s.delegate),l=t.get(o);!l||l.afterLineNumber===a.afterViewLineNumber&&l.height===a.heightInPx||(e.changeOneWhitespace(o,a.afterViewLineNumber,a.heightInPx),this._safeCallOnComputedHeight(s.delegate,a.heightInPx),i=!0)}}),i}onConfigurationChanged(e){const t=this._context.configuration.options,i=t.get(117);return this._lineHeight=t.get(51),this._contentWidth=i.contentWidth,this._contentLeft=i.contentLeft,e.hasChanged(51)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(e){return this._recomputeWhitespacesProps()}onLinesDeleted(e){return!0}onScrollChanged(e){return e.scrollTopChanged||e.scrollWidthChanged}onZonesChanged(e){return!0}onLinesInserted(e){return!0}_getZoneOrdinal(e){return void 0!==e.afterColumn?e.afterColumn:1e4}_computeWhitespaceProps(e){if(0===e.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};let t,i;if(void 0!==e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{const i=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new pt(i,this._context.model.getModelLineMaxColumn(i))}i=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});const n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),r=this._context.model.coordinatesConverter.modelPositionIsVisible(i);return{afterViewLineNumber:n.lineNumber,heightInPx:r?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}}changeViewZones(e){let t=!1;return this._context.model.changeWhitespace(i=>{const n={addZone:e=>(t=!0,this._addZone(i,e)),removeZone:e=>{e&&(t=this._removeZone(i,e)||t)},layoutZone:e=>{e&&(t=this._layoutZone(i,e)||t)}};!function(e,t){try{e(t)}catch(e){$(e)}}(e,n),n.addZone=rw,n.removeZone=rw,n.layoutZone=rw}),t}_addZone(e,t){const i=this._computeWhitespaceProps(t),n={whitespaceId:e.insertWhitespace(i.afterViewLineNumber,this._getZoneOrdinal(t),i.heightInPx,i.minWidthInPx),delegate:t,isVisible:!1,domNode:Ed(t.domNode),marginDomNode:t.marginDomNode?Ed(t.marginDomNode):null};return this._safeCallOnComputedHeight(n.delegate,i.heightInPx),n.domNode.setPosition("absolute"),n.domNode.domNode.style.width="100%",n.domNode.setDisplay("none"),n.domNode.setAttribute("monaco-view-zone",n.whitespaceId),this.domNode.appendChild(n.domNode),n.marginDomNode&&(n.marginDomNode.setPosition("absolute"),n.marginDomNode.domNode.style.width="100%",n.marginDomNode.setDisplay("none"),n.marginDomNode.setAttribute("monaco-view-zone",n.whitespaceId),this.marginDomNode.appendChild(n.marginDomNode)),this._zones[n.whitespaceId]=n,this.setShouldRender(),n.whitespaceId}_removeZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t];return delete this._zones[t],e.removeWhitespace(i.whitespaceId),i.domNode.removeAttribute("monaco-visible-view-zone"),i.domNode.removeAttribute("monaco-view-zone"),i.domNode.domNode.parentNode.removeChild(i.domNode.domNode),i.marginDomNode&&(i.marginDomNode.removeAttribute("monaco-visible-view-zone"),i.marginDomNode.removeAttribute("monaco-view-zone"),i.marginDomNode.domNode.parentNode.removeChild(i.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(e,t){if(this._zones.hasOwnProperty(t)){const i=this._zones[t],n=this._computeWhitespaceProps(i.delegate);return e.changeOneWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx),this._safeCallOnComputedHeight(i.delegate,n.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(e){if(this._zones.hasOwnProperty(e)){const t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1}_heightInPixels(e){return"number"==typeof e.heightInPx?e.heightInPx:"number"==typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight}_minWidthInPixels(e){return"number"==typeof e.minWidthInPx?e.minWidthInPx:0}_safeCallOnComputedHeight(e,t){if("function"==typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(e){$(e)}}_safeCallOnDomNodeTop(e,t){if("function"==typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(e){$(e)}}prepareRender(e){}render(e){const t=e.viewportData.whitespaceViewportData,i={};let n=!1;for(let e=0,r=t.length;e<r;e++)i[t[e].id]=t[e],n=!0;const r=Object.keys(this._zones);for(let t=0,n=r.length;t<n;t++){const n=r[t],o=this._zones[n];let s=0,a=0,l="none";i.hasOwnProperty(n)?(s=i[n].verticalOffset-e.bigNumbersDelta,a=i[n].height,l="block",o.isVisible||(o.domNode.setAttribute("monaco-visible-view-zone","true"),o.isVisible=!0),this._safeCallOnDomNodeTop(o.delegate,e.getScrolledTopFromAbsoluteTop(i[n].verticalOffset))):(o.isVisible&&(o.domNode.removeAttribute("monaco-visible-view-zone"),o.isVisible=!1),this._safeCallOnDomNodeTop(o.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),o.domNode.setTop(s),o.domNode.setHeight(a),o.domNode.setDisplay(l),o.marginDomNode&&(o.marginDomNode.setTop(s),o.marginDomNode.setHeight(a),o.marginDomNode.setDisplay(l))}n&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class sw{constructor(e){this._theme=e}get type(){return this._theme.type}update(e){this._theme=e}getColor(e){return this._theme.getColor(e)}}class aw{constructor(e,t,i){this.configuration=e,this.theme=new sw(t),this.model=i,this.viewLayout=i.viewLayout}addEventHandler(e){this.model.addViewEventHandler(e)}removeEventHandler(e){this.model.removeViewEventHandler(e)}}class lw{constructor(e,t,i,n){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=i,this._model=n,this.visibleRange=new mt(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}getViewLineRenderingData(e){return this._model.getViewLineRenderingData(this.visibleRange,e)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class cw{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new Rm(new mt(1,1,1,1),0,new pt(1,1),0),new Rm(new mt(1,1,1,1),0,new pt(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new Wm(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return 0===this.modelState.selection.getDirection()?new gt(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new gt(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,i){this._setState(e,t,i)}_setState(e,t,i){if(t){const i=e.model.validateRange(t.selectionStart),n=t.selectionStart.equalsRange(i)?t.selectionStartLeftoverVisibleColumns:0,r=e.model.validatePosition(t.position),o=t.position.equals(r)?t.leftoverVisibleColumns:0;t=new Rm(i,n,r,o)}else{if(!i)return;const n=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(i.selectionStart)),r=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(i.position));t=new Rm(n,i.selectionStartLeftoverVisibleColumns,r,i.leftoverVisibleColumns)}if(i){const n=e.coordinatesConverter.validateViewRange(i.selectionStart,t.selectionStart),r=e.coordinatesConverter.validateViewPosition(i.position,t.position);i=new Rm(n,t.selectionStartLeftoverVisibleColumns,r,t.leftoverVisibleColumns)}else{const n=e.coordinatesConverter.convertModelPositionToViewPosition(new pt(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),r=e.coordinatesConverter.convertModelPositionToViewPosition(new pt(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),o=new mt(n.lineNumber,n.column,r.lineNumber,r.column),s=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);i=new Rm(o,t.selectionStartLeftoverVisibleColumns,s,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=i,this._updateTrackedRange(e)}}class hw{constructor(e){this.context=e,this.primaryCursor=new cw(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}dispose(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()}startTrackingSelections(){this.primaryCursor.startTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)}stopTrackingSelections(){this.primaryCursor.stopTrackingSelection(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)}updateContext(e){this.context=e}ensureValidState(){this.primaryCursor.ensureValidState(this.context);for(let e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)}readSelectionFromMarkers(){let e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e}getAll(){let e=[];e[0]=this.primaryCursor.asCursorState();for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e}getViewPositions(){let e=[];e[0]=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e}getTopMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){const i=this.secondaryCursors[t].viewState.position;i.isBefore(e)&&(e=i)}return e}getBottomMostViewPosition(){let e=this.primaryCursor.viewState.position;for(let t=0,i=this.secondaryCursors.length;t<i;t++){const i=this.secondaryCursors[t].viewState.position;e.isBeforeOrEqual(i)&&(e=i)}return e}getSelections(){let e=[];e[0]=this.primaryCursor.modelState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e}getViewSelections(){let e=[];e[0]=this.primaryCursor.viewState.selection;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e}setSelections(e){this.setStates(Wm.fromModelSelections(e))}getPrimaryCursor(){return this.primaryCursor.asCursorState()}setStates(e){null!==e&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))}_setSecondaryStates(e){const t=this.secondaryCursors.length,i=e.length;if(t<i){let e=i-t;for(let t=0;t<e;t++)this._addSecondaryCursor()}else if(t>i){let e=t-i;for(let t=0;t<e;t++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(let t=0;t<i;t++)this.secondaryCursors[t].setState(this.context,e[t].modelState,e[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.secondaryCursors.push(new cw(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length}getLastAddedCursorIndex(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)}_getAll(){let e=[];e[0]=this.primaryCursor;for(let t=0,i=this.secondaryCursors.length;t<i;t++)e[t+1]=this.secondaryCursors[t];return e}normalize(){if(0===this.secondaryCursors.length)return;let e=this._getAll(),t=[];for(let i=0,n=e.length;i<n;i++)t.push({index:i,selection:e[i].modelState.selection});t.sort((e,t)=>e.selection.startLineNumber===t.selection.startLineNumber?e.selection.startColumn-t.selection.startColumn:e.selection.startLineNumber-t.selection.startLineNumber);for(let i=0;i<t.length-1;i++){const n=t[i],r=t[i+1],o=n.selection,s=r.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let a;if(a=s.isEmpty()||o.isEmpty()?s.getStartPosition().isBeforeOrEqual(o.getEndPosition()):s.getStartPosition().isBefore(o.getEndPosition())){const o=n.index<r.index?i:i+1,s=n.index<r.index?i+1:i,a=t[s].index,l=t[o].index,c=t[s].selection,h=t[o].selection;if(!c.equalsSelection(h)){const i=c.plusRange(h),n=c.selectionStartLineNumber===c.startLineNumber&&c.selectionStartColumn===c.startColumn,r=h.selectionStartLineNumber===h.startLineNumber&&h.selectionStartColumn===h.startColumn;let s,u;a===this.lastAddedCursorIndex?(s=n,this.lastAddedCursorIndex=l):s=r,u=s?new gt(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new gt(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn),t[o].selection=u;const d=Wm.fromModelSelection(u);e[l].setState(this.context,d.modelState,d.viewState)}for(const e of t)e.index>a&&e.index--;e.splice(a,1),t.splice(s,1),this._removeSecondaryCursor(a-1),i--}}}}class uw{constructor(e){this.type=0,this._source=e}hasChanged(e){return this._source.hasChanged(e)}}class dw{constructor(e,t){this.type=1,this.selections=e,this.modelSelections=t}}class fw{constructor(e){this.type=2,e?(this.affectsMinimap=e.affectsMinimap,this.affectsOverviewRuler=e.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class pw{constructor(){this.type=3}}class mw{constructor(e){this.type=4,this.isFocused=e}}class gw{constructor(){this.type=5}}class vw{constructor(){this.type=6}}class bw{constructor(e,t){this.type=7,this.fromLineNumber=e,this.toLineNumber=t}}class _w{constructor(e,t){this.type=8,this.fromLineNumber=e,this.toLineNumber=t}}class yw{constructor(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}}class ww{constructor(e,t,i,n,r,o){this.type=10,this.source=e,this.range=t,this.selections=i,this.verticalType=n,this.revealHorizontal=r,this.scrollType=o}}class Cw{constructor(e){this.type=11,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}}class Sw{constructor(){this.type=12}}class xw{constructor(e){this.type=13,this.ranges=e}}class kw{constructor(){this.type=14}}class Lw{constructor(){this.type=15}}class Dw extends ne{constructor(){super(),this._onEvent=this._register(new ce),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(e){this._addOutgoingEvent(e),this._emitOugoingEvents()}_addOutgoingEvent(e){for(let t=0,i=this._outgoingEvents.length;t<i;t++)if(this._outgoingEvents[t].kind===e.kind)return void(this._outgoingEvents[t]=this._outgoingEvents[t].merge(e));this._outgoingEvents.push(e)}_emitOugoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const e=this._outgoingEvents.shift();e.isNoOp()||this._onEvent.fire(e)}}addViewEventHandler(e){for(let t=0,i=this._eventHandlers.length;t<i;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)}removeViewEventHandler(e){for(let t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new Ew),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const e=this._collector.outgoingEvents,t=this._collector.viewEvents;this._collector=null;for(const t of e)this._addOutgoingEvent(t);t.length>0&&this._emitMany(t)}this._emitOugoingEvents()}emitSingleViewEvent(e){try{this.beginEmitViewEvents().emitViewEvent(e)}finally{this.endEmitViewEvents()}}_emitMany(e){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(e):this._viewEventQueue=e,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const e=this._viewEventQueue;this._viewEventQueue=null;const t=this._eventHandlers.slice(0);for(const i of t)i.handleEvents(e)}}}class Ew{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(e){this.viewEvents.push(e)}emitOutgoingEvent(e){this.outgoingEvents.push(e)}}class Nw{constructor(e,t,i,n){this.kind=0,this._oldContentWidth=e,this._oldContentHeight=t,this.contentWidth=i,this.contentHeight=n,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}merge(e){return 0!==e.kind?this:new Nw(this._oldContentWidth,this._oldContentHeight,e.contentWidth,e.contentHeight)}}class Tw{constructor(e,t){this.kind=1,this.oldHasFocus=e,this.hasFocus=t}isNoOp(){return this.oldHasFocus===this.hasFocus}merge(e){return 1!==e.kind?this:new Tw(this.oldHasFocus,e.hasFocus)}}class Ow{constructor(e,t,i,n,r,o,s,a){this.kind=2,this._oldScrollWidth=e,this._oldScrollLeft=t,this._oldScrollHeight=i,this._oldScrollTop=n,this.scrollWidth=r,this.scrollLeft=o,this.scrollHeight=s,this.scrollTop=a,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}merge(e){return 2!==e.kind?this:new Ow(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop)}}class Mw{constructor(){this.kind=3}isNoOp(){return!1}merge(e){return this}}class Iw{constructor(e,t,i,n,r,o,s){this.kind=5,this.oldSelections=e,this.selections=t,this.oldModelVersionId=i,this.modelVersionId=n,this.source=r,this.reason=o,this.reachedMaxCursorCount=s}static _selectionsAreEqual(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=e.length;if(i!==t.length)return!1;for(let n=0;n<i;n++)if(!e[n].equalsSelection(t[n]))return!1;return!0}isNoOp(){return Iw._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}merge(e){return 5!==e.kind?this:new Iw(this.oldSelections,e.selections,this.oldModelVersionId,e.modelVersionId,e.source,e.reason,this.reachedMaxCursorCount||e.reachedMaxCursorCount)}}class Aw{constructor(){this.kind=4}isNoOp(){return!1}merge(e){return this}}class Pw{constructor(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getCursorStates()}equals(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,i=this.cursorState.length;t<i;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class Rw{constructor(e,t,i){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=i}static getAllAutoClosedCharacters(e){let t=[];for(const i of e)t=t.concat(i.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const i=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);i&&e.push(i)}return e}isValid(e){let t=[];for(let e=0;e<this._autoClosedEnclosingDecorations.length;e++){const i=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[e]);if(i&&(t.push(i),i.startLineNumber!==i.endLineNumber))return!1}t.sort(mt.compareRangesUsingStarts),e.sort(mt.compareRangesUsingStarts);for(let i=0;i<e.length;i++){if(i>=t.length)return!1;if(!t[i].strictContainsRange(e[i]))return!1}return!0}}class Fw extends ne{constructor(e,t,i,n){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=i,this.context=new Fm(this._model,this._coordinatesConverter,n),this._cursors=new hw(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=J(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new Fm(this._model,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const i=this._autoClosedActions[t];i.isValid(e)||(i.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,i,n){let r=!1;null!==n&&n.length>Fw.MAX_CURSOR_COUNT&&(n=n.slice(0,Fw.MAX_CURSOR_COUNT),r=!0);const o=new Pw(this._model,this);return this._cursors.setStates(n),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,i,o,r)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,i,n){const r=this._cursors.getViewPositions();if(r.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),0,i,n);else{const o=r[0],s=new mt(o.lineNumber,o.column,o.lineNumber,o.column);this._emitCursorRevealRange(e,t,s,null,0,i,n)}}_revealPrimaryCursor(e,t,i,n,r){const o=this._cursors.getViewPositions();if(o.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),i,n,r);else{const s=o[0],a=new mt(s.lineNumber,s.column,s.lineNumber,s.column);this._emitCursorRevealRange(e,t,a,null,i,n,r)}}_emitCursorRevealRange(e,t,i,n,r,o,s){e.emitViewEvent(new ww(t,i,n,r,o,s))}saveState(){let e=[];const t=this._cursors.getSelections();for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push({inSelectionMode:!n.isEmpty(),selectionStart:{lineNumber:n.selectionStartLineNumber,column:n.selectionStartColumn},position:{lineNumber:n.positionLineNumber,column:n.positionColumn}})}return e}restoreState(e,t){let i=[];for(let e=0,n=t.length;e<n;e++){const n=t[e];let r=1,o=1;n.position&&n.position.lineNumber&&(r=n.position.lineNumber),n.position&&n.position.column&&(o=n.position.column);let s=r,a=o;n.selectionStart&&n.selectionStart.lineNumber&&(s=n.selectionStart.lineNumber),n.selectionStart&&n.selectionStart.column&&(a=n.selectionStart.column),i.push({selectionStartLineNumber:s,selectionStartColumn:a,positionLineNumber:r,positionColumn:o})}this.setStates(e,"restoreState",0,Wm.fromModelSelections(i)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,t){if(this._knownModelVersionId=t.versionId,this._isHandling)return;const i=t.containsEvent(1);if(this._prevEditOperationType=0,i)this._cursors.dispose(),this._cursors=new hw(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const i=Wm.fromModelSelections(t.resultingSelection);this.setStates(e,"modelChange",t.isUndoing?5:t.isRedoing?6:2,i)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{const t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,Wm.fromModelSelections(t))}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),i=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:zm.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:i.lineNumber,toViewVisualColumn:zm.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,i)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,i){this.setStates(e,t,0,Wm.fromModelSelections(i))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let i=[],n=[];for(let r=0,o=e.length;r<o;r++)i.push({range:e[r],options:{inlineClassName:"auto-closed-character",stickiness:1}}),n.push({range:t[r],options:{stickiness:1}});const r=this._model.deltaDecorations([],i),o=this._model.deltaDecorations([],n);this._autoClosedActions.push(new Rw(this._model,r,o))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=Vw.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let i=[],n=[];for(let t=0;t<e.commands.length;t++){const r=e.commands[t];r instanceof e_&&r.enclosingRange&&r.closeCharacterRange&&(i.push(r.closeCharacterRange),n.push(r.enclosingRange))}i.length>0&&this._pushAutoClosedAction(i,n),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,i,n,r){const o=new Pw(this._model,this);if(o.equals(n))return!1;const s=this._cursors.getSelections(),a=this._cursors.getViewSelections();if(e.emitViewEvent(new dw(a,s)),!n||n.cursorState.length!==o.cursorState.length||o.cursorState.some((e,t)=>!e.modelState.equals(n.cursorState[t].modelState))){const a=n?n.cursorState.map(e=>e.modelState.selection):null,l=n?n.modelVersionId:0;e.emitOutgoingEvent(new Iw(a,s,l,o.modelVersionId,t||"keyboard",i,r))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.text||n.text.indexOf("\n")>=0)return null;const r=n.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!r)return null;const o=r[1],s=this.context.cursorConfig.autoClosingPairsClose2.get(o);if(!s||1!==s.length)return null;const a=s[0].open,l=n.text.length-r[2].length-1,c=n.text.lastIndexOf(a,l-1);if(-1===c)return null;t.push([c,l])}return t}executeEdits(e,t,i,n){let r=null;"snippet"===t&&(r=this._findAutoClosingPairs(i)),r&&(i[0]._isTracked=!0);let o=[],s=[];const a=this._model.pushEditOperations(this.getSelections(),i,e=>{if(r)for(let t=0,i=r.length;t<i;t++){const[i,n]=r[t],a=e[t],l=a.range.startLineNumber,c=a.range.startColumn-1+i,h=a.range.startColumn-1+n;o.push(new mt(l,h+1,l,h+2)),s.push(new mt(l,c+1,l,h+2))}const t=n(e);return t&&(this._isHandling=!0),t});a&&(this._isHandling=!1,this.setSelections(e,t,a)),o.length>0&&this._pushAutoClosedAction(o,s)}_executeEdit(e,t,i,n=0){if(this.context.cursorConfig.readOnly)return;const r=new Pw(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(e){$(e)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,i,n,r,!1)&&this._revealPrimaryCursor(t,i,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,t){this._executeEdit(()=>{if("keyboard"===t){const e=Rw.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(Jb.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),e)),this._selectionsWhenCompositionStarted=null}},e,t)}type(e,t,i){this._executeEdit(()=>{if("keyboard"===i){const e=t.length;let i=0;for(;i<e;){const e=hr.J(t,i),n=t.substr(i,e),r=Rw.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(Jb.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),r,n)),i+=e}}else this._executeEditOperation(Jb.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))},e,i)}replacePreviousChar(e,t,i,n){this._executeEdit(()=>{this._executeEditOperation(Jb.replacePreviousChar(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,i))},e,n)}paste(e,t,i,n,r){this._executeEdit(()=>{this._executeEditOperation(Jb.paste(this.context.cursorConfig,this._model,this.getSelections(),t,i,n||[]))},e,r,4)}cut(e,t){this._executeEdit(()=>{this._executeEditOperation(Ub.cut(this.context.cursorConfig,this._model,this.getSelections()))},e,t)}executeCommand(e,t,i){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new $m(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}executeCommands(e,t,i){this._executeEdit(()=>{this._executeEditOperation(new $m(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},e,i)}}Fw.MAX_CURSOR_COUNT=1e4;class Vw{static executeCommands(e,t,i){const n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},r=this._innerExecuteCommands(n,i);for(let e=0,t=n.trackedRanges.length;e<t;e++)n.model._setTrackedRange(n.trackedRanges[e],null,0);return r}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const i=this._getEditOperations(e,t);if(0===i.operations.length)return null;const n=i.operations,r=this._getLoserCursorMap(n);if(r.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let o=[];for(let e=0,t=n.length;e<t;e++)r.hasOwnProperty(n[e].identifier.major.toString())||o.push(n[e]);i.hadTrackedEditOperation&&o.length>0&&(o[0]._isTracked=!0);let s=e.model.pushEditOperations(e.selectionsBefore,o,i=>{let n=[];for(let t=0;t<e.selectionsBefore.length;t++)n[t]=[];for(const e of i)e.identifier&&n[e.identifier.major].push(e);const r=(e,t)=>e.identifier.minor-t.identifier.minor;let o=[];for(let i=0;i<e.selectionsBefore.length;i++)n[i].length>0?(n[i].sort(r),o[i]=t[i].computeCursorState(e.model,{getInverseEditOperations:()=>n[i],getTrackedSelection:t=>{const i=parseInt(t,10),n=e.model._getTrackedRange(e.trackedRanges[i]);return 0===e.trackedRangesDirection[i]?new gt(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn):new gt(n.endLineNumber,n.endColumn,n.startLineNumber,n.startColumn)}})):o[i]=e.selectionsBefore[i];return o});s||(s=e.selectionsBefore);let a=[];for(let e in r)r.hasOwnProperty(e)&&a.push(parseInt(e,10));a.sort((e,t)=>t-e);for(const e of a)s.splice(e,1);return s}static _arrayIsEmpty(e){for(let t=0,i=e.length;t<i;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let i=[],n=!1;for(let r=0,o=t.length;r<o;r++){const o=t[r];if(o){const t=this._getEditOperationsFromCommand(e,r,o);i=i.concat(t.operations),n=n||t.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}}static _getEditOperationsFromCommand(e,t,i){let n=[],r=0;const o=(e,o,s=!1)=>{mt.isEmpty(e)&&""===o||n.push({identifier:{major:t,minor:r++},range:e,text:o,forceMoveMarkers:s,isAutoWhitespaceEdit:i.insertsAutoWhitespace})};let s=!1;const a={addEditOperation:o,addTrackedEditOperation:(e,t,i)=>{s=!0,o(e,t,i)},trackSelection:(t,i)=>{const n=gt.liftSelection(t);let r;if(n.isEmpty())if("boolean"==typeof i)r=i?2:3;else{const t=e.model.getLineMaxColumn(n.startLineNumber);r=n.startColumn===t?2:3}else r=1;const o=e.trackedRanges.length,s=e.model._setTrackedRange(null,n,r);return e.trackedRanges[o]=s,e.trackedRangesDirection[o]=n.getDirection(),o.toString()}};try{i.getEditOperations(e.model,a)}catch(e){return $(e),{operations:[],hadTrackedEditOperation:!1}}return{operations:n,hadTrackedEditOperation:s}}static _getLoserCursorMap(e){(e=e.slice(0)).sort((e,t)=>-mt.compareRangesUsingEnds(e.range,t.range));let t={};for(let i=1;i<e.length;i++){const n=e[i-1],r=e[i];if(mt.getStartPosition(n.range).isBefore(mt.getEndPosition(r.range))){let o;t[(o=n.identifier.major>r.identifier.major?n.identifier.major:r.identifier.major).toString()]=!0;for(let t=0;t<e.length;t++)e[t].identifier.major===o&&(e.splice(t,1),t<i&&i--,t--);i>0&&i--}}return t}}class Bw{constructor(e,t,i,n,r,o){this.id=e,this.label=t,this.alias=i,this._precondition=n,this._run=r,this._contextKeyService=o}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}function Ww(e,t,i,n,r,o,s){let a="<div>",l=n,c=0;for(let h=0,u=t.getCount();h<u;h++){const u=t.getEndOffset(h);if(u<=n)continue;let d="";for(;l<u&&l<r;l++){const t=e.charCodeAt(l);switch(t){case 9:let e=o-(l+c)%o;for(c+=e-1;e>0;)d+=s?"&#160;":" ",e--;break;case 60:d+="&lt;";break;case 62:d+="&gt;";break;case 38:d+="&amp;";break;case 0:d+="&#00;";break;case 65279:case 8232:case 8233:case 133:d+="�";break;case 13:d+="&#8203";break;case 32:d+=s?"&#160;":" ";break;default:d+=String.fromCharCode(t)}}if(a+=`<span style="${t.getInlineStyle(h,i)}">${d}</span>`,u>r||l>=r)break}return a+="</div>"}class $w{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(e){this._hasPending=!0,this._inserts.push(e)}change(e){this._hasPending=!0,this._changes.push(e)}remove(e){this._hasPending=!0,this._removes.push(e)}mustCommit(){return this._hasPending}commit(e){if(!this._hasPending)return;const t=this._inserts,i=this._changes,n=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,i,n)}}class zw{constructor(e,t,i,n,r){this.id=e,this.afterLineNumber=t,this.ordinal=i,this.height=n,this.minWidth=r,this.prefixSum=0}}class Hw{constructor(e,t,i,n){this._instanceId=hr.O(++Hw.INSTANCE_COUNT),this._pendingChanges=new $w,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=e,this._lineHeight=t,this._paddingTop=i,this._paddingBottom=n}static findInsertionIndex(e,t,i){let n=0,r=e.length;for(;n<r;){const o=n+r>>>1;t===e[o].afterLineNumber?i<e[o].ordinal?r=o:n=o+1:t<e[o].afterLineNumber?r=o:n=o+1}return n}setLineHeight(e){this._checkPendingChanges(),this._lineHeight=e}setPadding(e,t){this._paddingTop=e,this._paddingBottom=t}onFlushed(e){this._checkPendingChanges(),this._lineCount=e}changeWhitespace(e){let t=!1;try{e({insertWhitespace:(e,i,n,r)=>{t=!0,e|=0,i|=0,n|=0,r|=0;const o=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new zw(o,e,i,n,r)),o},changeOneWhitespace:(e,i,n)=>{t=!0,i|=0,n|=0,this._pendingChanges.change({id:e,newAfterLineNumber:i,newHeight:n})},removeWhitespace:e=>{t=!0,this._pendingChanges.remove({id:e})}})}finally{this._pendingChanges.commit(this)}return t}_commitPendingChanges(e,t,i){if((e.length>0||i.length>0)&&(this._minWidth=-1),e.length+t.length+i.length<=1){for(const t of e)this._insertWhitespace(t);for(const e of t)this._changeOneWhitespace(e.id,e.newAfterLineNumber,e.newHeight);for(const e of i){const t=this._findWhitespaceIndex(e.id);-1!==t&&this._removeWhitespace(t)}return}const n=new Set;for(const e of i)n.add(e.id);const r=new Map;for(const e of t)r.set(e.id,e);const o=e=>{let t=[];for(const i of e)if(!n.has(i.id)){if(r.has(i.id)){const e=r.get(i.id);i.afterLineNumber=e.newAfterLineNumber,i.height=e.newHeight}t.push(i)}return t},s=o(this._arr).concat(o(e));s.sort((e,t)=>e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber),this._arr=s,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(e){const t=Hw.findInsertionIndex(this._arr,e.afterLineNumber,e.ordinal);this._arr.splice(t,0,e),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)}_findWhitespaceIndex(e){const t=this._arr;for(let i=0,n=t.length;i<n;i++)if(t[i].id===e)return i;return-1}_changeOneWhitespace(e,t,i){const n=this._findWhitespaceIndex(e);if(-1!==n&&(this._arr[n].height!==i&&(this._arr[n].height=i,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)),this._arr[n].afterLineNumber!==t)){const e=this._arr[n];this._removeWhitespace(n),e.afterLineNumber=t,this._insertWhitespace(e)}}_removeWhitespace(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)}onLinesDeleted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){const n=this._arr[i].afterLineNumber;e<=n&&n<=t?this._arr[i].afterLineNumber=e-1:n>t&&(this._arr[i].afterLineNumber-=t-e+1)}}onLinesInserted(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(let i=0,n=this._arr.length;i<n;i++){e<=this._arr[i].afterLineNumber&&(this._arr[i].afterLineNumber+=t-e+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(e){this._checkPendingChanges(),e|=0;let t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(let i=t;i<=e;i++)this._arr[i].prefixSum=this._arr[i-1].prefixSum+this._arr[i].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(e){this._checkPendingChanges(),e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)}_findLastWhitespaceBeforeLineNumber(e){e|=0;const t=this._arr;let i=0,n=t.length-1;for(;i<=n;){const r=i+((n-i|0)/2|0)|0;if(t[r].afterLineNumber<e){if(r+1>=t.length||t[r+1].afterLineNumber>=e)return r;i=r+1|0}else n=r-1|0}return-1}_findFirstWhitespaceAfterLineNumber(e){e|=0;const t=this._findLastWhitespaceBeforeLineNumber(e)+1;return t<this._arr.length?t:-1}getFirstWhitespaceIndexAfterLineNumber(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)}getVerticalOffsetForLineNumber(e){let t;return this._checkPendingChanges(),(t=(e|=0)>1?this._lineHeight*(e-1):0)+this.getWhitespaceAccumulatedHeightBeforeLineNumber(e)+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let e=0;for(let t=0,i=this._arr.length;t<i;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth}isAfterLines(e){return this._checkPendingChanges(),e>this.getLinesTotalHeight()}getLineNumberAtOrAfterVerticalOffset(e){if(this._checkPendingChanges(),(e|=0)<0)return 1;const t=0|this._lineCount,i=this._lineHeight;let n=1,r=t;for(;n<r;){const t=(n+r)/2|0,o=0|this.getVerticalOffsetForLineNumber(t);if(e>=o+i)n=t+1;else{if(e>=o)return t;r=t}}return n>t?t:n}getLinesViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this._lineHeight,n=0|this.getLineNumberAtOrAfterVerticalOffset(e),r=0|this.getVerticalOffsetForLineNumber(n);let o=0|this._lineCount,s=0|this.getFirstWhitespaceIndexAfterLineNumber(n);const a=0|this.getWhitespacesCount();let l,c;-1===s?(s=a,c=o+1,l=0):(c=0|this.getAfterLineNumberForWhitespaceIndex(s),l=0|this.getHeightForWhitespaceIndex(s));let h=r,u=h;let d=0;r>=5e5&&(d=5e5*Math.floor(r/5e5),u-=d=Math.floor(d/i)*i);const f=[],p=e+(t-e)/2;let m=-1;for(let e=n;e<=o;e++){if(-1===m){(h<=p&&p<h+i||h>p)&&(m=e)}for(h+=i,f[e-n]=u,u+=i;c===e;)u+=l,h+=l,++s>=a?c=o+1:(c=0|this.getAfterLineNumberForWhitespaceIndex(s),l=0|this.getHeightForWhitespaceIndex(s));if(h>=t){o=e;break}}-1===m&&(m=o);const g=0|this.getVerticalOffsetForLineNumber(o);let v=n,b=o;return v<b&&r<e&&v++,v<b&&g+i>t&&b--,{bigNumbersDelta:d,startLineNumber:n,endLineNumber:o,relativeVerticalOffset:f,centeredLineNumber:m,completelyVisibleStartLineNumber:v,completelyVisibleEndLineNumber:b}}getVerticalOffsetForWhitespaceIndex(e){this._checkPendingChanges(),e|=0;const t=this.getAfterLineNumberForWhitespaceIndex(e);let i,n;return(i=t>=1?this._lineHeight*t:0)+(n=e>0?this.getWhitespacesAccumulatedHeight(e-1):0)+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(e){this._checkPendingChanges(),e|=0;let t=0,i=this.getWhitespacesCount()-1;if(i<0)return-1;if(e>=this.getVerticalOffsetForWhitespaceIndex(i)+this.getHeightForWhitespaceIndex(i))return-1;for(;t<i;){const n=Math.floor((t+i)/2),r=this.getVerticalOffsetForWhitespaceIndex(n);if(e>=r+this.getHeightForWhitespaceIndex(n))t=n+1;else{if(e>=r)return n;i=n}}return t}getWhitespaceAtVerticalOffset(e){this._checkPendingChanges(),e|=0;const t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;const i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e)return null;const n=this.getHeightForWhitespaceIndex(t);return{id:this.getIdForWhitespaceIndex(t),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(t),verticalOffset:i,height:n}}getWhitespaceViewportData(e,t){this._checkPendingChanges(),e|=0,t|=0;const i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),n=this.getWhitespacesCount()-1;if(i<0)return[];let r=[];for(let e=i;e<=n;e++){const i=this.getVerticalOffsetForWhitespaceIndex(e),n=this.getHeightForWhitespaceIndex(e);if(i>=t)break;r.push({id:this.getIdForWhitespaceIndex(e),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(e),verticalOffset:i,height:n})}return r}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].id}getAfterLineNumberForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber}getHeightForWhitespaceIndex(e){return this._checkPendingChanges(),e|=0,this._arr[e].height}}Hw.INSTANCE_COUNT=0;const jw=125;class Uw{constructor(e,t,i,n){t|=0,i|=0,n|=0,(e|=0)<0&&(e=0),t<0&&(t=0),i<0&&(i=0),n<0&&(n=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=i,this.contentHeight=n,this.scrollHeight=Math.max(i,n)}equals(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight}}class Kw extends ne{constructor(e,t){super(),this._onDidContentSizeChange=this._register(new ce),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Uw(0,0,0,0),this._scrollable=this._register(new Y_(e,t)),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(e){this._scrollable.setSmoothScrollDuration(e)}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}getScrollDimensions(){return this._dimensions}setScrollDimensions(e){if(this._dimensions.equals(e))return;const t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight},!0);const i=t.contentWidth!==e.contentWidth,n=t.contentHeight!==e.contentHeight;(i||n)&&this._onDidContentSizeChange.fire(new Nw(t.contentWidth,t.contentHeight,e.contentWidth,e.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(e){this._scrollable.setScrollPositionNow(e)}setScrollPositionSmooth(e){this._scrollable.setScrollPositionSmooth(e)}}class qw extends ne{constructor(e,t,i){super(),this._configuration=e;const n=this._configuration.options,r=n.get(117),o=n.get(66);this._linesLayout=new Hw(t,n.get(51),o.top,o.bottom),this._scrollable=this._register(new Kw(0,i)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Uw(r.contentWidth,0,r.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(94)?jw:0)}onConfigurationChanged(e){const t=this._configuration.options;if(e.hasChanged(51)&&this._linesLayout.setLineHeight(t.get(51)),e.hasChanged(66)){const e=t.get(66);this._linesLayout.setPadding(e.top,e.bottom)}if(e.hasChanged(117)){const e=t.get(117),i=e.contentWidth,n=e.height,r=this._scrollable.getScrollDimensions(),o=r.contentWidth;this._scrollable.setScrollDimensions(new Uw(i,r.contentWidth,n,this._getContentHeight(i,n,o)))}else this._updateHeight();e.hasChanged(94)&&this._configureSmoothScrollDuration()}onFlushed(e){this._linesLayout.onFlushed(e)}onLinesDeleted(e,t){this._linesLayout.onLinesDeleted(e,t)}onLinesInserted(e,t){this._linesLayout.onLinesInserted(e,t)}_getHorizontalScrollbarHeight(e,t){const i=this._configuration.options.get(84);return 2===i.horizontal?0:e>=t?0:i.horizontalScrollbarSize}_getContentHeight(e,t,i){const n=this._configuration.options;let r=this._linesLayout.getLinesTotalHeight();return n.get(86)?r+=t-n.get(51):r+=this._getHorizontalScrollbarHeight(e,i),r}_updateHeight(){const e=this._scrollable.getScrollDimensions(),t=e.width,i=e.height,n=e.contentWidth;this._scrollable.setScrollDimensions(new Uw(t,e.contentWidth,i,this._getContentHeight(t,i,n)))}getCurrentViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new ac(t.scrollTop,t.scrollLeft,e.width,e.height)}getFutureViewport(){const e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new ac(t.scrollTop,t.scrollLeft,e.width,e.height)}_computeContentWidth(e){const t=this._configuration.options,i=t.get(118),n=t.get(36);if(i.isViewportWrapping){const i=t.get(117),r=t.get(56);return e>i.contentWidth+n.typicalHalfwidthCharacterWidth&&r.enabled&&"right"===r.side?e+i.verticalScrollbarWidth:e}{const i=t.get(85)*n.typicalHalfwidthCharacterWidth,r=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+i,r)}}setMaxLineWidth(e){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Uw(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()}saveState(){const e=this._scrollable.getFutureScrollPosition();let t=e.scrollTop,i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);return{scrollTop:t,scrollTopWithoutViewZones:t-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i),scrollLeft:e.scrollLeft}}changeWhitespace(e){const t=this._linesLayout.changeWhitespace(e);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)}isAfterLines(e){return this._linesLayout.isAfterLines(e)}getLineNumberAtVerticalOffset(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)}getWhitespaceAtVerticalOffset(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)}getLinesViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)}getLinesViewportDataAtScrollTop(e){const t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)}getWhitespaceViewportData(){const e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(e){return this._scrollable.validateScrollPosition(e)}setScrollPosition(e,t){1===t?this._scrollable.setScrollPositionNow(e):this._scrollable.setScrollPositionSmooth(e)}deltaScrollNow(e,t){const i=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})}}class Gw{constructor(e,t){this.outputLineIndex=e,this.outputOffset=t}}class Yw{constructor(e,t,i){this.breakOffsets=e,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=i}static getInputOffsetOfOutputPosition(e,t,i){return 0===t?i:e[t-1]+i}static getOutputPositionOfInputOffset(e,t){let i=0,n=e.length-1,r=0,o=0;for(;i<=n;){const s=e[r=i+(n-i)/2|0];if(t<(o=r>0?e[r-1]:0))n=r-1;else{if(!(t>=s))break;i=r+1}}return new Gw(r,t-o)}}class Xw{constructor(e){this._lines=e}convertViewPositionToModelPosition(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)}convertViewRangeToModelRange(e){return this._lines.convertViewRangeToModelRange(e)}validateViewPosition(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)}validateViewRange(e,t){return this._lines.validateViewRange(e,t)}convertModelPositionToViewPosition(e){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column)}convertModelRangeToViewRange(e){return this._lines.convertModelRangeToViewRange(e)}modelPositionIsVisible(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)}}class Zw{constructor(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}_invalidate(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)}_ensureValid(){if(!this._isValid){for(let e=this._validEndIndex+1,t=this._counts.length;e<t;e++){const t=this._counts[e],i=e>0?this._modelToView[e-1]:0;this._modelToView[e]=i+t;for(let n=0;n<t;n++)this._viewToModel[i+n]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}}changeValue(e,t){this._counts[e]!==t&&(this._counts[e]=t,this._invalidate(e))}removeValues(e,t){this._counts.splice(e,t),this._invalidate(e)}insertValues(e,t){this._counts=Xi(this._counts,e,t),this._invalidate(e)}getTotalValue(){return this._ensureValid(),this._viewToModel.length}getAccumulatedValue(e){return this._ensureValid(),this._modelToView[e]}getIndexOf(e){this._ensureValid();const t=this._viewToModel[e],i=t>0?this._modelToView[t-1]:0;return new fl(t,e-i)}}class Qw{constructor(e,t,i,n,r,o,s,a){this.model=e,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=t,this._monospaceLineBreaksComputerFactory=i,this.fontInfo=n,this.tabSize=r,this.wrappingStrategy=o,this.wrappingColumn=s,this.wrappingIndent=a,this._constructLines(!0,null)}dispose(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])}createCoordinatesConverter(){return new Xw(this)}_constructLines(e,t){this.lines=[],e&&(this.hiddenAreasIds=[]);let i=this.model.getLinesContent();const n=i.length,r=this.createLineBreaksComputer();for(let e=0;e<n;e++)r.addRequest(i[e],t?t[e]:null);const o=r.finalize();let s=[],a=this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e)).sort(mt.compareRangesUsingStarts),l=1,c=0,h=-1,u=h+1<a.length?c+1:n+2;for(let e=0;e<n;e++){let t=e+1;t===u&&(l=a[++h].startLineNumber,c=a[h].endLineNumber,u=h+1<a.length?c+1:n+2);let i=t>=l&&t<=c,r=oC(o[e],!i);s[e]=r.getViewLineCount(),this.lines[e]=r}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new Zw(s)}getHiddenAreas(){return this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e))}_reduceRanges(e){if(0===e.length)return[];let t=e.map(e=>this.model.validateRange(e)).sort(mt.compareRangesUsingStarts),i=[],n=t[0].startLineNumber,r=t[0].endLineNumber;for(let e=1,o=t.length;e<o;e++){let o=t[e];o.startLineNumber>r+1?(i.push(new mt(n,1,r,1)),n=o.startLineNumber,r=o.endLineNumber):o.endLineNumber>r&&(r=o.endLineNumber)}return i.push(new mt(n,1,r,1)),i}setHiddenAreas(e){let t=this._reduceRanges(e),i=this.hiddenAreasIds.map(e=>this.model.getDecorationRange(e)).sort(mt.compareRangesUsingStarts);if(t.length===i.length){let e=!1;for(let n=0;n<t.length;n++)if(!t[n].equalsRange(i[n])){e=!0;break}if(!e)return!1}let n=[];for(const e of t)n.push({range:e,options:Lm.EMPTY});this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,n);let r=t,o=1,s=0,a=-1,l=a+1<r.length?s+1:this.lines.length+2,c=!1;for(let e=0;e<this.lines.length;e++){let t=e+1;t===l&&(o=r[++a].startLineNumber,s=r[a].endLineNumber,l=a+1<r.length?s+1:this.lines.length+2);let i=!1;if(t>=o&&t<=s?this.lines[e].isVisible()&&(this.lines[e]=this.lines[e].setVisible(!1),i=!0):(c=!0,this.lines[e].isVisible()||(this.lines[e]=this.lines[e].setVisible(!0),i=!0)),i){let t=this.lines[e].getViewLineCount();this.prefixSumComputer.changeValue(e,t)}}return c||this.setHiddenAreas([]),!0}modelPositionIsVisible(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()}setTabSize(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)}setWrappingSettings(e,t,i,n){const r=this.fontInfo.equals(e),o=this.wrappingStrategy===t,s=this.wrappingColumn===i,a=this.wrappingIndent===n;if(r&&o&&s&&a)return!1;const l=r&&o&&!s&&a;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=i,this.wrappingIndent=n;let c=null;if(l){c=[];for(let e=0,t=this.lines.length;e<t;e++)c[e]=this.lines[e].getLineBreakData()}return this._constructLines(!1,c),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(e,t,i){if(e<=this._validModelVersionId)return null;let n=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,r=this.prefixSumComputer.getAccumulatedValue(i-1);return this.lines.splice(t-1,i-t+1),this.prefixSumComputer.removeValues(t-1,i-t+1),new _w(n,r)}onModelLinesInserted(e,t,i,n){if(e<=this._validModelVersionId)return null;let r=this.getHiddenAreas(),o=!1,s=new pt(t,1);for(const e of r)if(e.containsPosition(s)){o=!0;break}let a=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,l=0,c=[],h=[];for(let e=0,t=n.length;e<t;e++){let t=oC(n[e],!o);c.push(t);let i=t.getViewLineCount();l+=i,h[e]=i}return this.lines=this.lines.slice(0,t-1).concat(c).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,h),new yw(a,a+l-1)}onModelLineChanged(e,t,i){if(e<=this._validModelVersionId)return[!1,null,null,null];let n=t-1,r=this.lines[n].getViewLineCount(),o=oC(i,this.lines[n].isVisible());this.lines[n]=o;let s=this.lines[n].getViewLineCount(),a=!1,l=0,c=-1,h=0,u=-1,d=0,f=-1;return r>s?(f=(d=(c=(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+s-1)+1)+(r-s)-1,a=!0):r<s?(u=(h=(c=(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+r-1)+1)+(s-r)-1,a=!0):c=(l=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1)+s-1,this.prefixSumComputer.changeValue(n,s),[a,l<=c?new bw(l,c):null,h<=u?new yw(h,u):null,d<=f?new _w(d,f):null]}acceptVersionId(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])}getViewLineCount(){return this.prefixSumComputer.getTotalValue()}_toValidViewLineNumber(e){if(e<1)return 1;const t=this.getViewLineCount();return e>t?t:0|e}getActiveIndentGuide(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),i=this._toValidViewLineNumber(i);const n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),r=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),o=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),s=this.model.getActiveIndentGuide(n.lineNumber,r.lineNumber,o.lineNumber),a=this.convertModelPositionToViewPosition(s.startLineNumber,1),l=this.convertModelPositionToViewPosition(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:s.indent}}getViewLinesIndentGuides(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);const i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));let r=[],o=[],s=[];const a=i.lineNumber-1,l=n.lineNumber-1;let c=null;for(let e=a;e<=l;e++){const t=this.lines[e];if(t.isVisible()){let n=t.getViewLineNumberOfModelPosition(0,e===a?i.column:1),r=t.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(e+1)),l=r-n+1,h=0;l>1&&1===t.getViewLineMinColumn(this.model,e+1,r)&&(h=0===n?1:2),o.push(l),s.push(h),null===c&&(c=new pt(e+1,0))}else null!==c&&(r=r.concat(this.model.getLinesIndentGuides(c.lineNumber,e)),c=null)}null!==c&&(r=r.concat(this.model.getLinesIndentGuides(c.lineNumber,n.lineNumber)),c=null);const h=t-e+1;let u=new Array(h),d=0;for(let e=0,t=r.length;e<t;e++){let t,i=r[e],n=Math.min(h-d,o[e]),a=s[e];t=2===a?0:1===a?1:n;for(let e=0;e<n;e++)e===t&&(i=0),u[d++]=i}return u}getViewLineContent(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineContent(this.model,i+1,n)}getViewLineLength(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineLength(this.model,i+1,n)}getViewLineMinColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMinColumn(this.model,i+1,n)}getViewLineMaxColumn(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineMaxColumn(this.model,i+1,n)}getViewLineData(e){e=this._toValidViewLineNumber(e);let t=this.prefixSumComputer.getIndexOf(e-1),i=t.index,n=t.remainder;return this.lines[i].getViewLineData(this.model,i+1,n)}getViewLinesData(e,t,i){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);let n=this.prefixSumComputer.getIndexOf(e-1),r=e,o=n.index,s=n.remainder,a=[];for(let n=o,l=this.model.getLineCount();n<l;n++){let l=this.lines[n];if(!l.isVisible())continue;let c=n===o?s:0,h=l.getViewLineCount()-c,u=!1;r+h>t&&(u=!0,h=t-r+1);let d=c+h;if(l.getViewLinesData(this.model,n+1,c,d,r-e,i,a),r+=h,u)break}return a}validateViewPosition(e,t,i){e=this._toValidViewLineNumber(e);let n=this.prefixSumComputer.getIndexOf(e-1),r=n.index,o=n.remainder,s=this.lines[r],a=s.getViewLineMinColumn(this.model,r+1,o),l=s.getViewLineMaxColumn(this.model,r+1,o);t<a&&(t=a),t>l&&(t=l);let c=s.getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new pt(r+1,c)).equals(i)?new pt(e,t):this.convertModelPositionToViewPosition(i.lineNumber,i.column)}validateViewRange(e,t){const i=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),n=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new mt(i.lineNumber,i.column,n.lineNumber,n.column)}convertViewPositionToModelPosition(e,t){e=this._toValidViewLineNumber(e);let i=this.prefixSumComputer.getIndexOf(e-1),n=i.index,r=i.remainder,o=this.lines[n].getModelColumnOfViewPosition(r,t);return this.model.validatePosition(new pt(n+1,o))}convertViewRangeToModelRange(e){const t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),i=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new mt(t.lineNumber,t.column,i.lineNumber,i.column)}convertModelPositionToViewPosition(e,t){const i=this.model.validatePosition(new pt(e,t)),n=i.lineNumber,r=i.column;let o=n-1,s=!1;for(;o>0&&!this.lines[o].isVisible();)o--,s=!0;if(0===o&&!this.lines[o].isVisible())return new pt(1,1);const a=1+(0===o?0:this.prefixSumComputer.getAccumulatedValue(o-1));let l;return l=s?this.lines[o].getViewPositionOfModelPosition(a,this.model.getLineMaxColumn(o+1)):this.lines[n-1].getViewPositionOfModelPosition(a,r)}convertModelRangeToViewRange(e){let t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),i=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return e.startLineNumber===e.endLineNumber&&t.lineNumber!==i.lineNumber&&i.column===this.getViewLineMinColumn(i.lineNumber)?new mt(t.lineNumber,t.column,i.lineNumber-1,this.getViewLineMaxColumn(i.lineNumber-1)):new mt(t.lineNumber,t.column,i.lineNumber,i.column)}_getViewLineNumberForModelPosition(e,t){let i=e-1;if(this.lines[i].isVisible()){const e=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(e,t)}for(;i>0&&!this.lines[i].isVisible();)i--;if(0===i&&!this.lines[i].isVisible())return 1;const n=1+(0===i?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(n,this.model.getLineMaxColumn(i+1))}getAllOverviewRulerDecorations(e,t,i){const n=this.model.getOverviewRulerDecorations(e,t),r=new lC;for(const e of n){const t=e.options.overviewRuler,n=t?t.position:0;if(0===n)continue;const o=t.getColor(i),s=this._getViewLineNumberForModelPosition(e.range.startLineNumber,e.range.startColumn),a=this._getViewLineNumberForModelPosition(e.range.endLineNumber,e.range.endColumn);r.accept(o,s,a,n)}return r.result}getDecorationsInRange(e,t,i){const n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),r=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(r.lineNumber-n.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new mt(n.lineNumber,1,r.lineNumber,r.column),t,i);let o=[];const s=n.lineNumber-1,a=r.lineNumber-1;let l=null;for(let e=s;e<=a;e++){if(this.lines[e].isVisible())null===l&&(l=new pt(e+1,e===s?n.column:1));else if(null!==l){const n=this.model.getLineMaxColumn(e);o=o.concat(this.model.getDecorationsInRange(new mt(l.lineNumber,l.column,e,n),t,i)),l=null}}null!==l&&(o=o.concat(this.model.getDecorationsInRange(new mt(l.lineNumber,l.column,r.lineNumber,r.column),t,i)),l=null),o.sort((e,t)=>{const i=mt.compareRangesUsingStarts(e.range,t.range);return 0===i?e.id<t.id?-1:e.id>t.id?1:0:i});let c=[],h=0,u=null;for(const e of o){const t=e.id;u!==t&&(u=t,c[h++]=e)}return c}}class Jw{constructor(){}isVisible(){return!0}setVisible(e){return e?this:eC.INSTANCE}getLineBreakData(){return null}getViewLineCount(){return 1}getViewLineContent(e,t,i){return e.getLineContent(t)}getViewLineLength(e,t,i){return e.getLineLength(t)}getViewLineMinColumn(e,t,i){return e.getLineMinColumn(t)}getViewLineMaxColumn(e,t,i){return e.getLineMaxColumn(t)}getViewLineData(e,t,i){let n=e.getLineTokens(t),r=n.getLineContent();return new cc(r,!1,1,r.length+1,0,n.inflate())}getViewLinesData(e,t,i,n,r,o,s){o[r]?s[r]=this.getViewLineData(e,t,0):s[r]=null}getModelColumnOfViewPosition(e,t){return t}getViewPositionOfModelPosition(e,t){return new pt(e,t)}getViewLineNumberOfModelPosition(e,t){return e}}Jw.INSTANCE=new Jw;class eC{constructor(){}isVisible(){return!1}setVisible(e){return e?Jw.INSTANCE:this}getLineBreakData(){return null}getViewLineCount(){return 0}getViewLineContent(e,t,i){throw new Error("Not supported")}getViewLineLength(e,t,i){throw new Error("Not supported")}getViewLineMinColumn(e,t,i){throw new Error("Not supported")}getViewLineMaxColumn(e,t,i){throw new Error("Not supported")}getViewLineData(e,t,i){throw new Error("Not supported")}getViewLinesData(e,t,i,n,r,o,s){throw new Error("Not supported")}getModelColumnOfViewPosition(e,t){throw new Error("Not supported")}getViewPositionOfModelPosition(e,t){throw new Error("Not supported")}getViewLineNumberOfModelPosition(e,t){throw new Error("Not supported")}}eC.INSTANCE=new eC;class tC{constructor(e,t){this._lineBreakData=e,this._isVisible=t}isVisible(){return this._isVisible}setVisible(e){return this._isVisible=e,this}getLineBreakData(){return this._lineBreakData}getViewLineCount(){return this._isVisible?this._lineBreakData.breakOffsets.length:0}getInputStartOffsetOfOutputLineIndex(e){return Yw.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,e,0)}getInputEndOffsetOfOutputLineIndex(e,t,i){return i+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(t)-1:Yw.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,i+1,0)}getViewLineContent(e,t,i){if(!this._isVisible)throw new Error("Not supported");let n=this.getInputStartOffsetOfOutputLineIndex(i),r=this.getInputEndOffsetOfOutputLineIndex(e,t,i),o=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:r+1});return i>0&&(o=nC(this._lineBreakData.wrappedTextIndentLength)+o),o}getViewLineLength(e,t,i){if(!this._isVisible)throw new Error("Not supported");let n=this.getInputStartOffsetOfOutputLineIndex(i),r=this.getInputEndOffsetOfOutputLineIndex(e,t,i)-n;return i>0&&(r=this._lineBreakData.wrappedTextIndentLength+r),r}getViewLineMinColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return i>0?this._lineBreakData.wrappedTextIndentLength+1:1}getViewLineMaxColumn(e,t,i){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(e,t,i).length+1}getViewLineData(e,t,i){if(!this._isVisible)throw new Error("Not supported");let n=this.getInputStartOffsetOfOutputLineIndex(i),r=this.getInputEndOffsetOfOutputLineIndex(e,t,i),o=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:r+1});i>0&&(o=nC(this._lineBreakData.wrappedTextIndentLength)+o);let s=i>0?this._lineBreakData.wrappedTextIndentLength+1:1,a=o.length+1,l=i+1<this.getViewLineCount(),c=0;i>0&&(c=this._lineBreakData.wrappedTextIndentLength);let h=e.getLineTokens(t);const u=0===i?0:this._lineBreakData.breakOffsetsVisibleColumn[i-1];return new cc(o,l,s,a,u,h.sliceAndInflate(n,r,c))}getViewLinesData(e,t,i,n,r,o,s){if(!this._isVisible)throw new Error("Not supported");for(let a=i;a<n;a++){let n=r+a-i;o[n]?s[n]=this.getViewLineData(e,t,a):s[n]=null}}getModelColumnOfViewPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let i=t-1;return e>0&&(i<this._lineBreakData.wrappedTextIndentLength?i=0:i-=this._lineBreakData.wrappedTextIndentLength),Yw.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,e,i)+1}getViewPositionOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");let i=Yw.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,t-1),n=i.outputLineIndex,r=i.outputOffset+1;return n>0&&(r+=this._lineBreakData.wrappedTextIndentLength),new pt(e+n,r)}getViewLineNumberOfModelPosition(e,t){if(!this._isVisible)throw new Error("Not supported");return e+Yw.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,t-1).outputLineIndex}}let iC=[""];function nC(e){if(e>=iC.length)for(let t=1;t<=e;t++)iC[t]=rC(t);return iC[e]}function rC(e){return new Array(e+1).join(" ")}function oC(e,t){return null===e?t?Jw.INSTANCE:eC.INSTANCE:new tC(e,t)}class sC{constructor(e){this._lines=e}_validPosition(e){return this._lines.model.validatePosition(e)}_validRange(e){return this._lines.model.validateRange(e)}convertViewPositionToModelPosition(e){return this._validPosition(e)}convertViewRangeToModelRange(e){return this._validRange(e)}validateViewPosition(e,t){return this._validPosition(t)}validateViewRange(e,t){return this._validRange(t)}convertModelPositionToViewPosition(e){return this._validPosition(e)}convertModelRangeToViewRange(e){return this._validRange(e)}modelPositionIsVisible(e){const t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)}}class aC{constructor(e){this.model=e}dispose(){}createCoordinatesConverter(){return new sC(this)}getHiddenAreas(){return[]}setHiddenAreas(e){return!1}setTabSize(e){return!1}setWrappingSettings(e,t,i,n){return!1}createLineBreaksComputer(){let e=[];return{addRequest:(t,i)=>{e.push(null)},finalize:()=>e}}onModelFlushed(){}onModelLinesDeleted(e,t,i){return new _w(t,i)}onModelLinesInserted(e,t,i,n){return new yw(t,i)}onModelLineChanged(e,t,i){return[!1,new bw(t,t),null,null]}acceptVersionId(e){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(e,t,i){return{startLineNumber:e,endLineNumber:e,indent:0}}getViewLinesIndentGuides(e,t){const i=t-e+1;let n=new Array(i);for(let e=0;e<i;e++)n[e]=0;return n}getViewLineContent(e){return this.model.getLineContent(e)}getViewLineLength(e){return this.model.getLineLength(e)}getViewLineMinColumn(e){return this.model.getLineMinColumn(e)}getViewLineMaxColumn(e){return this.model.getLineMaxColumn(e)}getViewLineData(e){let t=this.model.getLineTokens(e),i=t.getLineContent();return new cc(i,!1,1,i.length+1,0,t.inflate())}getViewLinesData(e,t,i){const n=this.model.getLineCount();e=Math.min(Math.max(1,e),n),t=Math.min(Math.max(1,t),n);let r=[];for(let n=e;n<=t;n++){let t=n-e;i[t]||(r[t]=null),r[t]=this.getViewLineData(n)}return r}getAllOverviewRulerDecorations(e,t,i){const n=this.model.getOverviewRulerDecorations(e,t),r=new lC;for(const e of n){const t=e.options.overviewRuler,n=t?t.position:0;if(0===n)continue;const o=t.getColor(i),s=e.range.startLineNumber,a=e.range.endLineNumber;r.accept(o,s,a,n)}return r.result}getDecorationsInRange(e,t,i){return this.model.getDecorationsInRange(e,t,i)}}class lC{constructor(){this.result=Object.create(null)}accept(e,t,i,n){let r=this.result[e];if(r){const e=r[r.length-3],o=r[r.length-1];if(e===n&&o+1>=t)return void(i>o&&(r[r.length-1]=i));r.push(n,t,i)}else this.result[e]=[n,t,i]}}class cC{constructor(e,t,i,n,r){this.editorId=e,this.model=t,this.configuration=i,this._linesCollection=n,this._coordinatesConverter=r,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(e){const t=e.id;let i=this._decorationsCache[t];if(!i){const n=e.range,r=e.options;let o;if(r.isWholeLine){const e=this._coordinatesConverter.convertModelPositionToViewPosition(new pt(n.startLineNumber,1)),t=this._coordinatesConverter.convertModelPositionToViewPosition(new pt(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)));o=new mt(e.lineNumber,e.column,t.lineNumber,t.column)}else o=this._coordinatesConverter.convertModelRangeToViewRange(n);i=new dc(o,r),this._decorationsCache[t]=i}return i}getDecorationsViewportData(e){let t=null!==this._cachedModelDecorationsResolver;return(t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange))||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver}_getDecorationsViewportData(e){const t=this._linesCollection.getDecorationsInRange(e,this.editorId,E(this.configuration.options)),i=e.startLineNumber,n=e.endLineNumber;let r=[],o=0,s=[];for(let e=i;e<=n;e++)s[e-i]=[];for(let e=0,a=t.length;e<a;e++){let a=t[e],l=a.options,c=this._getOrCreateViewModelDecoration(a),h=c.range;if(r[o++]=c,l.inlineClassName){let e=new uc(h,l.inlineClassName,l.inlineClassNameAffectsLetterSpacing?3:0),t=Math.max(i,h.startLineNumber),r=Math.min(n,h.endLineNumber);for(let n=t;n<=r;n++)s[n-i].push(e)}if(l.beforeContentClassName&&i<=h.startLineNumber&&h.startLineNumber<=n){let e=new uc(new mt(h.startLineNumber,h.startColumn,h.startLineNumber,h.startColumn),l.beforeContentClassName,1);s[h.startLineNumber-i].push(e)}if(l.afterContentClassName&&i<=h.endLineNumber&&h.endLineNumber<=n){let e=new uc(new mt(h.endLineNumber,h.endColumn,h.endLineNumber,h.endColumn),l.afterContentClassName,2);s[h.endLineNumber-i].push(e)}}return{decorations:r,inlineDecorations:s}}}const hC=!0;class uC{constructor(...e){this._entries=new Map;for(let[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}const dC=oi("accessibilityService"),fC=new id("accessibilityModeEnabled",!1);class pC extends gl{constructor(e,t){super(0);for(let t=0;t<e.length;t++)this.set(e.charCodeAt(t),1);for(let e=0;e<t.length;e++)this.set(t.charCodeAt(e),2)}get(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue}}let mC=[],gC=[];class vC{constructor(e,t){this.classifier=new pC(e,t)}static create(e){return new vC(e.get(108),e.get(107))}createLineBreaksComputer(e,t,i,n){t|=0,i=+i;let r=[],o=[];return{addRequest:(e,t)=>{r.push(e),o.push(t)},finalize:()=>{const s=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth;let a=[];for(let e=0,l=r.length;e<l;e++){const l=o[e];a[e]=l?bC(this.classifier,l,r[e],t,i,s,n):_C(this.classifier,r[e],t,i,s,n)}return mC.length=0,gC.length=0,a}}}}function bC(e,t,i,n,r,o,s){if(-1===r)return null;const a=i.length;if(a<=1)return null;const l=t.breakOffsets,c=t.breakOffsetsVisibleColumn,h=SC(i,n,r,o,s),u=r-h;let d=mC,f=gC,p=0,m=0,g=0,v=r;const b=l.length;let _=0;if(_>=0){let e=Math.abs(c[_]-v);for(;_+1<b;){const t=Math.abs(c[_+1]-v);if(t>=e)break;e=t,_++}}for(;_<b;){let t=_<0?0:l[_],r=_<0?0:c[_];m>t&&(t=m,r=g);let s=0,h=0,y=0,w=0;if(r<=v){let g=r,b=0===t?0:i.charCodeAt(t-1),_=0===t?0:e.get(b),C=!0;for(let r=t;r<a;r++){const t=r,a=i.charCodeAt(r);let l,c;if(hr.D(a)?(r++,l=0,c=2):(l=e.get(a),c=yC(a,g,n,o)),t>m&&CC(b,_,a,l)&&(s=t,h=g),(g+=c)>v){t>m?(y=t,w=g-c):(y=r+1,w=g),g-h>u&&(s=0),C=!1;break}b=a,_=l}if(C){p>0&&(d[p]=l[l.length-1],f[p]=c[l.length-1],p++);break}}if(0===s){let a=r,l=i.charCodeAt(t),c=e.get(l),d=!1;for(let n=t-1;n>=m;n--){const t=n+1,r=i.charCodeAt(n);if(9===r){d=!0;break}let f,p;if(hr.E(r)?(n--,f=0,p=2):(f=e.get(r),p=hr.C(r)?o:1),a<=v){if(0===y&&(y=t,w=a),a<=v-u)break;if(CC(r,f,l,c)){s=t,h=a;break}}a-=p,l=r,c=f}if(0!==s){const e=u-(w-h);if(e<=n){const t=i.charCodeAt(y);let r;e-(r=hr.D(t)?2:yC(t,w,n,o))<0&&(s=0)}}if(d){_--;continue}}for(0===s&&(s=y,h=w),m=s,d[p]=s,g=h,f[p]=h,p++,v=h+u;_<0||_<b&&c[_]<h;)_++;let C=Math.abs(c[_]-v);for(;_+1<b;){const e=Math.abs(c[_+1]-v);if(e>=C)break;C=e,_++}}return 0===p?null:(d.length=p,f.length=p,mC=t.breakOffsets,gC=t.breakOffsetsVisibleColumn,t.breakOffsets=d,t.breakOffsetsVisibleColumn=f,t.wrappedTextIndentLength=h,t)}function _C(e,t,i,n,r,o){if(-1===n)return null;const s=t.length;if(s<=1)return null;const a=SC(t,i,n,r,o),l=n-a;let c=[],h=[],u=0,d=0,f=0,p=n,m=t.charCodeAt(0),g=e.get(m),v=yC(m,0,i,r),b=1;hr.D(m)&&(v+=1,m=t.charCodeAt(1),g=e.get(m),b++);for(let n=b;n<s;n++){const o=n,s=t.charCodeAt(n);let a,b;hr.D(s)?(n++,a=0,b=2):(a=e.get(s),b=yC(s,v,i,r)),CC(m,g,s,a)&&(d=o,f=v),(v+=b)>p&&((0===d||v-f>l)&&(d=o,f=v-b),c[u]=d,h[u]=f,u++,p=f+l,d=0),m=s,g=a}return 0===u?null:(c[u]=s,h[u]=v,new Yw(c,h,a))}function yC(e,t,i,n){return 9===e?i-t%i:hr.C(e)?n:1}function wC(e,t){return t-e%t}function CC(e,t,i,n){return 32!==i&&(2===t||3===t&&2!==n||1===n||3===n&&1!==t)}function SC(e,t,i,n,r){let o=0;if(0!==r){const s=hr.u(e);if(-1!==s){for(let i=0;i<s;i++){o+=9===e.charCodeAt(i)?wC(o,t):1}const a=3===r?2:2===r?1:0;for(let e=0;e<a;e++){o+=wC(o,t)}o+n>i&&(o=0)}}return o}class xC{static create(){return new xC}constructor(){}createLineBreaksComputer(e,t,i,n){t|=0,i=+i;let r=[];return{addRequest:(e,t)=>{r.push(e)},finalize:()=>(function(e,t,i,n,r){if(-1===n){const t=[];for(let i=0,n=e.length;i<n;i++)t[i]=null;return t}const o=Math.round(n*t.typicalHalfwidthCharacterWidth);2!==r&&3!==r||(r=1);const s=document.createElement("div");Au.applyFontInfoSlow(s,t);const a=La(1e4),l=[],c=[],h=[],u=[],d=[];for(let n=0;n<e.length;n++){const s=e[n];let f=0,p=0,m=o;if(0!==r)if(-1===(f=hr.u(s)))f=0;else{for(let e=0;e<f;e++){const t=9===s.charCodeAt(e)?i-p%i:1;p+=t}const e=Math.ceil(t.spaceWidth*p);e+t.typicalFullwidthCharacterWidth>o?(f=0,p=0):m=o-e}const g=s.substr(f),v=kC(g,p,i,m,a);l[n]=f,c[n]=p,h[n]=g,u[n]=v[0],d[n]=v[1]}s.innerHTML=a.build(),s.style.position="absolute",s.style.top="10000",s.style.wordWrap="break-word",document.body.appendChild(s);let f=document.createRange();const p=Array.prototype.slice.call(s.children,0);let m=[];for(let t=0;t<e.length;t++){const e=p[t],i=LC(f,e,h[t],u[t]);if(null===i){m[t]=null;continue}const n=l[t],r=c[t],o=d[t],s=[];for(let e=0,t=i.length;e<t;e++)s[e]=o[i[e]];if(0!==n)for(let e=0,t=i.length;e<t;e++)i[e]+=n;m[t]=new Yw(i,s,r)}return document.body.removeChild(s),m})(r,e,t,i,n)}}}function kC(e,t,i,n,r){r.appendASCIIString('<div style="width:'),r.appendASCIIString(String(n)),r.appendASCIIString('px;">');const o=e.length;let s=t,a=0,l=[],c=[],h=0<o?e.charCodeAt(0):0;r.appendASCIIString("<span>");for(let t=0;t<o;t++){0!==t&&t%16384==0&&r.appendASCIIString("</span><span>"),l[t]=a,c[t]=s;const n=h;h=t+1<o?e.charCodeAt(t+1):0;let u=1,d=1;switch(n){case 9:d=u=i-s%i;for(let e=1;e<=u;e++)e<u?r.write1(160):r.appendASCII(32);break;case 32:32===h?r.write1(160):r.appendASCII(32);break;case 60:r.appendASCIIString("&lt;");break;case 62:r.appendASCIIString("&gt;");break;case 38:r.appendASCIIString("&amp;");break;case 0:r.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:r.write1(65533);break;default:hr.C(n)&&d++,r.write1(n)}a+=u,s+=d}return r.appendASCIIString("</span>"),l[e.length]=a,c[e.length]=s,r.appendASCIIString("</div>"),[l,c]}function LC(e,t,i,n){if(i.length<=1)return null;const r=Array.prototype.slice.call(t.children,0),o=[];try{!function e(t,i,n,r,o,s,a,l){if(r===s)return;o=o||DC(t,i,n[r],n[r+1]);a=a||DC(t,i,n[s],n[s+1]);if(Math.abs(o[0].top-a[0].top)<=.1)return;if(r+1===s)return void l.push(s);const c=r+(s-r)/2|0;const h=DC(t,i,n[c],n[c+1]);e(t,i,n,r,o,c,h,l);e(t,i,n,c,h,s,a,l)}(e,r,n,0,null,i.length-1,null,o)}catch(e){return console.log(e),null}return 0===o.length?null:(o.push(i.length),o)}function DC(e,t,i,n){return e.setStart(t[i/16384|0].firstChild,i%16384),e.setEnd(t[n/16384|0].firstChild,n%16384),e.getClientRects()}var EC=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},NC=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};let TC=0;let OC=class e extends ne{constructor(e,t,i,n,r,o,s,a,l,c){let h;super(),this._onDidDispose=this._register(new ce),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new ce),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new ce),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new ce),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new ce),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new ce),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeConfiguration=this._register(new ce),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new ce),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new ce),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new ce),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new ce),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new ce),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new MC),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new MC),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new ce),this.onWillType=this._onWillType.event,this._onDidType=this._register(new ce),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new ce),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new ce),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new ce),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new ce),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new ce),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new ce),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new ce),this.onMouseDrop=this._onMouseDrop.event,this._onContextMenu=this._register(new ce),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new ce),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new ce),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new ce),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new ce),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new ce),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new ce),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new ce),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new ce),this.onDidChangeViewZones=this._onDidChangeViewZones.event,t=t||{},this._domElement=e,this._overflowWidgetsDomNode=t.overflowWidgetsDomNode,this._id=++TC,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this.isSimpleWidget=i.isSimpleWidget||!1,this._telemetryData=i.telemetryData,this._configuration=this._register(this._createConfiguration(t,c)),this._register(this._configuration.onDidChange(e=>{this._onDidChangeConfiguration.fire(e);const t=this._configuration.options;if(e.hasChanged(117)){const e=t.get(117);this._onDidLayoutChange.fire(e)}})),this._contextKeyService=this._register(s.createScoped(this._domElement)),this._notificationService=l,this._codeEditorService=r,this._commandService=o,this._themeService=a,this._register(new class extends ne{constructor(e,t){super(),this._editor=e,t.createKey("editorId",e.getId()),this._editorSimpleInput=t_.editorSimpleInput.bindTo(t),this._editorFocus=t_.focus.bindTo(t),this._textInputFocus=t_.textInputFocus.bindTo(t),this._editorTextFocus=t_.editorTextFocus.bindTo(t),this._editorTabMovesFocus=t_.tabMovesFocus.bindTo(t),this._editorReadonly=t_.readOnly.bindTo(t),this._editorColumnSelection=t_.columnSelection.bindTo(t),this._hasMultipleSelections=t_.hasMultipleSelections.bindTo(t),this._hasNonEmptySelection=t_.hasNonEmptySelection.bindTo(t),this._canUndo=t_.canUndo.bindTo(t),this._canRedo=t_.canRedo.bindTo(t),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(116)),this._editorReadonly.set(e.get(72)),this._editorColumnSelection.set(e.get(13))}_updateFromSelection(){const e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some(e=>!e.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))}}(this,this._contextKeyService)),this._register(new class extends ne{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this._langId=t_.languageId.bindTo(t),this._hasCompletionItemProvider=t_.hasCompletionItemProvider.bindTo(t),this._hasCodeActionsProvider=t_.hasCodeActionsProvider.bindTo(t),this._hasCodeLensProvider=t_.hasCodeLensProvider.bindTo(t),this._hasDefinitionProvider=t_.hasDefinitionProvider.bindTo(t),this._hasDeclarationProvider=t_.hasDeclarationProvider.bindTo(t),this._hasImplementationProvider=t_.hasImplementationProvider.bindTo(t),this._hasTypeDefinitionProvider=t_.hasTypeDefinitionProvider.bindTo(t),this._hasHoverProvider=t_.hasHoverProvider.bindTo(t),this._hasDocumentHighlightProvider=t_.hasDocumentHighlightProvider.bindTo(t),this._hasDocumentSymbolProvider=t_.hasDocumentSymbolProvider.bindTo(t),this._hasReferenceProvider=t_.hasReferenceProvider.bindTo(t),this._hasRenameProvider=t_.hasRenameProvider.bindTo(t),this._hasSignatureHelpProvider=t_.hasSignatureHelpProvider.bindTo(t),this._hasDocumentFormattingProvider=t_.hasDocumentFormattingProvider.bindTo(t),this._hasDocumentSelectionFormattingProvider=t_.hasDocumentSelectionFormattingProvider.bindTo(t),this._hasMultipleDocumentFormattingProvider=t_.hasMultipleDocumentFormattingProvider.bindTo(t),this._hasMultipleDocumentSelectionFormattingProvider=t_.hasMultipleDocumentSelectionFormattingProvider.bindTo(t),this._isInWalkThrough=t_.isInWalkThroughSnippet.bindTo(t);const i=()=>this._update();this._register(e.onDidChangeModel(i)),this._register(e.onDidChangeModelLanguage(i)),this._register(Rs.onDidChange(i)),this._register(qs.onDidChange(i)),this._register(Ks.onDidChange(i)),this._register(zs.onDidChange(i)),this._register(Hs.onDidChange(i)),this._register(js.onDidChange(i)),this._register(Us.onDidChange(i)),this._register(Vs.onDidChange(i)),this._register(Ws.onDidChange(i)),this._register(Bs.onDidChange(i)),this._register(As.onDidChange(i)),this._register(Ps.onDidChange(i)),this._register(Gs.onDidChange(i)),this._register(Ys.onDidChange(i)),this._register(Fs.onDidChange(i)),i()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const e=this._editor.getModel();e?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(e.getLanguageIdentifier().language),this._hasCompletionItemProvider.set(Rs.has(e)),this._hasCodeActionsProvider.set(qs.has(e)),this._hasCodeLensProvider.set(Ks.has(e)),this._hasDefinitionProvider.set(zs.has(e)),this._hasDeclarationProvider.set(Hs.has(e)),this._hasImplementationProvider.set(js.has(e)),this._hasTypeDefinitionProvider.set(Us.has(e)),this._hasHoverProvider.set(Vs.has(e)),this._hasDocumentHighlightProvider.set(Ws.has(e)),this._hasDocumentSymbolProvider.set(Bs.has(e)),this._hasReferenceProvider.set(As.has(e)),this._hasRenameProvider.set(Ps.has(e)),this._hasSignatureHelpProvider.set(Fs.has(e)),this._hasDocumentFormattingProvider.set(Gs.has(e)||Ys.has(e)),this._hasDocumentSelectionFormattingProvider.set(Ys.has(e)),this._hasMultipleDocumentFormattingProvider.set(Gs.all(e).length+Ys.all(e).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(Ys.all(e).length>1),this._isInWalkThrough.set(e.uri.scheme===Zi.walkThroughSnippet)}):this.reset()}}(this,this._contextKeyService)),this._instantiationService=n.createChild(new uC([nd,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new class extends ne{constructor(e){super(),this._onChange=this._register(new ce),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(Yn(e)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}(e),this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())}),this._contentWidgets={},this._overlayWidgets={},h=Array.isArray(i.contributions)?i.contributions:wd.getEditorContributions();for(const e of h)try{const t=this._instantiationService.createInstance(e.ctor,this);this._contributions[e.id]=t}catch(e){$(e)}wd.getEditorActions().forEach(e=>{const t=new Bw(e.id,e.label,e.alias,Nr(e.precondition),()=>this._instantiationService.invokeFunction(t=>Promise.resolve(e.runEditorCommand(t,this,null))),this._contextKeyService);this._actions[t.id]=t}),this._codeEditorService.addCodeEditor(this)}_createConfiguration(e,t){return new Au(this.isSimpleWidget,e,this._domElement,t)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return to.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const e=Object.keys(this._contributions);for(let t=0,i=e.length;t<i;t++){const i=e[t];this._contributions[i].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(e){return this._instantiationService.invokeFunction(e)}updateOptions(e){this._configuration.updateOptions(e)}getOptions(){return this._configuration.options}getOption(e){return this._configuration.options.get(e)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(e){return this._modelData?Kb.getWordAtPosition(this._modelData.model,this._configuration.options.get(105),e):null}getValue(e=null){if(!this._modelData)return"";const t=!(!e||!e.preserveBOM);let i=0;return e&&e.lineEnding&&"\n"===e.lineEnding?i=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(i=2),this._modelData.model.getValue(i,t)}setValue(e){this._modelData&&this._modelData.model.setValue(e)}getModel(){return this._modelData?this._modelData.model:null}setModel(e=null){const t=e;if(null===this._modelData&&null===t)return;if(this._modelData&&this._modelData.model===t)return;const i=this.hasTextFocus(),n=this._detachModel();this._attachModel(t),i&&this.hasModel()&&this.focus();const r={oldModelUrl:n?n.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(r),this._postDetachModelCleanup(n)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(let e in this._decorationTypeSubtypes){const t=this._decorationTypeSubtypes[e];for(let i in t)this._removeDecorationType(e+"-"+i)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetForPosition(e,t,i){const n=e.model.validatePosition({lineNumber:t,column:i}),r=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(n);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(r.lineNumber)}getTopForLineNumber(t){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,1):-1}getTopForPosition(t,i){return this._modelData?e._getVerticalOffsetForPosition(this._modelData,t,i):-1}setHiddenAreas(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map(e=>mt.lift(e)))}getVisibleColumnFromPosition(e){if(!this._modelData)return e.column;const t=this._modelData.model.validatePosition(e),i=this._modelData.model.getOptions().tabSize;return zm.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,i)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(e){if(this._modelData){if(!pt.isIPosition(e))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}}_sendRevealRange(e,t,i,n){if(!this._modelData)return;if(!mt.isIRange(e))throw new Error("Invalid arguments");const r=this._modelData.model.validateRange(e),o=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(r);this._modelData.viewModel.revealRange("api",i,o,t,n)}revealLine(e,t=0){this._revealLine(e,0,t)}revealLineInCenter(e,t=0){this._revealLine(e,1,t)}revealLineInCenterIfOutsideViewport(e,t=0){this._revealLine(e,2,t)}revealLineNearTop(e,t=0){this._revealLine(e,5,t)}_revealLine(e,t,i){if("number"!=typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new mt(e,1,e,1),t,!1,i)}revealPosition(e,t=0){this._revealPosition(e,0,!0,t)}revealPositionInCenter(e,t=0){this._revealPosition(e,1,!0,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this._revealPosition(e,2,!0,t)}revealPositionNearTop(e,t=0){this._revealPosition(e,5,!0,t)}_revealPosition(e,t,i,n){if(!pt.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new mt(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(e){const t=gt.isISelection(e),i=mt.isIRange(e);if(!t&&!i)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(i){const t={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(t)}}_setSelectionImpl(e){if(!this._modelData)return;const t=new gt(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.viewModel.setSelections("api",[t])}revealLines(e,t,i=0){this._revealLines(e,t,0,i)}revealLinesInCenter(e,t,i=0){this._revealLines(e,t,1,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this._revealLines(e,t,2,i)}revealLinesNearTop(e,t,i=0){this._revealLines(e,t,5,i)}_revealLines(e,t,i,n){if("number"!=typeof e||"number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new mt(e,1,t,1),i,!1,n)}revealRange(e,t=0,i=!1,n=!0){this._revealRange(e,i?1:0,n,t)}revealRangeInCenter(e,t=0){this._revealRange(e,1,!0,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this._revealRange(e,2,!0,t)}revealRangeNearTop(e,t=0){this._revealRange(e,5,!0,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this._revealRange(e,6,!0,t)}revealRangeAtTop(e,t=0){this._revealRange(e,3,!0,t)}_revealRange(e,t,i,n){if(!mt.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(mt.lift(e),t,i,n)}setSelections(e,t="api"){if(this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(let t=0,i=e.length;t<i;t++)if(!gt.isISelection(e[t]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(t,e)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollLeft:e},t)}}setScrollTop(e,t=1){if(this._modelData){if("number"!=typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.setScrollPosition({scrollTop:e},t)}}setScrollPosition(e,t=1){this._modelData&&this._modelData.viewModel.setScrollPosition(e,t)}saveViewState(){if(!this._modelData)return null;const e={},t=Object.keys(this._contributions);for(const i of t){const t=this._contributions[i];"function"==typeof t.saveViewState&&(e[i]=t.saveViewState())}return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:e}}restoreViewState(e){if(!this._modelData||!this._modelData.hasRealView)return;const t=e;if(t&&t.cursorState&&t.viewState){const e=t.cursorState;Array.isArray(e)?this._modelData.viewModel.restoreCursorState(e):this._modelData.viewModel.restoreCursorState([e]);const i=t.contributionsState||{},n=Object.keys(this._contributions);for(let e=0,t=n.length;e<t;e++){const t=n[e],r=this._contributions[t];"function"==typeof r.restoreViewState&&r.restoreViewState(i[t])}const r=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(r)}}getContribution(e){return this._contributions[e]||null}getActions(){const e=[],t=Object.keys(this._actions);for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(this._actions[n])}return e}getSupportedActions(){let e=this.getActions();return e=e.filter(e=>e.isSupported())}getAction(e){return this._actions[e]||null}trigger(e,t,i){switch(i=i||{},t){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(e);case"type":{const t=i;return void this._type(e,t.text||"")}case"replacePreviousChar":{const t=i;return void this._replacePreviousChar(e,t.text||"",t.replaceCharCnt||0)}case"paste":{const t=i;return void this._paste(e,t.text||"",t.pasteOnNewLine||!1,t.multicursorText||null,t.mode||null)}case"cut":return void this._cut(e)}const n=this.getAction(t);n?Promise.resolve(n.run()).then(void 0,$):this._modelData&&this._triggerEditorCommand(e,t,i)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(e){this._modelData&&(this._modelData.viewModel.endComposition(e),this._onDidCompositionEnd.fire())}_type(e,t){this._modelData&&0!==t.length&&("keyboard"===e&&this._onWillType.fire(t),this._modelData.viewModel.type(t,e),"keyboard"===e&&this._onDidType.fire(t))}_replacePreviousChar(e,t,i){this._modelData&&this._modelData.viewModel.replacePreviousChar(t,i,e)}_paste(e,t,i,n,r){if(!this._modelData||0===t.length)return;const o=this._modelData.viewModel.getSelection().getStartPosition();this._modelData.viewModel.paste(t,i,n,e);const s=this._modelData.viewModel.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new mt(o.lineNumber,o.column,s.lineNumber,s.column),mode:r})}_cut(e){this._modelData&&this._modelData.viewModel.cut(e)}_triggerEditorCommand(e,t,i){const n=wd.getEditorCommand(t);return!!n&&((i=i||{}).source=e,this._instantiationService.invokeFunction(e=>{Promise.resolve(n.runEditorCommand(e,this,i)).then(void 0,$)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!!this._modelData&&(!this._configuration.options.get(72)&&(this._modelData.model.pushStackElement(),!0))}executeEdits(e,t,i){if(!this._modelData)return!1;if(this._configuration.options.get(72))return!1;let n;return n=i?Array.isArray(i)?()=>i:i:()=>null,this._modelData.viewModel.executeEdits(e,t,n),!0}executeCommand(e,t){this._modelData&&this._modelData.viewModel.executeCommand(t,e)}executeCommands(e,t){this._modelData&&this._modelData.viewModel.executeCommands(t,e)}changeDecorations(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null}getLineDecorations(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,E(this._configuration.options)):null}deltaDecorations(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]}removeDecorations(e){const t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]}getLayoutInfo(){return this._configuration.options.get(117)}createOverviewRuler(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarMouseDown(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(e)}layout(e){this._configuration.observeReferenceElement(e),this.render()}focus(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(e){const t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)}layoutContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const i=this._contentWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(i)}}removeContentWidget(e){const t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){const e=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(e)}}addOverlayWidget(e){const t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)}layoutOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const i=this._overlayWidgets[t];i.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(i)}}removeOverlayWidget(e){const t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){const e=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(e)}}changeViewZones(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.change(e)}getTargetAtClientPoint(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;const i=this._modelData.model.validatePosition(t),n=this._configuration.options,r=n.get(117);return{top:e._getVerticalOffsetForPosition(this._modelData,i.lineNumber,i.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(i.lineNumber,i.column)+r.glyphMarginWidth+r.lineNumbersWidth+r.decorationsWidth-this.getScrollLeft(),height:n.get(51)}}getOffsetForColumn(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1}render(e=!1){this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)}setAriaOptions(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)}applyFontInfo(e){Au.applyFontInfoSlow(e,this._configuration.options.get(36))}_attachModel(e){if(!e)return void(this._modelData=null);const t=[];this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();const i=new class extends ne{constructor(e,t,i,n,r,o){if(super(),this._editorId=e,this._configuration=t,this.model=i,this._eventDispatcher=new Dw,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new Pm(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._tokenizeViewportSoon=this._register(new Vi(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new Vi(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStartLine=-1,this._viewportStartLineTrackedRange=null,this._viewportStartLineDelta=0,hC&&this.model.isTooLargeForTokenization())this._lines=new aC(this.model);else{const e=this._configuration.options,t=e.get(36),i=e.get(112),o=e.get(118),s=e.get(111);this._lines=new Qw(this.model,n,r,t,this.model.getOptions().tabSize,i,o.wrappingColumn,s)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Fw(i,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new qw(this._configuration,this.getLineCount(),o)),this._register(this.viewLayout.onDidScroll(e=>{e.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitSingleViewEvent(new Cw(e)),this._eventDispatcher.emitOutgoingEvent(new Ow(e.oldScrollWidth,e.oldScrollLeft,e.oldScrollHeight,e.oldScrollTop,e.scrollWidth,e.scrollLeft,e.scrollHeight,e.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(e=>{this._eventDispatcher.emitOutgoingEvent(e)})),this._decorations=new cC(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(yy.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new kw)})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this.invalidateMinimapColorCache(),this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,null,1),this._eventDispatcher.dispose()}addViewEventHandler(e){this._eventDispatcher.addViewEventHandler(e)}removeViewEventHandler(e){this._eventDispatcher.removeViewEventHandler(e)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const e=this.viewLayout.getLinesViewportData(),t=this.coordinatesConverter.convertViewPositionToModelPosition(new pt(e.startLineNumber,1)),i=this.coordinatesConverter.convertViewPositionToModelPosition(new pt(e.endLineNumber,1));this.model.tokenizeViewport(t.lineNumber,i.lineNumber)}setHasFocus(e){this._hasFocus=e,this._cursor.setHasFocus(e),this._eventDispatcher.emitSingleViewEvent(new mw(e)),this._eventDispatcher.emitOutgoingEvent(new Tw(!e,e))}onDidColorThemeChange(){this._eventDispatcher.emitSingleViewEvent(new Sw)}_onConfigurationChanged(e,t){let i=null;if(-1!==this._viewportStartLine){let e=new pt(this._viewportStartLine,this.getLineMinColumn(this._viewportStartLine));i=this.coordinatesConverter.convertViewPositionToModelPosition(e)}let n=!1;const r=this._configuration.options,o=r.get(36),s=r.get(112),a=r.get(118),l=r.get(111);if(this._lines.setWrappingSettings(o,s,a.wrappingColumn,l)&&(e.emitViewEvent(new pw),e.emitViewEvent(new vw),e.emitViewEvent(new fw(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(n=!0),this._updateConfigurationViewLineCount.schedule()),t.hasChanged(72)&&(this._decorations.reset(),e.emitViewEvent(new fw(null))),e.emitViewEvent(new uw(t)),this.viewLayout.onConfigurationChanged(t),n&&i){const e=this.coordinatesConverter.convertModelPositionToViewPosition(i),t=this.viewLayout.getVerticalOffsetForLineNumber(e.lineNumber);this.viewLayout.setScrollPosition({scrollTop:t+this._viewportStartLineDelta},1)}Pm.shouldRecreate(t)&&(this.cursorConfig=new Pm(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeRawContentFast(e=>{try{const t=this._eventDispatcher.beginEmitViewEvents();let i=!1,n=!1;const r=e.changes,o=e.versionId,s=this._lines.createLineBreaksComputer();for(const e of r)switch(e.changeType){case 4:for(const t of e.detail)s.addRequest(t,null);break;case 2:s.addRequest(e.detail,null)}const a=s.finalize();let l=0;for(const e of r)switch(e.changeType){case 1:this._lines.onModelFlushed(),t.emitViewEvent(new pw),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),i=!0;break;case 3:{const n=this._lines.onModelLinesDeleted(o,e.fromLineNumber,e.toLineNumber);null!==n&&(t.emitViewEvent(n),this.viewLayout.onLinesDeleted(n.fromLineNumber,n.toLineNumber)),i=!0;break}case 4:{const n=a.slice(l,l+e.detail.length);l+=e.detail.length;const r=this._lines.onModelLinesInserted(o,e.fromLineNumber,e.toLineNumber,n);null!==r&&(t.emitViewEvent(r),this.viewLayout.onLinesInserted(r.fromLineNumber,r.toLineNumber)),i=!0;break}case 2:{const i=a[l];l++;const[r,s,c,h]=this._lines.onModelLineChanged(o,e.lineNumber,i);n=r,s&&t.emitViewEvent(s),c&&(t.emitViewEvent(c),this.viewLayout.onLinesInserted(c.fromLineNumber,c.toLineNumber)),h&&(t.emitViewEvent(h),this.viewLayout.onLinesDeleted(h.fromLineNumber,h.toLineNumber));break}}this._lines.acceptVersionId(o),this.viewLayout.onHeightMaybeChanged(),!i&&n&&(t.emitViewEvent(new vw),t.emitViewEvent(new fw(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}if(this._viewportStartLine=-1,this._configuration.setMaxLineNumber(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&this._viewportStartLineTrackedRange){const e=this.model._getTrackedRange(this._viewportStartLineTrackedRange);if(e){const t=this.coordinatesConverter.convertModelPositionToViewPosition(e.getStartPosition()),i=this.viewLayout.getVerticalOffsetForLineNumber(t.lineNumber);this.viewLayout.setScrollPosition({scrollTop:i+this._viewportStartLineDelta},1)}}try{const t=this._eventDispatcher.beginEmitViewEvents();this._cursor.onModelContentChanged(t,e)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(this.model.onDidChangeTokens(e=>{let t=[];for(let i=0,n=e.ranges.length;i<n;i++){const n=e.ranges[i],r=this.coordinatesConverter.convertModelPositionToViewPosition(new pt(n.fromLineNumber,1)).lineNumber,o=this.coordinatesConverter.convertModelPositionToViewPosition(new pt(n.toLineNumber,this.model.getLineMaxColumn(n.toLineNumber))).lineNumber;t[i]={fromLineNumber:r,toLineNumber:o}}this._eventDispatcher.emitSingleViewEvent(new xw(t)),e.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeLanguageConfiguration(e=>{this._eventDispatcher.emitSingleViewEvent(new gw),this.cursorConfig=new Pm(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeLanguage(e=>{this.cursorConfig=new Pm(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeOptions(e=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const e=this._eventDispatcher.beginEmitViewEvents();e.emitViewEvent(new pw),e.emitViewEvent(new vw),e.emitViewEvent(new fw(null)),this._cursor.onLineMappingChanged(e),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new Pm(this.model.getLanguageIdentifier(),this.model.getOptions(),this._configuration),this._cursor.updateConfiguration(this.cursorConfig)})),this._register(this.model.onDidChangeDecorations(e=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new fw(e))}))}setHiddenAreas(e){try{const t=this._eventDispatcher.beginEmitViewEvents();this._lines.setHiddenAreas(e)&&(t.emitViewEvent(new pw),t.emitViewEvent(new vw),t.emitViewEvent(new fw(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}getVisibleRangesPlusViewportAboveBelow(){const e=this._configuration.options.get(117),t=this._configuration.options.get(51),i=Math.max(20,Math.round(e.height/t)),n=this.viewLayout.getLinesViewportData(),r=Math.max(1,n.completelyVisibleStartLineNumber-i),o=Math.min(this.getLineCount(),n.completelyVisibleEndLineNumber+i);return this._toModelVisibleRanges(new mt(r,this.getLineMinColumn(r),o,this.getLineMaxColumn(o)))}getVisibleRanges(){const e=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(e)}_toModelVisibleRanges(e){const t=this.coordinatesConverter.convertViewRangeToModelRange(e),i=this._lines.getHiddenAreas();if(0===i.length)return[t];let n=[],r=0,o=t.startLineNumber,s=t.startColumn,a=t.endLineNumber,l=t.endColumn;for(let e=0,t=i.length;e<t;e++){const t=i[e].startLineNumber,l=i[e].endLineNumber;l<o||t>a||(o<t&&(n[r++]=new mt(o,s,t-1,this.model.getLineMaxColumn(t-1))),o=l+1,s=1)}return(o<a||o===a&&s<l)&&(n[r++]=new mt(o,s,a,l)),n}getCompletelyVisibleViewRange(){const e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,i=e.completelyVisibleEndLineNumber;return new mt(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))}getCompletelyVisibleViewRangeAtScrollTop(e){const t=this.viewLayout.getLinesViewportDataAtScrollTop(e),i=t.completelyVisibleStartLineNumber,n=t.completelyVisibleEndLineNumber;return new mt(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))}saveState(){const e=this.viewLayout.saveState(),t=e.scrollTop,i=this.viewLayout.getLineNumberAtVerticalOffset(t),n=this.coordinatesConverter.convertViewPositionToModelPosition(new pt(i,this.getLineMinColumn(i))),r=this.viewLayout.getVerticalOffsetForLineNumber(i)-t;return{scrollLeft:e.scrollLeft,firstPosition:n,firstPositionDeltaTop:r}}reduceRestoreState(e){if(void 0===e.firstPosition)return this._reduceRestoreStateCompatibility(e);const t=this.model.validatePosition(e.firstPosition),i=this.coordinatesConverter.convertModelPositionToViewPosition(t),n=this.viewLayout.getVerticalOffsetForLineNumber(i.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:n}}_reduceRestoreStateCompatibility(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getTextModelOptions(){return this.model.getOptions()}getLineCount(){return this._lines.getViewLineCount()}setViewport(e,t,i){this._viewportStartLine=e;let n=this.coordinatesConverter.convertViewPositionToModelPosition(new pt(e,this.getLineMinColumn(e)));this._viewportStartLineTrackedRange=this.model._setTrackedRange(this._viewportStartLineTrackedRange,new mt(n.lineNumber,n.column,n.lineNumber,n.column),1);const r=this.viewLayout.getVerticalOffsetForLineNumber(e),o=this.viewLayout.getCurrentScrollTop();this._viewportStartLineDelta=o-r}getActiveIndentGuide(e,t,i){return this._lines.getActiveIndentGuide(e,t,i)}getLinesIndentGuides(e,t){return this._lines.getViewLinesIndentGuides(e,t)}getLineContent(e){return this._lines.getViewLineContent(e)}getLineLength(e){return this._lines.getViewLineLength(e)}getLineMinColumn(e){return this._lines.getViewLineMinColumn(e)}getLineMaxColumn(e){return this._lines.getViewLineMaxColumn(e)}getLineFirstNonWhitespaceColumn(e){const t=hr.u(this.getLineContent(e));return-1===t?0:t+1}getLineLastNonWhitespaceColumn(e){const t=hr.H(this.getLineContent(e));return-1===t?0:t+2}getDecorationsInViewport(e){return this._decorations.getDecorationsViewportData(e).decorations}getViewLineRenderingData(e,t){let i=this.model.mightContainRTL(),n=this.model.mightContainNonBasicASCII(),r=this.getTabSize(),o=this._lines.getViewLineData(t),s=this._decorations.getDecorationsViewportData(e).inlineDecorations[t-e.startLineNumber];return new hc(o.minColumn,o.maxColumn,o.content,o.continuesWithWrappedLine,i,n,o.tokens,s,r,o.startVisibleColumn)}getViewLineData(e){return this._lines.getViewLineData(e)}getMinimapLinesRenderingData(e,t,i){let n=this._lines.getViewLinesData(e,t,i);return new lc(this.getTabSize(),n)}getAllOverviewRulerDecorations(e){return this._lines.getAllOverviewRulerDecorations(this._editorId,E(this._configuration.options),e)}invalidateOverviewRulerColorCache(){const e=this.model.getOverviewRulerDecorations();for(const t of e){const e=t.options.overviewRuler;e&&e.invalidateCachedColor()}}invalidateMinimapColorCache(){const e=this.model.getAllDecorations();for(const t of e){const e=t.options.minimap;e&&e.invalidateCachedColor()}}getValueInRange(e,t){const i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)}getModelLineMaxColumn(e){return this.model.getLineMaxColumn(e)}validateModelPosition(e){return this.model.validatePosition(e)}validateModelRange(e){return this.model.validateRange(e)}deduceModelPositionRelativeToViewPosition(e,t,i){const n=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=i:t+=i);const r=this.model.getOffsetAt(n)+t;return this.model.getPositionAt(r)}getEOL(){return this.model.getEOL()}getPlainTextToCopy(e,t,i){const n=i?"\r\n":this.model.getEOL();(e=e.slice(0)).sort(mt.compareRangesUsingStarts);let r=!1,o=!1;for(const t of e)t.isEmpty()?r=!0:o=!0;if(!o){if(!t)return"";const i=e.map(e=>e.startLineNumber);let r="";for(let e=0;e<i.length;e++)e>0&&i[e-1]===i[e]||(r+=this.model.getLineContent(i[e])+n);return r}if(r&&t){let t=[],n=0;for(const r of e){const e=r.startLineNumber;r.isEmpty()?e!==n&&t.push(this.model.getLineContent(e)):t.push(this.model.getValueInRange(r,i?2:0)),n=e}return 1===t.length?t[0]:t}let s=[];for(const t of e)t.isEmpty()||s.push(this.model.getValueInRange(t,i?2:0));return 1===s.length?s[0]:s}getRichTextToCopy(e,t){const i=this.model.getLanguageIdentifier();if(1===i.id)return null;if(1!==e.length)return null;let n=e[0];if(n.isEmpty()){if(!t)return null;const e=n.startLineNumber;n=new mt(e,this.model.getLineMinColumn(e),e,this.model.getLineMaxColumn(e))}const r=this._configuration.options.get(36),o=this._getColorMap(),s=r.fontFamily===T.fontFamily?r.fontFamily:`'${r.fontFamily}', ${T.fontFamily}`;return{mode:i.language,html:'<div style="'+`color: ${o[1]};`+`background-color: ${o[2]};`+`font-family: ${s};`+`font-weight: ${r.fontWeight};`+`font-size: ${r.fontSize}px;`+`line-height: ${r.lineHeight}px;`+'white-space: pre;">'+this._getHTMLToCopy(n,o)+"</div>"}}_getHTMLToCopy(e,t){const i=e.startLineNumber,n=e.startColumn,o=e.endLineNumber,s=e.endColumn,a=this.getTabSize();let l="";for(let e=i;e<=o;e++){const c=this.model.getLineTokens(e),h=c.getLineContent(),u=e===i?n-1:0,d=e===o?s-1:h.length;l+=""===h?"<br>":Ww(h,c.inflate(),t,u,d,a,r.i)}return l}_getColorMap(){let e=na.getColorMap(),t=["#000000"];if(e)for(let i=1,n=e.length;i<n;i++)t[i]=hm.Format.CSS.formatHex(e[i]);return t}pushStackElement(){this.model.pushStackElement()}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(e,t,i){this._withViewEventsCollector(n=>this._cursor.setStates(n,e,t,i))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}setCursorColumnSelectData(e){this._cursor.setCursorColumnSelectData(e)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(e){this._cursor.setPrevEditOperationType(e)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(e,t){this._withViewEventsCollector(i=>this._cursor.setSelections(i,e,t))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(e){this._withViewEventsCollector(t=>this._cursor.restoreState(t,e))}_executeCursorEdit(e){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new Aw):this._withViewEventsCollector(e)}executeEdits(e,t,i){this._executeCursorEdit(n=>this._cursor.executeEdits(n,e,t,i))}startComposition(){this._cursor.setIsDoingComposition(!0),this._executeCursorEdit(e=>this._cursor.startComposition(e))}endComposition(e){this._cursor.setIsDoingComposition(!1),this._executeCursorEdit(t=>this._cursor.endComposition(t,e))}type(e,t){this._executeCursorEdit(i=>this._cursor.type(i,e,t))}replacePreviousChar(e,t,i){this._executeCursorEdit(n=>this._cursor.replacePreviousChar(n,e,t,i))}paste(e,t,i,n){this._executeCursorEdit(r=>this._cursor.paste(r,e,t,i,n))}cut(e){this._executeCursorEdit(t=>this._cursor.cut(t,e))}executeCommand(e,t){this._executeCursorEdit(i=>this._cursor.executeCommand(i,e,t))}executeCommands(e,t){this._executeCursorEdit(i=>this._cursor.executeCommands(i,e,t))}revealPrimaryCursor(e,t){this._withViewEventsCollector(i=>this._cursor.revealPrimary(i,e,t,0))}revealTopMostCursor(e){const t=this._cursor.getTopMostViewPosition(),i=new mt(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(t=>t.emitViewEvent(new ww(e,i,null,0,!0,0)))}revealBottomMostCursor(e){const t=this._cursor.getBottomMostViewPosition(),i=new mt(t.lineNumber,t.column,t.lineNumber,t.column);this._withViewEventsCollector(t=>t.emitViewEvent(new ww(e,i,null,0,!0,0)))}revealRange(e,t,i,n,r){this._withViewEventsCollector(o=>o.emitViewEvent(new ww(e,i,null,n,t,r)))}getVerticalOffsetForLineNumber(e){return this.viewLayout.getVerticalOffsetForLineNumber(e)}getScrollTop(){return this.viewLayout.getCurrentScrollTop()}setScrollTop(e,t){this.viewLayout.setScrollPosition({scrollTop:e},t)}setScrollPosition(e,t){this.viewLayout.setScrollPosition(e,t)}deltaScrollNow(e,t){this.viewLayout.deltaScrollNow(e,t)}changeWhitespace(e){this.viewLayout.changeWhitespace(e)&&(this._eventDispatcher.emitSingleViewEvent(new Lw),this._eventDispatcher.emitOutgoingEvent(new Mw))}setMaxLineWidth(e){this.viewLayout.setMaxLineWidth(e)}_withViewEventsCollector(e){try{e(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}}(this._id,this._configuration,e,xC.create(),vC.create(this._configuration.options),e=>vn(e));t.push(e.onDidChangeDecorations(e=>this._onDidChangeModelDecorations.fire(e))),t.push(e.onDidChangeLanguage(t=>{this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._onDidChangeModelLanguage.fire(t)})),t.push(e.onDidChangeLanguageConfiguration(e=>this._onDidChangeModelLanguageConfiguration.fire(e))),t.push(e.onDidChangeContent(e=>this._onDidChangeModelContent.fire(e))),t.push(e.onDidChangeOptions(e=>this._onDidChangeModelOptions.fire(e))),t.push(e.onWillDispose(()=>this.setModel(null))),t.push(i.onEvent(e=>{switch(e.kind){case 0:this._onDidContentSizeChange.fire(e);break;case 1:this._editorTextFocus.setValue(e.hasFocus);break;case 2:this._onDidScrollChange.fire(e);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidAttemptReadOnlyEdit.fire();break;case 5:{e.reachedMaxCursorCount&&this._notificationService.warn(n(0,"The number of cursors has been limited to {0}.",Fw.MAX_CURSOR_COUNT));const t=[];for(let i=0,n=e.selections.length;i<n;i++)t[i]=e.selections[i].getPosition();const i={position:t[0],secondaryPositions:t.slice(1),reason:e.reason,source:e.source};this._onDidChangeCursorPosition.fire(i);const r={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason};this._onDidChangeCursorSelection.fire(r);break}}}));const[o,s]=this._createView(i);if(s){this._domElement.appendChild(o.domNode.domNode);let t=Object.keys(this._contentWidgets);for(let e=0,i=t.length;e<i;e++){const i=t[e];o.addContentWidget(this._contentWidgets[i])}for(let e=0,i=(t=Object.keys(this._overlayWidgets)).length;e<i;e++){const i=t[e];o.addOverlayWidget(this._overlayWidgets[i])}o.render(!1,!0),o.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new class{constructor(e,t,i,n,r){this.model=e,this.viewModel=t,this.view=i,this.hasRealView=n,this.listenersToRemove=r}dispose(){J(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}(e,i,o,s,t)}_createView(e){let t;t=this.isSimpleWidget?{paste:(e,t,i,n)=>{this._paste("keyboard",e,t,i,n)},type:e=>{this._type("keyboard",e)},replacePreviousChar:(e,t)=>{this._replacePreviousChar("keyboard",e,t)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(e,t,i,n)=>{const r={text:e,pasteOnNewLine:t,multicursorText:i,mode:n};this._commandService.executeCommand("paste",r)},type:e=>{const t={text:e};this._commandService.executeCommand("type",t)},replacePreviousChar:(e,t)=>{const i={text:e,replaceCharCnt:t};this._commandService.executeCommand("replacePreviousChar",i)},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const i=new v_(e.coordinatesConverter);return i.onKeyDown=(e=>this._onKeyDown.fire(e)),i.onKeyUp=(e=>this._onKeyUp.fire(e)),i.onContextMenu=(e=>this._onContextMenu.fire(e)),i.onMouseMove=(e=>this._onMouseMove.fire(e)),i.onMouseLeave=(e=>this._onMouseLeave.fire(e)),i.onMouseDown=(e=>this._onMouseDown.fire(e)),i.onMouseUp=(e=>this._onMouseUp.fire(e)),i.onMouseDrag=(e=>this._onMouseDrag.fire(e)),i.onMouseDrop=(e=>this._onMouseDrop.fire(e)),i.onMouseWheel=(e=>this._onMouseWheel.fire(e)),[new class extends jd{constructor(e,t,i,n,r,o){super(),this._selections=[new gt(1,1,1,1)],this._renderAnimationFrame=null;const s=new g_(t,n,r,e);this._context=new aw(t,i.getColorTheme(),n),this._context.addEventHandler(this),this._register(i.onDidColorThemeChange(e=>{this._context.theme.update(e),this._context.model.onDidColorThemeChange(),this.render(!0,!1)})),this._viewParts=[],this._textAreaHandler=new Fb(this._context,s,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=Ed(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=Ed(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=Ed(document.createElement("div")),Kd.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new ly(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new gy(this._context,this._linesContent),this._viewZones=new ow(this._context),this._viewParts.push(this._viewZones);const a=new $y(this._context);this._viewParts.push(a);const l=new qy(this._context);this._viewParts.push(l);const c=new x_(this._context);this._viewParts.push(c),c.addDynamicOverlay(new O_(this._context)),c.addDynamicOverlay(new Jy(this._context)),c.addDynamicOverlay(new dy(this._context)),c.addDynamicOverlay(new I_(this._context));const h=new k_(this._context);this._viewParts.push(h),h.addDynamicOverlay(new M_(this._context)),h.addDynamicOverlay(new uy(this._context)),h.addDynamicOverlay(new by(this._context)),h.addDynamicOverlay(new vy(this._context)),h.addDynamicOverlay(new Mb(this._context));const u=new Ib(this._context);u.getDomNode().appendChild(this._viewZones.marginDomNode),u.getDomNode().appendChild(h.getDomNode()),this._viewParts.push(u),this._contentWidgets=new D_(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new nw(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new By(this._context),this._viewParts.push(this._overlayWidgets);const d=new Ky(this._context);this._viewParts.push(d);const f=new Fy(this._context);if(this._viewParts.push(f),a){const e=this._scrollbar.getOverviewRulerLayoutInfo();e.parent.insertBefore(a.getDomNode(),e.insertBefore)}this._linesContent.appendChild(c.getDomNode()),this._linesContent.appendChild(d.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(u.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(l.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(f.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),o?o.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new lg(this._context,s,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,focusTextArea:()=>{this.focus()},getLastRenderData:()=>{const e=this._viewCursors.getLastRenderData()||[],t=this._textAreaHandler.getLastRenderData();return new jm(e,t)},shouldSuppressMouseDownOnViewZone:e=>this._viewZones.shouldSuppressMouseDownOnViewZone(e),shouldSuppressMouseDownOnWidget:e=>this._contentWidgets.shouldSuppressMouseDownOnWidget(e),getPositionFromDOMInfo:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(e,t)),visibleRangeForPosition:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new pt(e,t))),getLineWidth:e=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(e))}}_createTextAreaHandlerHelper(){return{visibleRangeForPositionRelativeToEditor:(e,t)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new pt(e,t)))}}_applyLayout(){const e=this._context.configuration.options.get(117);this.domNode.setWidth(e.width),this.domNode.setHeight(e.height),this._overflowGuardContainer.setWidth(e.width),this._overflowGuardContainer.setHeight(e.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(114)+" "+af(this._context.theme.type)+e}handleEvents(e){super.handleEvents(e),this._scheduleRender()}onConfigurationChanged(e){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(e){return this._selections=e.selections,!1}onFocusChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(e){return this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(let e=0,t=this._viewParts.length;e<t;e++)this._viewParts[e].dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=gn(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function(e){try{e()}catch(e){$(e)}}(()=>this._actualRender())}_getViewPartsToRender(){let e=[],t=0;for(let i=0,n=this._viewParts.length;i<n;i++){const n=this._viewParts[i];n.shouldRender()&&(e[t++]=n)}return e}_actualRender(){if(!nn(this.domNode.domNode))return;let e=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===e.length)return;const t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);const i=new lw(this._selections,t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(i),this._viewLines.shouldRender()&&(this._viewLines.renderText(i),this._viewLines.onDidRender(),e=this._getViewPartsToRender());const n=new Gd(this._context.viewLayout,i,this._viewLines);for(let t=0,i=e.length;t<i;t++)e[t].prepareRender(n);for(let t=0,i=e.length;t<i;t++){const i=e[t];i.render(n),i.onDidRender()}}delegateVerticalScrollbarMouseDown(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)}restoreState(e){this._context.model.setScrollPosition({scrollTop:e.scrollTop},1),this._context.model.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.model.setScrollPosition({scrollLeft:e.scrollLeft},1)}getOffsetForColumn(e,t){const i=this._context.model.validateModelPosition({lineNumber:e,column:t}),n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();const r=this._viewLines.visibleRangeForPosition(new pt(n.lineNumber,n.column));return r?r.left:-1}getTargetAtClientPoint(e,t){const i=this._pointerHandler.getTargetAtClientPoint(e,t);return i?v_.convertViewToModelMouseTarget(i,this._context.model.coordinatesConverter):null}createOverviewRuler(e){return new Uy(this._context,e)}change(e){this._viewZones.changeViewZones(e),this._scheduleRender()}render(e,t){if(t){this._viewLines.forceShouldRender();for(let e=0,t=this._viewParts.length;e<t;e++)this._viewParts[e].forceShouldRender()}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(e){this._textAreaHandler.setAriaOptions(e)}addContentWidget(e){this._contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()}layoutContentWidget(e){let t=e.position&&e.position.range||null;if(null===t){const i=e.position?e.position.position:null;null!==i&&(t=new mt(i.lineNumber,i.column,i.lineNumber,i.column))}const i=e.position?e.position.preference:null;this._contentWidgets.setWidgetPosition(e.widget,t,i),this._scheduleRender()}removeContentWidget(e){this._contentWidgets.removeWidget(e.widget),this._scheduleRender()}addOverlayWidget(e){this._overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()}layoutOverlayWidget(e){const t=e.position?e.position.preference:null;this._overlayWidgets.setWidgetPosition(e.widget,t)&&this._scheduleRender()}removeOverlayWidget(e){this._overlayWidgets.removeWidget(e.widget),this._scheduleRender()}}(t,this._configuration,this._themeService,e,i,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(e){e&&e.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.contains(t)&&this._domElement.removeChild(t),e}_removeDecorationType(e){this._codeEditorService.removeDecorationType(e)}hasModel(){return null!==this._modelData}};OC=EC([NC(3,ni),NC(4,si),NC(5,Tr),NC(6,nd),NC(7,tf),NC(8,zh),NC(9,dC)],OC);class MC extends ne{constructor(){super(),this._onDidChangeToTrue=this._register(new ce),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new ce),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(e){const t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}const IC=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),AC=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function PC(e){return IC+encodeURIComponent(e.toString())+AC}const RC=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),FC=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');var VC;hf((e,t)=>{const i=e.getColor(Xg);i&&t.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${i}; }`);const n=e.getColor(Yg);n&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${PC(n)}") repeat-x bottom left; }`);const r=e.getColor(Qg);r&&t.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${r}; }`);const o=e.getColor(Zg);o&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${PC(o)}") repeat-x bottom left; }`);const s=e.getColor(ev);s&&t.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${s}; }`);const a=e.getColor(Jg);a&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${PC(a)}") repeat-x bottom left; }`);const l=e.getColor(iv);l&&t.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${l}; }`);const c=e.getColor(tv);c&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${VC=c,RC+encodeURIComponent(VC.toString())+FC}") no-repeat bottom left; }`);const h=e.getColor(Db);h&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${h.rgba.a}; }`);const u=e.getColor(Lb);u&&t.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${u}; }`);const d=e.getColor(rv)||"inherit";t.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${d}}`)});i("Gu5N"),i("LCUL");const BC=!1;let WC=4;const $C=new ce;class zC extends ne{constructor(e,t,i){super(),this._state=3,this._onDidEnablementChange=this._register(new ce),this.onDidEnablementChange=this._onDidEnablementChange.event,this._onDidStart=this._register(new ce),this.onDidStart=this._onDidStart.event,this._onDidChange=this._register(new ce),this.onDidChange=this._onDidChange.event,this._onDidReset=this._register(new ce),this.onDidReset=this._onDidReset.event,this._onDidEnd=this._register(new ce),this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.orthogonalStartSashDisposables=this._register(new ie),this.orthogonalEndSashDisposables=this._register(new ie),this.el=Xn(e,er(".monaco-sash")),r.f&&sn(this.el,"mac"),this._register(bi(this.el,"mousedown")(this.onMouseDown,this)),this._register(bi(this.el,"dblclick")(this.onMouseDoubleClick,this)),this._register(Id.addTarget(this.el)),this._register(bi(this.el,Od.Start)(this.onTouchStart,this)),"number"==typeof i.size?(this.size=i.size,0===i.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=WC,this._register($C.event(e=>{this.size=e,this.layout()}))),this.hidden=!1,this.layoutProvider=t,this.orthogonalStartSash=i.orthogonalStartSash,this.orthogonalEndSash=i.orthogonalEndSash,this.orientation=i.orientation||0,1===this.orientation?(sn(this.el,"horizontal"),ln(this.el,"vertical")):(ln(this.el,"horizontal"),sn(this.el,"vertical")),hn(this.el,"debug",BC),this.layout()}get state(){return this._state}set state(e){this._state!==e&&(hn(this.el,"disabled",0===e),hn(this.el,"minimum",1===e),hn(this.el,"maximum",2===e),this._state=e,this._onDidEnablementChange.fire(e))}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){this.orthogonalStartSashDisposables.clear(),e?(this.orthogonalStartSashDisposables.add(e.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange,this)),this.onOrthogonalStartSashEnablementChange(e.state)):this.onOrthogonalStartSashEnablementChange(0),this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){this.orthogonalEndSashDisposables.clear(),e?(this.orthogonalEndSashDisposables.add(e.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange,this)),this.onOrthogonalEndSashEnablementChange(e.state)):this.onOrthogonalEndSashEnablementChange(0),this._orthogonalEndSash=e}onMouseDown(e){qn.stop(e,!1);let t=!1;if(!e.__orthogonalSashEvent){const i=this.getOrthogonalSash(e);i&&(t=!0,e.__orthogonalSashEvent=!0,i.onMouseDown(e))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onMouseDown(e)),!this.state)return;const i=[...rr("iframe"),...rr("webview")];for(const e of i)e.style.pointerEvents="none";const n=new Oi(e),o=n.posx,s=n.posy,a=n.altKey,l={startX:o,currentX:o,startY:s,currentY:s,altKey:a};sn(this.el,"active"),this._onDidStart.fire(l);const c=Wn(this.el),h=()=>{let e="";e=t?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":r.f?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":r.f?"col-resize":"ew-resize",c.innerHTML=`* { cursor: ${e} !important; }`},u=new ie;h(),t||this.onDidEnablementChange(h,null,u);bi(window,"mousemove")(e=>{qn.stop(e,!1);const t=new Oi(e),i={startX:o,currentX:t.posx,startY:s,currentY:t.posy,altKey:a};this._onDidChange.fire(i)},null,u),bi(window,"mouseup")(e=>{qn.stop(e,!1),this.el.removeChild(c),ln(this.el,"active"),this._onDidEnd.fire(),u.dispose();for(const e of i)e.style.pointerEvents="auto"},null,u)}onMouseDoubleClick(e){const t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}onTouchStart(e){qn.stop(e);const t=[],i=e.pageX,n=e.pageY,r=e.altKey;this._onDidStart.fire({startX:i,currentX:i,startY:n,currentY:n,altKey:r}),t.push(dn(this.el,Od.Change,e=>{wr(e.pageX)&&wr(e.pageY)&&this._onDidChange.fire({startX:i,currentX:e.pageX,startY:n,currentY:e.pageY,altKey:r})})),t.push(dn(this.el,Od.End,e=>{this._onDidEnd.fire(),J(t)}))}layout(){if(0===this.orientation){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}hide(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")}onOrthogonalStartSashEnablementChange(e){hn(this.el,"orthogonal-start",0!==e)}onOrthogonalEndSashEnablementChange(e){hn(this.el,"orthogonal-end",0!==e)}getOrthogonalSash(e){if(0===this.orientation){if(e.offsetY<=this.size)return this.orthogonalStartSash;if(e.offsetY>=this.el.clientHeight-this.size)return this.orthogonalEndSash}else{if(e.offsetX<=this.size)return this.orthogonalStartSash;if(e.offsetX>=this.el.clientWidth-this.size)return this.orthogonalEndSash}}dispose(){super.dispose(),this.el.remove()}}class HC{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}const jC=[];function UC(e,t,i){jC.push([e,new HC(t,[],i)])}const KC=oi("IEditorCancelService"),qC=new id("cancellableOperation",!1);UC(KC,class{constructor(){this._tokens=new WeakMap}add(e,t){let i,n=this._tokens.get(e);return n||(n=e.invokeWithinContext(e=>{return{key:qC.bindTo(e.get(nd)),tokens:new oe}}),this._tokens.set(e,n)),n.key.set(!0),i=n.tokens.push(t),()=>{i&&(i(),n.key.set(!n.tokens.isEmpty()),i=void 0)}}cancel(e){const t=this._tokens.get(e);if(!t)return;const i=t.tokens.pop();i&&(i.cancel(),t.key.set(!t.tokens.isEmpty()))}},!0);_d(new class extends vd{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:qC})}runEditorCommand(e,t){e.get(KC).cancel(t)}});class GC{constructor(e,t,i){this._visiblePosition=e,this._visiblePositionScrollDelta=t,this._cursorPosition=i}static capture(e){let t=null,i=0;if(0!==e.getScrollTop()){const n=e.getVisibleRanges();if(n.length>0){t=n[0].getStartPosition();const r=e.getTopForPosition(t.lineNumber,t.column);i=e.getScrollTop()-r}}return new GC(t,i,e.getPosition())}restore(e){if(this._visiblePosition){const t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(e){const t=e.getPosition();if(!this._cursorPosition||!t)return;const i=e.getTopForLineNumber(t.lineNumber)-e.getTopForLineNumber(this._cursorPosition.lineNumber);e.setScrollTop(e.getScrollTop()+i)}}i("5kgg"),i("LC7R");const YC={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:"text/plain"};class XC{constructor(e){this.data=e}update(){}getData(){return this.data}}const ZC={CurrentDragAndDropData:void 0};class QC extends ne{constructor(e,t,i={}){super(),this.options=i,this._context=e||this,this._action=t,t instanceof Ru&&this._register(t.onDidChange(e=>{this.element&&this.handleActionChangeEvent(e)}))}handleActionChangeEvent(e){void 0!==e.enabled&&this.updateEnabled(),void 0!==e.checked&&this.updateChecked(),void 0!==e.class&&this.updateClass(),void 0!==e.label&&(this.updateLabel(),this.updateTooltip()),void 0!==e.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Fu)),this._actionRunner}set actionRunner(e){this._actionRunner=e}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const t=this.element=e;this._register(Id.addTarget(e));const i=this.options&&this.options.draggable;i&&(e.draggable=!0,ui&&this._register(dn(e,Kn.DRAG_START,e=>{var t;return null===(t=e.dataTransfer)||void 0===t?void 0:t.setData(YC.TEXT,this._action.label)}))),this._register(dn(t,Od.Tap,e=>this.onClick(e))),this._register(dn(t,Kn.MOUSE_DOWN,e=>{i||qn.stop(e,!0),this._action.enabled&&0===e.button&&sn(t,"active")})),r.f&&this._register(dn(t,Kn.CONTEXT_MENU,e=>{0===e.button&&!0===e.ctrlKey&&this.onClick(e)})),this._register(dn(t,Kn.CLICK,e=>{qn.stop(e,!0),this.options&&this.options.isMenu||r.j(()=>this.onClick(e))})),this._register(dn(t,Kn.DBLCLICK,e=>{qn.stop(e,!0)})),[Kn.MOUSE_UP,Kn.MOUSE_OUT].forEach(e=>{this._register(dn(t,e,e=>{qn.stop(e),ln(t,"active")}))})}onClick(e){var t;qn.stop(e,!0);const i=xr(this._context)?(null===(t=this.options)||void 0===t?void 0:t.useEventAsContext)?e:void 0:this._context;this.actionRunner.run(this._action,i)}focus(){this.element&&(this.element.focus(),sn(this.element,"focused"))}blur(){this.element&&(this.element.blur(),ln(this.element,"focused"))}updateEnabled(){}updateLabel(){}updateTooltip(){}updateClass(){}updateChecked(){}dispose(){this.element&&(tn(this.element),this.element=void 0),super.dispose()}}class JC extends QC{constructor(e,t,i={}){super(e,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass=""}render(e){super.render(e),this.element&&(this.label=Xn(this.element,er("a.action-label"))),this.label&&(this._action.id===Vu.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(Xn(this.element,er("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){super.focus(),this.label&&this.label.focus()}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=n(0,"{0} ({1})",e,this.options.keybinding))),e&&this.label&&(this.label.title=e)}updateClass(){this.cssClass&&this.label&&cn(this.label,this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(sn(this.label,"codicon"),this.cssClass&&an(this.label,this.cssClass)),this.updateEnabled()):this.label&&ln(this.label,"codicon")}updateEnabled(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),ln(this.label,"disabled"),this.label.tabIndex=0),this.element&&ln(this.element,"disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),sn(this.label,"disabled"),nr(this.label)),this.element&&sn(this.element,"disabled"))}updateChecked(){this.label&&(this.getAction().checked?sn(this.label,"checked"):ln(this.label,"checked"))}}class eS extends ne{constructor(e,t={}){var i,n,r;let o,s;switch(super(),this._onDidBlur=this._register(new ce),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new ce),this.onDidCancel=this._onDidCancel.event,this._onDidRun=this._register(new ce),this.onDidRun=this._onDidRun.event,this._onDidBeforeRun=this._register(new ce),this.onDidBeforeRun=this._onDidBeforeRun.event,this.options=t,this._context=null!==(i=t.context)&&void 0!==i?i:null,this._orientation=null!==(n=this.options.orientation)&&void 0!==n?n:0,this._triggerKeys=null!==(r=this.options.triggerKeys)&&void 0!==r?r:{keys:[3,10],keyDown:!1},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new Fu,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(e=>this._onDidRun.fire(e))),this._register(this._actionRunner.onDidBeforeRun(e=>this._onDidBeforeRun.fire(e))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==t.animated&&sn(this.domNode,"animated"),this._orientation){case 0:o=15,s=17;break;case 1:o=17,s=15,this.domNode.className+=" reverse";break;case 2:o=16,s=18,this.domNode.className+=" vertical";break;case 3:o=18,s=16,this.domNode.className+=" vertical reverse"}this._register(dn(this.domNode,Kn.KEY_DOWN,e=>{const t=new ki(e);let i=!0;t.equals(o)?i=this.focusPrevious():t.equals(s)?i=this.focusNext():t.equals(9)?this._onDidCancel.fire():this.isTriggerKeyEvent(t)?this._triggerKeys.keyDown&&this.doTrigger(t):i=!1,i&&(t.preventDefault(),t.stopPropagation())})),this._register(dn(this.domNode,Kn.KEY_UP,e=>{const t=new ki(e);this.isTriggerKeyEvent(t)?(this._triggerKeys.keyDown||this.doTrigger(t),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(Yn(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{Bn()!==this.domNode&&In(Bn(),this.domNode)||(this._onDidBlur.fire(),this.focusedItem=void 0)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role","toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}isTriggerKeyEvent(e){let t=!1;return this._triggerKeys.keys.forEach(i=>{t=t||e.equals(i)}),t}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const t=this.actionsList.children[e];if(In(Bn(),t)){this.focusedItem=e;break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(t=>t.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){e&&(this._actionRunner=e,this.viewItems.forEach(t=>t.actionRunner=e))}getContainer(){return this.domNode}push(e,t={}){const i=Array.isArray(e)?e:[e];let n=wr(t.index)?t.index:null;i.forEach(e=>{const i=document.createElement("li");let r;i.className="action-item",i.setAttribute("role","presentation"),this.options.allowContextMenu||this._register(dn(i,Kn.CONTEXT_MENU,e=>{qn.stop(e,!0)})),this.options.actionViewItemProvider&&(r=this.options.actionViewItemProvider(e)),r||(r=new JC(this.context,e,t)),r.actionRunner=this._actionRunner,r.setActionContext(this.context),r.render(i),null===n||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(i),this.viewItems.push(r)):(this.actionsList.insertBefore(i,this.actionsList.children[n]),this.viewItems.splice(n,0,r),n++)}),this.focusedItem&&this.focus(this.focusedItem)}clear(){J(this.viewItems),this.viewItems=[],en(this.actionsList)}focus(e){let t=!1,i=void 0;void 0===e?t=!0:"number"==typeof e?i=e:"boolean"==typeof e&&(t=e),t&&void 0===this.focusedItem?(this.focusedItem=-1,this.focusNext()):(void 0!==i&&(this.focusedItem=i),this.updateFocus())}focusNext(){void 0===this.focusedItem&&(this.focusedItem=this.viewItems.length-1);const e=this.focusedItem;let t;do{if(this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=e,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&!t.isEnabled());return this.focusedItem!==e||t.isEnabled()||(this.focusedItem=void 0),this.updateFocus(),!0}focusPrevious(){void 0===this.focusedItem&&(this.focusedItem=0);const e=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(this.options.preventLoopNavigation)return this.focusedItem=e,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==e&&!t.isEnabled());return this.focusedItem!==e||t.isEnabled()||(this.focusedItem=void 0),this.updateFocus(!0),!0}updateFocus(e,t){void 0===this.focusedItem&&this.actionsList.focus({preventScroll:t});for(let i=0;i<this.viewItems.length;i++){const n=this.viewItems[i];i===this.focusedItem?kr(n.isEnabled)&&(n.isEnabled()&&kr(n.focus)?n.focus(e):this.actionsList.focus({preventScroll:t})):kr(n.blur)&&n.blur()}}doTrigger(e){if(void 0===this.focusedItem)return;const t=this.viewItems[this.focusedItem];if(t instanceof QC){const i=null===t._context||void 0===t._context?e:t._context;this.run(t._action,i)}}run(e,t){return this._actionRunner.run(e,t)}dispose(){J(this.viewItems),this.viewItems=[],tn(this.getContainer()),super.dispose()}}const tS=3;class iS{constructor(e,t,i,n){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=i,this.modifiedLineEnd=n}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class nS{constructor(e){this.entries=e}}const rS=Ss("diff-review-insert",xs.add),oS=Ss("diff-review-remove",xs.remove),sS=Ss("diff-review-close",xs.close);class aS extends ne{constructor(e){super(),this._width=0,this._diffEditor=e,this._isVisible=!1,this.shadow=Ed(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=Ed(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new eS(this.actionBarContainer.domNode)),this._actionBar.push(new Ru("diffreview.close",n(0,"Close"),"close-diff-review "+sS.classNames,!0,()=>(this.hide(),Promise.resolve(null))),{label:!1,icon:!0}),this.domNode=Ed(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=Ed(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new ay(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(e.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(e.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(pn(this.domNode.domNode,"click",e=>{e.preventDefault();let t=An(e.target,"diff-review-row");t&&this._goToRow(t)})),this._register(pn(this.domNode.domNode,"keydown",e=>{(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),this._goToRow(this._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),this._goToRow(this._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),this.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new pt(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let t=-1;for(let e=0,i=this._diffs.length;e<i;e++)if(this._diffs[e]===this._currentDiff){t=e;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;e%=this._diffs.length;const t=this._diffs[e].entries;this._diffEditor.setPosition(new pt(t[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:t[0].modifiedLineStart,endColumn:1073741824,endLineNumber:t[t.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let e=-1,t=this._getCurrentFocusedRow();if(t){let i=parseInt(t.getAttribute("data-line"),10);isNaN(i)||(e=i)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new pt(e,1)),this._diffEditor.revealPosition(new pt(e,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){let e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()}_getNextRow(){let e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){let e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null}_goToRow(e){let t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(e,t,i){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(i),this._content.setHeight(i),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const e=this._diffEditor.getLineChanges();if(!e||0===e.length)return[];const t=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return t&&i?aS._mergeAdjacent(e,t.getLineCount(),i.getLineCount()):[]}static _mergeAdjacent(e,t,i){if(!e||0===e.length)return[];let n=[],r=0;for(let o=0,s=e.length;o<s;o++){const a=e[o],l=a.originalStartLineNumber,c=a.originalEndLineNumber,h=a.modifiedStartLineNumber,u=a.modifiedEndLineNumber;let d=[],f=0;{const t=0===c?l:l-1,i=0===u?h:h-1;let n=1,r=1;if(o>0){const t=e[o-1];n=0===t.originalEndLineNumber?t.originalStartLineNumber+1:t.originalEndLineNumber+1,r=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber+1:t.modifiedEndLineNumber+1}let s=t-tS+1,a=i-tS+1;if(s<n){const e=n-s;s+=e,a+=e}if(a<r){const e=r-a;s+=e,a+=e}d[f++]=new iS(s,t,a,i)}0!==c&&(d[f++]=new iS(l,c,0,0)),0!==u&&(d[f++]=new iS(0,0,h,u));{const n=0===c?l+1:c+1,r=0===u?h+1:u+1;let a=t,p=i;if(o+1<s){const t=e[o+1];a=0===t.originalEndLineNumber?t.originalStartLineNumber:t.originalStartLineNumber-1,p=0===t.modifiedEndLineNumber?t.modifiedStartLineNumber:t.modifiedStartLineNumber-1}let m=n+tS-1,g=r+tS-1;if(m>a){const e=a-m;m+=e,g+=e}if(g>p){const e=p-g;m+=e,g+=e}d[f++]=new iS(n,m,r,g)}n[r++]=new nS(d)}let o=n[0].entries,s=[],a=0;for(let e=1,t=n.length;e<t;e++){const t=n[e].entries,i=o[o.length-1],r=t[0];0===i.getType()&&0===r.getType()&&r.originalLineStart<=i.originalLineEnd?(o[o.length-1]=new iS(i.originalLineStart,r.originalLineEnd,i.modifiedLineStart,r.modifiedLineEnd),o=o.concat(t.slice(1))):(s[a++]=new nS(o),o=t)}return s[a++]=new nS(o),s}_findDiffIndex(e){const t=e.lineNumber;for(let e=0,i=this._diffs.length;e<i;e++){const i=this._diffs[e].entries;if(t<=i[i.length-1].modifiedLineEnd)return e}return 0}_render(){const e=this._diffEditor.getOriginalEditor().getOptions(),t=this._diffEditor.getModifiedEditor().getOptions(),i=this._diffEditor.getOriginalEditor().getModel(),r=this._diffEditor.getModifiedEditor().getModel(),o=i.getOptions(),s=r.getOptions();if(!this._isVisible||!i||!r)return en(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const a=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[a]===this._currentDiff)return;this._currentDiff=this._diffs[a];const l=this._diffs[a].entries;let c=document.createElement("div");c.className="diff-review-table",c.setAttribute("role","list"),c.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),Au.applyFontInfoSlow(c,t.get(36));let h=0,u=0,d=0,f=0;for(let e=0,t=l.length;e<t;e++){const t=l[e],i=t.originalLineStart,n=t.originalLineEnd,r=t.modifiedLineStart,o=t.modifiedLineEnd;0!==i&&(0===h||i<h)&&(h=i),0!==n&&(0===u||n>u)&&(u=n),0!==r&&(0===d||r<d)&&(d=r),0!==o&&(0===f||o>f)&&(f=o)}let p=document.createElement("div");p.className="diff-review-row";let m=document.createElement("div");m.className="diff-review-cell diff-review-summary";const g=u-h+1,v=f-d+1;m.appendChild(document.createTextNode(`${a+1}/${this._diffs.length}: @@ -${h},${g} +${d},${v} @@`)),p.setAttribute("data-line",String(d));const b=e=>0===e?n(0,"no lines changed"):1===e?n(0,"1 line changed"):n(0,"{0} lines changed",e),_=b(g),y=b(v);p.setAttribute("aria-label",n(0,"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",a+1,this._diffs.length,h,_,d,y)),p.appendChild(m),p.setAttribute("role","listitem"),c.appendChild(p);const w=t.get(51);let C=d;for(let n=0,a=l.length;n<a;n++){const a=l[n];aS._renderSection(c,a,C,w,this._width,e,i,o,t,r,s),0!==a.modifiedLineStart&&(C=a.modifiedLineEnd)}en(this._content.domNode),this._content.domNode.appendChild(c),this.scrollbar.scanDomNode()}static _renderSection(e,t,i,r,o,s,a,l,c,h,u){const d=t.getType();let f="diff-review-row",p="";let m=null;switch(d){case 1:f="diff-review-row line-insert",p=" char-insert",m=rS;break;case 2:f="diff-review-row line-delete",p=" char-delete",m=oS}const g=t.originalLineStart,v=t.originalLineEnd,b=t.modifiedLineStart,_=t.modifiedLineEnd,y=Math.max(_-b,v-g),w=s.get(117),C=w.glyphMarginWidth+w.lineNumbersWidth,S=c.get(117),x=10+S.glyphMarginWidth+S.lineNumbersWidth;for(let t=0;t<=y;t++){const v=0===g?0:g+t,_=0===b?0:b+t,y=document.createElement("div");y.style.minWidth=o+"px",y.className=f,y.setAttribute("role","listitem"),0!==_&&(i=_),y.setAttribute("data-line",String(i));let w=document.createElement("div");w.className="diff-review-cell",w.style.height=`${r}px`,y.appendChild(w);const S=document.createElement("span");S.style.width=C+"px",S.style.minWidth=C+"px",S.className="diff-review-line-number"+p,0!==v?S.appendChild(document.createTextNode(String(v))):S.innerText=" ",w.appendChild(S);const k=document.createElement("span");k.style.width=x+"px",k.style.minWidth=x+"px",k.style.paddingRight="10px",k.className="diff-review-line-number"+p,0!==_?k.appendChild(document.createTextNode(String(_))):k.innerText=" ",w.appendChild(k);const L=document.createElement("span");if(L.className="diff-review-spacer",m){const e=document.createElement("span");e.className=m.classNames,e.innerText="  ",L.appendChild(e)}else L.innerText="  ";let D;w.appendChild(L),0!==_?(w.insertAdjacentHTML("beforeend",this._renderLine(h,c,u.tabSize,_)),D=h.getLineContent(_)):(w.insertAdjacentHTML("beforeend",this._renderLine(a,s,l.tabSize,v)),D=a.getLineContent(v)),0===D.length&&(D=n(0,"blank"));let E="";switch(d){case 0:E=v===_?n(0,"{0} unchanged line {1}",D,v):n(0,"{0} original line {1} modified line {2}",D,v,_);break;case 1:E=n(0,"+ {0} modified line {1}",D,_);break;case 2:E=n(0,"- {0} original line {1}",D,v)}y.setAttribute("aria-label",E),e.appendChild(y)}}static _renderLine(e,t,i,n){const r=e.getLineContent(n),o=t.get(36),s=new Uint32Array(2);s[0]=r.length,s[1]=16793600;const a=new Kl(s,r),l=hc.isBasicASCII(r,e.mightContainNonBasicASCII()),c=hc.containsRTL(r,l,e.mightContainRTL());return oc(new ec(o.isMonospace&&!t.get(24),o.canUseHalfwidthRightwardsArrow,r,!1,l,c,0,a,[],i,0,o.spaceWidth,o.middotWidth,o.wsmiddotWidth,t.get(95),t.get(80),t.get(74),t.get(37)!==k.OFF,null)).html}}hf((e,t)=>{const i=e.getColor(_b);i&&t.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${i}; }`);const n=e.getColor(jg);n&&t.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${n} 0 -6px 6px -6px inset; }`)});function lS(e){const t=e.get(si),i=t.listDiffEditors(),n=t.getActiveCodeEditor();if(!n)return null;for(let e=0,t=i.length;e<t;e++){const t=i[e];if(t.getModifiedEditor().getId()===n.getId()||t.getOriginalEditor().getId()===n.getId())return t}return null}yd(class extends bd{constructor(){super({id:"editor.action.diffReview.next",label:n(0,"Go to Next Difference"),alias:"Go to Next Difference",precondition:zu.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(e,t){const i=lS(e);i&&i.diffReviewNext()}}),yd(class extends bd{constructor(){super({id:"editor.action.diffReview.prev",label:n(0,"Go to Previous Difference"),alias:"Go to Previous Difference",precondition:zu.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(e,t){const i=lS(e);i&&i.diffReviewPrev()}});const cS=oi("contextViewService"),hS=oi("contextMenuService");var uS=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};class dS extends ne{constructor(e,t,i,r,o,s){super(),this._viewZoneId=e,this._marginDomNode=t,this.editor=i,this.diff=r,this._contextMenuService=o,this._clipboardService=s,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=xs.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const a=i.getOption(51),l=i.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${a}px`,this._diffActions.style.lineHeight=`${a}px`,this._marginDomNode.appendChild(this._diffActions);const c=[];c.push(new Ru("diff.clipboard.copyDeletedContent",r.originalEndLineNumber>r.modifiedStartLineNumber?n(0,"Copy deleted lines"):n(0,"Copy deleted line"),void 0,!0,()=>uS(this,void 0,void 0,function*(){yield this._clipboardService.writeText(r.originalContent.join(l)+l)})));let h=0,u=void 0;r.originalEndLineNumber>r.modifiedStartLineNumber&&(u=new Ru("diff.clipboard.copyDeletedLineContent",n(0,"Copy deleted line ({0})",r.originalStartLineNumber),void 0,!0,()=>uS(this,void 0,void 0,function*(){yield this._clipboardService.writeText(r.originalContent[h])})),c.push(u)),i.getOption(72)||c.push(new Ru("diff.inline.revertChange",n(0,"Revert this change"),void 0,!0,()=>uS(this,void 0,void 0,function*(){if(0===r.modifiedEndLineNumber){const e=i.getModel().getLineMaxColumn(r.modifiedStartLineNumber);i.executeEdits("diffEditor",[{range:new mt(r.modifiedStartLineNumber,e,r.modifiedStartLineNumber,e),text:l+r.originalContent.join(l)}])}else{const e=i.getModel().getLineMaxColumn(r.modifiedEndLineNumber);i.executeEdits("diffEditor",[{range:new mt(r.modifiedStartLineNumber,1,r.modifiedEndLineNumber,e),text:r.originalContent.join(l)}])}})));const d=(e,t)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:e,y:t}),getActions:()=>(u&&(u.label=n(0,"Copy deleted line ({0})",r.originalStartLineNumber+h)),c),autoSelectFirstItem:!0})};this._register(pn(this._diffActions,"mousedown",e=>{const{top:t,height:i}=En(this._diffActions);let n=Math.floor(a/3);e.preventDefault(),d(e.posx,t+i+n)})),this._register(i.onMouseMove(e=>{if(8===e.target.type||5===e.target.type){e.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,h=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,a)):this.visibility=!1}else this.visibility=!1})),this._register(i.onMouseDown(e=>{if(e.event.rightButton&&(8===e.target.type||5===e.target.type)){e.target.detail.viewZoneId===this._viewZoneId&&(e.event.preventDefault(),h=this._updateLightBulbPosition(this._marginDomNode,e.event.browserEvent.y,a),d(e.event.posx,e.event.posy+a))}}))}get visibility(){return this._visibility}set visibility(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")}_updateLightBulbPosition(e,t,i){const{top:n}=En(e),r=t-n,o=Math.floor(r/i),s=o*i;return this._diffActions.style.top=`${s}px`,o}}const fS=oi("clipboardService");(class{constructor(e){this.callback=e}report(e){this._value=e,this.callback(this._value)}}).None=Object.freeze({report(){}});const pS=oi("editorProgressService");var mS=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},gS=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};class vS{constructor(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this.inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(e){return e.filter(e=>!this._zonesMap[String(e.id)])}clean(e){this._zones.length>0&&e.changeViewZones(e=>{for(let t=0,i=this._zones.length;t<i;t++)e.removeZone(this._zones[t])}),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])}apply(e,t,i,n){const r=n?GC.capture(e):null;e.changeViewZones(t=>{for(let e=0,i=this._zones.length;e<i;e++)t.removeZone(this._zones[e]);for(let e=0,t=this.inlineDiffMargins.length;e<t;e++)this.inlineDiffMargins[e].dispose();this._zones=[],this._zonesMap={},this.inlineDiffMargins=[];for(let n=0,r=i.zones.length;n<r;n++){const r=i.zones[n];r.suppressMouseDown=!0;let o=t.addZone(r);this._zones.push(o),this._zonesMap[String(o)]=!0,i.zones[n].diff&&r.marginDomNode&&(r.suppressMouseDown=!1,this.inlineDiffMargins.push(new dS(o,r.marginDomNode,e,i.zones[n].diff,this._contextMenuService,this._clipboardService)))}}),r&&r.restore(e),this._decorations=e.deltaDecorations(this._decorations,i.decorations),t&&t.setZones(i.overviewZones)}}let bS=0;const _S=Ss("diff-insert",xs.add),yS=Ss("diff-remove",xs.remove);let wS=class e extends ne{constructor(t,i,n,r,o,s,a,l,c,h,u){super(),this._editorProgressService=u,this._onDidDispose=this._register(new ce),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new ce),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new ce),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=r,this._codeEditorService=a,this._contextKeyService=this._register(o.createScoped(t)),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=l,this._notificationService=c,this.id=++bS,this._state=0,this._updatingDiffProgress=null,this._domElement=t,i=i||{},this._renderSideBySide=!0,void 0!==i.renderSideBySide&&(this._renderSideBySide=i.renderSideBySide),this._maxComputationTime=5e3,void 0!==i.maxComputationTime&&(this._maxComputationTime=i.maxComputationTime),this._ignoreTrimWhitespace=!0,void 0!==i.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=i.ignoreTrimWhitespace),this._renderIndicators=!0,void 0!==i.renderIndicators&&(this._renderIndicators=i.renderIndicators),this._originalIsEditable=!1,void 0!==i.originalEditable&&(this._originalIsEditable=Boolean(i.originalEditable)),this._originalCodeLens=!1,void 0!==i.originalCodeLens&&(this._originalCodeLens=Boolean(i.originalCodeLens)),this._modifiedCodeLens=!1,void 0!==i.modifiedCodeLens&&(this._modifiedCodeLens=Boolean(i.modifiedCodeLens)),this._updateDecorationsRunner=this._register(new Vi(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=Ed(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(pn(this._overviewDomElement,"mousedown",e=>{this.modifiedEditor.delegateVerticalScrollbarMouseDown(e)})),this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new vS(h,n),this._modifiedEditorState=new vS(h,n),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Ou(this._containerDomElement,void 0,()=>this._onDidContainerSizeChanged())),i.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null;const d=this._contextKeyService.createScoped(),f=new uC;f.set(nd,d);const p=s.createChild(f),m=this._contextKeyService.createScoped(),g=new uC;g.set(nd,m);const v=s.createChild(g);this.originalEditor=this._createLeftHandSideEditor(i,p,d),this.modifiedEditor=this._createRightHandSideEditor(i,v,m),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=new aS(this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._enableSplitViewResizing=!0,void 0!==i.enableSplitViewResizing&&(this._enableSplitViewResizing=i.enableSplitViewResizing),this._renderSideBySide?this._setStrategy(new DS(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new NS(this._createDataSource(),this._enableSplitViewResizing)),this._register(l.onDidColorThemeChange(t=>{this._strategy&&this._strategy.applyColors(t)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._renderSideBySide)}));const b=wd.getDiffEditorContributions();for(const e of b)try{this._register(s.createInstance(e.ctor,this))}catch(e){$(e)}this._codeEditorService.addDiffEditor(this)}_setState(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(e,t){let i="monaco-diff-editor monaco-editor-background ";return t&&(i+="side-by-side "),i+=af(e.type)}_recreateOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this.originalEditor.hasModel()&&(this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this.modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers()}_createLeftHandSideEditor(t,i,n){const r=this._createInnerEditor(i,this._originalDomNode,this._adjustOptionsForLeftHandSide(t,this._originalIsEditable,this._originalCodeLens));this._register(r.onDidScrollChange(e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(r.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(r.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const o=n.createKey("isInDiffLeftEditor",void 0);return this._register(r.onDidFocusEditorWidget(()=>o.set(!0))),this._register(r.onDidBlurEditorWidget(()=>o.set(!1))),this._register(r.onDidContentSizeChange(t=>{const i=this.originalEditor.getContentWidth()+this.modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this.modifiedEditor.getContentHeight(),this.originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})})),r}_createRightHandSideEditor(t,i,n){const r=this._createInnerEditor(i,this._modifiedDomNode,this._adjustOptionsForRightHandSide(t,this._modifiedCodeLens));this._register(r.onDidScrollChange(e=>{this._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(this._isHandlingScrollEvent=!0,this.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(r.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(r.onDidChangeConfiguration(e=>{e.hasChanged(36)&&r.getModel()&&this._onViewZonesChanged()})),this._register(r.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(r.onDidChangeModelOptions(e=>{e.tabSize&&this._updateDecorationsRunner.schedule()}));const o=n.createKey("isInDiffRightEditor",void 0);return this._register(r.onDidFocusEditorWidget(()=>o.set(!0))),this._register(r.onDidBlurEditorWidget(()=>o.set(!1))),this._register(r.onDidContentSizeChange(t=>{const i=this.originalEditor.getContentWidth()+this.modifiedEditor.getContentWidth()+e.ONE_OVERVIEW_WIDTH,n=Math.max(this.modifiedEditor.getContentHeight(),this.originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:n,contentWidth:i,contentHeightChanged:t.contentHeightChanged,contentWidthChanged:t.contentWidthChanged})})),r}_createInnerEditor(e,t,i){return e.createInstance(OC,t,i,{})}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this.id}getEditorType(){return to.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this.originalEditor}getModifiedEditor(){return this.modifiedEditor}updateOptions(t){let i=!1;void 0!==t.renderSideBySide&&this._renderSideBySide!==t.renderSideBySide&&(this._renderSideBySide=t.renderSideBySide,i=!0),void 0!==t.maxComputationTime&&(this._maxComputationTime=t.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());let n=!1;void 0!==t.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==t.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=t.ignoreTrimWhitespace,n=!0),void 0!==t.renderIndicators&&this._renderIndicators!==t.renderIndicators&&(this._renderIndicators=t.renderIndicators,n=!0),n&&this._beginUpdateDecorations(),void 0!==t.originalEditable&&(this._originalIsEditable=Boolean(t.originalEditable)),void 0!==t.originalCodeLens&&(this._originalCodeLens=Boolean(t.originalCodeLens)),void 0!==t.modifiedCodeLens&&(this._modifiedCodeLens=Boolean(t.modifiedCodeLens)),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(t,this._modifiedCodeLens)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(t,this._originalIsEditable,this._originalCodeLens)),void 0!==t.enableSplitViewResizing&&(this._enableSplitViewResizing=t.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),i&&(this._renderSideBySide?this._setStrategy(new DS(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new NS(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=e._getClassName(this._themeService.getColorTheme(),this._renderSideBySide))}getModel(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}}setModel(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getDomNode(){return this._domElement}getVisibleColumnFromPosition(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)}getPosition(){return this.modifiedEditor.getPosition()}setPosition(e){this.modifiedEditor.setPosition(e)}revealLine(e,t=0){this.modifiedEditor.revealLine(e,t)}revealLineInCenter(e,t=0){this.modifiedEditor.revealLineInCenter(e,t)}revealLineInCenterIfOutsideViewport(e,t=0){this.modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)}revealLineNearTop(e,t=0){this.modifiedEditor.revealLineNearTop(e,t)}revealPosition(e,t=0){this.modifiedEditor.revealPosition(e,t)}revealPositionInCenter(e,t=0){this.modifiedEditor.revealPositionInCenter(e,t)}revealPositionInCenterIfOutsideViewport(e,t=0){this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)}revealPositionNearTop(e,t=0){this.modifiedEditor.revealPositionNearTop(e,t)}getSelection(){return this.modifiedEditor.getSelection()}getSelections(){return this.modifiedEditor.getSelections()}setSelection(e){this.modifiedEditor.setSelection(e)}setSelections(e){this.modifiedEditor.setSelections(e)}revealLines(e,t,i=0){this.modifiedEditor.revealLines(e,t,i)}revealLinesInCenter(e,t,i=0){this.modifiedEditor.revealLinesInCenter(e,t,i)}revealLinesInCenterIfOutsideViewport(e,t,i=0){this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)}revealLinesNearTop(e,t,i=0){this.modifiedEditor.revealLinesNearTop(e,t,i)}revealRange(e,t=0,i=!1,n=!0){this.modifiedEditor.revealRange(e,t,i,n)}revealRangeInCenter(e,t=0){this.modifiedEditor.revealRangeInCenter(e,t)}revealRangeInCenterIfOutsideViewport(e,t=0){this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)}revealRangeNearTop(e,t=0){this.modifiedEditor.revealRangeNearTop(e,t)}revealRangeNearTopIfOutsideViewport(e,t=0){this.modifiedEditor.revealRangeNearTopIfOutsideViewport(e,t)}revealRangeAtTop(e,t=0){this.modifiedEditor.revealRangeAtTop(e,t)}getSupportedActions(){return this.modifiedEditor.getSupportedActions()}saveViewState(){return{original:this.originalEditor.saveViewState(),modified:this.modifiedEditor.saveViewState()}}restoreViewState(e){if(e.original&&e.modified){let t=e;this.originalEditor.restoreViewState(t.original),this.modifiedEditor.restoreViewState(t.modified)}}layout(e){this._elementSizeObserver.observe(e)}focus(){this.modifiedEditor.focus()}hasTextFocus(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()}trigger(e,t,i){this.modifiedEditor.trigger(e,t,i)}changeDecorations(e){return this.modifiedEditor.changeDecorations(e)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const t=this._elementSizeObserver.getHeight(),i=this._getReviewHeight();let n=e.ENTIRE_DIFF_OVERVIEW_WIDTH-2*e.ONE_OVERVIEW_WIDTH;this.modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:e.ONE_OVERVIEW_WIDTH,right:n+e.ONE_OVERVIEW_WIDTH,height:t-i}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:e.ONE_OVERVIEW_WIDTH,height:t-i}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),e.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const t=this.originalEditor.getModel(),i=this.modifiedEditor.getModel();if(!t||!i)return;this._diffComputationToken++;let r=this._diffComputationToken;this._setState(1),this._editorWorkerService.canComputeDiff(t.uri,i.uri)?this._editorWorkerService.computeDiff(t.uri,i.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then(e=>{r===this._diffComputationToken&&t===this.originalEditor.getModel()&&i===this.modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=e,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},e=>{r===this._diffComputationToken&&t===this.originalEditor.getModel()&&i===this.modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())}):e._equals(t.uri,this._lastOriginalWarning)&&e._equals(i.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=t.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(n(0,"Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)}_updateDecorations(){if(!(this.originalEditor.getModel()&&this.modifiedEditor.getModel()&&this._originalOverviewRuler&&this._modifiedOverviewRuler))return;const e=this._diffComputationResult?this._diffComputationResult.changes:[];let t=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),i=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),n=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,t,i,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,n.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,n.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(e){let t=Hr(e||{});return t.inDiffEditor=!0,t.wordWrap="off",t.wordWrapMinified=!1,t.automaticLayout=!1,t.scrollbar=t.scrollbar||{},t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=!1,t.fixedOverflowWidgets=!0,t.overflowWidgetsDomNode=e.overflowWidgetsDomNode,t.minimap||(t.minimap={}),t.minimap.enabled=!1,t}_adjustOptionsForLeftHandSide(e,t,i){let n=this._adjustOptionsForSubEditor(e);return i&&(n.codeLens=!0),n.readOnly=!t,n.extraEditorClassName="original-in-monaco-diff-editor",n}_adjustOptionsForRightHandSide(t,i){let n=this._adjustOptionsForSubEditor(t);return i&&(n.codeLens=!0),n.revealHorizontalRightPadding=B.revealHorizontalRightPadding.defaultValue+e.ENTIRE_DIFF_OVERVIEW_WIDTH,n.scrollbar.verticalHasArrows=!1,n.extraEditorClassName="modified-in-monaco-diff-editor",n}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const t=this._elementSizeObserver.getWidth(),i=this._elementSizeObserver.getHeight(),n=this._getReviewHeight();let r=this._strategy.layout();this._originalDomNode.style.width=r+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=t-r+"px",this._modifiedDomNode.style.left=r+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=i-n+"px",this._overviewDomElement.style.width=e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=t-e.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(e.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:r,height:i-n}),this.modifiedEditor.layout({width:t-r-e.ENTIRE_DIFF_OVERVIEW_WIDTH,height:i-n}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(i-n,t,n),this._layoutOverviewViewport()}_layoutOverviewViewport(){let e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){let e=this.modifiedEditor.getLayoutInfo();if(!e)return null;let t=this.modifiedEditor.getScrollTop(),i=this.modifiedEditor.getScrollHeight(),n=Math.max(0,e.height),r=Math.max(0,n-0),o=i>0?r/i:0;return{height:Math.max(0,Math.floor(e.height*o)),top:Math.floor(t*o)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this.originalEditor,getModifiedEditor:()=>this.modifiedEditor}}_setStrategy(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(e,t){const i=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===i.length||e<t(i[0]))return null;let n=0,r=i.length-1;for(;n<r;){let o=Math.floor((n+r)/2),s=t(i[o]),a=o+1<=r?t(i[o+1]):1073741824;e<s?r=o-1:e>=a?n=o+1:(n=o,r=o)}return i[n]}_getEquivalentLineForOriginalLineNumber(e){let t=this._getLineChangeAtOrBeforeLineNumber(e,e=>e.originalStartLineNumber);if(!t)return e;let i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),r=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-i;return s<=r?n+Math.min(s,o):n+o-r+s}_getEquivalentLineForModifiedLineNumber(e){let t=this._getLineChangeAtOrBeforeLineNumber(e,e=>e.modifiedStartLineNumber);if(!t)return e;let i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),r=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-n;return s<=o?i+Math.min(s,r):i+r-o+s}getDiffLineInformationForOriginal(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null}getDiffLineInformationForModified(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null}};wS.ONE_OVERVIEW_WIDTH=15,wS.ENTIRE_DIFF_OVERVIEW_WIDTH=30,wS.UPDATE_DIFF_DECORATIONS_DELAY=200,wS=mS([gS(2,fS),gS(3,la),gS(4,nd),gS(5,ni),gS(6,si),gS(7,tf),gS(8,zh),gS(9,hS),gS(10,pS)],wS);class CS extends ne{constructor(e){super(),this._dataSource=e,this._insertColor=null,this._removeColor=null}applyColors(e){let t=(e.getColor(wv)||_v).transparent(2),i=(e.getColor(Cv)||yv).transparent(2),n=!t.equals(this._insertColor)||!i.equals(this._removeColor);return this._insertColor=t,this._removeColor=i,n}getEditorsDiffDecorations(e,t,i,n,r,o,s){r=r.sort((e,t)=>e.afterLineNumber-t.afterLineNumber),n=n.sort((e,t)=>e.afterLineNumber-t.afterLineNumber);let a=this._getViewZones(e,n,r,o,s,i),l=this._getOriginalEditorDecorations(e,t,i,o,s),c=this._getModifiedEditorDecorations(e,t,i,o,s);return{original:{decorations:l.decorations,overviewZones:l.overviewZones,zones:a.original},modified:{decorations:c.decorations,overviewZones:c.overviewZones,zones:a.modified}}}}class SS{constructor(e){this._source=e,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class xS{constructor(e,t,i,n,r){this.lineChanges=e,this.originalForeignVZ=t,this.originalLineHeight=i,this.modifiedForeignVZ=n,this.modifiedLineHeight=r}getViewZones(){let e=[],t=[],i=0,n=0,r=0,o=0,s=0,a=0,l=(e,t)=>e.afterLineNumber-t.afterLineNumber,c=(e,t)=>{if(null===t.domNode&&e.length>0){let i=e[e.length-1];if(i.afterLineNumber===t.afterLineNumber&&null===i.domNode)return void(i.heightInLines+=t.heightInLines)}e.push(t)},h=new SS(this.modifiedForeignVZ),u=new SS(this.originalForeignVZ);for(let d=0,f=this.lineChanges.length;d<=f;d++){let p=d<f?this.lineChanges[d]:null;null!==p?(r=p.originalStartLineNumber+(p.originalEndLineNumber>0?-1:0),o=p.modifiedStartLineNumber+(p.modifiedEndLineNumber>0?-1:0),n=p.originalEndLineNumber>0?p.originalEndLineNumber-p.originalStartLineNumber+1:0,i=p.modifiedEndLineNumber>0?p.modifiedEndLineNumber-p.modifiedStartLineNumber+1:0,s=Math.max(p.originalStartLineNumber,p.originalEndLineNumber),a=Math.max(p.modifiedStartLineNumber,p.modifiedEndLineNumber)):(s=r+=1e7+n,a=o+=1e7+i);let m=[],g=[];for(;h.current&&h.current.afterLineNumber<=a;){let e;e=h.current.afterLineNumber<=o?r-o+h.current.afterLineNumber:s;let t=null;p&&p.modifiedStartLineNumber<=h.current.afterLineNumber&&h.current.afterLineNumber<=p.modifiedEndLineNumber&&(t=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),m.push({afterLineNumber:e,heightInLines:h.current.height/this.modifiedLineHeight,domNode:null,marginDomNode:t}),h.advance()}for(;u.current&&u.current.afterLineNumber<=s;){let e;e=u.current.afterLineNumber<=r?o-r+u.current.afterLineNumber:a,g.push({afterLineNumber:e,heightInLines:u.current.height/this.originalLineHeight,domNode:null}),u.advance()}if(null!==p&&OS(p)){let e=this._produceOriginalFromDiff(p,n,i);e&&m.push(e)}if(null!==p&&MS(p)){let e=this._produceModifiedFromDiff(p,n,i);e&&g.push(e)}let v=0,b=0;for(m=m.sort(l),g=g.sort(l);v<m.length&&b<g.length;){let i=m[v],n=g[b],s=i.afterLineNumber-r,a=n.afterLineNumber-o;s<a?(c(e,i),v++):a<s?(c(t,n),b++):i.shouldNotShrink?(c(e,i),v++):n.shouldNotShrink?(c(t,n),b++):i.heightInLines>=n.heightInLines?(i.heightInLines-=n.heightInLines,b++):(n.heightInLines-=i.heightInLines,v++)}for(;v<m.length;)c(e,m[v]),v++;for(;b<g.length;)c(t,g[b]),b++}return{original:xS._ensureDomNodes(e),modified:xS._ensureDomNodes(t)}}static _ensureDomNodes(e){return e.map(e=>(e.domNode||(e.domNode=function(){let e=document.createElement("div");return e.className="diagonal-fill",e}()),e))}}function kS(e,t,i,n,r){return{range:new mt(e,t,i,n),options:r}}const LS={charDelete:Lm.register({className:"char-delete"}),charDeleteWholeLine:Lm.register({className:"char-delete",isWholeLine:!0}),charInsert:Lm.register({className:"char-insert"}),charInsertWholeLine:Lm.register({className:"char-insert",isWholeLine:!0}),lineInsert:Lm.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:Lm.register({className:"line-insert",linesDecorationsClassName:"insert-sign "+_S.classNames,marginClassName:"line-insert",isWholeLine:!0}),lineDelete:Lm.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:Lm.register({className:"line-delete",linesDecorationsClassName:"delete-sign "+yS.classNames,marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:Lm.register({marginClassName:"line-delete"})};class DS extends CS{constructor(e,t){super(e),this._disableSash=!1===t,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new zC(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this.onSashDragStart()),this._sash.onDidChange(e=>this.onSashDrag(e)),this._sash.onDidEnd(()=>this.onSashDragEnd()),this._sash.onDidReset(()=>this.onSashReset())}setEnableSplitViewResizing(e){let t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)}layout(e=this._sashRatio){let t=this._dataSource.getWidth()-wS.ENTIRE_DIFF_OVERVIEW_WIDTH,i=Math.floor((e||.5)*t),n=Math.floor(.5*t);return i=this._disableSash?n:i||n,t>2*DS.MINIMUM_EDITOR_WIDTH?(i<DS.MINIMUM_EDITOR_WIDTH&&(i=DS.MINIMUM_EDITOR_WIDTH),i>t-DS.MINIMUM_EDITOR_WIDTH&&(i=t-DS.MINIMUM_EDITOR_WIDTH)):i=n,this._sashPosition!==i&&(this._sashPosition=i,this._sash.layout()),this._sashPosition}onSashDragStart(){this._startSashPosition=this._sashPosition}onSashDrag(e){let t=this._dataSource.getWidth()-wS.ENTIRE_DIFF_OVERVIEW_WIDTH,i=this.layout((this._startSashPosition+(e.currentX-e.startX))/t);this._sashRatio=i/t,this._dataSource.relayoutEditors()}onSashDragEnd(){this._sash.layout()}onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(e){return 0}getVerticalSashLeft(e){return this._sashPosition}getVerticalSashHeight(e){return this._dataSource.getHeight()}_getViewZones(e,t,i,n,r){return new ES(e,t,n.getOption(51),i,r.getOption(51)).getViewZones()}_getOriginalEditorDecorations(e,t,i,n,r){const o=String(this._removeColor);let s={decorations:[],overviewZones:[]},a=n.getModel();for(let n=0,r=e.length;n<r;n++){let r=e[n];if(MS(r)&&(s.decorations.push({range:new mt(r.originalStartLineNumber,1,r.originalEndLineNumber,1073741824),options:i?LS.lineDeleteWithSign:LS.lineDelete}),OS(r)&&r.charChanges||s.decorations.push(kS(r.originalStartLineNumber,1,r.originalEndLineNumber,1073741824,LS.charDeleteWholeLine)),s.overviewZones.push(new Hy(r.originalStartLineNumber,r.originalEndLineNumber,o)),r.charChanges))for(let e=0,i=r.charChanges.length;e<i;e++){let i=r.charChanges[e];if(MS(i))if(t)for(let e=i.originalStartLineNumber;e<=i.originalEndLineNumber;e++){let t,n;t=e===i.originalStartLineNumber?i.originalStartColumn:a.getLineFirstNonWhitespaceColumn(e),n=e===i.originalEndLineNumber?i.originalEndColumn:a.getLineLastNonWhitespaceColumn(e),s.decorations.push(kS(e,t,e,n,LS.charDelete))}else s.decorations.push(kS(i.originalStartLineNumber,i.originalStartColumn,i.originalEndLineNumber,i.originalEndColumn,LS.charDelete))}}return s}_getModifiedEditorDecorations(e,t,i,n,r){const o=String(this._insertColor);let s={decorations:[],overviewZones:[]},a=r.getModel();for(let n=0,r=e.length;n<r;n++){let r=e[n];if(OS(r)&&(s.decorations.push({range:new mt(r.modifiedStartLineNumber,1,r.modifiedEndLineNumber,1073741824),options:i?LS.lineInsertWithSign:LS.lineInsert}),MS(r)&&r.charChanges||s.decorations.push(kS(r.modifiedStartLineNumber,1,r.modifiedEndLineNumber,1073741824,LS.charInsertWholeLine)),s.overviewZones.push(new Hy(r.modifiedStartLineNumber,r.modifiedEndLineNumber,o)),r.charChanges))for(let e=0,i=r.charChanges.length;e<i;e++){let i=r.charChanges[e];if(OS(i))if(t)for(let e=i.modifiedStartLineNumber;e<=i.modifiedEndLineNumber;e++){let t,n;t=e===i.modifiedStartLineNumber?i.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(e),n=e===i.modifiedEndLineNumber?i.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(e),s.decorations.push(kS(e,t,e,n,LS.charInsert))}else s.decorations.push(kS(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn,LS.charInsert))}}return s}}DS.MINIMUM_EDITOR_WIDTH=100;class ES extends xS{constructor(e,t,i,n,r){super(e,t,i,n,r)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(e,t,i){return i>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}:null}_produceModifiedFromDiff(e,t,i){return t>i?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}:null}}class NS extends CS{constructor(e,t){super(e),this.decorationsLeft=e.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(e.getOriginalEditor().onDidLayoutChange(t=>{this.decorationsLeft!==t.decorationsLeft&&(this.decorationsLeft=t.decorationsLeft,e.relayoutEditors())}))}setEnableSplitViewResizing(e){}_getViewZones(e,t,i,n,r,o){return new TS(e,t,i,n,r,o).getViewZones()}_getOriginalEditorDecorations(e,t,i,n,r){const o=String(this._removeColor);let s={decorations:[],overviewZones:[]};for(let t=0,i=e.length;t<i;t++){let i=e[t];MS(i)&&(s.decorations.push({range:new mt(i.originalStartLineNumber,1,i.originalEndLineNumber,1073741824),options:LS.lineDeleteMargin}),s.overviewZones.push(new Hy(i.originalStartLineNumber,i.originalEndLineNumber,o)))}return s}_getModifiedEditorDecorations(e,t,i,n,r){const o=String(this._insertColor);let s={decorations:[],overviewZones:[]},a=r.getModel();for(let n=0,r=e.length;n<r;n++){let r=e[n];if(OS(r))if(s.decorations.push({range:new mt(r.modifiedStartLineNumber,1,r.modifiedEndLineNumber,1073741824),options:i?LS.lineInsertWithSign:LS.lineInsert}),s.overviewZones.push(new Hy(r.modifiedStartLineNumber,r.modifiedEndLineNumber,o)),r.charChanges)for(let e=0,i=r.charChanges.length;e<i;e++){let i=r.charChanges[e];if(OS(i))if(t)for(let e=i.modifiedStartLineNumber;e<=i.modifiedEndLineNumber;e++){let t,n;t=e===i.modifiedStartLineNumber?i.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(e),n=e===i.modifiedEndLineNumber?i.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(e),s.decorations.push(kS(e,t,e,n,LS.charInsert))}else s.decorations.push(kS(i.modifiedStartLineNumber,i.modifiedStartColumn,i.modifiedEndLineNumber,i.modifiedEndColumn,LS.charInsert))}else s.decorations.push(kS(r.modifiedStartLineNumber,1,r.modifiedEndLineNumber,1073741824,LS.charInsertWholeLine))}return s}layout(){return Math.max(5,this.decorationsLeft)}}class TS extends xS{constructor(e,t,i,n,r,o){super(e,t,n.getOption(51),i,r.getOption(51)),this.originalModel=n.getModel(),this.modifiedEditorOptions=r.getOptions(),this.modifiedEditorTabSize=r.getModel().getOptions().tabSize,this.renderIndicators=o}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){let e=document.createElement("div");return e.className="inline-added-margin-view-zone",e}_produceOriginalFromDiff(e,t,i){let n=document.createElement("div");return n.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:n}}_produceModifiedFromDiff(e,t,i){let n=[];if(e.charChanges)for(let t=0,i=e.charChanges.length;t<i;t++){let i=e.charChanges[t];MS(i)&&n.push(new uc(new mt(i.originalStartLineNumber,i.originalStartColumn,i.originalEndLineNumber,i.originalEndColumn),"char-delete",0))}let r=La(1e4),o=[];const s=this.modifiedEditorOptions.get(117),a=this.modifiedEditorOptions.get(36),l=s.decorationsWidth;let c=this.modifiedEditorOptions.get(51);const h=a.typicalHalfwidthCharacterWidth;let u=0;const d=[];for(let t=e.originalStartLineNumber;t<=e.originalEndLineNumber;t++)if(u=Math.max(u,this._renderOriginalLine(t-e.originalStartLineNumber,this.originalModel,this.modifiedEditorOptions,this.modifiedEditorTabSize,t,n,r)),d.push(this.originalModel.getLineContent(t)),this.renderIndicators){let i=t-e.originalStartLineNumber;o=o.concat([`<div class="delete-sign ${yS.classNames}" style="position:absolute;top:${i*c}px;width:${l}px;height:${c}px;right:0;"></div>`])}u+=this.modifiedEditorOptions.get(85);let f=document.createElement("div");f.className=`view-lines line-delete ${Ab}`,f.innerHTML=r.build(),Au.applyFontInfoSlow(f,a);let p=document.createElement("div");return p.className="inline-deleted-margin-view-zone",p.innerHTML=o.join(""),Au.applyFontInfoSlow(p,a),{shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:u*h,domNode:f,marginDomNode:p,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalContent:d}}}_renderOriginalLine(e,t,i,n,r,o,s){const a=t.getLineTokens(r),l=a.getLineContent(),c=i.get(36),h=Gl.filter(o,r,1,l.length+1);s.appendASCIIString('<div class="view-line'),0===o.length&&s.appendASCIIString(" char-delete"),s.appendASCIIString('" style="top:'),s.appendASCIIString(String(e*i.get(51))),s.appendASCIIString('px;width:1000000px;">');const u=hc.isBasicASCII(l,t.mightContainNonBasicASCII()),d=hc.containsRTL(l,u,t.mightContainRTL()),f=nc(new ec(c.isMonospace&&!i.get(24),c.canUseHalfwidthRightwardsArrow,l,!1,u,d,0,a,h,n,0,c.spaceWidth,c.middotWidth,c.wsmiddotWidth,i.get(95),i.get(80),i.get(74),i.get(37)!==k.OFF,null),s);s.appendASCIIString("</div>");const p=f.characterMapping.getAbsoluteOffsets();return p.length>0?p[p.length-1]:0}}function OS(e){return e.modifiedEndLineNumber>0}function MS(e){return e.originalEndLineNumber>0}hf((e,t)=>{const i=e.getColor(wv);i&&(t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: ${i}; }`),t.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${i}; }`));const n=e.getColor(Cv);n&&(t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { background-color: ${n}; }`),t.addRule(`.monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: ${n}; }`),t.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${n}; }`));const r=e.getColor(Sv);r&&t.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${"hc"===e.type?"dashed":"solid"} ${r}; }`);const o=e.getColor(xv);o&&t.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${"hc"===e.type?"dashed":"solid"} ${o}; }`);const s=e.getColor(jg);s&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${s}; }`);const a=e.getColor(kv);a&&t.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${a}; }`);const l=e.getColor(Ug);l&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport {\n\t\t\t\tbackground: ${l};\n\t\t\t}\n\t\t`);const c=e.getColor(Kg);c&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:hover {\n\t\t\t\tbackground: ${c};\n\t\t\t}\n\t\t`);const h=e.getColor(qg);h&&t.addRule(`\n\t\t\t.monaco-diff-editor .diffViewport:active {\n\t\t\t\tbackground: ${h};\n\t\t\t}\n\t\t`);const u=e.getColor(Lv);t.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${u} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${u} 50%, ${u} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)});const IS=oi("themeService"),AS=oi("keybindingService");var PS=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},RS=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};let FS=0,VS=!1;function BS(){VS||(VS=!0,function(e){(Cu=document.createElement("div")).className="monaco-aria-container";const t=()=>{const e=document.createElement("div");return e.className="monaco-alert",e.setAttribute("role","alert"),e.setAttribute("aria-atomic","true"),Cu.appendChild(e),e};Su=t(),xu=t();const i=()=>{const e=document.createElement("div");return e.className="monaco-status",e.setAttribute("role","complementary"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),Cu.appendChild(e),e};ku=i(),Lu=i(),e.appendChild(Cu)}(document.body))}let WS=class extends OC{constructor(e,t,i,n,r,o,s,a,l,c){(t=t||{}).ariaLabel=t.ariaLabel||tu.editorViewAccessibleLabel,t.ariaLabel=t.ariaLabel+";"+tu.accessibilityHelpMessage,super(e,t,{},i,n,r,o,a,l,c),this._standaloneKeybindingService=s instanceof fu?s:null,BS()}addCommand(e,t,i){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;let n="DYNAMIC_"+ ++FS,r=zu.deserialize(i);return this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,r),n}createContextKey(e,t){return this._contextKeyService.createKey(e,t)}addAction(e){if("string"!=typeof e.id||"string"!=typeof e.label||"function"!=typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),ne.None;const t=e.id,i=e.label,n=zu.and(zu.equals("editorId",this.getId()),zu.deserialize(e.precondition)),r=e.keybindings,o=zu.and(n,zu.deserialize(e.keybindingContext)),s=e.contextMenuGroupId||null,a=e.contextMenuOrder||0,l=(t,...i)=>Promise.resolve(e.run(this,...i)),c=new ie,h=this.getId()+":"+t;if(c.add(Or.registerCommand(h,l)),s){let e={command:{id:h,title:i},when:n,group:s,order:a};c.add(cd.appendMenuItem(ad.EditorContext,e))}if(Array.isArray(r))for(const e of r)c.add(this._standaloneKeybindingService.addDynamicKeybinding(h,e,l,o));let u=new Bw(h,i,i,n,l,this._contextKeyService);return this._actions[t]=u,c.add(te(()=>{delete this._actions[t]})),c}};WS=PS([RS(2,ni),RS(3,si),RS(4,Tr),RS(5,nd),RS(6,AS),RS(7,tf),RS(8,zh),RS(9,dC)],WS);let $S=class extends WS{constructor(e,t,i,n,r,o,s,a,l,c,h,u,d){bu(u,t,!1);const f=c.registerEditorContainer(e);"string"==typeof(t=t||{}).theme&&c.setTheme(t.theme);let p,m=t.model;if(delete t.model,super(e,t,n,r,o,s,a,c,h,d),this._contextViewService=l,this._configurationService=u,this._standaloneThemeService=c,this._register(i),this._register(f),void 0===m?(p=self.monaco.editor.createModel(t.value||"",t.language||"text/plain"),this._ownsModel=!0):(p=m,this._ownsModel=!1),this._attachModel(p),p){let e={oldModelUrl:null,newModelUrl:p.uri};this._onDidChangeModel.fire(e)}}dispose(){super.dispose()}updateOptions(e){bu(this._configurationService,e,!1),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),super.updateOptions(e)}_attachModel(e){super._attachModel(e),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)}_postDetachModelCleanup(e){super._postDetachModelCleanup(e),e&&this._ownsModel&&(e.dispose(),this._ownsModel=!1)}};$S=PS([RS(3,ni),RS(4,si),RS(5,Tr),RS(6,nd),RS(7,AS),RS(8,cS),RS(9,IS),RS(10,zh),RS(11,yh),RS(12,dC)],$S);let zS=class extends wS{constructor(e,t,i,n,r,o,s,a,l,c,h,u,d,f,p){bu(u,t,!0);const m=c.registerEditorContainer(e);"string"==typeof(t=t||{}).theme&&(t.theme=c.setTheme(t.theme)),super(e,t,p,a,r,n,l,c,h,d,f),this._contextViewService=s,this._configurationService=u,this._standaloneThemeService=c,this._register(i),this._register(m),this._contextViewService.setContainer(this._containerDomElement)}dispose(){super.dispose()}updateOptions(e){bu(this._configurationService,e,!0),"string"==typeof e.theme&&this._standaloneThemeService.setTheme(e.theme),super.updateOptions(e)}_createInnerEditor(e,t,i){return e.createInstance(WS,t,i)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)}createContextKey(e,t){return this.getModifiedEditor().createContextKey(e,t)}addAction(e){return this.getModifiedEditor().addAction(e)}};zS=PS([RS(3,ni),RS(4,nd),RS(5,AS),RS(6,cS),RS(7,la),RS(8,si),RS(9,IS),RS(10,zh),RS(11,yh),RS(12,hS),RS(13,pS),RS(14,fS)],zS);const HS=oi("modeService");class jS{constructor(e){this._languageIdentifier=e}getId(){return this._languageIdentifier.language}}const US="text/plain",KS="application/unknown";let qS=[],GS=[],YS=[];function XS(e,t=!1){const i=function(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?e.filepattern.toLowerCase():void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(je.sep)>=0}}(e);qS.push(i),i.userConfigured?YS.push(i):GS.push(i),t&&!i.userConfigured&&qS.forEach(e=>{e.mime===i.mime||e.userConfigured||(i.extension&&e.extension===i.extension&&console.warn(`Overwriting extension <<${i.extension}>> to now point to mime <<${i.mime}>>`),i.filename&&e.filename===i.filename&&console.warn(`Overwriting filename <<${i.filename}>> to now point to mime <<${i.mime}>>`),i.filepattern&&e.filepattern===i.filepattern&&console.warn(`Overwriting filepattern <<${i.filepattern}>> to now point to mime <<${i.mime}>>`),i.firstline&&e.firstline===i.firstline&&console.warn(`Overwriting firstline <<${i.firstline}>> to now point to mime <<${i.mime}>>`))})}function ZS(e,t){let i;if(e)switch(e.scheme){case Zi.file:i=e.fsPath;break;case Zi.data:i=br.parseMetaData(e).get(br.META_DATA_LABEL);break;default:i=e.path}if(!i)return[KS];i=i.toLowerCase();const n=Ye(i),r=QS(i,n,YS);if(r)return[r,US];const o=QS(i,n,GS);if(o)return[o,US];if(t){const e=function(e){Object(hr.R)(e)&&(e=e.substr(1));if(e.length>0)for(let t=qS.length-1;t>=0;t--){const i=qS[t];if(!i.firstline)continue;const n=e.match(i.firstline);if(n&&n.length>0)return i.mime}return null}(t);if(e)return[e,US]}return[KS]}function QS(e,t,i){let n=null,r=null,o=null;for(let s=i.length-1;s>=0;s--){const a=i[s];if(t===a.filenameLowercase){n=a;break}if(a.filepattern&&(!r||a.filepattern.length>r.filepattern.length)){const i=a.filepatternOnPath?e:t;Mo(a.filepatternLowercase,i)&&(r=a)}a.extension&&(!o||a.extension.length>o.extension.length)&&t.endsWith(a.extensionLowercase)&&(o=a)}return n?n.mime:r?r.mime:o?o.mime:null}const JS=new class{constructor(){this._onDidChangeLanguages=new ce,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,i=this._languages.length;t<i;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}};zc.add("editor.modesRegistry",JS);const ex=new Es("plaintext",1);JS.registerLanguage({id:"plaintext",extensions:[".txt"],aliases:[n(0,"Plain Text"),"text"],mimetypes:["text/plain"]}),za.register(ex,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}});const tx=Object.prototype.hasOwnProperty;class ix extends ne{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new ce),this.onDidChange=this._onDidChange.event,this._warnOnOverwrite=t,this._nextLanguageId2=1,this._languageIdToLanguage=[],this._languageToLanguageId=Object.create(null),this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(JS.onDidChangeLanguages(e=>this._initializeFromRegistry())))}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};const e=JS.getLanguages();this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach(e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier}),t.mimetypes.forEach(e=>{this._mimeTypesMap[e]=t.identifier})}),zc.as(Uc.Configuration).registerOverrideIdentifiers(JS.getLanguages().map(e=>e.id)),this._onDidChange.fire()}_getLanguageId(e){if(this._languageToLanguageId[e])return this._languageToLanguageId[e];const t=this._nextLanguageId2++;return this._languageIdToLanguage[t]=e,this._languageToLanguageId[e]=t,t}_registerLanguage(e){const t=e.id;let i;if(tx.call(this._languages,t))i=this._languages[t];else{const e=this._getLanguageId(t);i={identifier:new Es(t,e),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=i}this._mergeLanguage(i,e)}_mergeLanguage(e,t){const i=t.id;let n=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),n=t.mimetypes[0]),n||(n=`text/x-${i}`,e.mimetypes.push(n)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let e of t.extensions)XS({id:i,mime:n,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let r of t.filenames)XS({id:i,mime:n,filename:r},this._warnOnOverwrite),e.filenames.push(r);if(Array.isArray(t.filenamePatterns))for(let e of t.filenamePatterns)XS({id:i,mime:n,filepattern:e},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{let t=new RegExp(e);hr.M(t)||XS({id:i,mime:n,firstline:t},this._warnOnOverwrite)}catch(e){$(e)}}e.aliases.push(i);let r=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(r=0===t.aliases.length?[null]:t.aliases),null!==r)for(const t of r)t&&0!==t.length&&e.aliases.push(t);let o=null!==r&&r.length>0;if(o&&null===r[0]);else{let t=(o?r[0]:null)||i;!o&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return!!tx.call(this._mimeTypesMap,e)||tx.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return tx.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e].language:null}extractModeIds(e){return e?e.split(",").map(e=>e.trim()).map(e=>tx.call(this._mimeTypesMap,e)?this._mimeTypesMap[e].language:e).filter(e=>tx.call(this._languages,e)):[]}getLanguageIdentifier(e){if(e===oa||0===e)return sa;let t;if("string"==typeof e)t=e;else if(!(t=this._languageIdToLanguage[e]))return null;return tx.call(this._languages,t)?this._languages[t].identifier:null}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let i=ZS(e,t);return this.extractModeIds(i.join(","))}}class nx extends ne{constructor(e,t){super(),this._onDidChange=this._register(new ce),this.onDidChange=this._onDidChange.event,this._selector=t,this.languageIdentifier=this._selector(),this._register(e(()=>this._evaluate()))}_evaluate(){let e=this._selector();e.id!==this.languageIdentifier.id&&(this.languageIdentifier=e,this._onDidChange.fire(this.languageIdentifier))}}const rx=oi("undoRedoService");class ox{constructor(e,t){this.resource=e,this.elements=t}}class sx{constructor(e,t,i){this._legend=e,this._themeService=t,this._logService=i,this._hashTable=new lx}getMetadata(e,t,i){const n=this._hashTable.get(e,t,i.id);let r;if(n)r=n.metadata,this._logService.getLevel()===Nl.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${Ns.getForeground(r)}, fontStyle ${Ns.getFontStyle(r).toString(2)}`);else{let n=this._legend.tokenTypes[e];const o=[];if(n){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&o.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===Nl.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),o.push("not-in-legend"));const s=this._themeService.getColorTheme().getTokenStyleMetadata(n,o,i.language);if(void 0===s)r=2147483647;else{if(r=0,void 0!==s.italic){r|=1|(s.italic?1:0)<<11}if(void 0!==s.bold){r|=2|(s.bold?2:0)<<11}if(void 0!==s.underline){r|=4|(s.underline?4:0)<<11}if(s.foreground){r|=8|s.foreground<<14}0===r&&(r=2147483647)}}else this._logService.getLevel()===Nl.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),r=2147483647,n="not-in-legend";this._hashTable.add(e,t,i.id,r),this._logService.getLevel()===Nl.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${n}) / ${t} (${o.join(" ")}): foreground ${Ns.getForeground(r)}, fontStyle ${Ns.getFontStyle(r).toString(2)}`)}return r}}class ax{constructor(e,t,i,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=i,this.metadata=n,this.next=null}}class lx{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=lx._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<lx._SIZES.length?2/3*this._currentLength:0),this._elements=[],lx._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let i=0;i<t;i++)e[i]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,i){return this._hash2(this._hash2(e,t),i)%this._currentLength}get(e,t,i){const n=this._hashFunc(e,t,i);let r=this._elements[n];for(;r;){if(r.tokenTypeIndex===e&&r.tokenModifierSet===t&&r.languageId===i)return r;r=r.next}return null}add(e,t,i,n){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=lx._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<lx._SIZES.length?2/3*this._currentLength:0),this._elements=[],lx._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;for(;e;){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new ax(e,t,i,n))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}lx._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];var cx=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},hx=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};function ux(e){return e.toString()}const dx=r.d||r.f?1:2;let fx=class e extends ne{constructor(e,t,i,n,r){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=i,this._logService=n,this._undoRedoService=r,this._onModelAdded=this._register(new ce),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new ce),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new ce),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new class extends ne{constructor(e,t){super(),this._themeService=e,this._logService=t,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new sx(e.getLegend(),this._themeService,this._logService)),this._caches.get(e)}}(this._themeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new class extends ne{constructor(e,t,i,n){super(),this._watchers=Object.create(null),this._semanticStyling=n;const r=e=>{this._watchers[e.uri.toString()]=new vx(e,t,this._semanticStyling)},o=(e,t)=>{t.dispose(),delete this._watchers[e.uri.toString()]},s=()=>{for(let n of e.getModels()){const e=this._watchers[n.uri.toString()];mx(n,t,i)?e||r(n):e&&o(n,e)}};this._register(e.onModelAdded(e=>{mx(e,t,i)&&r(e)})),this._register(e.onModelRemoved(e=>{const t=this._watchers[e.uri.toString()];t&&o(e,t)})),this._register(i.onDidChangeConfiguration(e=>{e.affectsConfiguration(px)&&s()})),this._register(t.onDidColorThemeChange(s))}}(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){let i=O;if(e.editor&&void 0!==e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(i=t),i<1&&(i=1)}let n=i;if(e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(n=t),n<1&&(n=1)}let r=I;e.editor&&void 0!==e.editor.insertSpaces&&(r="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let o=dx;const s=e.eol;"\r\n"===s?o=2:"\n"===s&&(o=1);let a=P;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(a="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let l=A;e.editor&&void 0!==e.editor.detectIndentation&&(l="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let c=R;return e.editor&&void 0!==e.editor.largeFileOptimizations&&(c="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations)),{isForSimpleWidget:t,tabSize:i,indentSize:n,insertSpaces:r,detectIndentation:l,defaultEOL:o,trimAutoWhitespace:a,largeFileOptimizations:c}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&"auto"!==i?i:3===r.a||2===r.a?"\n":"\r\n"}getCreationOptions(t,i,n){let r=this._modelCreationOptionsByLanguageAndResource[t+i];if(!r){const o=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:i}),s=this._getEOL(i,t);r=e._readModelOptions({editor:o,eol:s},n),this._modelCreationOptionsByLanguageAndResource[t+i]=r}return r}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let n=0,r=i.length;n<r;n++){const r=i[n],o=this._models[r],s=o.model.getLanguageIdentifier().language,a=o.model.uri,l=t[s+a],c=this.getCreationOptions(s,a,o.model.isForSimpleWidget);e._setModelOptionsForModel(o.model,c,l)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace}))}_removeDisposedModel(e){const t=this._disposedModels.get(ux(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(ux(e)),t}_createModelData(e,t,i,n){const r=this.getCreationOptions(t.language,i,n),o=new ym(e,r,t,i,this._undoRedoService);if(i&&this._disposedModels.has(ux(i))){const e=this._removeDisposedModel(i),t=this._undoRedoService.getElements(i),n=function(e){const t=new Ya,i=e.createSnapshot();let n;for(;n=i.read();)t.update(n);return t.digest()}(o)===e.sha1;if(n||e.sharesUndoRedoStack){for(const e of t.past)Tf(e)&&e.matchesResource(i)&&e.setModel(o);for(const e of t.future)Tf(e)&&e.matchesResource(i)&&e.setModel(o);this._undoRedoService.setElementsValidFlag(i,!0,e=>Tf(e)&&e.matchesResource(i)),n&&(o._overwriteVersionId(e.versionId),o._overwriteAlternativeVersionId(e.alternativeVersionId),o._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const s=ux(o.uri);if(this._models[s])throw new Error("ModelService: Cannot add model because it already exists!");const a=new class{constructor(e,t,i){this._modelEventListeners=new ie,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(t=>i(e,t)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null),this._languageSelection&&(this._languageSelection.dispose(),this._languageSelection=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageIdentifier)),this.model.setMode(e.languageIdentifier)}}(o,e=>this._onWillDispose(e),(e,t)=>this._onDidChangeLanguage(e,t));return this._models[s]=a,a}createModel(e,t,i,n=!1){let r;return t?(r=this._createModelData(e,t.languageIdentifier,i,n),this.setMode(r.model,t)):r=this._createModelData(e,ex,i,n),this._onModelAdded.fire(r.model),r.model}setMode(e,t){if(!t)return;const i=this._models[ux(e.uri)];i&&i.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(this._models[n].model)}return e}getModel(e){const t=ux(e),i=this._models[t];return i?i.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_onWillDispose(e){const t=ux(e.uri),i=this._models[t];delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageIdentifier().language+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(t,i){const n=i.oldLanguage,r=t.getLanguageIdentifier().language,o=this.getCreationOptions(n,t.uri,t.isForSimpleWidget),s=this.getCreationOptions(r,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,s,o),this._onModelModeChanged.fire({model:t,oldModeId:n})}};fx=cx([hx(0,yh),hx(1,Dl),hx(2,tf),hx(3,El),hx(4,rx)],fx);const px="editor.semanticHighlighting";function mx(e,t,i){var n;const r=null===(n=i.getValue(px,{overrideIdentifier:e.getLanguageIdentifier().language,resource:e.uri}))||void 0===n?void 0:n.enabled;return"boolean"==typeof r?r:t.getColorTheme().semanticHighlighting}class gx{constructor(e,t,i){this._provider=e,this.resultId=t,this.data=i}dispose(){this._provider.releaseDocumentSemanticTokens(this.resultId)}}class vx extends ne{constructor(e,t,i){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=i,this._fetchDocumentSemanticTokens=this._register(new Vi(()=>this._fetchDocumentSemanticTokensNow(),300)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()}));const n=()=>{J(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const t of ta.all(e))"function"==typeof t.onDidChange&&this._documentProvidersChangeListeners.push(t.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};n(),this._register(ta.onDidChange(()=>{n(),this._fetchDocumentSemanticTokens.schedule()})),this._register(t.onDidColorThemeChange(e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;const e=this._getSemanticColoringProvider();if(!e)return;this._currentDocumentRequestCancellationTokenSource=new ge;const t=[],i=this._model.onDidChangeContent(e=>{t.push(e)}),n=this._semanticStyling.get(e),r=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null;Promise.resolve(e.provideDocumentSemanticTokens(this._model,r,this._currentDocumentRequestCancellationTokenSource.token)).then(r=>{this._currentDocumentRequestCancellationTokenSource=null,i.dispose(),this._setDocumentSemanticTokens(e,r||null,n,t)},e=>{e&&"string"==typeof e.message&&-1!==e.message.indexOf("busy")||$(e),this._currentDocumentRequestCancellationTokenSource=null,i.dispose(),t.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _isSemanticTokens(e){return e&&!!e.data}static _isSemanticTokensEdits(e){return e&&Array.isArray(e.edits)}static _copy(e,t,i,n,r){for(let o=0;o<r;o++)i[n+o]=e[t+o]}_setDocumentSemanticTokens(e,t,i,n){const r=this._currentDocumentResponse;if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)e&&t&&e.releaseDocumentSemanticTokens(t.resultId);else if(e&&i)if(t){if(vx._isSemanticTokensEdits(t)){if(!r)return void this._model.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:r.data};else{let e=0;for(const i of t.edits)e+=(i.data?i.data.length:0)-i.deleteCount;const i=r.data,n=new Uint32Array(i.length+e);let o=i.length,s=n.length;for(let e=t.edits.length-1;e>=0;e--){const r=t.edits[e],a=o-(r.start+r.deleteCount);a>0&&(vx._copy(i,o-a,n,s-a,a),s-=a),r.data&&(vx._copy(r.data,0,n,s-r.data.length,r.data.length),s-=r.data.length),o=r.start}o>0&&vx._copy(i,0,n,0,o),t={resultId:t.resultId,data:n}}}if(vx._isSemanticTokens(t)){this._currentDocumentResponse=new gx(e,t.resultId,t.data);const r=function(e,t,i){const n=e.data,r=e.data.length/5|0,o=Math.max(Math.ceil(r/1024),400),s=[];let a=0,l=1,c=0;for(;a<r;){const e=a;let h=Math.min(e+o,r);if(h<r){let t=h;for(;t-1>e&&0===n[5*t];)t--;if(t-1===e){let e=h;for(;e+1<r&&0===n[5*e];)e++;h=e}else h=t}let u=new Uint32Array(4*(h-e)),d=0,f=0;for(;a<h;){const e=5*a,r=n[e],o=n[e+1],s=l+r,h=0===r?c+o:o,p=n[e+2],m=n[e+3],g=n[e+4],v=t.getMetadata(m,g,i);2147483647!==v&&(0===f&&(f=s),u[d]=s-f,u[d+1]=h,u[d+2]=h+p,u[d+3]=v,d+=4),l=s,c=h,a++}d!==u.length&&(u=u.subarray(0,d));const p=new zp(f,new Wp(u));s.push(p)}return s}(t,i,this._model.getLanguageIdentifier());if(n.length>0){for(const e of n)for(const t of r)for(const i of e.changes)t.applyEdit(i.range,i.text);this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()}this._model.setSemanticTokens(r,!0)}else this._model.setSemanticTokens(null,!0)}else this._model.setSemanticTokens(null,!0);else this._model.setSemanticTokens(null,!1)}_getSemanticColoringProvider(){const e=ta.ordered(this._model);return e.length>0?e[0]:null}}var bx=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},_x=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};let yx=class extends class extends ne{constructor(){super(),this._onCodeEditorAdd=this._register(new ce),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new ce),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new ce),this._onDiffEditorRemove=this._register(new ce),this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null)}addCodeEditor(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)}removeCodeEditor(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)}listCodeEditors(){return Object.keys(this._codeEditors).map(e=>this._codeEditors[e])}addDiffEditor(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)}removeDiffEditor(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)}listDiffEditors(){return Object.keys(this._diffEditors).map(e=>this._diffEditors[e])}getFocusedCodeEditor(){let e=null;const t=this.listCodeEditors();for(const i of t){if(i.hasTextFocus())return i;i.hasWidgetFocus()&&(e=i)}return e}setModelProperty(e,t,i){const n=e.toString();let r;this._modelProperties.has(n)?r=this._modelProperties.get(n):(r=new Map,this._modelProperties.set(n,r)),r.set(t,i)}getModelProperty(e,t){const i=e.toString();if(this._modelProperties.has(i))return this._modelProperties.get(i).get(t)}}{constructor(e,t=null){super(),this._decorationOptionProviders=new Map,this._editorStyleSheets=new Map,this._globalStyleSheet=t||null,this._themeService=e}_getOrCreateGlobalStyleSheet(){return this._globalStyleSheet||(this._globalStyleSheet=new class{constructor(e){this._styleSheet=e}ref(){}unref(){}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){jn(e,this._styleSheet)}}(Wn())),this._globalStyleSheet}_getOrCreateStyleSheet(e){if(!e)return this._getOrCreateGlobalStyleSheet();const t=e.getContainerDomNode();if(!Fn(t))return this._getOrCreateGlobalStyleSheet();const i=e.getId();if(!this._editorStyleSheets.has(i)){const e=new class{constructor(e,t,i){this._parent=e,this._editorId=t,this._styleSheet=i,this._refCount=0}ref(){this._refCount++}unref(){var e;this._refCount--,0===this._refCount&&(null===(e=this._styleSheet.parentNode)||void 0===e||e.removeChild(this._styleSheet),this._parent._removeEditorStyleSheets(this._editorId))}insertRule(e,t){this._styleSheet.sheet.insertRule(e,t)}removeRulesContainingSelector(e){jn(e,this._styleSheet)}}(this,i,Wn(t));this._editorStyleSheets.set(i,e)}return this._editorStyleSheets.get(i)}_removeEditorStyleSheets(e){this._editorStyleSheets.delete(e)}registerDecorationType(e,t,i,n){let r=this._decorationOptionProviders.get(e);if(!r){const o=this._getOrCreateStyleSheet(n),s={styleSheet:o,key:e,parentTypeKey:i,options:t||Object.create(null)};r=i?new class{constructor(e,t,i){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=i.parentTypeKey,this.refCount=0,this._beforeContentRules=new Cx(3,i,e),this._afterContentRules=new Cx(4,i,e)}getOptions(e,t){const i=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(i.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(i.afterContentClassName=this._afterContentRules.className),i}dispose(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()}}(this._themeService,o,s):new class{constructor(e,t,i){this._disposables=new ie,this._styleSheet=t,this._styleSheet.ref(),this.refCount=0;const n=t=>{const n=new Cx(t,i,e);if(this._disposables.add(n),n.hasContent)return n.className};this.className=n(0);const r=(t=>{const n=new Cx(t,i,e);if(this._disposables.add(n),n.hasContent)return{className:n.className,hasLetterSpacing:n.hasLetterSpacing};return null})(1);r&&(this.inlineClassName=r.className,this.inlineClassNameAffectsLetterSpacing=r.hasLetterSpacing),this.beforeContentClassName=n(3),this.afterContentClassName=n(4),this.glyphMarginClassName=n(2);const o=i.options;this.isWholeLine=Boolean(o.isWholeLine),this.stickiness=o.rangeBehavior;const s=o.light&&o.light.overviewRulerColor||o.overviewRulerColor,a=o.dark&&o.dark.overviewRulerColor||o.overviewRulerColor;void 0===s&&void 0===a||(this.overviewRuler={color:s||a,darkColor:a||s,position:o.overviewRulerLane||io.Center})}getOptions(e,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this}dispose(){this._disposables.dispose(),this._styleSheet.unref()}}(this._themeService,o,s),this._decorationOptionProviders.set(e,r)}r.refCount++}removeDecorationType(e){const t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach(t=>t.removeDecorations(e))))}resolveDecorationOptions(e,t){const i=this._decorationOptionProviders.get(e);if(!i)throw new Error("Unknown decoration type key: "+e);return i.getOptions(this,t)}};yx=bx([_x(0,tf)],yx);const wx={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"};class Cx{constructor(e,t,i){this._theme=i.getColorTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;let n=Sx.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(n=n+" "+Sx.getClassName(this._providerArgs.parentTypeKey,e)),this._className=n,this._unThemedSelector=Sx.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=i.onDidColorThemeChange(e=>{this._theme=i.getColorTheme(),this._removeCSS(),this._buildCSS()}):this._themeListener=null}dispose(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)}get hasContent(){return this._hasContent}get hasLetterSpacing(){return this._hasLetterSpacing}get className(){return this._className}_buildCSS(){const e=this._providerArgs.options;let t,i,n;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(e),i=this.getCSSTextForModelDecorationClassName(e.light),n=this.getCSSTextForModelDecorationClassName(e.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(e),i=this.getCSSTextForModelDecorationInlineClassName(e.light),n=this.getCSSTextForModelDecorationInlineClassName(e.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(e),i=this.getCSSTextForModelDecorationGlyphMarginClassName(e.light),n=this.getCSSTextForModelDecorationGlyphMarginClassName(e.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(e.before),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.before),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(e.after),i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.after),n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}const r=this._providerArgs.styleSheet;let o=!1;t.length>0&&(r.insertRule(`${this._unThemedSelector} {${t}}`,0),o=!0),i.length>0&&(r.insertRule(`.vs${this._unThemedSelector} {${i}}`,0),o=!0),n.length>0&&(r.insertRule(`.vs-dark${this._unThemedSelector}, .hc-black${this._unThemedSelector} {${n}}`,0),o=!0),this._hasContent=o}_removeCSS(){this._providerArgs.styleSheet.removeRulesContainingSelector(this._unThemedSelector)}getCSSTextForModelDecorationClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")}getCSSTextForModelDecorationInlineClassName(e){if(!e)return"";const t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")}getCSSTextForModelDecorationContentClassName(e){if(!e)return"";const t=[];if(void 0!==e){if(this.collectBorderSettingsCSSText(e,t),void 0!==e.contentIconPath&&t.push(hr.v(wx.contentIconPath,ar(rt.revive(e.contentIconPath)))),"string"==typeof e.contentText){const i=e.contentText.match(/^.*$/m)[0].replace(/['\\]/g,"\\$&");t.push(hr.v(wx.contentText,i))}this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","color","opacity","backgroundColor","margin"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")}getCSSTextForModelDecorationGlyphMarginClassName(e){if(!e)return"";const t=[];return void 0!==e.gutterIconPath&&(t.push(hr.v(wx.gutterIconPath,ar(rt.revive(e.gutterIconPath)))),void 0!==e.gutterIconSize&&t.push(hr.v(wx.gutterIconSize,e.gutterIconSize))),t.join("")}collectBorderSettingsCSSText(e,t){return!!this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)&&(t.push(hr.v("box-sizing: border-box;")),!0)}collectCSSText(e,t,i){const n=i.length;for(let n of t){const t=this.resolveValue(e[n]);"string"==typeof t&&i.push(hr.v(wx[n],t))}return i.length!==n}resolveValue(e){if((t=e)&&"string"==typeof t.id){this._usesThemeColors=!0;const t=this._theme.getColor(e.id);return t?t.toString():"transparent"}var t;return e}}class Sx{static getClassName(e,t){return"ced-"+e+"-"+t}static getSelector(e,t,i){let n=".monaco-editor ."+this.getClassName(e,i);return t&&(n=n+"."+this.getClassName(t,i)),3===i?n+="::before":4===i&&(n+="::after"),n}}class xx{constructor(e,t,i,n,r){this.token=e,this.index=t,this.fontStyle=i,this.foreground=n,this.background=r}}const kx=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class Lx{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(kx);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let i=this._color2id.get(e);return i||(i=++this._lastColorId,this._color2id.set(e,i),this._id2color[i]=hm.fromHex("#"+e),i)}getColorMap(){return this._id2color.slice(0)}}class Dx{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];let t=[],i=0;for(let n=0,r=e.length;n<r;n++){let r=e[n],o=-1;if("string"==typeof r.fontStyle){o=0;let e=r.fontStyle.split(" ");for(let t=0,i=e.length;t<i;t++)switch(e[t]){case"italic":o|=1;break;case"bold":o|=2;break;case"underline":o|=4}}let s=null;"string"==typeof r.foreground&&(s=r.foreground);let a=null;"string"==typeof r.background&&(a=r.background),t[i++]=new xx(r.token||"",n,o,s,a)}return t}(e),t)}static createFromParsedTokenTheme(e,t){return function(e,t){e.sort((e,t)=>{let i=(e=e.token,t=t.token,e<t?-1:e>t?1:0);return 0!==i?i:e.index-t.index});var i,n;let r=0,o="000000",s="ffffff";for(;e.length>=1&&""===e[0].token;){let t=e.shift();-1!==t.fontStyle&&(r=t.fontStyle),null!==t.foreground&&(o=t.foreground),null!==t.background&&(s=t.background)}let a=new Lx;for(let e of t)a.getId(e);let l=a.getId(o),c=a.getId(s),h=new Nx(r,l,c),u=new Tx(h);for(let t=0,i=e.length;t<i;t++){let i=e[t];u.insert(i.token,i.fontStyle,a.getId(i.foreground),a.getId(i.background))}return new Dx(a,u)}(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let i=this._cache.get(t);if(void 0===i){let e=this._match(t),n=function(e){let t=e.match(Ex);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}(t);i=(e.metadata|n<<8)>>>0,this._cache.set(t,i)}return(i|e<<0)>>>0}}const Ex=/\b(comment|string|regex|regexp)\b/;class Nx{constructor(e,t,i){this._fontStyle=e,this._foreground=t,this._background=i,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new Nx(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,i){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==i&&(this._background=i),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class Tx{constructor(e){this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;let t,i,n=e.indexOf(".");-1===n?(t=e,i=""):(t=e.substring(0,n),i=e.substring(n+1));let r=this._children.get(t);return void 0!==r?r.match(i):this._mainRule}insert(e,t,i,n){if(""===e)return void this._mainRule.acceptOverwrite(t,i,n);let r,o,s=e.indexOf(".");-1===s?(r=e,o=""):(r=e.substring(0,s),o=e.substring(s+1));let a=this._children.get(r);void 0===a&&(a=new Tx(this._mainRule.clone()),this._children.set(r,a)),a.insert(o,t,i,n)}}const Ox={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[nv]:"#FFFFFE",[rv]:"#000000",[mv]:"#E5EBF1",[vb]:"#D3D3D3",[bb]:"#939393",[gv]:"#ADD6FF4D"}},Mx={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[nv]:"#1E1E1E",[rv]:"#D4D4D4",[mv]:"#3A3D41",[vb]:"#404040",[bb]:"#707070",[gv]:"#ADD6FF26"}},Ix={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[nv]:"#000000",[rv]:"#FFFFFF",[vb]:"#FFFFFF",[bb]:"#FFFFFF"}};i("sOVj"),i("sZ3n"),i("L/b2");const Ax=new class{constructor(){this.onDidChange=Cs.onDidRegister}getCSS(){const e=[];for(let t of Cs.all)e.push(Px(t));return e.join("\n")}};function Px(e){let t=e.definition;for(;t instanceof xs;)t=t.definition;return`.codicon-${e.id}:before { content: '${t.character}'; }`}const Rx="vs",Fx="vs-dark",Vx="hc-black",Bx=zc.as(vg),Wx=zc.as(lf);class $x{constructor(e,t){this.semanticHighlighting=!1,this.themeData=t;let i=t.base;e.length>0?(this.id=i+" "+e,this.themeName=e):(this.id=i,this.themeName=i),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const e=new Map;for(let t in this.themeData.colors)e.set(t,hm.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){let t=Hx(this.themeData.base);for(let i in t.colors)e.has(i)||e.set(i,hm.fromHex(t.colors[i]))}this.colors=e}return this.colors}getColor(e,t){const i=this.getColors().get(e);return i||(!1!==t?this.getDefault(e):void 0)}getDefault(e){let t=this.defaultColors[e];return t||(t=Bx.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)}defines(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)}get type(){switch(this.base){case Rx:return"light";case Vx:return"hc";default:return"dark"}}get tokenTheme(){if(!this._tokenTheme){let e=[],t=[];if(this.themeData.inherit){let i=Hx(this.themeData.base);e=i.rules,i.encodedTokensColors&&(t=i.encodedTokensColors)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=Dx.createFromRawTokenTheme(e,t)}return this._tokenTheme}getTokenStyleMetadata(e,t,i){const n=this.tokenTheme._match([e].concat(t).join(".")).metadata,r=Ns.getForeground(n),o=Ns.getFontStyle(n);return{foreground:r,italic:Boolean(1&o),bold:Boolean(2&o),underline:Boolean(4&o)}}}function zx(e){return e===Rx||e===Fx||e===Vx}function Hx(e){switch(e){case Rx:return Ox;case Fx:return Mx;case Vx:return Ix}}function jx(e){let t=Hx(e);return new $x(e,t)}var Ux=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Kx=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};const qx="data-keybinding-context";class Gx{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class Yx extends Gx{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}Yx.INSTANCE=new Yx;class Xx extends Gx{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=new Map,this._listener=this._configurationService.onDidChangeConfiguration(e=>{if(6===e.source){const e=Array.from(this._values.keys());this._values.clear(),i.fire(new Jx(e))}else{const t=[];for(const i of e.affectedKeys){const e=`config.${i}`;this._values.has(e)&&(this._values.delete(e),t.push(e))}i.fire(new Jx(t))}})}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(Xx._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(Xx._keyPrefix.length),i=this._configurationService.getValue(t);let n=void 0;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:Array.isArray(i)&&(n=JSON.stringify(i))}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}Xx._keyPrefix="config.";class Zx{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class Qx{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}}class Jx{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}}class ek{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}}class tk{constructor(e){this._onDidChangeContext=new he({merge:e=>new ek(e)}),this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Zx(this,e,t)}get onDidChangeContext(){return this._onDidChangeContext.event}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new nk(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return Nh.contextMatchesRules(t,e)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new Qx(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new Qx(e))}getContext(e){return this._isDisposed?Yx.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute(qx)){const t=e.getAttribute(qx);return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}}let ik=class extends tk{constructor(e){super(0),this._contexts=new Map,this._toDispose=new ie,this._lastContextId=0;const t=new Xx(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?Yx.INSTANCE:this._contexts.get(e)||Yx.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new Gx(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};ik=Ux([Kx(0,yh)],ik);class nk extends tk{constructor(e,t){super(e.createChildContext()),this._parent=e,t&&(this._domNode=t,this._domNode.setAttribute(qx,String(this._myContextId)))}dispose(){this._isDisposed=!0,this._parent.disposeContext(this._myContextId),this._domNode&&(this._domNode.removeAttribute(qx),this._domNode=void 0)}get onDidChangeContext(){return se.any(this._parent.onDidChangeContext,this._onDidChangeContext.event)}getContextValuesContainer(e){return this._isDisposed?Yx.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}Or.registerCommand("setContext",function(e,t,i){e.get(nd).createKey(String(t),i)});var rk;i("czDl"),i("+Tn7");function ok(e,t,i){const n=i.offset+i.size;return 0===i.position?t<=e-n?n:t<=i.offset?i.offset-t:Math.max(e-t,0):t<=i.offset?i.offset-t:t<=e-n?n:0}!function(e){function t(e,t){if(e.start>=t.end||t.start>=e.end)return{start:0,end:0};const i=Math.max(e.start,t.start),n=Math.min(e.end,t.end);return n-i<=0?{start:0,end:0}:{start:i,end:n}}function i(e){return e.end-e.start<=0}e.intersect=t,e.isEmpty=i,e.intersects=function(e,n){return!i(t(e,n))},e.relativeComplement=function(e,t){const n=[],r={start:e.start,end:Math.min(t.start,e.end)},o={start:Math.max(t.end,e.start),end:e.end};return i(r)||n.push(r),i(o)||n.push(o),n}}(rk||(rk={}));class sk extends ne{constructor(e,t){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=ne.None,this.toDisposeOnSetContainer=ne.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=er(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,ir(this.view),this.setContainer(e,t),this._register(te(()=>this.setContainer(null,1)))}setContainer(e,t){if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,tn(this.shadowRootHostElement),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),e){this.container=e,this.useFixedPosition=1!==t,this.useShadowDOM=3===t,this.useShadowDOM?(this.shadowRootHostElement=er(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`\n\t\t\t\t\t<style>\n\t\t\t\t\t\t${ak}\n\t\t\t\t\t</style>\n\t\t\t\t`,this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(er("slot"))):this.container.appendChild(this.view);const i=new ie;sk.BUBBLE_UP_EVENTS.forEach(e=>{i.add(pn(this.container,e,e=>{this.onDOMEvent(e,!1)}))}),sk.BUBBLE_DOWN_EVENTS.forEach(e=>{i.add(pn(this.container,e,e=>{this.onDOMEvent(e,!0)},!0))}),this.toDisposeOnSetContainer=i}}show(e){this.isVisible()&&this.hide(),en(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2500",this.view.style.position=this.useFixedPosition?"fixed":"absolute",tr(this.view),this.toDisposeOnClean=e.render(this.view)||ne.None,this.delegate=e,this.doLayout(),this.delegate.focus&&this.delegate.focus()}getViewElement(){return this.view}layout(){this.isVisible()&&(!1!==this.delegate.canRelayout||r.c&&Ji.pointerEvents?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())}doLayout(){if(!this.isVisible())return;let e,t=this.delegate.getAnchor();if(Un(t)){let i=En(t);e={top:i.top,left:i.left,width:i.width,height:i.height}}else e={top:t.y,left:t.x,width:t.width||1,height:t.height||2};const i=Tn(this.view),n=Mn(this.view),r=this.delegate.anchorPosition||0,o=this.delegate.anchorAlignment||0,s={offset:e.top-window.pageYOffset,size:e.height,position:0===r?0:1};let a;a=0===o?{offset:e.left,size:0,position:0}:{offset:e.left+e.width,size:0,position:1};const l=ok(window.innerHeight,n,s)+window.pageYOffset;rk.intersects({start:l,end:l+n},{start:s.offset,end:s.offset+s.size})&&(a.size=e.width,1===o&&(a.offset=e.left));const c=ok(window.innerWidth,i,a);cn(this.view,"top","bottom","left","right"),sn(this.view,0===r?"bottom":"top"),sn(this.view,0===o?"left":"right"),hn(this.view,"fixed",this.useFixedPosition);const h=En(this.container);this.view.style.top=`${l-(this.useFixedPosition?En(this.view).top:h.top)}px`,this.view.style.left=`${c-(this.useFixedPosition?En(this.view).left:h.left)}px`,this.view.style.width="initial"}hide(e){const t=this.delegate;this.delegate=null,(null===t||void 0===t?void 0:t.onHide)&&t.onHide(e),this.toDisposeOnClean.dispose(),ir(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!In(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}sk.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],sk.BUBBLE_DOWN_EVENTS=["click"];let ak='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t@font-face {\n\t\tfont-family: "codicon";\n\t\tsrc: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';const lk=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,ck=/(&amp;)?(&amp;)([^\s&])/g,hk=Ss("menu-selection",xs.check),uk=Ss("menu-submenu",xs.chevronRight);var dk;!function(e){e[e.Right=0]="Right",e[e.Left=1]="Left"}(dk||(dk={}));class fk extends eS{constructor(e,t,i={}){sn(e,"monaco-menu-container"),e.setAttribute("role","presentation");const n=document.createElement("div");sn(n,"monaco-menu"),n.setAttribute("role","presentation"),super(n,{orientation:2,actionViewItemProvider:e=>this.doGetActionViewItem(e,i,o),context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,triggerKeys:{keys:[3,...r.f||r.d?[10]:[]],keyDown:!0}}),this.menuElement=n,this.actionsList.setAttribute("role","menu"),this.actionsList.tabIndex=0,this.menuDisposables=this._register(new ie),this.initializeStyleSheet(e),dn(n,Kn.KEY_DOWN,e=>{new ki(e).equals(2)&&e.preventDefault()}),i.enableMnemonics&&this.menuDisposables.add(dn(n,Kn.KEY_DOWN,e=>{const t=e.key.toLocaleLowerCase();if(this.mnemonics.has(t)){qn.stop(e,!0);const i=this.mnemonics.get(t);if(1===i.length&&(i[0]instanceof mk&&i[0].container&&this.focusItemByElement(i[0].container),i[0].onClick(e)),i.length>1){const e=i.shift();e&&e.container&&(this.focusItemByElement(e.container),i.push(e)),this.mnemonics.set(t,i)}}})),r.d&&this._register(dn(n,Kn.KEY_DOWN,e=>{const t=new ki(e);t.equals(14)||t.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),qn.stop(e,!0)):(t.equals(13)||t.equals(12))&&(this.focusedItem=0,this.focusPrevious(),qn.stop(e,!0))})),this._register(dn(this.domNode,Kn.MOUSE_OUT,e=>{In(e.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),e.stopPropagation())})),this._register(dn(this.actionsList,Kn.MOUSE_OVER,e=>{let t=e.target;if(t&&In(t,this.actionsList)&&t!==this.actionsList){for(;t.parentElement!==this.actionsList&&null!==t.parentElement;)t=t.parentElement;if(on(t,"action-item")){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}}}));let o={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new ay(n,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const s=this.scrollableElement.getDomNode();s.style.position="",this._register(dn(s,Kn.MOUSE_UP,e=>{e.preventDefault()})),n.style.maxHeight=`${Math.max(10,window.innerHeight-e.getBoundingClientRect().top-35)}px`,t=t.filter(e=>{var t;return null===(t=i.submenuIds)||void 0===t||!t.has(e.id)||(console.warn(`Found submenu cycle: ${e.id}`),!1)}),this.push(t,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(e=>!(e instanceof gk)).forEach((e,t,i)=>{e.updatePositionInSet(t+1,i.length)})}initializeStyleSheet(e){Fn(e)?(this.styleSheet=Wn(e),this.styleSheet.innerHTML=vk):(fk.globalStyleSheet||(fk.globalStyleSheet=Wn(),fk.globalStyleSheet.innerHTML=vk),this.styleSheet=fk.globalStyleSheet)}style(e){const t=this.getContainer(),i=e.foregroundColor?`${e.foregroundColor}`:"",n=e.backgroundColor?`${e.backgroundColor}`:"",r=e.borderColor?`1px solid ${e.borderColor}`:"",o=e.shadowColor?`0 2px 4px ${e.shadowColor}`:"";t.style.border=r,this.domNode.style.color=i,this.domNode.style.backgroundColor=n,t.style.boxShadow=o,this.viewItems&&this.viewItems.forEach(t=>{(t instanceof pk||t instanceof gk)&&t.style(e)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(e){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let t=0;t<this.actionsList.children.length;t++){if(e===this.actionsList.children[t]){this.focusedItem=t;break}}}updateFocus(e){super.updateFocus(e,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,t,i){if(e instanceof Vu)return new gk(t.context,e,{icon:!0});if(e instanceof Bu){const n=new mk(e,e.actions,i,Object.assign(Object.assign({},t),{submenuIds:new Set([...t.submenuIds||[],e.id])}));if(t.enableMnemonics){const e=n.getMnemonic();if(e&&n.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(n),this.mnemonics.set(e,t)}}return n}{const i={enableMnemonics:t.enableMnemonics,useEventAsContext:t.useEventAsContext};if(t.getKeyBinding){const n=t.getKeyBinding(e);if(n){const e=n.getLabel();e&&(i.keybinding=e)}}const n=new pk(t.context,e,i);if(t.enableMnemonics){const e=n.getMnemonic();if(e&&n.isEnabled()){let t=[];this.mnemonics.has(e)&&(t=this.mnemonics.get(e)),t.push(n),this.mnemonics.set(e,t)}}return n}}}class pk extends QC{constructor(e,t,i={}){if(i.isMenu=!0,super(t,t,i),this.options=i,this.options.icon=void 0!==i.icon&&i.icon,this.options.label=void 0===i.label||i.label,this.cssClass="",this.options.label&&i.enableMnemonics){let e=this.getAction().label;if(e){let t=lk.exec(e);t&&(this.mnemonic=(t[1]?t[1]:t[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Vi(()=>{this.element&&(this._register(dn(this.element,Kn.MOUSE_UP,e=>{if(qn.stop(e,!0),ui){if(new Oi(e).rightButton)return;this.onClick(e)}setTimeout(()=>{this.onClick(e)},0)})),this._register(dn(this.element,Kn.CONTEXT_MENU,e=>{qn.stop(e,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(e){super.render(e),this.element&&(this.container=e,this.item=Xn(this.element,er("a.action-menu-item")),this._action.id===Vu.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=Xn(this.item,er("span.menu-item-check"+hk.cssSelector)),this.check.setAttribute("role","none"),this.label=Xn(this.item,er("span.action-label")),this.options.label&&this.options.keybinding&&(Xn(this.item,er("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(e,t){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${t}`))}updateLabel(){var e;if(this.label&&this.options.label){en(this.label);let t=-1===(e=this.getAction().label).indexOf(bs)?e:e.replace(Ds,(e,t,i,n)=>i?e:t||n||"");if(t){const e=function(e){const t=lk,i=t.exec(e);if(!i)return e;const n=!i[1];return e.replace(t,n?"$2$3":"").trim()}(t);this.options.enableMnemonics||(t=e),this.label.setAttribute("aria-label",e.replace(/&&/g,"&"));const i=lk.exec(t);if(i){t=hr.s(t),ck.lastIndex=0;let e=ck.exec(t);for(;e&&e[1];)e=ck.exec(t);const n=e=>e.replace(/&amp;&amp;/g,"&amp;");e?this.label.append(hr.I(n(t.substr(0,e.index))," "),er("u",{"aria-hidden":"true"},e[3]),hr.N(n(t.substr(e.index+e[0].length))," ")):this.label.innerText=n(t).trim(),this.item&&this.item.setAttribute("aria-keyshortcuts",(i[1]?i[1]:i[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){let e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=n(0,"{0} ({1})",e,this.options.keybinding))),e&&this.item&&(this.item.title=e)}updateClass(){this.cssClass&&this.item&&cn(this.item,this.cssClass),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",sn(this.label,"icon"),this.cssClass&&an(this.label,this.cssClass),this.updateEnabled()):this.label&&ln(this.label,"icon")}updateEnabled(){this.getAction().enabled?(this.element&&ln(this.element,"disabled"),this.item&&(ln(this.item,"disabled"),this.item.tabIndex=0)):(this.element&&sn(this.element,"disabled"),this.item&&(sn(this.item,"disabled"),nr(this.item)))}updateChecked(){this.item&&(this.getAction().checked?(sn(this.item,"checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(ln(this.item,"checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const e=this.element&&on(this.element,"focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,i=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,n=e&&this.menuStyle.selectionBorderColor?`thin solid ${this.menuStyle.selectionBorderColor}`:"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=i?i.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=n)}style(e){this.menuStyle=e,this.applyStyle()}}class mk extends pk{constructor(e,t,i,n){super(e,e,n),this.submenuActions=t,this.parentData=i,this.submenuOptions=n,this.mysubmenu=null,this.submenuDisposables=this._register(new ie),this.mouseOver=!1,this.expandDirection=n&&void 0!==n.expandDirection?n.expandDirection:dk.Right,this.showScheduler=new Vi(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Vi(()=>{this.element&&!In(Bn(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(e){super.render(e),this.element&&(this.item&&(sn(this.item,"monaco-submenu-item"),this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=Xn(this.item,er("span.submenu-indicator"+uk.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(dn(this.element,Kn.KEY_UP,e=>{let t=new ki(e);(t.equals(17)||t.equals(3))&&(qn.stop(e,!0),this.createSubmenu(!0))})),this._register(dn(this.element,Kn.KEY_DOWN,e=>{let t=new ki(e);Bn()===this.item&&(t.equals(17)||t.equals(3))&&qn.stop(e,!0)})),this._register(dn(this.element,Kn.MOUSE_OVER,e=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(dn(this.element,Kn.MOUSE_LEAVE,e=>{this.mouseOver=!1})),this._register(dn(this.element,Kn.FOCUS_OUT,e=>{this.element&&!In(Bn(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!1)})))}onClick(e){qn.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(e){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,t,i,n){const r={top:0,left:0};return r.left=ok(e.width,t.width,{position:n===dk.Right?0:1,offset:i.left,size:i.width}),r.left>=i.left&&r.left<i.left+i.width&&(i.left+10+t.width<=e.width&&(r.left=i.left+10),i.top+=10,i.height=0),r.top=ok(e.height,t.height,{position:0,offset:i.top,size:0}),r.top+t.height===i.top&&r.top+i.height+t.height<=e.height&&(r.top+=i.height),r}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=Xn(this.element,er("div.monaco-submenu")),an(this.submenuContainer,"menubar-menu-items-holder","context-view");const t=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(t.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new fk(this.submenuContainer,this.submenuActions,this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const n=this.element.getBoundingClientRect(),r={top:n.top-i,left:n.left,height:n.height+2*i,width:n.width},o=this.submenuContainer.getBoundingClientRect(),{top:s,left:a}=this.calculateSubmenuMenuLayout({height:window.innerHeight,width:window.innerWidth},o,r,this.expandDirection);this.submenuContainer.style.left=`${a}px`,this.submenuContainer.style.top=`${s}px`,this.submenuDisposables.add(dn(this.submenuContainer,Kn.KEY_UP,e=>{new ki(e).equals(15)&&(qn.stop(e,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(dn(this.submenuContainer,Kn.KEY_DOWN,e=>{new ki(e).equals(15)&&qn.stop(e,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){var t;this.item&&(null===(t=this.item)||void 0===t||t.setAttribute("aria-expanded",e))}applyStyle(){if(super.applyStyle(),!this.menuStyle)return;const e=this.element&&on(this.element,"focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=e?`${e}`:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class gk extends JC{style(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?`${e.separatorColor}`:"")}}let vk=`\n.monaco-menu {\n\tfont-size: 13px;\n\n}\n\n${Px(hk)}\n${Px(uk)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = √φ */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.4;\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tpadding: 0.5em 0 0 0;\n\tmargin-bottom: 0.5em;\n\twidth: 100%;\n\theight: 0px !important;\n\tmargin-left: .8em !important;\n\tmargin-right: .8em !important;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tborder: thin solid transparent; /* prevents jumping behaviour on hover or focus */\n}\n\n\n/* High Contrast Theming */\n:host-context(.hc-black) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: .5em 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 1.8em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tpadding: 0.2em 0 0 0;\n\tmargin-bottom: 0.2em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n\tbox-shadow: #DDD 0 6px 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n\tbox-shadow: #DDD 6px 0 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top.left {\n\tbox-shadow: #DDD 6px 6px 6px -6px inset;\n}\n\n/* ---------- Default Style ---------- */\n\n:host-context(.vs) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(100, 100, 100, .4);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(121, 121, 121, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: rgba(111, 195, 223, .6);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(100, 100, 100, .7);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: rgba(111, 195, 223, .8);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(0, 0, 0, .6);\n}\n:host-context(.vs-dark) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(191, 191, 191, .4);\n}\n:host-context(.hc-black) .monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: rgba(111, 195, 223, 1);\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: #000 6px 0 6px -6px inset;\n}\n\n:host-context(.vs-dark) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: #000 6px 6px 6px -6px inset;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.left {\n\tbox-shadow: none;\n}\n\n:host-context(.hc-black) .monaco-scrollable-element .shadow.top.left {\n\tbox-shadow: none;\n}\n`;function bk(e,t){const i=Object.create(null);for(let n in t){const r=t[n];r&&(i[n]=ob(r,e))}return i}function _k(e,t,i){function n(n){const r=bk(e.getColorTheme(),t);"function"==typeof i?i(r):i.style(r)}return n(e.getColorTheme()),e.onDidColorThemeChange(n)}function yk(e,t,i){return _k(t,Object.assign(Object.assign({},wk),i||{}),e)}const wk={listFocusBackground:Dv,listFocusForeground:Ev,listActiveSelectionBackground:tb(Nv,.1),listActiveSelectionForeground:Tv,listFocusAndSelectionBackground:Nv,listFocusAndSelectionForeground:Tv,listInactiveSelectionBackground:Ov,listInactiveSelectionForeground:Mv,listInactiveFocusBackground:Iv,listHoverBackground:Av,listHoverForeground:Pv,listDropBackground:Rv,listFocusOutline:Sg,listSelectionOutline:Sg,listHoverOutline:Sg,listFilterWidgetBackground:Fv,listFilterWidgetOutline:Vv,listFilterWidgetNoMatchesOutline:Bv,listMatchesShadow:xg,treeIndentGuidesStroke:Wv},Ck={shadowColor:xg,borderColor:$v,foregroundColor:zv,backgroundColor:Hv,selectionForegroundColor:jv,selectionBackgroundColor:Uv,selectionBorderColor:Kv,separatorColor:qv};var Sk=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},xk=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};let kk=class extends ne{constructor(e,t,i,n,r){super(),this._onDidContextMenu=this._register(new ce),this.onDidContextMenu=this._onDidContextMenu.event,this.contextMenuHandler=new class{constructor(e,t,i,n,r){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.themeService=r,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let i;this.focusToReturn=document.activeElement;let n=Un(e.domForShadowRoot)?e.domForShadowRoot:void 0;var r,o;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,render:n=>{let s=e.getMenuClassName?e.getMenuClassName():"";s&&(n.className+=" "+s),this.options.blockMouse&&(this.block=n.appendChild(er(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",bi(this.block,Kn.MOUSE_DOWN)(e=>e.stopPropagation()));const a=new ie,l=e.actionRunner||new Fu;return l.onDidBeforeRun(this.onActionRun,this,a),l.onDidRun(this.onDidActionRun,this,a),i=new fk(n,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:l,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)}),a.add((r=i,_k(this.themeService,Object.assign(Object.assign({},Ck),o),r))),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,a),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,a),bi(window,Kn.BLUR)(()=>{this.contextViewService.hideContextView(!0)},null,a),bi(window,Kn.MOUSE_DOWN)(e=>{if(e.defaultPrevented)return;let t=new Oi(e),i=t.target;if(!t.rightButton){for(;i;){if(i===n)return;i=i.parentElement}this.contextViewService.hideContextView(!0)}},null,a),ee(a,i)},focus:()=>{i&&i.focus(!!e.autoSelectFirstItem)},onHide:t=>{e.onHide&&e.onHide(!!t),this.block&&(tn(this.block),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},n,!!n)}onActionRun(e){this.telemetryService&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&this.notificationService&&this.notificationService.error(e.error)}}(i,e,t,n,r)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(e),this._onDidContextMenu.fire()}};kk=Sk([xk(0,fd),xk(1,zh),xk(2,cS),xk(3,AS),xk(4,tf)],kk);const Lk=oi("layoutService");var Dk=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},Ek=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};let Nk=class extends ne{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=ne.None,this.container=e.container,this.contextView=this._register(new sk(this.container,1)),this.layout(),this._register(e.onLayout(()=>this.layout()))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t!==this.container&&(this.container=t,this.setContainer(t,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);const n=te(()=>{this.currentViewDisposable===n&&this.hideContextView()});return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};Nk=Dk([Ek(0,Lk)],Nk);const Tk=oi("dialogService");class Ok{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}}class Mk{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(let t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),n),n.incoming.set(this._hashFn(e),i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(let e of this._nodes.values())e.outgoing.delete(t),e.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new Ok(e),this._nodes.set(t,i)),i}isEmpty(){return 0===this._nodes.size}toString(){let e=[];for(let[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join("\n")}}const Ik=!1;class Ak extends Error{constructor(e){super("cyclic dependency between services"),this.message=e.toString()}}class Pk{constructor(e=new uC,t=!1,i){this._services=e,this._strict=t,this._parent=i,this._services.set(ni,this)}createChild(e){return new Pk(e,this._strict,this)}invokeFunction(e,...t){let i=Rk.traceInvocation(e),n=!1;try{return e({get:(e,t)=>{if(n)throw(r="service accessor is only valid during the invocation of its target method")?new Error(`Illegal state: ${r}`):new Error("Illegal state");const o=this._getOrCreateServiceInstance(e,i);if(!o&&t!==function(e){return function(t,i,n){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");ri(e,t,n,!0)}})throw new Error(`[invokeFunction] unknown service '${e}'`);return o}},...t)}finally{n=!0,i.stop()}var r}createInstance(e,...t){let i,n;return e instanceof HC?(i=Rk.traceCreation(e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=Rk.traceCreation(e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){let n=ii.getServiceDependencies(e).sort((e,t)=>e.index-t.index),r=[];for(const t of n){let n=this._getOrCreateServiceInstance(t.id,i);if(!n&&this._strict&&!t.optional)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${t.id}.`);r.push(n)}let o=n.length>0?n[0].index:t.length;if(t.length!==o){console.warn(`[createInstance] First service dependency of ${e.name} at position ${o+1} conflicts with ${t.length} static arguments`);let i=o-t.length;t=i>0?t.concat(new Array(i)):t.slice(0,o)}return new e(...[...t,...r])}_setServiceInstance(e,t){if(this._services.get(e)instanceof HC)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let i=this._getServiceInstanceOrDescriptor(e);return i instanceof HC?this._createAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_createAndCacheServiceInstance(e,t,i){const n=new Mk(e=>e.id.toString());let r=0;const o=[{id:e,desc:t,_trace:i}];for(;o.length;){const t=o.pop();if(n.lookupOrInsertNode(t),r++>1e3)throw new Ak(n);for(let i of ii.getServiceDependencies(t.desc.ctor)){let r=this._getServiceInstanceOrDescriptor(i.id);if(r||i.optional||console.warn(`[createInstance] ${e} depends on ${i.id} which is NOT registered.`),r instanceof HC){const e={id:i.id,desc:r,_trace:t._trace.branch(i.id,!0)};n.insertEdge(t,e),o.push(e)}}}for(;;){const e=n.roots();if(0===e.length){if(!n.isEmpty())throw new Ak(n);break}for(const{data:t}of e){const e=this._createServiceInstanceWithOwner(t.id,t.desc.ctor,t.desc.staticArguments,t.desc.supportsDelayedInstantiation,t._trace);this._setServiceInstance(t.id,e),n.removeNode(t)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,r){if(this._services.get(e)instanceof HC)return this._createServiceInstance(t,i,n,r);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,r);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],i,n){if(i){const i=new Bi(()=>this._createInstance(e,t,n));return new Proxy(Object.create(null),{get(e,t){if(t in e)return e[t];let n=i.value,r=n[t];return"function"!=typeof r?r:(r=r.bind(n),e[t]=r,r)},set:(e,t,n)=>(i.value[t]=n,!0)})}return this._createInstance(e,t,n)}}class Rk{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return Ik?new Rk(1,e.name||e.toString().substring(0,42).replace(/\n/g,"")):Rk._None}static traceCreation(e){return Ik?new Rk(0,e.name):Rk._None}branch(e,t){let i=new Rk(2,e.toString());return this._dep.push([e,t,i]),i}stop(){let e=Date.now()-this._start;Rk._totals+=e;let t=!1;let i=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function e(i,n){let r=[],o=new Array(i+1).join("\t");for(const[s,a,l]of n._dep)if(a&&l){t=!0,r.push(`${o}CREATES -> ${s}`);let n=e(i+1,l);n&&r.push(n)}else r.push(`${o}uses -> ${s}`);return r.join("\n")}(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${Rk._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(i.join("\n"))}}Rk._None=new class extends Rk{constructor(){super(-1,null)}stop(){}branch(){return this}},Rk._totals=0;const Fk=oi("labelService");i("jF/U");class Vk extends Error{constructor(e,t){super(`ListError [${e}] ${t}`)}}function Bk(e,t){const i=[];for(let n of t){if(e.start>=n.range.end)continue;if(e.end<n.range.start)break;const t=rk.intersect(e,n.range);rk.isEmpty(t)||i.push({range:t,size:n.size})}return i}function Wk({start:e,end:t},i){return{start:e+i,end:t+i}}class $k{constructor(){this.groups=[],this._size=0}splice(e,t,i=[]){const n=i.length-t,r=Bk({start:0,end:e},this.groups),o=Bk({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map(e=>({range:Wk(e.range,n),size:e.size})),s=i.map((t,i)=>({range:{start:e+i,end:e+i+1},size:t.size}));this.groups=function(...e){return function(e){const t=[];let i=null;for(let n of e){const e=n.range.start,r=n.range.end,o=n.size;i&&o===i.size?i.range.end=r:(i={range:{start:e,end:r},size:o},t.push(i))}return t}(e.reduce((e,t)=>e.concat(t),[]))}(r,s,o),this._size=this.groups.reduce((e,t)=>e+t.size*(t.range.end-t.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){const r=n.range.end-n.range.start,o=i+r*n.size;if(e<o)return t+Math.floor((e-i)/n.size);t+=r,i=o}return t}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let t=0,i=0;for(let n of this.groups){const r=n.range.end-n.range.start,o=i+r;if(e<o)return t+(e-i)*n.size;t+=r*n.size,i=o}return-1}}class zk{constructor(e){this.renderers=e,this.cache=new Map}alloc(e){let t=this.getTemplateCache(e).pop();if(!t){const i=er(".monaco-list-row");t={domNode:i,templateId:e,templateData:this.getRenderer(e).renderTemplate(i)}}return t}release(e){e&&this.releaseRow(e)}releaseRow(e){const{domNode:t,templateId:i}=e;t&&(ln(t,"scrolling"),function(e){try{e.parentElement&&e.parentElement.removeChild(e)}catch(e){}}(t)),this.getTemplateCache(i).push(e)}getTemplateCache(e){let t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t}dispose(){this.cache.forEach((e,t)=>{for(const i of e){this.getRenderer(t).disposeTemplate(i.templateData),i.domNode=null,i.templateData=null}}),this.cache.clear()}getRenderer(e){const t=this.renderers.get(e);if(!t)throw new Error(`No renderer found for ${e}`);return t}}var Hk=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const jk={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:e=>[e],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0};class Uk{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class Kk{constructor(e){this.elements=e}update(){}getData(){return this.elements}}class qk{constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let t=0;t<e.files.length;t++){const i=e.files.item(t);i&&(i.size||i.type)&&this.files.push(i)}}}getData(){return{types:this.types,files:this.files}}}class Gk{constructor(e){(null===e||void 0===e?void 0:e.getSetSize)?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=((e,t,i)=>i),(null===e||void 0===e?void 0:e.getPosInSet)?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=((e,t)=>t+1),(null===e||void 0===e?void 0:e.getRole)?this.getRole=e.getRole.bind(e):this.getRole=(e=>"listitem"),(null===e||void 0===e?void 0:e.isChecked)?this.isChecked=e.isChecked.bind(e):this.isChecked=(e=>void 0)}}class Yk{constructor(e,t,i,n=jk){if(this.virtualDelegate=t,this.domId=`list_id_${++Yk.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new Ai(50),this.splicing=!1,this.dragOverAnimationStopDisposable=ne.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=ne.None,this.onDragLeaveTimeout=ne.None,this.disposables=new ie,this._onDidChangeContentHeight=new ce,this._horizontalScrolling=!1,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new $k;for(const e of i)this.renderers.set(e.templateId,e);this.cache=this.disposables.add(new zk(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",sn(this.domNode,this.domId),this.domNode.tabIndex=0,hn(this.domNode,"mouse-support","boolean"!=typeof n.mouseSupport||n.mouseSupport),this._horizontalScrolling=qr(n,e=>e.horizontalScrolling,jk.horizontalScrolling),hn(this.domNode,"horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=void 0===n.additionalScrollHeight?0:n.additionalScrollHeight,this.accessibilityProvider=new Gk(n.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",qr(n,e=>e.transformOptimization,jk.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(Id.addTarget(this.rowsContainer)),this.scrollable=new Y_(qr(n,e=>e.smoothScrolling,!1)?125:0,e=>vn(e)),this.scrollableElement=this.disposables.add(new sy(this.rowsContainer,{alwaysConsumeMouseWheel:!0,horizontal:1,vertical:qr(n,e=>e.verticalScrollMode,jk.verticalScrollMode),useShadows:qr(n,e=>e.useShadows,jk.useShadows)},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),bi(this.rowsContainer,Od.Change)(this.onTouchChange,this,this.disposables),bi(this.scrollableElement.getDomNode(),"scroll")(e=>e.target.scrollTop=0,null,this.disposables),se.map(bi(this.domNode,"dragover"),e=>this.toDragEvent(e))(this.onDragOver,this,this.disposables),se.map(bi(this.domNode,"drop"),e=>this.toDragEvent(e))(this.onDrop,this,this.disposables),bi(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),bi(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=qr(n,e=>e.setRowLineHeight,jk.setRowLineHeight),this.setRowHeight=qr(n,e=>e.setRowHeight,jk.setRowHeight),this.supportDynamicHeights=qr(n,e=>e.supportDynamicHeights,jk.supportDynamicHeights),this.dnd=qr(n,e=>e.dnd,jk.dnd),this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,hn(this.domNode,"horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const e of this.items)this.measureItemWidth(e);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:On(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){void 0!==e.additionalScrollHeight&&(this.additionalScrollHeight=e.additionalScrollHeight),void 0!==e.smoothScrolling&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),void 0!==e.horizontalScrolling&&(this.horizontalScrolling=e.horizontalScrolling)}splice(e,t,i=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,i)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,t,i=[]){const n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r={start:e,end:e+t},o=rk.intersect(n,r);for(let e=o.start;e<o.end;e++)this.removeItemFromDOM(e);const s={start:e+t,end:this.items.length},a=rk.intersect(s,n),l=rk.relativeComplement(s,n),c=i.map(e=>({id:String(this.itemId++),element:e,templateId:this.virtualDelegate.getTemplateId(e),size:this.virtualDelegate.getHeight(e),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(e),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:ne.None}));let h;0===e&&t>=this.items.length?(this.rangeMap=new $k,this.rangeMap.splice(0,0,c),this.items=c,h=[]):(this.rangeMap.splice(e,t,c),h=this.items.splice(e,t,...c));const u=i.length-t,d=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),f=Wk(a,u),p=rk.intersect(d,f);for(let e=p.start;e<p.end;e++)this.updateItemInDOM(this.items[e],e);const m=rk.relativeComplement(f,d);for(const e of m)for(let t=e.start;t<e.end;t++)this.removeItemFromDOM(t);const g=l.map(e=>Wk(e,u)),v=[{start:e,end:e+i.length},...g].map(e=>rk.intersect(d,e)),b=this.getNextToLastElement(v);for(const e of v)for(let t=e.start;t<e.end;t++)this.insertItemInDOM(t,b);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),h.map(e=>e.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=vn(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const t of this.items)void 0!==t.width&&(e=Math.max(e,t.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:0===e?0:e+10})}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(e){return this.items[e].element}domElement(e){const t=this.items[e].row;return t&&t.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,t){let i={height:"number"==typeof e?e:function(e){let t=Ln.getBorderTopWidth(e)+Ln.getBorderBottomWidth(e),i=Ln.getPaddingTop(e)+Ln.getPaddingBottom(e);return e.offsetHeight-t-i}(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,i.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(i),void 0!==t&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof t?t:On(this.domNode)}))}render(e,t,i,n,r,o=!1){const s=this.getRenderRange(t,i),a=rk.relativeComplement(s,e),l=rk.relativeComplement(e,s),c=this.getNextToLastElement(a);if(o){const t=rk.intersect(e,s);for(let e=t.start;e<t.end;e++)this.updateItemInDOM(this.items[e],e)}for(const e of a)for(let t=e.start;t<e.end;t++)this.insertItemInDOM(t,c);for(const e of l)for(let t=e.start;t<e.end;t++)this.removeItemFromDOM(t);void 0!==n&&(this.rowsContainer.style.left=`-${n}px`),this.rowsContainer.style.top=`-${t}px`,this.horizontalScrolling&&void 0!==r&&(this.rowsContainer.style.width=`${Math.max(r,this.renderWidth)}px`),this.lastRenderTop=t,this.lastRenderHeight=i}insertItemInDOM(e,t){const i=this.items[e];if(!i.row){i.row=this.cache.alloc(i.templateId);const e=this.accessibilityProvider.getRole(i.element)||"listitem";i.row.domNode.setAttribute("role",e);const t=this.accessibilityProvider.isChecked(i.element);void 0!==t&&i.row.domNode.setAttribute("aria-checked",String(!!t))}i.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(i.row.domNode,t):this.rowsContainer.appendChild(i.row.domNode)),this.updateItemInDOM(i,e);const n=this.renderers.get(i.templateId);if(!n)throw new Error(`No renderer found for template id ${i.templateId}`);n&&n.renderElement(i.element,e,i.row.templateData,i.size);const r=this.dnd.getDragURI(i.element);if(i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!r,r){const e=bi(i.row.domNode,"dragstart");i.dragStartDisposable=e(e=>this.onDragStart(i.element,r,e))}this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width=ui?"-moz-fit-content":"fit-content",e.width=On(e.row.domNode);const t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,t){e.row.domNode.style.top=`${this.elementTop(t)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${t}`),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),hn(e.row.domNode,"drop-target",e.dropTarget)}removeItemFromDOM(e){const t=this.items[e];t.dragStartDisposable.dispose();const i=this.renderers.get(t.templateId);t.row&&i&&i.disposeElement&&i.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null,this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return se.map(bi(this.domNode,"click"),e=>this.toMouseEvent(e))}get onMouseDblClick(){return se.map(bi(this.domNode,"dblclick"),e=>this.toMouseEvent(e))}get onMouseMiddleClick(){return se.filter(se.map(bi(this.domNode,"auxclick"),e=>this.toMouseEvent(e)),e=>1===e.browserEvent.button)}get onMouseDown(){return se.map(bi(this.domNode,"mousedown"),e=>this.toMouseEvent(e))}get onContextMenu(){return se.map(bi(this.domNode,"contextmenu"),e=>this.toMouseEvent(e))}get onTouchStart(){return se.map(bi(this.domNode,"touchstart"),e=>this.toTouchEvent(e))}get onTap(){return se.map(bi(this.rowsContainer,Od.Tap),e=>this.toGestureEvent(e))}toMouseEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toTouchEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toGestureEvent(e){const t=this.getItemIndexFromEventTarget(e.initialTarget||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}toDragEvent(e){const t=this.getItemIndexFromEventTarget(e.target||null),i=void 0===t?void 0:this.items[t];return{browserEvent:e,index:t,element:i&&i.element}}onScroll(e){try{const t=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(t,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height)}catch(t){throw console.error("Got bad scroll event:",e),t}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,t,i){if(!i.dataTransfer)return;const n=this.dnd.getDragElements(e);if(i.dataTransfer.effectAllowed="copyMove",i.dataTransfer.setData(YC.RESOURCES,JSON.stringify([t])),i.dataTransfer.setDragImage){let e;this.dnd.getDragLabel&&(e=this.dnd.getDragLabel(n,i)),void 0===e&&(e=String(n.length));const t=er(".monaco-drag-image");t.textContent=e,document.body.appendChild(t),i.dataTransfer.setDragImage(t,-10,-10),setTimeout(()=>document.body.removeChild(t),0)}this.currentDragData=new Uk(n),ZC.CurrentDragAndDropData=new Kk(n),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,i)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),ZC.CurrentDragAndDropData&&"vscode-ui"===ZC.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(ZC.CurrentDragAndDropData)this.currentDragData=ZC.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new qk}const t=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop="boolean"==typeof t?t:t.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let i;if(e.browserEvent.dataTransfer.dropEffect="boolean"!=typeof t&&0===t.effect?"copy":"move",i=-1===(i=ji(i="boolean"!=typeof t&&t.feedback?t.feedback:void 0===e.index?[-1]:[e.index]).filter(e=>e>=-1&&e<this.length).sort((e,t)=>e-t))[0]?[-1]:i,n=this.currentDragFeedback,r=i,Array.isArray(n)&&Array.isArray(r)?$i(n,r):n===r)return!0;var n,r;if(this.currentDragFeedback=i,this.currentDragFeedbackDisposable.dispose(),-1===i[0])sn(this.domNode,"drop-target"),sn(this.rowsContainer,"drop-target"),this.currentDragFeedbackDisposable=te(()=>{ln(this.domNode,"drop-target"),ln(this.rowsContainer,"drop-target")});else{for(const e of i){const t=this.items[e];t.dropTarget=!0,t.row&&t.row.domNode&&sn(t.row.domNode,"drop-target")}this.currentDragFeedbackDisposable=te(()=>{for(const e of i){const t=this.items[e];t.dropTarget=!1,t.row&&t.row.domNode&&ln(t.row.domNode,"drop-target")}})}return!0}onDragLeave(){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Pi(()=>this.clearDragOverFeedback(),100)}onDrop(e){if(!this.canDrop)return;const t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,ZC.CurrentDragAndDropData=void 0,t&&e.browserEvent.dataTransfer&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,ZC.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=ne.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const e=function(e){let t=e.offsetParent,i=e.offsetTop,n=e.offsetLeft;for(;null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement;){i-=e.scrollTop;const r=Rn(e)?null:xn(e);r&&(n-="rtl"!==r.direction?e.scrollLeft:-e.scrollLeft),e===t&&(n+=Ln.getBorderLeftWidth(e),i+=Ln.getBorderTopWidth(e),i+=e.offsetTop,n+=e.offsetLeft,t=e.offsetParent)}return{left:n,top:i}}(this.domNode).top;this.dragOverAnimationDisposable=function(e){const t=()=>{e(),i=vn(t)};let i=vn(t);return te(()=>i.dispose())}(this.animateDragAndDropScrollTop.bind(this,e))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Pi(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(void 0===this.dragOverMouseY)return;const t=this.dragOverMouseY-e,i=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>i&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-i))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(e){const t=this.scrollableElement.getDomNode();let i=e;for(;i instanceof HTMLElement&&i!==this.rowsContainer&&t.contains(i);){const e=i.getAttribute("data-index");if(e){const t=Number(e);if(!isNaN(t))return t}i=i.parentElement}}getRenderRange(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}}_rerender(e,t){const i=this.getRenderRange(e,t);let n,r;e===this.elementTop(i.start)?(n=i.start,r=0):i.end-i.start>1&&(n=i.start+1,r=this.elementTop(n)-e);let o=0;for(;;){const s=this.getRenderRange(e,t);let a=!1;for(let e=s.start;e<s.end;e++){const t=this.probeDynamicHeight(e);0!==t&&this.rangeMap.splice(e,1,[this.items[e]]),o+=t,a=a||0!==t}if(!a){0!==o&&this.eventuallyUpdateScrollDimensions();const e=rk.relativeComplement(i,s);for(const t of e)for(let e=t.start;e<t.end;e++)this.items[e].row&&this.removeItemFromDOM(e);const t=rk.relativeComplement(s,i);for(const e of t)for(let t=e.start;t<e.end;t++){const e=t+1,i=e<this.items.length?this.items[e].row:null,n=i?i.domNode:null;this.insertItemInDOM(t,n)}for(let e=s.start;e<s.end;e++)this.items[e].row&&this.updateItemInDOM(this.items[e],e);return"number"==typeof n&&(this.scrollTop=this.elementTop(n)-r),void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(e){const t=this.items[e];if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth)return 0;if(this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(t.element))return 0;const i=t.size;if(!this.setRowHeight&&t.row&&t.row.domNode){let e=t.row.domNode.offsetHeight;return t.size=e,t.lastDynamicHeightWidth=this.renderWidth,e-i}const n=this.cache.alloc(t.templateId);n.domNode.style.height="",this.rowsContainer.appendChild(n.domNode);const r=this.renderers.get(t.templateId);return r&&(r.renderElement(t.element,e,n.templateData,void 0),r.disposeElement&&r.disposeElement(t.element,e,n.templateData,void 0)),t.size=n.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(n.domNode),this.cache.release(n),t.size-i}getNextToLastElement(e){const t=e[e.length-1];if(!t)return null;const i=this.items[t.end];return i&&i.row?i.row.domNode:null}getElementDomId(e){return`${this.domId}_${e}`}dispose(){if(this.items){for(const e of this.items)if(e.row){const t=this.renderers.get(e.row.templateId);t&&t.disposeTemplate(e.row.templateData)}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),J(this.disposables)}}Yk.InstanceCount=0,Hk([Td],Yk.prototype,"onMouseClick",null),Hk([Td],Yk.prototype,"onMouseDblClick",null),Hk([Td],Yk.prototype,"onMouseMiddleClick",null),Hk([Td],Yk.prototype,"onMouseDown",null),Hk([Td],Yk.prototype,"onContextMenu",null),Hk([Td],Yk.prototype,"onTouchStart",null),Hk([Td],Yk.prototype,"onTap",null);class Xk{constructor(e){this.spliceables=e}splice(e,t,i){this.spliceables.forEach(n=>n.splice(e,t,i))}}function Zk(e,t,i){return Math.min(Math.max(e,t),i)}var Qk,Jk=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};class eL{constructor(e){this.trait=e,this.renderedElements=[]}get templateId(){return`template:${this.trait.trait}`}renderTemplate(e){return e}renderElement(e,t,i){const n=Ki(this.renderedElements,e=>e.templateData===i);if(n>=0){const e=this.renderedElements[n];this.trait.unrender(i),e.index=t}else{const e={index:t,templateData:i};this.renderedElements.push(e)}this.trait.renderIndex(t,i)}splice(e,t,i){const n=[];for(const r of this.renderedElements)r.index<e?n.push(r):r.index>=e+t&&n.push({index:r.index+i-t,templateData:r.templateData});this.renderedElements=n}renderIndexes(e){for(const{index:t,templateData:i}of this.renderedElements)e.indexOf(t)>-1&&this.trait.renderIndex(t,i)}disposeTemplate(e){const t=Ki(this.renderedElements,t=>t.templateData===e);t<0||this.renderedElements.splice(t,1)}}class tL{constructor(e){this._trait=e,this.indexes=[],this.sortedIndexes=[],this._onChange=new ce,this.onChange=this._onChange.event}get trait(){return this._trait}get renderer(){return new eL(this)}splice(e,t,i){const n=i.length-t,r=e+t,o=[...this.sortedIndexes.filter(t=>t<e),...i.map((t,i)=>t?i+e:-1).filter(e=>-1!==e),...this.sortedIndexes.filter(e=>e>=r).map(e=>e+n)];this.renderer.splice(e,t,i.length),this._set(o,o)}renderIndex(e,t){hn(t,this._trait,this.contains(e))}unrender(e){ln(e,this._trait)}set(e,t){return this._set(e,[...e].sort(bL),t)}_set(e,t,i){const n=this.indexes,r=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;const o=vL(r,e);return this.renderer.renderIndexes(o),this._onChange.fire({indexes:e,browserEvent:i}),n}get(){return this.indexes}contains(e){return function(e,t,i){let n=0,r=e.length-1;for(;n<=r;){const o=(n+r)/2|0,s=i(e[o],t);if(s<0)n=o+1;else{if(!(s>0))return o;r=o-1}}return-(n+1)}(this.sortedIndexes,e,bL)>=0}dispose(){J(this._onChange)}}Jk([Td],tL.prototype,"renderer",null);class iL extends tL{constructor(e){super("selected"),this.setAriaSelected=e}renderIndex(e,t){super.renderIndex(e,t),this.setAriaSelected&&(this.contains(e)?t.setAttribute("aria-selected","true"):t.setAttribute("aria-selected","false"))}}class nL{constructor(e,t,i){this.trait=e,this.view=t,this.identityProvider=i}splice(e,t,i){if(!this.identityProvider)return this.trait.splice(e,t,i.map(()=>!1));const n=this.trait.get().map(e=>this.identityProvider.getId(this.view.element(e)).toString()),r=i.map(e=>n.indexOf(this.identityProvider.getId(e).toString())>-1);this.trait.splice(e,t,r)}}function rL(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function oL(e){return!!on(e,"monaco-editor")||!on(e,"monaco-list")&&(!!e.parentElement&&oL(e.parentElement))}class sL{constructor(e,t,i){this.list=e,this.view=t,this.disposables=new ie;const n=!1!==i.multipleSelectionSupport,o=se.chain(bi(t.domNode,"keydown")).filter(e=>!rL(e.target)).map(e=>new ki(e));o.filter(e=>3===e.keyCode).on(this.onEnter,this,this.disposables),o.filter(e=>16===e.keyCode).on(this.onUpArrow,this,this.disposables),o.filter(e=>18===e.keyCode).on(this.onDownArrow,this,this.disposables),o.filter(e=>11===e.keyCode).on(this.onPageUpArrow,this,this.disposables),o.filter(e=>12===e.keyCode).on(this.onPageDownArrow,this,this.disposables),o.filter(e=>9===e.keyCode).on(this.onEscape,this,this.disposables),n&&o.filter(e=>(r.f?e.metaKey:e.ctrlKey)&&31===e.keyCode).on(this.onCtrlA,this,this.disposables)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Yi(this.list.length),e.browserEvent),this.view.domNode.focus()}onEscape(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.view.domNode.focus()}dispose(){this.disposables.dispose()}}!function(e){e[e.Idle=0]="Idle",e[e.Typing=1]="Typing"}(Qk||(Qk={}));const aL=new class{mightProducePrintableCharacter(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30||e.keyCode>=93&&e.keyCode<=102||e.keyCode>=80&&e.keyCode<=90)}};class lL{constructor(e,t,i,n){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=i,this.delegate=n,this.enabled=!1,this.state=Qk.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new ie,this.disposables=new ie,this.updateOptions(e.options)}updateOptions(e){void 0===e.enableKeyboardNavigation||!!e.enableKeyboardNavigation?this.enable():this.disable(),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)}enable(){if(this.enabled)return;const e=se.chain(bi(this.view.domNode,"keydown")).filter(e=>!rL(e.target)).filter(()=>this.automaticKeyboardNavigation||this.triggered).map(e=>new ki(e)).filter(e=>this.delegate.mightProducePrintableCharacter(e)).forEach(e=>{e.stopPropagation(),e.preventDefault()}).map(e=>e.browserEvent.key).event,t=se.debounce(e,()=>null,800);se.reduce(se.any(e,t),(e,t)=>null===t?null:(e||"")+t)(this.onInput,this,this.enabledDisposables),t(this.onClear,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var e;const t=this.list.getFocus();if(t.length>0&&t[0]===this.previouslyFocused){const i=null===(e=this.list.options.accessibilityProvider)||void 0===e?void 0:e.getAriaLabel(this.list.element(t[0]));i&&Du(i)}this.previouslyFocused=-1}onInput(e){if(!e)return this.state=Qk.Idle,void(this.triggered=!1);const t=this.list.getFocus(),i=t.length>0?t[0]:0,n=this.state===Qk.Idle?1:0;this.state=Qk.Typing;for(let t=0;t<this.list.length;t++){const r=(i+t+n)%this.list.length,o=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(r)),s=o&&o.toString();if(void 0===s||Wo(e,s))return this.previouslyFocused=i,this.list.setFocus([r]),void this.list.reveal(r)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class cL{constructor(e,t){this.list=e,this.view=t,this.disposables=new ie,se.chain(bi(t.domNode,"keydown")).filter(e=>!rL(e.target)).map(e=>new ki(e)).filter(e=>!(2!==e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)).on(this.onTab,this,this.disposables)}onTab(e){if(e.target!==this.view.domNode)return;const t=this.list.getFocus();if(0===t.length)return;const i=this.view.domElement(t[0]);if(!i)return;const n=i.querySelector("[tabIndex]");if(!(n&&n instanceof HTMLElement&&-1!==n.tabIndex))return;const r=window.getComputedStyle(n);"hidden"!==r.visibility&&"none"!==r.display&&(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}}function hL(e){return r.f?e.browserEvent.metaKey:e.browserEvent.ctrlKey}function uL(e){return e.browserEvent.shiftKey}const dL={isSelectionSingleChangeEvent:hL,isSelectionRangeChangeEvent:uL};class fL{constructor(e){this.list=e,this.disposables=new ie,this._onPointer=new ce,this.onPointer=this._onPointer.event,this.multipleSelectionSupport=!(!1===e.options.multipleSelectionSupport),this.multipleSelectionSupport&&(this.multipleSelectionController=e.options.multipleSelectionController||dL),this.mouseSupport=void 0===e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(Id.addTarget(e.getHTMLElement()))),se.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):r.f?e.browserEvent.metaKey:e.browserEvent.ctrlKey}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):e.browserEvent.shiftKey}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){oL(e.browserEvent.target)||document.activeElement!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(oL(e.browserEvent.target))return;const t=void 0===e.index?[]:[e.index];this.list.setFocus(t,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport)return;if(rL(e.browserEvent.target)||oL(e.browserEvent.target))return;let t=this.list.getFocus()[0];const i=this.list.getSelection();t=void 0===t?i[0]:t;const n=e.index;return void 0===n?(this.list.setFocus([],e.browserEvent),void this.list.setSelection([],e.browserEvent)):this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(e)?this.changeSelection(e,t):this.multipleSelectionSupport&&this.isSelectionChangeEvent(e)?this.changeSelection(e,t):(this.list.setFocus([n],e.browserEvent),(r=e.browserEvent)instanceof MouseEvent&&2===r.button||this.list.setSelection([n],e.browserEvent),void this._onPointer.fire(e));var r}onDoubleClick(e){if(rL(e.browserEvent.target)||oL(e.browserEvent.target))return;if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e))return;const t=this.list.getFocus();this.list.setSelection(t,e.browserEvent)}changeSelection(e,t){const i=e.index;if(this.isSelectionRangeChangeEvent(e)&&void 0!==t){const n=Yi(Math.min(t,i),Math.max(t,i)+1),r=this.list.getSelection(),o=function(e,t){const i=e.indexOf(t);if(-1===i)return[];const n=[];let r=i-1;for(;r>=0&&e[r]===t-(i-r);)n.push(e[r--]);n.reverse(),r=i;for(;r<e.length&&e[r]===t+(r-i);)n.push(e[r++]);return n}(vL(r,[t]),t);if(0===o.length)return;const s=vL(n,function(e,t){const i=[];let n=0,r=0;for(;n<e.length||r<t.length;)if(n>=e.length)i.push(t[r++]);else if(r>=t.length)i.push(e[n++]);else{if(e[n]===t[r]){n++,r++;continue}e[n]<t[r]?i.push(e[n++]):r++}return i}(r,o));this.list.setSelection(s,e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const t=this.list.getSelection(),n=t.filter(e=>e!==i);this.list.setFocus([i]),t.length===n.length?this.list.setSelection([...n,i],e.browserEvent):this.list.setSelection(n,e.browserEvent)}}dispose(){this.disposables.dispose()}}class pL{constructor(e,t){this.styleElement=e,this.selectorSuffix=t}style(e){const t=this.selectorSuffix&&`.${this.selectorSuffix}`,i=[];e.listBackground&&(e.listBackground.isOpaque()?i.push(`.monaco-list${t} .monaco-list-rows { background: ${e.listBackground}; }`):r.f||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),e.listFocusBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(i.push(`.monaco-list${t}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),i.push(`.monaco-list${t}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&i.push(`.monaco-list${t}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listFocusAndSelectionBackground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }\n\t\t\t`),e.listFocusAndSelectionForeground&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }\n\t\t\t`),e.listInactiveFocusBackground&&(i.push(`.monaco-list${t} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(i.push(`.monaco-list${t} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),i.push(`.monaco-list${t} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&i.push(`.monaco-list${t} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&i.push(`.monaco-list${t}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color:  ${e.listHoverBackground}; }`),e.listHoverForeground&&i.push(`.monaco-list${t} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`),e.listSelectionOutline&&i.push(`.monaco-list${t} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listFocusOutline&&i.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${t}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`),e.listInactiveFocusOutline&&i.push(`.monaco-list${t} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&i.push(`.monaco-list${t} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropBackground&&i.push(`\n\t\t\t\t.monaco-list${t}.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${t} .monaco-list-row.drop-target { background-color: ${e.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),e.listFilterWidgetBackground&&i.push(`.monaco-list-type-filter { background-color: ${e.listFilterWidgetBackground} }`),e.listFilterWidgetOutline&&i.push(`.monaco-list-type-filter { border: 1px solid ${e.listFilterWidgetOutline}; }`),e.listFilterWidgetNoMatchesOutline&&i.push(`.monaco-list-type-filter.no-matches { border: 1px solid ${e.listFilterWidgetNoMatchesOutline}; }`),e.listMatchesShadow&&i.push(`.monaco-list-type-filter { box-shadow: 1px 1px 1px ${e.listMatchesShadow}; }`);const n=i.join("\n");n!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=n)}}const mL={listFocusBackground:hm.fromHex("#7FB0D0"),listActiveSelectionBackground:hm.fromHex("#0E639C"),listActiveSelectionForeground:hm.fromHex("#FFFFFF"),listFocusAndSelectionBackground:hm.fromHex("#094771"),listFocusAndSelectionForeground:hm.fromHex("#FFFFFF"),listInactiveSelectionBackground:hm.fromHex("#3F3F46"),listHoverBackground:hm.fromHex("#2A2D2E"),listDropBackground:hm.fromHex("#383B3D"),treeIndentGuidesStroke:hm.fromHex("#a9a9a9")},gL={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function vL(e,t){const i=[];let n=0,r=0;for(;n<e.length||r<t.length;)if(n>=e.length)i.push(t[r++]);else if(r>=t.length)i.push(e[n++]);else{if(e[n]===t[r]){i.push(e[n]),n++,r++;continue}e[n]<t[r]?i.push(e[n++]):i.push(t[r++])}return i}const bL=(e,t)=>e-t;class _L{constructor(e,t){this._templateId=e,this.renderers=t}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(t=>t.renderTemplate(e))}renderElement(e,t,i,n){let r=0;for(const o of this.renderers)o.renderElement(e,t,i[r++],n)}disposeElement(e,t,i,n){let r=0;for(const o of this.renderers)o.disposeElement&&o.disposeElement(e,t,i[r],n),r+=1}disposeTemplate(e){let t=0;for(const i of this.renderers)i.disposeTemplate(e[t++])}}class yL{constructor(e){this.accessibilityProvider=e,this.templateId="a18n"}renderTemplate(e){return e}renderElement(e,t,i){const n=this.accessibilityProvider.getAriaLabel(e);n?i.setAttribute("aria-label",n):i.removeAttribute("aria-label");const r=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"==typeof r?i.setAttribute("aria-level",`${r}`):i.removeAttribute("aria-level")}disposeTemplate(e){}}class wL{constructor(e,t){this.list=e,this.dnd=t}getDragElements(e){const t=this.list.getSelectedElements();return t.indexOf(e)>-1?t:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)}onDragOver(e,t,i,n){return this.dnd.onDragOver(e,t,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}drop(e,t,i,n){this.dnd.drop(e,t,i,n)}}class CL{constructor(e,t,i,n,r=gL){var o;this.user=e,this._options=r,this.eventBufferer=new ue,this._ariaLabel="",this.disposables=new ie,this.didJustPressContextMenuKey=!1,this._onDidDispose=new ce,this.onDidDispose=this._onDidDispose.event;const s=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(o=this._options.accessibilityProvider)||void 0===o?void 0:o.getWidgetRole():"list";this.selection=new iL("listbox"!==s),this.focus=new tL("focused"),Ur(r,mL,!1);const a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=r.accessibilityProvider,this.accessibilityProvider&&(a.push(new yL(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),n=n.map(e=>new _L(e.templateId,[...a,e]));const l=Object.assign(Object.assign({},r),{dnd:r.dnd&&new wL(this,r.dnd)});if(this.view=new Yk(t,i,n,l),this.view.domNode.setAttribute("role",s),r.styleController)this.styleController=r.styleController(this.view.domId);else{const e=Wn(this.view.domNode);this.styleController=new pL(e,this.view.domId)}if(this.spliceable=new Xk([new nL(this.focus,this.view,r.identityProvider),new nL(this.selection,this.view,r.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.onDidFocus=se.map(bi(this.view.domNode,"focus",!0),()=>null),this.onDidBlur=se.map(bi(this.view.domNode,"blur",!0),()=>null),this.disposables.add(new cL(this,this.view)),"boolean"!=typeof r.keyboardSupport||r.keyboardSupport){const e=new sL(this,this.view,r);this.disposables.add(e)}if(r.keyboardNavigationLabelProvider){const e=r.keyboardNavigationDelegate||aL;this.typeLabelController=new lL(this,this.view,r.keyboardNavigationLabelProvider,e),this.disposables.add(this.typeLabelController)}this.mouseController=this.createMouseController(r),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),r.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return se.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e))}get onDidChangeSelection(){return se.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e))}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){const e=se.chain(bi(this.view.domNode,"keydown")).map(e=>new ki(e)).filter(e=>this.didJustPressContextMenuKey=58===e.keyCode||e.shiftKey&&68===e.keyCode).filter(e=>(e.preventDefault(),e.stopPropagation(),!1)).event,t=se.chain(bi(this.view.domNode,"keyup")).filter(()=>{const e=this.didJustPressContextMenuKey;return this.didJustPressContextMenuKey=!1,e}).filter(()=>this.getFocus().length>0&&!!this.view.domElement(this.getFocus()[0])).map(e=>{const t=this.getFocus()[0];return{index:t,element:this.view.element(t),anchor:this.view.domElement(t),browserEvent:e}}).event,i=se.chain(this.view.onContextMenu).filter(()=>!this.didJustPressContextMenuKey).map(({element:e,index:t,browserEvent:i})=>({element:e,index:t,anchor:{x:i.clientX+1,y:i.clientY},browserEvent:i})).event;return se.any(e,t,i)}get onKeyDown(){return bi(this.view.domNode,"keydown")}createMouseController(e){return new fL(this)}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options),this.view.updateOptions(e)}get options(){return this._options}splice(e,t,i=[]){if(e<0||e>this.view.length)throw new Vk(this.user,`Invalid start index: ${e}`);if(t<0)throw new Vk(this.user,`Invalid delete count: ${t}`);0===t&&0===i.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,t,i))}rerender(){this.view.rerender()}element(e){return this.view.element(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus()}layout(e,t){this.view.layout(e,t)}setSelection(e,t){for(const t of e)if(t<0||t>=this.length)throw new Vk(this.user,`Invalid index ${t}`);this.selection.set(e,t)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setFocus(e,t){for(const t of e)if(t<0||t>=this.length)throw new Vk(this.user,`Invalid index ${t}`);this.focus.set(e,t)}focusNext(e=1,t=!1,i,n){if(0===this.length)return;const r=this.focus.get(),o=this.findNextIndex(r.length>0?r[0]+e:0,t,n);o>-1&&this.setFocus([o],i)}focusPrevious(e=1,t=!1,i,n){if(0===this.length)return;const r=this.focus.get(),o=this.findPreviousIndex(r.length>0?r[0]-e:0,t,n);o>-1&&this.setFocus([o],i)}focusNextPage(e,t){let i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=0===i?0:i-1;const n=this.view.element(i),r=this.getFocusedElements()[0];if(r!==n){const n=this.findPreviousIndex(i,!1,t);n>-1&&r!==this.view.element(n)?this.setFocus([n],e):this.setFocus([i],e)}else{const n=this.view.getScrollTop();this.view.setScrollTop(n+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==n&&setTimeout(()=>this.focusNextPage(e,t),0)}}focusPreviousPage(e,t){let i;const n=this.view.getScrollTop();i=0===n?this.view.indexAt(n):this.view.indexAfter(n-1);const r=this.view.element(i),o=this.getFocusedElements()[0];if(o!==r){const n=this.findNextIndex(i,!1,t);n>-1&&o!==this.view.element(n)?this.setFocus([n],e):this.setFocus([i],e)}else{const i=n;this.view.setScrollTop(n-this.view.renderHeight),this.view.getScrollTop()!==i&&setTimeout(()=>this.focusPreviousPage(e,t),0)}}focusLast(e,t){if(0===this.length)return;const i=this.findPreviousIndex(this.length-1,!1,t);i>-1&&this.setFocus([i],e)}focusFirst(e,t){this.focusNth(0,e,t)}focusNth(e,t,i){if(0===this.length)return;const n=this.findNextIndex(e,!1,i);n>-1&&this.setFocus([n],t)}findNextIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e>=this.length&&!t)return-1;if(e%=this.length,!i||i(this.element(e)))return e;e++}return-1}findPreviousIndex(e,t=!1,i){for(let n=0;n<this.length;n++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!i||i(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,t){if(e<0||e>=this.length)throw new Vk(this.user,`Invalid index ${e}`);const i=this.view.getScrollTop(),n=this.view.elementTop(e),r=this.view.elementHeight(e);if(wr(t)){const e=r-this.view.renderHeight;this.view.setScrollTop(e*Zk(t,0,1)+n)}else{const e=n+r,t=i+this.view.renderHeight;n<i&&e>=t||(n<i?this.view.setScrollTop(n):e>=t&&this.view.setScrollTop(e-this.view.renderHeight))}}getRelativeTop(e){if(e<0||e>=this.length)throw new Vk(this.user,`Invalid index ${e}`);const t=this.view.getScrollTop(),i=this.view.elementTop(e),n=this.view.elementHeight(e);if(i<t||i+n>t+this.view.renderHeight)return null;const r=n-this.view.renderHeight;return Math.abs((t-i)/r)}getHTMLElement(){return this.view.domNode}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:t}){return{indexes:e,elements:e.map(e=>this.view.element(e)),browserEvent:t}}_onFocusChange(){const e=this.focus.get();hn(this.view.domNode,"element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var e;const t=this.focus.get();if(t.length>0){let i;(null===(e=this.accessibilityProvider)||void 0===e?void 0:e.getActiveDescendantId)&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();hn(this.view.domNode,"selection-none",0===e.length),hn(this.view.domNode,"selection-single",1===e.length),hn(this.view.domNode,"selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}Jk([Td],CL.prototype,"onDidChangeFocus",null),Jk([Td],CL.prototype,"onDidChangeSelection",null),Jk([Td],CL.prototype,"onContextMenu",null);class SL{constructor(e,t){this.renderer=e,this.modelProvider=t}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:ne.None}}renderElement(e,t,i,n){if(i.disposable&&i.disposable.dispose(),!i.data)return;const r=this.modelProvider();if(r.isResolved(e))return this.renderer.renderElement(r.get(e),e,i.data,n);const o=new ge,s=r.resolve(e,o.token);i.disposable={dispose:()=>o.cancel()},this.renderer.renderPlaceholder(e,i.data),s.then(t=>this.renderer.renderElement(t,e,i.data,n))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class xL{constructor(e,t){this.modelProvider=e,this.accessibilityProvider=t}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const t=this.modelProvider();return t.isResolved(e)?this.accessibilityProvider.getAriaLabel(t.get(e)):null}}var kL;i("rc56");!function(e){e[e.Unknown=0]="Unknown",e[e.Twistie=1]="Twistie",e[e.Element=2]="Element"}(kL||(kL={}));class LL extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class DL{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}function EL(e){return"object"==typeof e&&"visibility"in e&&"data"in e}function NL(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function TL(e){return"boolean"==typeof e.collapsible}class OL{constructor(e,t,i,n={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new ue,this._onDidChangeCollapseState=new ce,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new ce,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new ce,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=void 0!==n.collapseByDefault&&n.collapseByDefault,this.filter=n.filter,this.autoExpandSingleChildren=void 0!==n.autoExpandSingleChildren&&n.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=q.empty(),n,r){if(0===e.length)throw new LL(this.user,"Invalid tree location");const{parentNode:o,listIndex:s,revealed:a,visible:l}=this.getParentNodeWithListIndex(e),c=[],h=q.map(i,e=>this.createTreeNode(e,o,o.visible?1:0,a,c,n)),u=e[e.length-1];let d=0;for(let e=u;e>=0&&e<o.children.length;e--){const t=o.children[e];if(t.visible){d=t.visibleChildIndex;break}}const f=[];let p=0,m=0;for(const e of h)f.push(e),m+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=d+p++);const g=o.children.splice(u,t,...f);let v=0;for(const e of g)e.visible&&v++;if(0!==v)for(let e=u+f.length;e<o.children.length;e++){const t=o.children[e];t.visible&&(t.visibleChildIndex-=v)}if(o.visibleChildrenCount+=p-v,a&&l){const e=g.reduce((e,t)=>e+(t.visible?t.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(o,m-e),this.list.splice(s,e,c)}if(g.length>0&&r){const e=t=>{r(t),t.children.forEach(e)};g.forEach(e)}this._onDidSplice.fire({insertedNodes:f,deletedNodes:g});let b=o;for(;b;){if(2===b.visibility){this.refilter();break}b=b.parent}}rerender(e){if(0===e.length)throw new LL(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:n}=this.getTreeNodeWithListIndex(e);t.visible&&n&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:n}=this.getTreeNodeWithListIndex(e);return i&&n?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);void 0===t&&(t=!i.collapsible);const n={collapsible:t};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,n))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const n=this.getTreeNode(e);void 0===t&&(t=!n.collapsed);const r={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,r))}_setCollapseState(e,t){const{node:i,listIndex:n,revealed:r}=this.getTreeNodeWithListIndex(e),o=this._setListNodeCollapseState(i,n,r,t);if(i!==this.root&&this.autoExpandSingleChildren&&o&&!TL(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let n=-1;for(let e=0;e<i.children.length;e++){if(i.children[e].visible){if(n>-1){n=-1;break}n=e}}n>-1&&this._setCollapseState([...e,n],t)}return o}_setListNodeCollapseState(e,t,i,n){const r=this._setNodeCollapseState(e,n,!1);if(!i||!e.visible||!r)return r;const o=e.renderNodeCount,s=this.updateNodeAfterCollapseChange(e),a=o-(-1===t?0:1);return this.list.splice(t+1,a,s.slice(1)),r}_setNodeCollapseState(e,t,i){let n;if(e===this.root?n=!1:(TL(t)?(n=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(n=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!TL(t)&&t.recursive)for(const i of e.children)n=this._setNodeCollapseState(i,t,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents(()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)}createTreeNode(e,t,i,n,r,o){const s={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof e.collapsible?e.collapsible:void 0!==e.collapsed,collapsed:void 0===e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},a=this._filterNode(s,i);s.visibility=a,n&&r.push(s);const l=e.children||q.empty(),c=n&&0!==a&&!s.collapsed,h=q.map(l,e=>this.createTreeNode(e,s,a,c,r,o));let u=0,d=1;for(const e of h)s.children.push(e),d+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=u++);return s.collapsible=s.collapsible||s.children.length>0,s.visibleChildrenCount=u,s.visible=2===a?u>0:1===a,s.visible?s.collapsed||(s.renderNodeCount=d):(s.renderNodeCount=0,n&&r.pop()),o&&o(s),s}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,n=!0){let r;if(e!==this.root){if(0===(r=this._filterNode(e,t)))return e.visible=!1,e.renderNodeCount=0,!1;n&&i.push(e)}const o=i.length;e.renderNodeCount=e===this.root?0:1;let s=!1;if(e.collapsed&&0===r)e.visibleChildrenCount=0;else{let t=0;for(const o of e.children)s=this._updateNodeAfterFilterChange(o,r,i,n&&!e.collapsed)||s,o.visible&&(o.visibleChildIndex=t++);e.visibleChildrenCount=t}return e!==this.root&&(e.visible=2===r?s:1===r),e.visible?e.collapsed||(e.renderNodeCount+=i.length-o):(e.renderNodeCount=0,n&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return"boolean"==typeof i?(e.filterData=void 0,i?1:0):EL(i)?(e.filterData=i.data,NL(i.visibility)):(e.filterData=void 0,NL(i))}hasTreeNode(e,t=this.root){if(!e||0===e.length)return!0;const[i,...n]=e;return!(i<0||i>t.children.length)&&this.hasTreeNode(n,t.children[i])}getTreeNode(e,t=this.root){if(!e||0===e.length)return t;const[i,...n]=e;if(i<0||i>t.children.length)throw new LL(this.user,"Invalid tree location");return this.getTreeNode(n,t.children[i])}getTreeNodeWithListIndex(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:n,visible:r}=this.getParentNodeWithListIndex(e),o=e[e.length-1];if(o<0||o>t.children.length)throw new LL(this.user,"Invalid tree location");const s=t.children[o];return{node:s,listIndex:i,revealed:n,visible:r&&s.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,n=!0,r=!0){const[o,...s]=e;if(o<0||o>t.children.length)throw new LL(this.user,"Invalid tree location");for(let e=0;e<o;e++)i+=t.children[e].renderNodeCount;return n=n&&!t.collapsed,r=r&&t.visible,0===s.length?{parentNode:t,listIndex:i,revealed:n,visible:r}:this.getParentNodeWithListIndex(s,t.children[o],i+1,n,r)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){return 0===e.length?void 0:1===e.length?[]:function(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}(e)[0]}}const ML=Ss("tree-item-expanded",xs.chevronDown),IL=Ss("tree-filter-on-type-on",xs.listFilter),AL=Ss("tree-filter-on-type-off",xs.listSelection),PL=Ss("tree-filter-clear",xs.close),RL=Ss("tree-item-loading",xs.loading);class FL extends Uk{constructor(e){super(e.elements.map(e=>e.element)),this.data=e}}function VL(e){return e instanceof Uk?new FL(e):e}class BL{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=ne.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(e=>e.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(VL(e),t)}onDragOver(e,t,i,n,r=!0){const o=this.dnd.onDragOver(VL(e),t&&t.element,i,n),s=this.autoExpandNode!==t;if(s&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),void 0===t)return o;if(s&&"boolean"!=typeof o&&o.autoExpand&&(this.autoExpandDisposable=Pi(()=>{const e=this.modelProvider(),i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof o||!o.accept||void 0===o.bubble||o.feedback){if(!r){return{accept:"boolean"==typeof o?o:o.accept,effect:"boolean"==typeof o?void 0:o.effect,feedback:[i]}}return o}if(1===o.bubble){const i=this.modelProvider(),r=i.getNodeLocation(t),o=i.getParentNodeLocation(r),s=i.getNode(o),a=o&&i.getListIndex(o);return this.onDragOver(e,s,a,n,!1)}const a=this.modelProvider(),l=a.getNodeLocation(t),c=a.getListIndex(l),h=a.getListRenderCount(l);return Object.assign(Object.assign({},o),{feedback:Yi(c,c+h)})}drop(e,t,i,n){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(VL(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}class WL{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}}var $L;!function(e){e.None="none",e.OnHover="onHover",e.Always="always"}($L||($L={}));class zL{constructor(e,t=[]){this._elements=t,this.onDidChange=se.forEach(e,e=>this._elements=e)}get elements(){return this._elements}}class HL{constructor(e,t,i,n,r={}){this.renderer=e,this.modelProvider=t,this.activeNodes=n,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=HL.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new rh,this.activeIndentNodes=new Set,this.indentGuidesDisposable=ne.None,this.disposables=new ie,this.templateId=e.templateId,this.updateOptions(r),se.map(i,e=>e.node)(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(void 0!==e.indent&&(this.indent=Zk(e.indent,0,40)),void 0!==e.renderIndentGuides){const t=e.renderIndentGuides!==$L.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){const e=new ie;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,e),this.indentGuidesDisposable=e,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=Xn(e,er(".monaco-tl-row")),i=Xn(t,er(".monaco-tl-indent")),n=Xn(t,er(".monaco-tl-twistie")),r=Xn(t,er(".monaco-tl-contents")),o=this.renderer.renderTemplate(r);return{container:e,indent:i,twistie:n,indentGuidesDisposable:ne.None,templateData:o}}renderElement(e,t,i,n){"number"==typeof n&&(this.renderedNodes.set(e,{templateData:i,height:n}),this.renderedElements.set(e.element,e));const r=HL.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=`${r}px`,i.indent.style.width=`${r+this.indent-16}px`,this.renderTwistie(e,i),"number"==typeof n&&this.renderIndentGuides(e,i),this.renderer.renderElement(e,t,i.templateData,n)}disposeElement(e,t,i,n){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.templateData,n),"number"==typeof n&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){this.renderer.renderTwistie&&this.renderer.renderTwistie(e.element,t.twistie),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(an(t.twistie,ML.classNames,"collapsible"),hn(t.twistie,"collapsed",e.collapsed)):cn(t.twistie,ML.classNames,"collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if(en(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new ie,n=this.modelProvider();let r=e;for(;;){const e=n.getNodeLocation(r),o=n.getParentNodeLocation(e);if(!o)break;const s=n.getNode(o),a=er(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(s)&&sn(a,"active"),0===t.indent.childElementCount?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),this.renderedIndentGuides.add(s,a),i.add(te(()=>this.renderedIndentGuides.delete(s,a))),r=s}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach(e=>{const n=i.getNodeLocation(e);try{const r=i.getParentNodeLocation(n);e.collapsible&&e.children.length>0&&!e.collapsed?t.add(e):r&&t.add(i.getNode(r))}catch(e){}}),this.activeIndentNodes.forEach(e=>{t.has(e)||this.renderedIndentGuides.forEach(e,e=>ln(e,"active"))}),t.forEach(e=>{this.activeIndentNodes.has(e)||this.renderedIndentGuides.forEach(e,e=>sn(e,"active"))}),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),J(this.disposables)}}HL.DefaultIndent=8;class jL{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new ie,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){const i=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return i;let n;if(0===(n="boolean"==typeof i?i?1:0:EL(i)?NL(i.visibility):i))return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:hs.Default,visibility:!0};const i=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),n=i&&i.toString();if(void 0===n)return{data:hs.Default,visibility:!0};const r=us(this._pattern,this._lowercasePattern,0,n,n.toLowerCase(),0,!0);return r?(this._matchCount++,{data:r,visibility:!0}):this.tree.options.filterOnType?2:{data:hs.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){J(this.disposables)}}class UL{constructor(e,t,i,r,o){this.tree=e,this.view=i,this.filter=r,this.keyboardNavigationDelegate=o,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new ce,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new ce,this.enabledDisposables=new ie,this.disposables=new ie,this.domNode=er(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,bi(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=Xn(i.getHTMLElement(),er(".monaco-list-type-filter-message")),this.labelDomNode=Xn(this.domNode,er("span.label"));const s=Xn(this.domNode,er(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=Xn(s,er("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),bi(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=Xn(s,er("button.clear"+PL.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=n(0,"Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==e.filterOnType&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const e=se.chain(bi(this.view.getHTMLElement(),"keydown")).filter(e=>!rL(e.target)||e.target===this.filterOnTypeDomNode).filter(e=>"Dead"!==e.key&&!/^Media/.test(e.key)).map(e=>new ki(e)).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter(()=>this.automaticKeyboardNavigation||this.triggered).filter(e=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(e)&&!(18===e.keyCode||16===e.keyCode||15===e.keyCode||17===e.keyCode)||(this.pattern.length>0||this.triggered)&&(9===e.keyCode||1===e.keyCode)&&!e.altKey&&!e.ctrlKey&&!e.metaKey||1===e.keyCode&&(r.f?e.altKey&&!e.metaKey:e.ctrlKey)&&!e.shiftKey).forEach(e=>{e.stopPropagation(),e.preventDefault()}).event,t=bi(this.clearDomNode,"click");se.chain(se.any(e,t)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){"string"==typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(r.f?e.altKey:e.ctrlKey)?this.onInput(""):1===e.keyCode?this.onInput(0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(e){const t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,e=>!hs.isDefault(e.filterData));const i=this.tree.getFocus();if(i.length>0){const e=i[0];null===this.tree.getRelativeTop(e)&&this.tree.reveal(e,.5)}this.render(),e||(this.triggered=!1)}onDragStart(){const e=this.view.getHTMLElement(),{left:t}=En(e),i=e.clientWidth,n=i/2,r=this.domNode.clientWidth,o=new ie;let s=this.positionClassName;const a=()=>{switch(s){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=`${i-r-6}px`}};a(),ln(this.domNode,s),sn(this.domNode,"dragging"),o.add(te(()=>ln(this.domNode,"dragging"))),bi(document,"dragover")(e=>{e.preventDefault();const i=e.screenX-t;e.dataTransfer&&(e.dataTransfer.dropEffect="none"),s=i<n?"nw":"ne",a()},null,o),bi(this.domNode,"dragend")(()=>{this.positionClassName=s,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",J(o)},null,o),ZC.CurrentDragAndDropData=new XC("vscode-ui"),o.add(te(()=>ZC.CurrentDragAndDropData=void 0))}onDidSpliceModel(){this._enabled&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(cn(this.filterOnTypeDomNode,AL.classNames),an(this.filterOnTypeDomNode,IL.classNames),this.filterOnTypeDomNode.title=n(0,"Disable Filter on Type")):(cn(this.filterOnTypeDomNode,IL.classNames),an(this.filterOnTypeDomNode,AL.classNames),this.filterOnTypeDomNode.title=n(0,"Enable Filter on Type"))}render(){const e=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=n(0,"No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),hn(this.domNode,"no-matches",e),this.domNode.title=n(0,"Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"…"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!(this.enabled&&this.pattern&&!this.filterOnType)||(this.filter.totalCount>0&&this.filter.matchCount<=1||!hs.isDefault(e.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),J(this.disposables)}}function KL(e){let t=kL.Unknown;return Pn(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=kL.Twistie:Pn(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(t=kL.Element),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function qL(e,t){t(e),e.children.forEach(e=>qL(e,t))}class GL{constructor(e){this.identityProvider=e,this.nodes=[],this._onDidChange=new ce,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){$i(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const e=this;this._onDidChange.fire({get elements(){return e.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const e=this.createNodeSet(),i=t=>e.delete(t);return t.forEach(e=>qL(e,i)),void this.set([...e.values()])}const i=new Set,n=e=>i.add(this.identityProvider.getId(e.element).toString());t.forEach(e=>qL(e,n));const r=new Map,o=e=>r.set(this.identityProvider.getId(e.element).toString(),e);e.forEach(e=>qL(e,o));const s=[];for(const e of this.nodes){const t=this.identityProvider.getId(e.element).toString();if(i.has(t)){const e=r.get(t);e&&s.push(e)}else s.push(e)}this._set(s,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class YL extends fL{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if(rL(e.browserEvent.target)||oL(e.browserEvent.target))return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,n=on(i,"monaco-tl-twistie")||on(i,"monaco-icon-label")&&on(i,"folder-icon")&&e.browserEvent.offsetX<16;let r=!1;if((r="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick)&&!n)return super.onViewPointer(e);if(this.tree.expandOnlyOnDoubleClick&&2!==e.browserEvent.detail&&!n)return super.onViewPointer(e);if(t.collapsible){const i=this.tree.model,o=i.getNodeLocation(t),s=e.browserEvent.altKey;if(i.setCollapsed(o,void 0,s),r&&n)return}super.onViewPointer(e)}onDoubleClick(e){on(e.browserEvent.target,"monaco-tl-twistie")||super.onDoubleClick(e)}}class XL extends CL{constructor(e,t,i,n,r,o,s){super(e,t,i,n,s),this.focusTrait=r,this.selectionTrait=o}createMouseController(e){return new YL(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),0===i.length)return;const n=[],r=[];i.forEach((t,i)=>{this.focusTrait.has(t)&&n.push(e+i),this.selectionTrait.has(t)&&r.push(e+i)}),n.length>0&&super.setFocus(Ui([...super.getFocus(),...n])),r.length>0&&super.setSelection(Ui([...super.getSelection(),...r]))}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map(e=>this.element(e)),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map(e=>this.element(e)),t)}}class ZL{constructor(e,t,i,n,r={}){this._options=r,this.eventBufferer=new ue,this.disposables=new ie,this._onWillRefilter=new ce,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new ce;const o=new WL(i),s=new de,a=new de,l=new zL(a.event);this.renderers=n.map(e=>new HL(e,()=>this.model,s.event,l,r));for(let e of this.renderers)this.disposables.add(e);let c;var h,u;r.keyboardNavigationLabelProvider&&(c=new jL(this,r.keyboardNavigationLabelProvider,r.filter),r=Object.assign(Object.assign({},r),{filter:c}),this.disposables.add(c)),this.focus=new GL(r.identityProvider),this.selection=new GL(r.identityProvider),this.view=new XL(e,t,o,this.renderers,this.focus,this.selection,Object.assign(Object.assign({},(h=(()=>this.model),(u=r)&&Object.assign(Object.assign({},u),{identityProvider:u.identityProvider&&{getId:e=>u.identityProvider.getId(e.element)},dnd:u.dnd&&new BL(h,u.dnd),multipleSelectionController:u.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>u.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element})),isSelectionRangeChangeEvent:e=>u.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},accessibilityProvider:u.accessibilityProvider&&Object.assign(Object.assign({},u.accessibilityProvider),{getSetSize(e){const t=h(),i=t.getNodeLocation(e),n=t.getParentNodeLocation(i);return t.getNode(n).visibleChildrenCount},getPosInSet:e=>e.visibleChildIndex+1,isChecked:u.accessibilityProvider&&u.accessibilityProvider.isChecked?e=>u.accessibilityProvider.isChecked(e.element):void 0,getRole:u.accessibilityProvider&&u.accessibilityProvider.getRole?e=>u.accessibilityProvider.getRole(e.element):()=>"treeitem",getAriaLabel:e=>u.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>u.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:u.accessibilityProvider&&u.accessibilityProvider.getWidgetRole?()=>u.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e=>e.depth,getActiveDescendantId:u.accessibilityProvider.getActiveDescendantId&&(e=>u.accessibilityProvider.getActiveDescendantId(e.element))}),keyboardNavigationLabelProvider:u.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},u.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:e=>u.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}),enableKeyboardNavigation:u.simpleKeyboardNavigation}))),{tree:this})),this.model=this.createModel(e,this.view,r),s.input=this.model.onDidChangeCollapseState;const d=se.forEach(this.model.onDidSplice,e=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(e),this.selection.onDidModelSplice(e)})});if(d(()=>null,null,this.disposables),a.input=se.chain(se.any(d,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const e=new Set;for(const t of this.focus.getNodes())e.add(t);for(const t of this.selection.getNodes())e.add(t);return[...e.values()]}).event,!1!==r.keyboardSupport){const e=se.chain(this.view.onKeyDown).filter(e=>!rL(e.target)).map(e=>new ki(e));e.filter(e=>15===e.keyCode).on(this.onLeftArrow,this,this.disposables),e.filter(e=>17===e.keyCode).on(this.onRightArrow,this,this.disposables),e.filter(e=>10===e.keyCode).on(this.onSpace,this,this.disposables)}if(r.keyboardNavigationLabelProvider){const e=r.keyboardNavigationDelegate||aL;this.typeFilterController=new UL(this,this.model,this.view,c,e),this.focusNavigationFilter=(e=>this.typeFilterController.shouldAllowFocus(e)),this.disposables.add(this.typeFilterController)}this.styleElement=Wn(this.view.getHTMLElement()),hn(this.getHTMLElement(),"always",this._options.renderIndentGuides===$L.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return se.map(this.view.onMouseDblClick,KL)}get onPointer(){return se.map(this.view.onPointer,KL)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnlyOnDoubleClick(){var e;return null!==(e=this._options.expandOnlyOnDoubleClick)&&void 0!==e&&e}get expandOnlyOnTwistieClick(){return void 0!==this._options.expandOnlyOnTwistieClick&&this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation,smoothScrolling:this._options.smoothScrolling,horizontalScrolling:this._options.horizontalScrolling}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),hn(this.getHTMLElement(),"always",this._options.renderIndentGuides===$L.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){const t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`));const n=i.join("\n");n!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=n),this.view.style(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const i=e.map(e=>this.model.getNode(e));this.selection.set(i,t);const n=e.map(e=>this.model.getListIndex(e)).filter(e=>e>-1);this.view.setSelection(n,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const i=e.map(e=>this.model.getNode(e));this.focus.set(i,t);const n=e.map(e=>this.model.getListIndex(e)).filter(e=>e>-1);this.view.setFocus(n,t,!0)}focusNext(e=1,t=!1,i,n=this.focusNavigationFilter){this.view.focusNext(e,t,i,n)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);-1!==i&&this.view.reveal(i,t)}getRelativeTop(e){const t=this.model.getListIndex(e);return-1===t?null:this.view.getRelativeTop(t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!0)){const e=this.model.getParentNodeLocation(n);if(!e)return;const t=this.model.getListIndex(e);this.view.reveal(t),this.view.setFocus([t])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i);if(!this.model.setCollapsed(n,!1)){if(!i.children.some(e=>e.visible))return;const[e]=this.view.getFocus(),t=e+1;this.view.reveal(t),this.view.setFocus([t])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],n=this.model.getNodeLocation(i),r=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,r)}dispose(){J(this.disposables),this.view.dispose()}}class QL{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new OL(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare:(e,t)=>i.sorter.compare(e.element,t.element)}),this.identityProvider=i.identityProvider}setChildren(e,t=q.empty(),i,n){const r=this.getElementLocation(e);this._setChildren(r,this.preserveCollapseState(t),i,n)}_setChildren(e,t=q.empty(),i,n){const r=new Set,o=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,e=>{if(null===e.element)return;const t=e;if(r.add(t.element),this.nodes.set(t.element,t),this.identityProvider){const e=this.identityProvider.getId(t.element).toString();o.add(e),this.nodesByIdentity.set(e,t)}i&&i(t)},e=>{if(null===e.element)return;const t=e;if(r.has(t.element)||this.nodes.delete(t.element),this.identityProvider){const e=this.identityProvider.getId(t.element).toString();o.has(e)||this.nodesByIdentity.delete(e)}n&&n(t)})}preserveCollapseState(e=q.empty()){return this.sorter&&(e=zi([...e],this.sorter.compare.bind(this.sorter))),q.map(e,e=>{let t=this.nodes.get(e.element);if(!t&&this.identityProvider){const i=this.identityProvider.getId(e.element).toString();t=this.nodesByIdentity.get(i)}if(!t)return Object.assign(Object.assign({},e),{children:this.preserveCollapseState(e.children)});const i="boolean"==typeof e.collapsible?e.collapsible:t.collapsible,n=void 0!==e.collapsed?e.collapsed:t.collapsed;return Object.assign(Object.assign({},e),{collapsible:i,collapsed:n,children:this.preserveCollapseState(e.children)})})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getElementLocation(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(null===e)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new LL(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new LL(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new LL(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),n=this.model.getParentNodeLocation(i);return this.model.getNode(n).element}getElementLocation(e){if(null===e)return[];const t=this.nodes.get(e);if(!t)throw new LL(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}function JL(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:q.map(q.from(e.children),JL),collapsible:e.collapsible,collapsed:e.collapsed}}function eD(e){const t=[e.element],i=e.incompressible||!1;let n,r;for(;[r,n]=q.consume(q.from(e.children),2),1===r.length&&!(e=r[0]).incompressible;)t.push(e.element);return{element:{elements:t,incompressible:i},children:q.map(q.concat(r,n),eD),collapsible:e.collapsible,collapsed:e.collapsed}}function tD(e){return function e(t,i=0){let n;return n=i<t.element.elements.length-1?[e(t,i+1)]:q.map(q.from(t.children),t=>e(t,0)),0===i&&t.element.incompressible?{element:t.element.elements[i],children:n,incompressible:!0,collapsible:t.collapsible,collapsed:t.collapsed}:{element:t.element.elements[i],children:n,collapsible:t.collapsible,collapsed:t.collapsed}}(e,0)}class iD{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new QL(e,t,i),this.enabled=void 0===i.compressionEnabled||i.compressionEnabled}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=q.empty()){if(null===e){const e=q.map(t,this.enabled?eD:JL);return void this._setChildren(null,e)}const i=this.nodes.get(e);if(!i)throw new Error("Unknown compressed tree node");const n=this.model.getNode(i),r=this.model.getParentNodeLocation(i),o=this.model.getNode(r),s=function e(t,i,n){return t.element===i?Object.assign(Object.assign({},t),{children:n}):Object.assign(Object.assign({},t),{children:q.map(q.from(t.children),t=>e(t,i,n))})}(tD(n),e,t),a=(this.enabled?eD:JL)(s),l=o.children.map(e=>e===n?a:e);this._setChildren(o.element,l)}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const t=this.model.getNode().children,i=q.map(t,tD),n=q.map(i,e?eD:JL);this._setChildren(null,n)}_setChildren(e,t){const i=new Set;this.model.setChildren(e,t,e=>{for(const t of e.element.elements)i.add(t),this.nodes.set(t,e.element)},e=>{for(const t of e.element.elements)i.has(t)||this.nodes.delete(t)})}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(void 0===e)return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return null===i?null:i.elements[i.elements.length-1]}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const n=this.getCompressedNode(e);return this.model.setCollapsed(n,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(null===e)return null;const t=this.nodes.get(e);if(!t)throw new LL(this.user,`Tree element not found: ${e}`);return t}}const nD=e=>e[e.length-1];class rD{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new rD(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class oD{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||nD;const n=e=>this.elementMapper(e.elements);this.nodeMapper=new DL(e=>new rD(n,e)),this.model=new iD(e,function(e,t){return{splice(i,n,r){t.splice(i,n,r.map(t=>e.map(t)))},updateElementHeight(e,i){t.updateElementHeight(e,i)}}}(this.nodeMapper,t),function(e,t){return Object.assign(Object.assign({},t),{sorter:t.sorter&&{compare:(e,i)=>t.sorter.compare(e.elements[0],i.elements[0])},identityProvider:t.identityProvider&&{getId:i=>t.identityProvider.getId(e(i))},filter:t.filter&&{filter:(i,n)=>t.filter.filter(e(i),n)}})}(n,i))}get onDidSplice(){return se.map(this.model.onDidSplice,({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map(e=>this.nodeMapper.map(e)),deletedNodes:t.map(e=>this.nodeMapper.map(e))}))}get onDidChangeCollapseState(){return se.map(this.model.onDidChangeCollapseState,({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t}))}get onDidChangeRenderNodeCount(){return se.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}setChildren(e,t=q.empty()){this.model.setChildren(e,t)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var sD=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};class aD extends ZL{constructor(e,t,i,n,r={}){super(e,t,i,n,r)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=q.empty()){this.model.setChildren(e,t)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new QL(e,t,i)}}class lD{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){const r=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===r.element.elements.length?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,n)):(i.compressedTreeNode=r,this.renderer.renderCompressedElements(r,t,i.data,n))}disposeElement(e,t,i,n){i.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(i.compressedTreeNode,t,i.data,n):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}sD([Td],lD.prototype,"compressedTreeNodeProvider",null);class cD extends aD{constructor(e,t,i,n,r={}){const o=()=>this;super(e,t,i,n.map(e=>new lD(o,e)),function(e,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(i){let n;try{n=e().getCompressedTreeNode(i)}catch(e){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return 1===n.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}})}(o,r))}setChildren(e,t=q.empty()){this.model.setChildren(e,t)}createModel(e,t,i){return new oD(e,t,i)}updateOptions(e={}){super.updateOptions(e),void 0!==e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var hD=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};function uD(e){return Object.assign(Object.assign({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function dD(e,t){return!!t.parent&&(t.parent===e||dD(e,t.parent))}class fD{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new fD(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class pD{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?an(t,RL.classNames):cn(t,RL.classNames),!1}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function mD(e){return{browserEvent:e.browserEvent,elements:e.elements.map(e=>e.element)}}function gD(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}class vD extends Uk{constructor(e){super(e.elements.map(e=>e.element)),this.data=e}}function bD(e){return e instanceof Uk?new vD(e):e}class _D{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(e=>e.element),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(bD(e),t)}onDragOver(e,t,i,n,r=!0){return this.dnd.onDragOver(bD(e),t&&t.element,i,n)}drop(e,t,i,n){this.dnd.drop(bD(e),t&&t.element,i,n)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function yD(e){return e&&Object.assign(Object.assign({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(t.element)},dnd:e.dnd&&new _D(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:t=>e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element})),isSelectionRangeChangeEvent:t=>e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",isChecked:e.accessibilityProvider.isChecked?t=>{var i;return!!(null===(i=e.accessibilityProvider)||void 0===i?void 0:i.isChecked(t.element))}:void 0,getAriaLabel:t=>e.accessibilityProvider.getAriaLabel(t.element),getWidgetAriaLabel:()=>e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider.getAriaLevel&&(t=>e.accessibilityProvider.getAriaLevel(t.element)),getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),filter:e.filter&&{filter:(t,i)=>e.filter.filter(t.element,i)},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===e.expandOnlyOnTwistieClick?void 0:"function"!=typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:t=>e.expandOnlyOnTwistieClick(t.element),additionalScrollHeight:e.additionalScrollHeight})}function wD(e,t){t(e),e.children.forEach(e=>wD(e,t))}class CD{constructor(e,t,i,n,r,o={}){this.user=e,this.dataSource=r,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new ce,this._onDidChangeNodeSlowState=new ce,this.nodeMapper=new DL(e=>new fD(e)),this.disposables=new ie,this.identityProvider=o.identityProvider,this.autoExpandSingleChildren=void 0!==o.autoExpandSingleChildren&&o.autoExpandSingleChildren,this.sorter=o.sorter,this.collapseByDefault=o.collapseByDefault,this.tree=this.createTree(e,t,i,n,o),this.root=uD({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return se.map(this.tree.onDidChangeFocus,mD)}get onDidChangeSelection(){return se.map(this.tree.onDidChangeSelection,mD)}get onMouseDblClick(){return se.map(this.tree.onMouseDblClick,gD)}get onPointer(){return se.map(this.tree.onPointer,gD)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,n,r){const o=new WL(i),s=n.map(e=>new pD(e,this.nodeMapper,this._onDidChangeNodeSlowState.event)),a=yD(r)||{};return new aD(e,t,o,s,a)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return hD(this,void 0,void 0,function*(){this.refreshPromises.forEach(e=>e.cancel()),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&"number"==typeof t.scrollTop&&(this.scrollTop=t.scrollTop)})}_updateChildren(e=this.root.element,t=!0,i=!1,n){return hD(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new LL(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield se.toPromise(this._onDidRender.event));const r=this.getDataNode(e);if(yield this.refreshAndRenderNode(r,t,n),i)try{this.tree.rerender(r)}catch(e){}})}rerender(e){if(void 0===e||e===this.root.element)return void this.tree.rerender();const t=this.getDataNode(e);this.tree.rerender(t)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return hD(this,void 0,void 0,function*(){if(void 0===this.root.element)throw new LL(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield se.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i))return!1;if(i.refreshPromise&&(yield this.root.refreshPromise,yield se.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i))return!1;const n=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield se.toPromise(this._onDidRender.event)),n})}setSelection(e,t){const i=e.map(e=>this.getDataNode(e));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map(e=>e.element)}setFocus(e,t){const i=e.map(e=>this.getDataNode(e));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map(e=>e.element)}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new LL(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,i){return hD(this,void 0,void 0,function*(){yield this.refreshNode(e,t,i),this.render(e,i)})}refreshNode(e,t,i){return hD(this,void 0,void 0,function*(){let n;return this.subTreeRefreshPromises.forEach((r,o)=>{!n&&function(e,t){return e===t||dD(e,t)||dD(t,e)}(o,e)&&(n=r.then(()=>this.refreshNode(e,t,i)))}),n||this.doRefreshSubTree(e,t,i)})}doRefreshSubTree(e,t,i){return hD(this,void 0,void 0,function*(){let n;e.refreshPromise=new Promise(e=>n=e),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const r=yield this.doRefreshNode(e,t,i);e.stale=!1,yield Promise.all(r.map(e=>this.doRefreshSubTree(e,t,i)))}finally{n()}})}doRefreshNode(e,t,i){return hD(this,void 0,void 0,function*(){let n;if(e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren){const t=function e(t,i){return i?new Promise((e,n)=>{const r=setTimeout(e,t);i.onCancellationRequested(()=>{clearTimeout(r),n(U())})}):Ii(i=>e(t,i))}(800);t.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},e=>null),n=this.doGetChildren(e).finally(()=>t.cancel())}else n=Promise.resolve(q.empty());try{const r=yield n;return this.setChildren(e,r,t,i)}catch(t){if(e!==this.root&&this.tree.collapse(e===this.root?null:e),j(t))return[];throw t}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}})}doGetChildren(e){let t=this.refreshPromises.get(e);return t||(t=Ii(()=>hD(this,void 0,void 0,function*(){const t=yield this.dataSource.getChildren(e.element);return this.processChildren(t)})),this.refreshPromises.set(e,t),t.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:t}){null!==e.element&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch($))}setChildren(e,t,i,n){const r=[...t];if(0===e.children.length&&0===r.length)return[];const o=new Map,s=new Map;for(const t of e.children)if(o.set(t.element,t),this.identityProvider){const e=this.tree.isCollapsed(t);s.set(t.id,{node:t,collapsed:e})}const a=[],l=r.map(t=>{const r=!!this.dataSource.hasChildren(t);if(!this.identityProvider){const i=uD({element:t,parent:e,hasChildren:r});return r&&this.collapseByDefault&&!this.collapseByDefault(t)&&(i.collapsedByDefault=!1,a.push(i)),i}const l=this.identityProvider.getId(t).toString(),c=s.get(l);if(c){const e=c.node;return o.delete(e.element),this.nodes.delete(e.element),this.nodes.set(t,e),e.element=t,e.hasChildren=r,i?c.collapsed?(e.children.forEach(e=>wD(e,e=>this.nodes.delete(e.element))),e.children.splice(0,e.children.length),e.stale=!0):a.push(e):r&&this.collapseByDefault&&!this.collapseByDefault(t)&&(e.collapsedByDefault=!1,a.push(e)),e}const h=uD({element:t,parent:e,id:l,hasChildren:r});return n&&n.viewState.focus&&n.viewState.focus.indexOf(l)>-1&&n.focus.push(h),n&&n.viewState.selection&&n.viewState.selection.indexOf(l)>-1&&n.selection.push(h),n&&n.viewState.expanded&&n.viewState.expanded.indexOf(l)>-1?a.push(h):r&&this.collapseByDefault&&!this.collapseByDefault(t)&&(h.collapsedByDefault=!1,a.push(h)),h});for(const e of o.values())wD(e,e=>this.nodes.delete(e.element));for(const e of l)this.nodes.set(e.element,e);return e.children.splice(0,e.children.length,...l),e!==this.root&&this.autoExpandSingleChildren&&1===l.length&&0===a.length&&(l[0].collapsedByDefault=!1,a.push(l[0])),a}render(e,t){const i=e.children.map(e=>this.asTreeElement(e,t));this.tree.setChildren(e===this.root?null:e,i),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return i=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?q.map(e.children,e=>this.asTreeElement(e,t)):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}}class SD{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new SD(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class xD{constructor(e,t,i,n){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,n){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,n)}renderCompressedElements(e,t,i,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}renderTwistie(e,t){return e.slow?an(t,RL.classNames):cn(t,RL.classNames),!1}disposeElement(e,t,i,n){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,n)}disposeCompressedElements(e,t,i,n){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=J(this.disposables)}}var kD=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},LD=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};const DD=oi("listService");let ED=class{constructor(e){this._themeService=e,this.disposables=new ie,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const e=new pL(Wn(),"");this.disposables.add(yk(e,this._themeService))}if(this.lists.some(t=>t.widget===e))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),ee(e.onDidFocus(()=>this._lastFocusedWidget=e),te(()=>this.lists.splice(this.lists.indexOf(i),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(e=>e!==i),this._lastFocusedWidget===e&&(this._lastFocusedWidget=void 0)}))}dispose(){this.disposables.dispose()}};ED=kD([LD(0,tf)],ED);const ND=new id("listFocus",!0),TD=new id("listSupportsMultiselect",!0),OD=(zu.and(ND,zu.not("inputFocus")),new id("listHasSelectionOrFocus",!1)),MD=new id("listDoubleSelection",!1),ID=new id("listMultiSelection",!1),AD=new id("listSupportsKeyboardNavigation",!0),PD="listAutomaticKeyboardNavigation",RD=new id(PD,!0);let FD=!1;function VD(e,t){const i=e.createScoped(t.getHTMLElement());return ND.bindTo(i),i}const BD="workbench.list.multiSelectModifier",WD="workbench.list.openMode",$D="workbench.list.horizontalScrolling",zD="workbench.list.keyboardNavigation",HD="workbench.list.automaticKeyboardNavigation",jD="workbench.tree.indent",UD="workbench.tree.renderIndentGuides",KD="workbench.list.smoothScrolling";function qD(e){return"alt"===e.getValue(BD)}class GD extends ne{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=qD(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(BD)&&(this.useAltAsMultipleSelectionModifier=qD(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:hL(e)}isSelectionRangeChangeEvent(e){return uL(e)}}function YD(e,t,i){const n=new ie,r=Object.assign({},e);if(!1!==e.multipleSelectionSupport&&!e.multipleSelectionController){const e=new GD(t);r.multipleSelectionController=e,n.add(e)}return r.keyboardNavigationDelegate={mightProducePrintableCharacter:e=>i.mightProducePrintableCharacter(e)},r.smoothScrolling=t.getValue(KD),[r,n]}let XD=class extends CL{constructor(e,t,i,n,r,o,s,a,l,c){const h=void 0!==r.horizontalScrolling?r.horizontalScrolling:l.getValue($D),[u,d]=YD(r,l,c);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},bk(a.getColorTheme(),wk)),u),{horizontalScrolling:h})),this.disposables.add(d),this.contextKeyService=VD(o,this),this.themeService=a,TD.bindTo(this.contextKeyService).set(!(!1===r.multipleSelectionSupport)),this.listHasSelectionOrFocus=OD.bindTo(this.contextKeyService),this.listDoubleSelection=MD.bindTo(this.contextKeyService),this.listMultiSelection=ID.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=qD(l),this.disposables.add(this.contextKeyService),this.disposables.add(s.register(this)),r.overrideStyles&&this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)})),this.disposables.add(l.onDidChangeConfiguration(e=>{e.affectsConfiguration(BD)&&(this._useAltAsMultipleSelectionModifier=qD(l));let t={};if(e.affectsConfiguration($D)&&void 0===this.horizontalScrolling){const e=l.getValue($D);t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(KD)){const e=l.getValue(KD);t=Object.assign(Object.assign({},t),{smoothScrolling:e})}Object.keys(t).length>0&&this.updateOptions(t)}))}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles)}dispose(){super.dispose(),this._styler&&this._styler.dispose()}updateStyles(e){this._styler&&this._styler.dispose(),this._styler=yk(this,this.themeService,e)}};XD=kD([LD(5,nd),LD(6,DD),LD(7,tf),LD(8,yh),LD(9,AS)],XD);let ZD=class extends class{constructor(e,t,i,n,r={}){const o=()=>this.model,s=n.map(e=>new SL(e,o));this.list=new CL(e,t,i,s,function(e,t){return Object.assign(Object.assign({},t),{accessibilityProvider:t.accessibilityProvider&&new xL(e,t.accessibilityProvider)})}(o,r))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return se.map(this.list.onMouseDblClick,({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i}))}get onPointer(){return se.map(this.list.onPointer,({element:e,index:t,browserEvent:i})=>({element:void 0===e?void 0:this._model.get(e),index:t,browserEvent:i}))}get onDidChangeFocus(){return se.map(this.list.onDidChangeFocus,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(e=>this._model.get(e)),indexes:t,browserEvent:i}))}get onDidChangeSelection(){return se.map(this.list.onDidChangeSelection,({elements:e,indexes:t,browserEvent:i})=>({elements:e.map(e=>this._model.get(e)),indexes:t,browserEvent:i}))}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,Yi(e.length))}getFocus(){return this.list.getFocus()}setSelection(e,t){this.list.setSelection(e,t)}getSelection(){return this.list.getSelection()}style(e){this.list.style(e)}dispose(){this.list.dispose()}}{constructor(e,t,i,n,r,o,s,a,l,c){const h=void 0!==r.horizontalScrolling?r.horizontalScrolling:l.getValue($D),[u,d]=YD(r,l,c);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},bk(a.getColorTheme(),wk)),u),{horizontalScrolling:h})),this.disposables=new ie,this.disposables.add(d),this.contextKeyService=VD(o,this),this.horizontalScrolling=r.horizontalScrolling,TD.bindTo(this.contextKeyService).set(!(!1===r.multipleSelectionSupport)),this._useAltAsMultipleSelectionModifier=qD(l),this.disposables.add(this.contextKeyService),this.disposables.add(s.register(this)),r.overrideStyles&&this.disposables.add(yk(this,a,r.overrideStyles)),this.disposables.add(l.onDidChangeConfiguration(e=>{e.affectsConfiguration(BD)&&(this._useAltAsMultipleSelectionModifier=qD(l));let t={};if(e.affectsConfiguration($D)&&void 0===this.horizontalScrolling){const e=l.getValue($D);t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(KD)){const e=l.getValue(KD);t=Object.assign(Object.assign({},t),{smoothScrolling:e})}Object.keys(t).length>0&&this.updateOptions(t)}))}dispose(){super.dispose(),this.disposables.dispose()}};ZD=kD([LD(5,nd),LD(6,DD),LD(7,tf),LD(8,yh),LD(9,AS)],ZD);class QD extends ne{constructor(e,t){var i,n;super(),this.widget=e,this._onDidOpen=new ce,this.onDidOpen=this._onDidOpen.event,this.openOnFocus=null!==(i=null===t||void 0===t?void 0:t.openOnFocus)&&void 0!==i&&i,this._register(se.filter(this.widget.onDidChangeSelection,e=>e.browserEvent instanceof KeyboardEvent)(e=>this.onSelectionFromKeyboard(e))),this._register(this.widget.onPointer(e=>this.onPointer(e.browserEvent))),this._register(this.widget.onMouseDblClick(e=>this.onMouseDblClick(e.browserEvent))),this.openOnFocus&&this._register(se.filter(this.widget.onDidChangeFocus,e=>e.browserEvent instanceof KeyboardEvent)(e=>this.onFocusFromKeyboard(e))),"boolean"!=typeof(null===t||void 0===t?void 0:t.openOnSingleClick)&&(null===t||void 0===t?void 0:t.configurationService)?(this.openOnSingleClick="doubleClick"!==(null===t||void 0===t?void 0:t.configurationService.getValue(WD)),this._register(null===t||void 0===t?void 0:t.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick="doubleClick"!==(null===t||void 0===t?void 0:t.configurationService.getValue(WD))}))):this.openOnSingleClick=null===(n=null===t||void 0===t?void 0:t.openOnSingleClick)||void 0===n||n}onFocusFromKeyboard(e){const t=this.widget.getFocus();this.widget.setSelection(t,e.browserEvent);const i="boolean"!=typeof e.browserEvent.preserveFocus||e.browserEvent.preserveFocus;this._open(i,!1,!1,e.browserEvent)}onSelectionFromKeyboard(e){if(1!==e.elements.length)return;const t="boolean"!=typeof e.browserEvent.preserveFocus||e.browserEvent.preserveFocus;this._open(t,!1,!1,e.browserEvent)}onPointer(e){if(!this.openOnSingleClick)return;if(2===e.detail)return;const t=1===e.button,i=e.ctrlKey||e.metaKey||e.altKey;this._open(!0,t,i,e)}onMouseDblClick(e){if(!e)return;const t=e.ctrlKey||e.metaKey||e.altKey;this._open(!1,!0,t,e)}_open(e,t,i,n){this._onDidOpen.fire({editorOptions:{preserveFocus:e,pinned:t,revealIfVisible:!0},sideBySide:i,element:this.widget.getSelection()[0],browserEvent:n})}}let JD=class extends aD{constructor(e,t,i,n,r,o,s,a,l,c,h){const{options:u,getAutomaticKeyboardNavigation:d,disposable:f}=rE(t,r,o,l,c,h);super(e,t,i,n,u),this.disposables.add(f),this.internals=new oE(this,r,d,r.overrideStyles,o,s,a,l,h),this.disposables.add(this.internals)}};JD=kD([LD(5,nd),LD(6,DD),LD(7,tf),LD(8,yh),LD(9,AS),LD(10,dC)],JD);let eE=class extends cD{constructor(e,t,i,n,r,o,s,a,l,c,h){const{options:u,getAutomaticKeyboardNavigation:d,disposable:f}=rE(t,r,o,l,c,h);super(e,t,i,n,u),this.disposables.add(f),this.internals=new oE(this,r,d,r.overrideStyles,o,s,a,l,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles)}};eE=kD([LD(5,nd),LD(6,DD),LD(7,tf),LD(8,yh),LD(9,AS),LD(10,dC)],eE);let tE=class extends class extends ZL{constructor(e,t,i,n,r,o={}){super(e,t,i,n,o),this.user=e,this.dataSource=r,this.identityProvider=o.identityProvider}createModel(e,t,i){return new QL(e,t,i)}}{constructor(e,t,i,n,r,o,s,a,l,c,h,u){const{options:d,getAutomaticKeyboardNavigation:f,disposable:p}=rE(t,o,s,c,h,u);super(e,t,i,n,r,d),this.disposables.add(p),this.internals=new oE(this,o,f,o.overrideStyles,s,a,l,c,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles)}};tE=kD([LD(6,nd),LD(7,DD),LD(8,tf),LD(9,yh),LD(10,AS),LD(11,dC)],tE);let iE=class extends CD{constructor(e,t,i,n,r,o,s,a,l,c,h,u){const{options:d,getAutomaticKeyboardNavigation:f,disposable:p}=rE(t,o,s,c,h,u);super(e,t,i,n,r,d),this.disposables.add(p),this.internals=new oE(this,o,f,o.overrideStyles,s,a,l,c,u),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles)}};iE=kD([LD(6,nd),LD(7,DD),LD(8,tf),LD(9,yh),LD(10,AS),LD(11,dC)],iE);let nE=class extends class extends CD{constructor(e,t,i,n,r,o,s={}){super(e,t,i,r,o,s),this.compressionDelegate=n,this.compressibleNodeMapper=new DL(e=>new SD(e)),this.filter=s.filter}createTree(e,t,i,n,r){const o=new WL(i),s=n.map(e=>new xD(e,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),a=function(e){const t=e&&yD(e);return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map(e=>e.element))})})}(r)||{};return new cD(e,t,o,s,a)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const i=e=>this.identityProvider.getId(e).toString(),n=e=>{const t=new Set;for(const n of e){const e=this.tree.getCompressedTreeNode(n===this.root?null:n);if(e.element)for(const n of e.element.elements)t.add(i(n.element))}return t},r=n(this.tree.getSelection()),o=n(this.tree.getFocus());super.render(e,t);const s=this.getSelection();let a=!1;const l=this.getFocus();let c=!1;const h=e=>{const t=e.element;if(t)for(let e=0;e<t.elements.length;e++){const n=i(t.elements[e].element),h=t.elements[t.elements.length-1].element;r.has(n)&&-1===s.indexOf(h)&&(s.push(h),a=!0),o.has(n)&&-1===l.indexOf(h)&&(l.push(h),c=!0)}e.children.forEach(h)};h(this.tree.getCompressedTreeNode(e===this.root?null:e)),a&&this.setSelection(s),c&&this.setFocus(l)}processChildren(e){var t;return this.filter&&(e=q.filter(e,e=>{const i=this.filter.filter(e,1),n="boolean"==typeof(t=i)?t?1:0:EL(t)?NL(t.visibility):NL(t);if(2===n)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===n})),super.processChildren(e)}}{constructor(e,t,i,n,r,o,s,a,l,c,h,u,d){const{options:f,getAutomaticKeyboardNavigation:p,disposable:m}=rE(t,s,a,h,u,d);super(e,t,i,n,r,o,f),this.disposables.add(m),this.internals=new oE(this,s,p,s.overrideStyles,a,l,c,h,d),this.disposables.add(this.internals)}};function rE(e,t,i,n,r,o){AD.bindTo(i),FD||(RD.bindTo(i),FD=!0);const s=()=>{let e=i.getContextKeyValue(PD);return e&&(e=n.getValue(HD)),e},a=o.isScreenReaderOptimized()?"simple":n.getValue(zD),l=void 0!==t.horizontalScrolling?t.horizontalScrolling:n.getValue($D),[c,h]=YD(t,n,r),u=t.additionalScrollHeight;return{getAutomaticKeyboardNavigation:s,disposable:h,options:Object.assign(Object.assign({keyboardSupport:!1},c),{indent:n.getValue(jD),renderIndentGuides:n.getValue(UD),smoothScrolling:n.getValue(KD),automaticKeyboardNavigation:s(),simpleKeyboardNavigation:"simple"===a,filterOnType:"filter"===a,horizontalScrolling:l,keyboardNavigationEventFilter:function(e,t){let i=!1;return n=>{if(i)return i=!1,!1;const r=t.softDispatch(n,e);return r&&r.enterChord?(i=!0,!1):(i=!1,!0)}}(e,r),additionalScrollHeight:u,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements,expandOnlyOnDoubleClick:"doubleClick"===n.getValue(WD)})}}nE=kD([LD(7,nd),LD(8,DD),LD(9,tf),LD(10,yh),LD(11,AS),LD(12,dC)],nE);let oE=class{constructor(e,t,i,n,r,o,s,a,l){this.tree=e,this.themeService=s,this.disposables=[],this.contextKeyService=VD(r,e),TD.bindTo(this.contextKeyService).set(!(!1===t.multipleSelectionSupport)),this.hasSelectionOrFocus=OD.bindTo(this.contextKeyService),this.hasDoubleSelection=MD.bindTo(this.contextKeyService),this.hasMultiSelection=ID.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=qD(a);const c=new Set;c.add(PD);const h=()=>{const t=l.isScreenReaderOptimized()?"simple":a.getValue(zD);e.updateOptions({simpleKeyboardNavigation:"simple"===t,filterOnType:"filter"===t})};this.updateStyleOverrides(n),this.disposables.push(this.contextKeyService,o.register(e),e.onDidChangeSelection(()=>{const t=e.getSelection(),i=e.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(t.length>0||i.length>0),this.hasMultiSelection.set(t.length>1),this.hasDoubleSelection.set(2===t.length)})}),e.onDidChangeFocus(()=>{const t=e.getSelection(),i=e.getFocus();this.hasSelectionOrFocus.set(t.length>0||i.length>0)}),a.onDidChangeConfiguration(n=>{let r={};if(n.affectsConfiguration(BD)&&(this._useAltAsMultipleSelectionModifier=qD(a)),n.affectsConfiguration(jD)){const e=a.getValue(jD);r=Object.assign(Object.assign({},r),{indent:e})}if(n.affectsConfiguration(UD)){const e=a.getValue(UD);r=Object.assign(Object.assign({},r),{renderIndentGuides:e})}if(n.affectsConfiguration(KD)){const e=a.getValue(KD);r=Object.assign(Object.assign({},r),{smoothScrolling:e})}if(n.affectsConfiguration(zD)&&h(),n.affectsConfiguration(HD)&&(r=Object.assign(Object.assign({},r),{automaticKeyboardNavigation:i()})),n.affectsConfiguration($D)&&void 0===t.horizontalScrolling){const e=a.getValue($D);r=Object.assign(Object.assign({},r),{horizontalScrolling:e})}n.affectsConfiguration(WD)&&(r=Object.assign(Object.assign({},r),{expandOnlyOnDoubleClick:"doubleClick"===a.getValue(WD)})),Object.keys(r).length>0&&e.updateOptions(r)}),this.contextKeyService.onDidChangeContext(t=>{t.affectsSome(c)&&e.updateOptions({automaticKeyboardNavigation:i()})}),l.onDidChangeScreenReaderOptimized(()=>h())),this.navigator=new class extends QD{constructor(e,t){super(e,t)}}(e,Object.assign({configurationService:a},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateStyleOverrides(e){J(this.styler),this.styler=e?yk(this.tree,this.themeService,e):ne.None}dispose(){this.disposables=J(this.disposables),J(this.styler),this.styler=void 0}};var sE,aE;oE=kD([LD(4,nd),LD(5,DD),LD(6,tf),LD(7,yh),LD(8,dC)],oE),zc.as(Uc.Configuration).registerConfiguration({id:"workbench",order:7,title:n(0,"Workbench"),type:"object",properties:{[BD]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[n(0,"Maps to `Control` on Windows and Linux and to `Command` on macOS."),n(0,"Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:n(0,"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[WD]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:n(0,"Controls how to open items in trees and lists using the mouse (if supported). For parents with children in trees, this setting will control if a single click expands the parent or a double click. Note that some trees and lists might choose to ignore this setting if it is not applicable. ")},[$D]:{type:"boolean",default:!1,description:n(0,"Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[jD]:{type:"number",default:8,minimum:0,maximum:40,description:n(0,"Controls tree indentation in pixels.")},[UD]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:n(0,"Controls whether the tree should render indent guides.")},[KD]:{type:"boolean",default:!1,description:n(0,"Controls whether lists and trees have smooth scrolling.")},[zD]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[n(0,"Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),n(0,"Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),n(0,"Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:n(0,"Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[HD]:{type:"boolean",default:!0,markdownDescription:n(0,"Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")}}}),function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(sE||(sE={})),function(e){e.compare=function(e,t){return t-e};const t=Object.create(null);t[e.Error]=n(0,"Error"),t[e.Warning]=n(0,"Warning"),t[e.Info]=n(0,"Info"),e.toString=function(e){return t[e]||""},e.fromSeverity=function(t){switch(t){case Rc.Error:return e.Error;case Rc.Warning:return e.Warning;case Rc.Info:return e.Info;case Rc.Ignore:return e.Hint}},e.toSeverity=function(t){switch(t){case e.Error:return Rc.Error;case e.Warning:return Rc.Warning;case e.Info:return Rc.Info;case e.Hint:return Rc.Ignore}}}(sE||(sE={})),function(e){const t="";function i(e,i){let n=[t];return e.source?n.push(e.source.replace("¦","\\¦")):n.push(t),e.code?"string"==typeof e.code?n.push(e.code.replace("¦","\\¦")):n.push(e.code.value.replace("¦","\\¦")):n.push(t),void 0!==e.severity&&null!==e.severity?n.push(sE.toString(e.severity)):n.push(t),e.message&&i?n.push(e.message.replace("¦","\\¦")):n.push(t),void 0!==e.startLineNumber&&null!==e.startLineNumber?n.push(e.startLineNumber.toString()):n.push(t),void 0!==e.startColumn&&null!==e.startColumn?n.push(e.startColumn.toString()):n.push(t),void 0!==e.endLineNumber&&null!==e.endLineNumber?n.push(e.endLineNumber.toString()):n.push(t),void 0!==e.endColumn&&null!==e.endColumn?n.push(e.endColumn.toString()):n.push(t),n.push(t),n.join("¦")}e.makeKey=function(e){return i(e,!0)},e.makeKeyOptionalMessage=i}(aE||(aE={}));const lE=oi("markerService");class cE{constructor(){this._byResource=new lo,this._byOwner=new Map}set(e,t,i){let n=this._byResource.get(e);n||(n=new Map,this._byResource.set(e,n)),n.set(t,i);let r=this._byOwner.get(t);r||(r=new lo,this._byOwner.set(t,r)),r.set(e,i)}get(e,t){let i=this._byResource.get(e);return null===i||void 0===i?void 0:i.get(t)}delete(e,t){let i=!1,n=!1,r=this._byResource.get(e);r&&(i=r.delete(t));let o=this._byOwner.get(t);if(o&&(n=o.delete(e)),i!==n)throw new Error("illegal state");return i&&n}values(e){var t,i,n,r;return"string"==typeof e?null!==(i=null===(t=this._byOwner.get(e))||void 0===t?void 0:t.values())&&void 0!==i?i:q.empty():rt.isUri(e)?null!==(r=null===(n=this._byResource.get(e))||void 0===n?void 0:n.values())&&void 0!==r?r:q.empty():q.map(q.concat(...this._byOwner.values()),e=>e[1])}}class hE{constructor(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new lo,this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(e){for(const t of e){const e=this._data.get(t);e&&this._substract(e);const i=this._resourceStats(t);this._add(i),this._data.set(t,i)}}_resourceStats(e){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===Zi.inMemory||e.scheme===Zi.walkThrough||e.scheme===Zi.walkThroughSnippet)return t;for(const{severity:i}of this._service.read({resource:e}))i===sE.Error?t.errors+=1:i===sE.Warning?t.warnings+=1:i===sE.Info?t.infos+=1:t.unknowns+=1;return t}_substract(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns}_add(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns}}class uE{constructor(){this._onMarkerChanged=new ce,this.onMarkerChanged=se.debounce(this._onMarkerChanged.event,uE._debouncer,0),this._data=new cE,this._stats=new hE(this)}dispose(){this._stats.dispose()}remove(e,t){for(const i of t||[])this.changeOne(e,i,[])}changeOne(e,t,i){if(n=i,Array.isArray(n)&&0!==n.length){const n=[];for(const r of i){const i=uE._toMarker(e,t,r);i&&n.push(i)}this._data.set(t,e,n),this._onMarkerChanged.fire([t])}else{this._data.delete(t,e)&&this._onMarkerChanged.fire([t])}var n}static _toMarker(e,t,i){let{code:n,severity:r,message:o,source:s,startLineNumber:a,startColumn:l,endLineNumber:c,endColumn:h,relatedInformation:u,tags:d}=i;if(o)return{resource:t,owner:e,code:n,severity:r,message:o,source:s,startLineNumber:a=a>0?a:1,startColumn:l=l>0?l:1,endLineNumber:c=c>=a?c:a,endColumn:h=h>0?h:l,relatedInformation:u,tags:d}}read(e=Object.create(null)){let{owner:t,resource:i,severities:n,take:r}=e;if((!r||r<0)&&(r=-1),t&&i){const e=this._data.get(i,t);if(e){const t=[];for(const i of e)if(uE._accept(i,n)){const e=t.push(i);if(r>0&&e===r)break}return t}return[]}if(t||i){const e=this._data.values(null!==i&&void 0!==i?i:t),o=[];for(const t of e)for(const e of t)if(uE._accept(e,n)){const t=o.push(e);if(r>0&&t===r)return o}return o}{const e=[];for(let t of this._data.values())for(let i of t)if(uE._accept(i,n)){const t=e.push(i);if(r>0&&t===r)return e}return e}}static _accept(e,t){return void 0===t||(t&e.severity)===e.severity}static _debouncer(e,t){e||(uE._dedupeMap=new lo,e=[]);for(const i of t)uE._dedupeMap.has(i)||(uE._dedupeMap.set(i,!0),e.push(i));return e}}const dE=oi("storageService");var fE;!function(e){e[e.NONE=0]="NONE",e[e.SHUTDOWN=1]="SHUTDOWN"}(fE||(fE={}));var pE=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},mE=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};let gE=class{constructor(e){this._commandService=e}createMenu(e,t){return new vE(e,this._commandService,t,this)}};gE=pE([mE(0,Tr)],gE);let vE=class e{constructor(e,t,i,n){this._id=e,this._commandService=t,this._contextKeyService=i,this._menuService=n,this._onDidChange=new ce,this._dispoables=new ie,this._menuGroups=[],this._contextKeys=new Set,this._build(),this._dispoables.add(se.debounce(se.filter(cd.onDidChangeMenu,e=>e.has(this._id)),()=>{},50)(this._build,this)),this._dispoables.add(se.debounce(this._contextKeyService.onDidChangeContext,(e,t)=>e||t.affectsSome(this._contextKeys),50)(e=>e&&this._onDidChange.fire(void 0),this))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=cd.getMenuItems(this._id);let i;t.sort(e._compareMenuItems);for(let n of t){const t=n.group||"";if(i&&i[0]===t||(i=[t,[]],this._menuGroups.push(i)),i[1].push(n),e._fillInKbExprKeys(n.when,this._contextKeys),sd(n)&&n.command.precondition&&e._fillInKbExprKeys(n.command.precondition,this._contextKeys),sd(n)&&n.command.toggled){const t=n.command.toggled.condition||n.command.toggled;e._fillInKbExprKeys(t,this._contextKeys)}}this._onDidChange.fire(this)}get onDidChange(){return this._onDidChange.event}getActions(e){const t=[];for(let i of this._menuGroups){const[n,r]=i,o=[];for(const t of r)if(this._contextKeyService.contextMatchesRules(t.when)){const i=sd(t)?new dd(t.command,t.alt,e,this._contextKeyService,this._commandService):new ud(t,this._menuService,this._contextKeyService,e);o.push(i)}o.length>0&&t.push([n,o])}return t}static _fillInKbExprKeys(e,t){if(e)for(let i of e.keys())t.add(i)}static _compareMenuItems(t,i){let n=t.group,r=i.group;if(n!==r){if(!n)return 1;if(!r)return-1;if("navigation"===n)return-1;if("navigation"===r)return 1;let e=n.localeCompare(r);if(0!==e)return e}let o=t.order||0,s=i.order||0;return o<s?-1:o>s?1:e._compareTitles(sd(t)?t.command.title:t.title,sd(i)?i.command.title:i.title)}static _compareTitles(e,t){const i="string"==typeof e?e:e.value,n="string"==typeof t?t:t.value;return i.localeCompare(n)}};vE=pE([mE(1,Tr),mE(2,nd),mE(3,ld)],vE);const bE=oi("markerDecorationsService");var _E=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},yE=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};function wE(e){return e.toString()}let CE=class extends ne{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new ce),this._markerDecorations=new Map,e.getModels().forEach(e=>this._onModelAdded(e)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const i=this._markerDecorations.get(wE(e.uri));return i&&i.getMarker(t)||null}_handleMarkerChange(e){e.forEach(e=>{const t=this._markerDecorations.get(wE(e));t&&this._updateDecorations(t)})}_onModelAdded(e){const t=new class extends ne{constructor(e){super(),this.model=e,this._markersData=new Map,this._register(te(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){const i=[...this._markersData.keys()];this._markersData.clear();const n=this.model.deltaDecorations(i,t);for(let t=0;t<n.length;t++)this._markersData.set(n[t],e[t]);return 0!==i.length||0!==n.length}getMarker(e){return this._markersData.get(e.id)}}(e);this._markerDecorations.set(wE(e.uri),t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(wE(e.uri));t&&(t.dispose(),this._markerDecorations.delete(wE(e.uri))),e.uri.scheme!==Zi.inMemory&&e.uri.scheme!==Zi.internal&&e.uri.scheme!==Zi.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map(e=>e.owner).forEach(t=>this._markerService.remove(t,[e.uri]))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});let i=t.map(t=>({range:this._createDecorationRange(e.model,t),options:this._createDecorationOption(t)}));e.update(t,i)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let i=mt.lift(t);if(t.severity!==sE.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(i=i.setEndPosition(i.startLineNumber,i.startColumn+2)),(i=e.validateRange(i)).isEmpty()){let t=e.getWordAtPosition(i.getStartPosition());if(t)i=new mt(i.startLineNumber,t.startColumn,i.endLineNumber,t.endColumn);else{let t=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);1===t||(i=i.endColumn>=t?new mt(i.startLineNumber,t-1,i.endLineNumber,t):new mt(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn+1))}}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&i.startLineNumber===i.endLineNumber){let n=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);n<i.endColumn&&(i=new mt(i.startLineNumber,n,i.endLineNumber,i.endColumn),t.startColumn=n)}return i}_createDecorationOption(e){let t,i,n,r=void 0,o=void 0;switch(e.severity){case sE.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",i=0;break;case sE.Warning:t="squiggly-warning",r=nf(Tb),i=20,n={color:nf(Xv),position:no.Inline};break;case sE.Info:t="squiggly-info",r=nf(Ob),i=10;break;case sE.Error:default:t="squiggly-error",r=nf(Nb),i=30,n={color:nf(Yv),position:no.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(o="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(o="squiggly-inline-deprecated")),{stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:r,position:io.Right},minimap:n,zIndex:i,inlineClassName:o}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}};CE=_E([yE(0,Po),yE(1,lE)],CE);var SE=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},xE=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};let kE=class extends ne{constructor(e,t){super(),this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new ce,this._accessibilityModeEnabledContext=fC.bindTo(this._contextKeyService);const i=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(i(),this._onDidChangeScreenReaderOptimized.fire())})),i(),this.onDidChangeScreenReaderOptimized(()=>i())}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};kE=SE([xE(0,nd),xE(1,yh)],kE);var LE=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};class DE{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(e,t){return LE(this,void 0,void 0,function*(){if(t)return void this.mapTextToType.set(t,e);try{return yield navigator.clipboard.writeText(e)}catch(e){console.error(e)}const i=document.activeElement,n=document.body.appendChild(er("textarea",{"aria-hidden":!0}));n.style.height="1px",n.style.width="1px",n.style.position="absolute",n.value=e,n.focus(),n.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(n)})}readText(e){return LE(this,void 0,void 0,function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(e){return console.error(e),""}})}readFindText(){return LE(this,void 0,void 0,function*(){return this.findText})}writeFindText(e){return LE(this,void 0,void 0,function*(){this.findText=e})}}var EE=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},NE=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},TE=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};function OE(e){return e.scheme===Zi.file?e.fsPath:e.path}let ME=0;class IE{constructor(e,t,i){this.id=++ME,this.type=0,this.actual=e,this.label=e.label,this.resourceLabel=t,this.strResource=i,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.isValid=!0}setValid(e){this.isValid=e}toString(){return`[${this.id}] [${this.isValid?"VALID":"INVALID"}] ${this.actual}`}}class AE{constructor(e,t){this.resourceLabel=e,this.reason=t}}class PE{constructor(){this.elements=new Map}createMessage(){const e=[],t=[];for(const[,i]of this.elements){(0===i.reason?e:t).push(i.resourceLabel)}let i=[];return e.length>0&&i.push(n(0,"The following files have been closed and modified on disk: {0}.",e.join(", "))),t.length>0&&i.push(n(0,"The following files have been modified in an incompatible way: {0}.",t.join(", "))),i.join("\n")}get size(){return this.elements.size}has(e){return this.elements.has(e)}set(e,t){this.elements.set(e,t)}delete(e){return this.elements.delete(e)}}class RE{constructor(e,t){this.resourceLabel=e,this.strResource=t,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const e of this._past)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){let e=[];e.push(`* ${this.strResource}:`);for(let t=0;t<this._past.length;t++)e.push(`   * [UNDO] ${this._past[t]}`);for(let t=this._future.length-1;t>=0;t--)e.push(`   * [REDO] ${this._future[t]}`);return e.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(e,t){1===e.type?e.setValid(this.resourceLabel,this.strResource,t):e.setValid(t)}setElementsValidFlag(e,t){for(const i of this._past)t(i.actual)&&this._setElementValidFlag(i,e);for(const i of this._future)t(i.actual)&&this._setElementValidFlag(i,e)}pushElement(e){for(const e of this._future)1===e.type&&e.removeResource(this.resourceLabel,this.strResource,1);if(this._future=[],this._past.length>0){const e=this._past[this._past.length-1];0!==e.type||e.isValid||(this._past=[])}this._past.push(e),this.versionId++}createSnapshot(e){const t=[];for(let e=0,i=this._past.length;e<i;e++)t.push(this._past[e].id);for(let e=this._future.length-1;e>=0;e--)t.push(this._future[e].id);return new ox(e,t)}restoreSnapshot(e){const t=e.elements.length;let i=!0,n=0,r=-1;for(let o=0,s=this._past.length;o<s;o++,n++){const s=this._past[o];i&&(n>=t||s.id!==e.elements[n])&&(i=!1,r=0),i||1!==s.type||s.removeResource(this.resourceLabel,this.strResource,0)}let o=-1;for(let r=this._future.length-1;r>=0;r--,n++){const s=this._future[r];i&&(n>=t||s.id!==e.elements[n])&&(i=!1,o=r),i||1!==s.type||s.removeResource(this.resourceLabel,this.strResource,0)}-1!==r&&(this._past=this._past.slice(0,r)),-1!==o&&(this._future=this._future.slice(o+1)),this.versionId++}getElements(){const e=[],t=[];for(const t of this._past)e.push(t.actual);for(const e of this._future)t.push(e.actual);return{past:e,future:t}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(e,t){for(let i=this._past.length-1;i>=0;i--)if(this._past[i]===e){t.has(this.strResource)?this._past[i]=t.get(this.strResource):this._past.splice(i,1);break}this.versionId++}splitFutureWorkspaceElement(e,t){for(let i=this._future.length-1;i>=0;i--)if(this._future[i]===e){t.has(this.strResource)?this._future[i]=t.get(this.strResource):this._future.splice(i,1);break}this.versionId++}moveBackward(e){this._past.pop(),this._future.push(e),this.versionId++}moveForward(e){this._future.pop(),this._past.push(e),this.versionId++}}class FE{constructor(e){this.editStacks=e,this._versionIds=[];for(let e=0,t=this.editStacks.length;e<t;e++)this._versionIds[e]=this.editStacks[e].versionId}isValid(){for(let e=0,t=this.editStacks.length;e<t;e++)if(this._versionIds[e]!==this.editStacks[e].versionId)return!1;return!0}}const VE=new RE("","");VE.locked=!0;let BE=class{constructor(e,t){this._dialogService=e,this._notificationService=t,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(e){for(const t of this._uriComparisonKeyComputers)if(t[0]===e.scheme)return t[1].getComparisonKey(e);return e.toString()}_print(e){console.log("------------------------------------"),console.log(`AFTER ${e}: `);let t=[];for(const e of this._editStacks)t.push(e[1].toString());console.log(t.join("\n"))}pushElement(e){if(0===e.type){const t=OE(e.resource),i=this.getUriComparisonKey(e.resource);this._pushElement(new IE(e,t,i))}else{const t=new Set,i=[],n=[];for(const r of e.resources){const e=OE(r),o=this.getUriComparisonKey(r);t.has(o)||(t.add(o),i.push(e),n.push(o))}1===i.length?this._pushElement(new IE(e,i[0],n[0])):this._pushElement(new class{constructor(e,t,i){this.id=++ME,this.type=1,this.actual=e,this.label=e.label,this.resourceLabels=t,this.strResources=i,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(e,t,i){this.removedResources||(this.removedResources=new PE),this.removedResources.has(t)||this.removedResources.set(t,new AE(e,i))}setValid(e,t,i){i?this.invalidatedResources&&(this.invalidatedResources.delete(t),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new PE),this.invalidatedResources.has(t)||this.invalidatedResources.set(t,new AE(e,0)))}toString(){return`[${this.id}] [${this.invalidatedResources?"INVALID":"VALID"}] ${this.actual}`}}(e,i,n))}}_pushElement(e){for(let t=0,i=e.strResources.length;t<i;t++){const i=e.resourceLabels[t],n=e.strResources[t];let r;this._editStacks.has(n)?r=this._editStacks.get(n):(r=new RE(i,n),this._editStacks.set(n,r)),r.pushElement(e)}}getLastElement(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){const e=this._editStacks.get(t);if(e.hasFutureElements())return null;const i=e.getClosestPastElement();return i?i.actual:null}return null}_splitPastWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const e of i){const t=OE(e.resource),i=this.getUriComparisonKey(e.resource),r=new IE(e,t,i);n.set(r.strResource,r)}for(const i of e.strResources){if(t&&t.has(i))continue;this._editStacks.get(i).splitPastWorkspaceElement(e,n)}}_splitFutureWorkspaceElement(e,t){const i=e.actual.split(),n=new Map;for(const e of i){const t=OE(e.resource),i=this.getUriComparisonKey(e.resource),r=new IE(e,t,i);n.set(r.strResource,r)}for(const i of e.strResources){if(t&&t.has(i))continue;this._editStacks.get(i).splitFutureWorkspaceElement(e,n)}}removeElements(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);if(this._editStacks.has(t)){this._editStacks.get(t).dispose(),this._editStacks.delete(t)}}setElementsValidFlag(e,t,i){const n=this.getUriComparisonKey(e);if(this._editStacks.has(n)){this._editStacks.get(n).setElementsValidFlag(t,i)}}createSnapshot(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).createSnapshot(e)}return new ox(e,[])}restoreSnapshot(e){const t=this.getUriComparisonKey(e.resource);if(this._editStacks.has(t)){const i=this._editStacks.get(t);i.restoreSnapshot(e),i.hasPastElements()||i.hasFutureElements()||(i.dispose(),this._editStacks.delete(t))}}getElements(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).getElements()}return{past:[],future:[]}}canUndo(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasPastElements()}return!1}_onError(e,t){$(e);for(const e of t.strResources)this.removeElements(e);this._notificationService.error(e)}_acquireLocks(e){for(const t of e.editStacks)if(t.locked)throw new Error("Cannot acquire edit stack lock");for(const t of e.editStacks)t.locked=!0;return()=>{for(const t of e.editStacks)t.locked=!1}}_safeInvokeWithLocks(e,t,i,n=ne.None){const r=this._acquireLocks(i);let o;try{o=t()}catch(t){return r(),n.dispose(),this._onError(t,e)}if(o)return o.then(()=>{r(),n.dispose()},t=>(r(),n.dispose(),this._onError(t,e)));r(),n.dispose()}_invokeWorkspacePrepare(e){return TE(this,void 0,void 0,function*(){if(void 0===e.actual.prepareUndoRedo)return ne.None;const t=e.actual.prepareUndoRedo();return void 0===t?ne.None:t})}_invokeResourcePrepare(e,t){if(1!==e.actual.type||void 0===e.actual.prepareUndoRedo)return void t(ne.None);const i=e.actual.prepareUndoRedo();if(i){var n;if("function"!=typeof(n=i).dispose||0!==n.dispose.length)return i.then(e=>{t(e)});t(i)}else t(ne.None)}_getAffectedEditStacks(e){const t=[];for(const i of e.strResources)t.push(this._editStacks.get(i)||VE);return new FE(t)}_tryToSplitAndUndo(e,t,i,n){if(t.canSplit())return this._splitPastWorkspaceElement(t,i),this._notificationService.info(n),new WE(this.undo(e));for(const e of t.strResources)this.removeElements(e);return this._notificationService.info(n),new WE}_checkWorkspaceUndo(e,t,i,r){if(t.removedResources)return this._tryToSplitAndUndo(e,t,t.removedResources,n(0,"Could not undo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndUndo(e,t,t.invalidatedResources,n(0,"Could not undo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const e of i.editStacks)e.getClosestPastElement()!==t&&o.push(e.resourceLabel);if(o.length>0)return this._tryToSplitAndUndo(e,t,null,n(0,"Could not undo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const s=[];for(const e of i.editStacks)e.locked&&s.push(e.resourceLabel);return s.length>0?this._tryToSplitAndUndo(e,t,null,n(0,"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndUndo(e,t,null,n(0,"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceUndo(e,t){const i=this._getAffectedEditStacks(t),n=this._checkWorkspaceUndo(e,t,i,!1);return n?n.returnValue:this._confirmAndExecuteWorkspaceUndo(e,t,i)}_confirmAndExecuteWorkspaceUndo(e,t,i){return TE(this,void 0,void 0,function*(){if(t.canSplit()){const r=yield this._dialogService.show(Rc.Info,n(0,"Would you like to undo '{0}' across all files?",t.label),[n(0,"Undo in {0} Files",i.editStacks.length),n(0,"Undo this File"),n(0,"Cancel")],{cancelId:2});if(2===r.choice)return;if(1===r.choice)return this._splitPastWorkspaceElement(t,null),this.undo(e);const o=this._checkWorkspaceUndo(e,t,i,!1);if(o)return o.returnValue}let r;try{r=yield this._invokeWorkspacePrepare(t)}catch(e){return this._onError(e,t)}const o=this._checkWorkspaceUndo(e,t,i,!0);if(o)return r.dispose(),o.returnValue;for(const e of i.editStacks)e.moveBackward(t);return this._safeInvokeWithLocks(t,()=>t.actual.undo(),i,r)})}_resourceUndo(e,t){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,i=>(e.moveBackward(t),this._safeInvokeWithLocks(t,()=>t.actual.undo(),new FE([e]),i)));{const e=n(0,"Could not undo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.info(e)}}else e.flushAllElements()}undo(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);if(!this._editStacks.has(t))return;const i=this._editStacks.get(t),n=i.getClosestPastElement();if(n)try{return 1===n.type?this._workspaceUndo(t,n):this._resourceUndo(i,n)}finally{0}}canRedo(e){const t=this.getUriComparisonKey(e);if(this._editStacks.has(t)){return this._editStacks.get(t).hasFutureElements()}return!1}_tryToSplitAndRedo(e,t,i,n){if(t.canSplit())return this._splitFutureWorkspaceElement(t,i),this._notificationService.info(n),new WE(this.redo(e));for(const e of t.strResources)this.removeElements(e);return this._notificationService.info(n),new WE}_checkWorkspaceRedo(e,t,i,r){if(t.removedResources)return this._tryToSplitAndRedo(e,t,t.removedResources,n(0,"Could not redo '{0}' across all files. {1}",t.label,t.removedResources.createMessage()));if(r&&t.invalidatedResources)return this._tryToSplitAndRedo(e,t,t.invalidatedResources,n(0,"Could not redo '{0}' across all files. {1}",t.label,t.invalidatedResources.createMessage()));const o=[];for(const e of i.editStacks)e.getClosestFutureElement()!==t&&o.push(e.resourceLabel);if(o.length>0)return this._tryToSplitAndRedo(e,t,null,n(0,"Could not redo '{0}' across all files because changes were made to {1}",t.label,o.join(", ")));const s=[];for(const e of i.editStacks)e.locked&&s.push(e.resourceLabel);return s.length>0?this._tryToSplitAndRedo(e,t,null,n(0,"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",t.label,s.join(", "))):i.isValid()?null:this._tryToSplitAndRedo(e,t,null,n(0,"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",t.label))}_workspaceRedo(e,t){const i=this._getAffectedEditStacks(t),n=this._checkWorkspaceRedo(e,t,i,!1);return n?n.returnValue:this._executeWorkspaceRedo(e,t,i)}_executeWorkspaceRedo(e,t,i){return TE(this,void 0,void 0,function*(){let n;try{n=yield this._invokeWorkspacePrepare(t)}catch(e){return this._onError(e,t)}const r=this._checkWorkspaceRedo(e,t,i,!0);if(r)return n.dispose(),r.returnValue;for(const e of i.editStacks)e.moveForward(t);return this._safeInvokeWithLocks(t,()=>t.actual.redo(),i,n)})}_resourceRedo(e,t){if(t.isValid){if(!e.locked)return this._invokeResourcePrepare(t,i=>(e.moveForward(t),this._safeInvokeWithLocks(t,()=>t.actual.redo(),new FE([e]),i)));{const e=n(0,"Could not redo '{0}' because there is already an undo or redo operation running.",t.label);this._notificationService.info(e)}}else e.flushAllElements()}redo(e){const t="string"==typeof e?e:this.getUriComparisonKey(e);if(!this._editStacks.has(t))return;const i=this._editStacks.get(t),n=i.getClosestFutureElement();if(n)try{return 1===n.type?this._workspaceRedo(t,n):this._resourceRedo(i,n)}finally{0}}};BE=EE([NE(0,Tk),NE(1,zh)],BE);class WE{constructor(e){this.returnValue=e}}UC(rx,BE);i("wzEN"),i("byCY");const $E={ctrlCmd:!1,alt:!1};var zE;!function(e){e[e.NONE=0]="NONE",e[e.FIRST=1]="FIRST",e[e.SECOND=2]="SECOND",e[e.LAST=3]="LAST"}(zE||(zE={}));const HE=new Bi(()=>{const e=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:e,collatorIsNumeric:e.resolvedOptions().numeric}});function jE(e,t,i){const n=e.toLowerCase(),r=t.toLowerCase(),o=function(e,t,i){const n=e.toLowerCase(),r=t.toLowerCase(),o=n.startsWith(i),s=r.startsWith(i);if(o!==s)return o?-1:1;if(o&&s){if(n.length<r.length)return-1;if(n.length>r.length)return 1}return 0}(e,t,i);if(o)return o;const s=n.endsWith(i);if(s!==r.endsWith(i))return s?-1:1;const a=function(e,t,i=!1){const n=e||"",r=t||"",o=HE.value.collator.compare(n,r);return HE.value.collatorIsNumeric&&0===o&&n!==r?n<r?-1:1:o}(n,r);return 0!==a?a:n.localeCompare(r)}i("KU51");class UE{constructor(e,t){this.supportCodicons=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",e.appendChild(this.domNode)}get element(){return this.domNode}set(e,t=[],i="",n){e||(e=""),n&&(e=UE.escapeNewLines(e,t)),this.didEverRender&&this.text===e&&this.title===i&&Kr(this.highlights,t)||(Array.isArray(t)||(t=[]),this.text=e,this.title=i,this.highlights=t,this.render())}render(){let e="",t=0;for(const i of this.highlights){if(i.end===i.start)continue;if(t<i.start){e+="<span>";const n=this.text.substring(t,i.start);e+=this.supportCodicons?Ls(Object(hr.s)(n)):Object(hr.s)(n),e+="</span>",t=i.end}i.extraClasses?e+=`<span class="highlight ${i.extraClasses}">`:e+='<span class="highlight">';const n=this.text.substring(i.start,i.end);e+=this.supportCodicons?Ls(Object(hr.s)(n)):Object(hr.s)(n),e+="</span>",t=i.end}if(t<this.text.length){e+="<span>";const i=this.text.substring(t);e+=this.supportCodicons?Ls(Object(hr.s)(i)):Object(hr.s)(i),e+="</span>"}this.domNode.innerHTML=e,this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(e,t){let i=0,n=0;return e.replace(/\r\n|\r|\n/g,(e,r)=>{n="\r\n"===e?-1:0,r+=i;for(const e of t)e.end<=r||(e.start>=r&&(e.start+=n),e.end>=r&&(e.end+=n));return i+=n,"⏎"})}}class KE{constructor(e){this._element=e}get element(){return this._element}set textContent(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)}set className(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)}set title(e){this.disposed||e===this._title||(this._title=e,this._title?this._element.title=e:this._element.removeAttribute("title"))}set empty(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")}dispose(){this.disposed=!0}}class qE extends ne{constructor(e,t){super(),this.domNode=this._register(new KE(Xn(e,er(".monaco-icon-label"))));const i=Xn(this.domNode.element,er(".monaco-icon-label-container")),n=Xn(i,er("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new KE(Xn(i,er("span.monaco-icon-description-container")))),(null===t||void 0===t?void 0:t.supportHighlights)?this.nameNode=new YE(n,!!t.supportCodicons):this.nameNode=new GE(n),(null===t||void 0===t?void 0:t.supportDescriptionHighlights)?this.descriptionNodeFactory=(()=>new UE(Xn(this.descriptionContainer.element,er("span.label-description")),!!t.supportCodicons)):this.descriptionNodeFactory=(()=>this._register(new KE(Xn(this.descriptionContainer.element,er("span.label-description")))))}setLabel(e,t,i){const n=["monaco-icon-label"];i&&(i.extraClasses&&n.push(...i.extraClasses),i.italic&&n.push("italic"),i.strikethrough&&n.push("strikethrough")),this.domNode.className=n.join(" "),this.domNode.title=(null===i||void 0===i?void 0:i.title)||"",this.nameNode.setLabel(e,i),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof UE?(this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0),(null===i||void 0===i?void 0:i.descriptionTitle)?this.descriptionNode.element.title=i.descriptionTitle:this.descriptionNode.element.removeAttribute("title")):(this.descriptionNode.textContent=t||"",this.descriptionNode.title=(null===i||void 0===i?void 0:i.descriptionTitle)||"",this.descriptionNode.empty=!t))}}class GE{constructor(e){this.container=e,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!Kr(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",ln(this.container,"multiple"),this.singleLabel=Xn(this.container,er("a.label-name",{id:null===t||void 0===t?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerText="",sn(this.container,"multiple"),this.singleLabel=void 0;for(let i=0;i<e.length;i++){const n=e[i],r=(null===t||void 0===t?void 0:t.domId)&&`${null===t||void 0===t?void 0:t.domId}_${i}`;Xn(this.container,er("a.label-name",{id:r,"data-icon-label-count":e.length,"data-icon-label-index":i,role:"treeitem"},n)),i<e.length-1&&Xn(this.container,er("span.label-separator",void 0,(null===t||void 0===t?void 0:t.separator)||"/"))}}}}class YE{constructor(e,t){this.container=e,this.supportCodicons=t,this.label=void 0,this.singleLabel=void 0}setLabel(e,t){if(this.label!==e||!Kr(this.options,t))if(this.label=e,this.options=t,"string"==typeof e)this.singleLabel||(this.container.innerText="",ln(this.container,"multiple"),this.singleLabel=new UE(Xn(this.container,er("a.label-name",{id:null===t||void 0===t?void 0:t.domId})),this.supportCodicons)),this.singleLabel.set(e,null===t||void 0===t?void 0:t.matches,null===t||void 0===t?void 0:t.title,null===t||void 0===t?void 0:t.labelEscapeNewLines);else{this.container.innerText="",sn(this.container,"multiple"),this.singleLabel=void 0;const i=(null===t||void 0===t?void 0:t.separator)||"/",n=function(e,t,i){if(!i)return;let n=0;return e.map(e=>{const r={start:n,end:n+e.length},o=i.map(e=>rk.intersect(r,e)).filter(e=>!rk.isEmpty(e)).map(({start:e,end:t})=>({start:e-n,end:t-n}));return n=r.end+t.length,o})}(e,i,null===t||void 0===t?void 0:t.matches);for(let r=0;r<e.length;r++){const o=e[r],s=n?n[r]:void 0,a=er("a.label-name",{id:(null===t||void 0===t?void 0:t.domId)&&`${null===t||void 0===t?void 0:t.domId}_${r}`,"data-icon-label-count":e.length,"data-icon-label-index":r,role:"treeitem"});new UE(Xn(this.container,a),this.supportCodicons).set(o,s,null===t||void 0===t?void 0:t.title,null===t||void 0===t?void 0:t.labelEscapeNewLines),r<e.length-1&&Xn(a,er("span.label-separator",void 0,i))}}}}class XE{constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}new XE("id#");const ZE={},QE=new XE("quick-input-button-icon-");function JE(e){if(!e)return;let t;const i=e.dark.toString();return ZE[i]?t=ZE[i]:(Hn(`.${t=QE.nextId()}`,`background-image: ${ar(e.light||e.dark)}`),Hn(`.vs-dark .${t}, .hc-black .${t}`,`background-image: ${ar(e.dark)}`),ZE[i]=t),t}i("sOjV");const eN=er;class tN{constructor(e,t,i){this.os=t,this.options=i,this.domNode=Xn(e,eN(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}set(e,t){this.didEverRender&&this.keybinding===e&&tN.areSame(this.matches,t)||(this.keybinding=e,this.matches=t,this.render())}render(){if(en(this.domNode),this.keybinding){let[e,t]=this.keybinding.getParts();e&&this.renderPart(this.domNode,e,this.matches?this.matches.firstPart:null),t&&(Xn(this.domNode,eN("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,t,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}renderPart(e,t,i){const n=Fh.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,n.ctrlKey,Boolean(null===i||void 0===i?void 0:i.ctrlKey),n.separator),t.shiftKey&&this.renderKey(e,n.shiftKey,Boolean(null===i||void 0===i?void 0:i.shiftKey),n.separator),t.altKey&&this.renderKey(e,n.altKey,Boolean(null===i||void 0===i?void 0:i.altKey),n.separator),t.metaKey&&this.renderKey(e,n.metaKey,Boolean(null===i||void 0===i?void 0:i.metaKey),n.separator);const r=t.keyLabel;r&&this.renderKey(e,r,Boolean(null===i||void 0===i?void 0:i.keyCode),"")}renderKey(e,t,i,n){Xn(e,eN("span.monaco-keybinding-key"+(i?".highlight":""),void 0,t)),n&&Xn(e,eN("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(e){Xn(e,eN("span.monaco-keybinding-key",void 0,n(0,"Unbound")))}static areSame(e,t){return e===t||!e&&!t||!!e&&!!t&&Kr(e.firstPart,t.firstPart)&&Kr(e.chordPart,t.chordPart)}}var iN=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s};const nN=er;class rN{constructor(e){this.hidden=!1,this._onChecked=new ce,this.onChecked=this._onChecked.event,function(e,...t){t.forEach(t=>Object.keys(t).forEach(i=>e[i]=t[i]))}(this,e)}get checked(){return!!this._checked}set checked(e){e!==this._checked&&(this._checked=e,this._onChecked.fire(e))}dispose(){this._onChecked.dispose()}}class oN{get templateId(){return oN.ID}renderTemplate(e){const t=Object.create(null);t.toDisposeElement=[],t.toDisposeTemplate=[],t.entry=Xn(e,nN(".quick-input-list-entry"));const i=Xn(t.entry,nN("label.quick-input-list-label"));t.toDisposeTemplate.push(pn(i,Kn.CLICK,e=>{t.checkbox.offsetParent||e.preventDefault()})),t.checkbox=Xn(i,nN("input.quick-input-list-checkbox")),t.checkbox.type="checkbox",t.toDisposeTemplate.push(pn(t.checkbox,Kn.CHANGE,e=>{t.element.checked=t.checkbox.checked}));const n=Xn(i,nN(".quick-input-list-rows")),o=Xn(n,nN(".quick-input-list-row")),s=Xn(n,nN(".quick-input-list-row"));t.label=new qE(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportCodicons:!0});const a=Xn(o,nN(".quick-input-list-entry-keybinding"));t.keybinding=new tN(a,r.a);const l=Xn(s,nN(".quick-input-list-label-meta"));return t.detail=new UE(l,!0),t.separator=Xn(t.entry,nN(".quick-input-list-separator")),t.actionBar=new eS(t.entry),t.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),t.toDisposeTemplate.push(t.actionBar),t}renderElement(e,t,i){i.toDisposeElement=J(i.toDisposeElement),i.element=e,i.checkbox.checked=e.checked,i.toDisposeElement.push(e.onChecked(e=>i.checkbox.checked=e));const{labelHighlights:n,descriptionHighlights:r,detailHighlights:o}=e,s=Object.create(null);s.matches=n||[],s.descriptionTitle=e.saneDescription,s.descriptionMatches=r||[],s.extraClasses=e.item.iconClasses,s.italic=e.item.italic,s.strikethrough=e.item.strikethrough,i.label.setLabel(e.saneLabel,e.saneDescription,s),i.keybinding.set(e.item.keybinding),i.detail.set(e.saneDetail,o),e.separator&&e.separator.label?(i.separator.textContent=e.separator.label,i.separator.style.display=""):i.separator.style.display="none",e.separator?sn(i.entry,"quick-input-list-separator-border"):ln(i.entry,"quick-input-list-separator-border"),i.actionBar.clear();const a=e.item.buttons;a&&a.length?(i.actionBar.push(a.map((t,i)=>{let n=t.iconClass||(t.iconPath?JE(t.iconPath):void 0);t.alwaysVisible&&(n=n?`${n} always-visible`:"always-visible");const r=new Ru(`id-${i}`,"",n,!0,()=>(e.fireButtonTriggered({button:t,item:e.item}),Promise.resolve()));return r.tooltip=t.tooltip||"",r}),{icon:!0,label:!1}),sn(i.entry,"has-actions")):ln(i.entry,"has-actions")}disposeElement(e,t,i){i.toDisposeElement=J(i.toDisposeElement)}disposeTemplate(e){e.toDisposeElement=J(e.toDisposeElement),e.toDisposeTemplate=J(e.toDisposeTemplate)}}oN.ID="listelement";class sN{getHeight(e){return e.saneDetail?44:22}getTemplateId(e){return oN.ID}}var aN;!function(e){e[e.First=1]="First",e[e.Second=2]="Second",e[e.Last=3]="Last",e[e.Next=4]="Next",e[e.Previous=5]="Previous",e[e.NextPage=6]="NextPage",e[e.PreviousPage=7]="PreviousPage"}(aN||(aN={}));class lN{constructor(e,t,i){this.parent=e,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new ce,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new ce,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new ce,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new ce,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new ce,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new ce,this.onKeyDown=this._onKeyDown.event,this._onLeave=new ce,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=t,this.container=Xn(this.parent,nN(".quick-input-list"));const n=new sN,o=new cN;this.list=i.createList("QuickInput",this.container,n,[new oN],{identityProvider:{getId:e=>e.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:o}),this.list.getHTMLElement().id=t,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(e=>{const t=new ki(e);switch(t.keyCode){case 10:this.toggleCheckbox();break;case 31:(r.f?e.metaKey:e.ctrlKey)&&this.list.setFocus(Yi(this.list.length));break;case 16:const i=this.list.getFocus();1===i.length&&0===i[0]&&this._onLeave.fire();break;case 18:const n=this.list.getFocus();1===n.length&&n[0]===this.list.length-1&&this._onLeave.fire()}this._onKeyDown.fire(t)})),this.disposables.push(this.list.onMouseDown(e=>{2!==e.browserEvent.button&&e.browserEvent.preventDefault()})),this.disposables.push(dn(this.container,Kn.CLICK,e=>{(e.x||e.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(e=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(e=>{"number"==typeof e.index&&(e.browserEvent.preventDefault(),this.list.setSelection([e.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return se.map(this.list.onDidChangeFocus,e=>e.elements.map(e=>e.item))}get onDidChangeSelection(){return se.map(this.list.onDidChangeSelection,e=>({items:e.elements.map(e=>e.item),event:e.browserEvent}))}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(e,t=!0){for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n.hidden){if(!n.checked)return!1;t=!0}}return t}getCheckedCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].checked&&e++;return e}getVisibleCount(){let e=0;const t=this.elements;for(let i=0,n=t.length;i<n;i++)t[i].hidden||e++;return e}setAllVisibleChecked(e){try{this._fireCheckedEvents=!1,this.elements.forEach(t=>{t.hidden||(t.checked=e)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(e){this.elementDisposables=J(this.elementDisposables);const t=e=>this.fireButtonTriggered(e);this.inputElements=e,this.elements=e.reduce((i,n,r)=>{var o,s,a;if("separator"!==n.type){const l=r&&e[r-1],c=n.label&&n.label.replace(/\r?\n/g," "),h=n.description&&n.description.replace(/\r?\n/g," "),u=n.detail&&n.detail.replace(/\r?\n/g," "),d=n.ariaLabel||[c,h,u].map(e=>e&&_s(e).text).filter(e=>!!e).join(", ");i.push(new rN({index:r,item:n,saneLabel:c,saneAriaLabel:d,saneDescription:h,saneDetail:u,labelHighlights:null===(o=n.highlights)||void 0===o?void 0:o.label,descriptionHighlights:null===(s=n.highlights)||void 0===s?void 0:s.description,detailHighlights:null===(a=n.highlights)||void 0===a?void 0:a.detail,checked:!1,separator:l&&"separator"===l.type?l:void 0,fireButtonTriggered:t}))}return i},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(e=>e.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((e,t,i)=>(e.set(t.item,i),e),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(e=>e.item)}setFocusedElements(e){if(this.list.setFocus(e.filter(e=>this.elementsToIndexes.has(e)).map(e=>this.elementsToIndexes.get(e))),e.length>0){const e=this.list.getFocus()[0];"number"==typeof e&&this.list.reveal(e)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(e){this.list.setSelection(e.filter(e=>this.elementsToIndexes.has(e)).map(e=>this.elementsToIndexes.get(e)))}getCheckedElements(){return this.elements.filter(e=>e.checked).map(e=>e.item)}setCheckedElements(e){try{this._fireCheckedEvents=!1;const t=new Set;for(const i of e)t.add(i);for(const e of this.elements)e.checked=t.has(e.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(e){this.list.getHTMLElement().style.pointerEvents=e?"":"none"}focus(e){if(!this.list.length)return;switch(e===aN.Next&&this.list.getFocus()[0]===this.list.length-1&&(e=aN.First),e===aN.Previous&&0===this.list.getFocus()[0]&&(e=aN.Last),e===aN.Second&&this.list.length<2&&(e=aN.First),e){case aN.First:this.list.focusFirst();break;case aN.Second:this.list.focusNth(1);break;case aN.Last:this.list.focusLast();break;case aN.Next:this.list.focusNext();break;case aN.Previous:this.list.focusPrevious();break;case aN.NextPage:this.list.focusNextPage();break;case aN.PreviousPage:this.list.focusPreviousPage()}const t=this.list.getFocus()[0];"number"==typeof t&&this.list.reveal(t)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(e){this.list.getHTMLElement().style.maxHeight=e?`calc(${44*Math.floor(e/44)}px)`:"",this.list.layout()}filter(e){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;(e=e.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)?this.elements.forEach(t=>{const i=this.matchOnLabel?Nr(ys(e,_s(t.saneLabel))):void 0,n=this.matchOnDescription?Nr(ys(e,_s(t.saneDescription||""))):void 0,r=this.matchOnDetail?Nr(ys(e,_s(t.saneDetail||""))):void 0;i||n||r?(t.labelHighlights=i,t.descriptionHighlights=n,t.detailHighlights=r,t.hidden=!1):(t.labelHighlights=void 0,t.descriptionHighlights=void 0,t.detailHighlights=void 0,t.hidden=!t.item.alwaysShow),t.separator=void 0}):this.elements.forEach(e=>{e.labelHighlights=void 0,e.descriptionHighlights=void 0,e.detailHighlights=void 0,e.hidden=!1;const t=e.index&&this.inputElements[e.index-1];e.separator=t&&"separator"===t.type?t:void 0});const t=this.elements.filter(e=>!e.hidden);if(this.sortByLabel&&e){const i=e.toLowerCase();t.sort((e,t)=>(function(e,t,i){const n=e.labelHighlights||[],r=t.labelHighlights||[];if(n.length&&!r.length)return-1;if(!n.length&&r.length)return 1;if(0===n.length&&0===r.length)return 0;return jE(e.saneLabel,t.saneLabel,i)})(e,t,i))}return this.elementsToIndexes=t.reduce((e,t,i)=>(e.set(t.item,i),e),new Map),this.list.splice(0,this.list.length,t),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(t.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const e=this.list.getFocusedElements(),t=this.allVisibleChecked(e);for(const i of e)i.checked=!t}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(e){this.container.style.display=e?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=J(this.elementDisposables),this.disposables=J(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(e){this._onButtonTriggered.fire(e)}style(e){this.list.style(e)}}iN([Td],lN.prototype,"onDidChangeFocus",null),iN([Td],lN.prototype,"onDidChangeSelection",null);class cN{getWidgetAriaLabel(){return n(0,"Quick Input")}getAriaLabel(e){return e.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(){return"option"}}i("R/+A");function hN(e,t={}){const i=uN(t);return function e(t,i,n){let r;if(2===i.type)r=document.createTextNode(i.content||"");else if(3===i.type)r=document.createElement("b");else if(4===i.type)r=document.createElement("i");else if(5===i.type&&n){const e=document.createElement("a");e.href="#",n.disposeables.add(pn(e,"click",e=>{n.callback(String(i.index),e)})),r=e}else 7===i.type?r=document.createElement("br"):1===i.type&&(r=t);r&&t!==r&&t.appendChild(r);r&&Array.isArray(i.children)&&i.children.forEach(t=>{e(r,t,n)})}(i,function(e){const t={type:1,children:[]};let i=0,n=t;const r=[],o=new dN(e);for(;!o.eos();){let e=o.next();const t="\\"===e&&0!==fN(o.peek());if(t&&(e=o.next()),t||0===fN(e)||e!==o.peek())if("\n"===e)2===n.type&&(n=r.pop()),n.children.push({type:7});else if(2!==n.type){const t={type:2,content:e};n.children.push(t),r.push(n),n=t}else n.content+=e;else{o.advance(),2===n.type&&(n=r.pop());const t=fN(e);if(n.type===t||5===n.type&&6===t)n=r.pop();else{const e={type:t,children:[]};5===t&&(e.index=i,i++),n.children.push(e),r.push(n),n=e}}}2===n.type&&(n=r.pop());r.length;return t}(e),t.actionHandler),i}function uN(e){const t=e.inline?"span":"div",i=document.createElement(t);return e.className&&(i.className=e.className),i}class dN{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function fN(e){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}const pN=er,mN={inputBackground:hm.fromHex("#3C3C3C"),inputForeground:hm.fromHex("#CCCCCC"),inputValidationInfoBorder:hm.fromHex("#55AAFF"),inputValidationInfoBackground:hm.fromHex("#063B49"),inputValidationWarningBorder:hm.fromHex("#B89500"),inputValidationWarningBackground:hm.fromHex("#352A05"),inputValidationErrorBorder:hm.fromHex("#BE1100"),inputValidationErrorBackground:hm.fromHex("#5A1D1D")};class gN extends A_{constructor(e,t,i){super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new ce),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new ce),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=t,this.options=i||Object.create(null),Ur(this.options,mN,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=Xn(e,pN(".monaco-inputbox.idle"));let n=this.options.flexibleHeight?"textarea":"input",r=Xn(this.element,pN(".wrapper"));if(this.input=Xn(r,pN(n+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=Xn(r,pN("div.mirror")),this.mirror.innerText=" ",this.scrollableElement=new oy(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),Xn(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(e=>this.input.scrollTop=e.scrollTop));const t=se.filter(bi(document,"selectionchange"),()=>{const e=document.getSelection();return(null===e||void 0===e?void 0:e.anchorNode)===r});this._register(t(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&this.setPlaceHolder(this.placeholder),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new eS(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage()}onFocus(){this._showMessage()}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e),this.input.title=e}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:Mn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(e=null){this.input.select(),e&&this.input.setSelectionRange(e.start,e.end)}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return Tn(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let t=0;if(this.mirror){t=(parseFloat(this.mirror.style.paddingLeft||"")||0)+(parseFloat(this.mirror.style.paddingRight||"")||0)}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width=`calc(100% - ${e}px)`:this.input.style.paddingRight=e+"px",this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const e=this.cachedContentHeight,t=this.cachedHeight,i=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:i})}showMessage(e,t){this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const i=this.stylesForType(this.message.type);this.element.style.border=i.border?`1px solid ${i.border}`:"",(this.hasFocus()||t)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let e=null;return this.validation&&((e=this.validation(this.value))?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!e}stylesForType(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e,t,i=()=>e.style.width=Tn(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:t=>{if(!this.message)return null;e=Xn(t,pN(".monaco-inputbox-container")),i();const n={inline:!0,className:"monaco-inputbox-message"},r=this.message.formatContent?hN(this.message.content,n):function(e,t={}){const i=uN(t);return i.textContent=e,i}(this.message.content,n);r.classList.add(this.classForType(this.message.type));const o=this.stylesForType(this.message.type);return r.style.backgroundColor=o.background?o.background.toString():"",r.style.color=o.foreground?o.foreground.toString():"",r.style.border=o.border?`1px solid ${o.border}`:"",Xn(e,r),null},onHide:()=>{this.state="closed"},layout:i}),Du(t=3===this.message.type?n(0,"Error: {0}",this.message.content):2===this.message.type?n(0,"Warning: {0}",this.message.content):n(0,"Info: {0}",this.message.content)),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,t=10===e.charCodeAt(e.length-1)?" ":"";e+t?this.mirror.textContent=e+t:this.mirror.innerText=" ",this.layout()}style(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",i=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor="inherit",this.input.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=Mn(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const t=this.inputElement,i=t.selectionStart,n=t.selectionEnd,r=t.value;null!==i&&null!==n&&(this.value=r.substr(0,i)+e+r.substr(n),t.setSelectionRange(i+1,i+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}const vN=er;class bN extends ne{constructor(e){super(),this.parent=e,this.onKeyDown=(e=>dn(this.inputBox.inputElement,Kn.KEY_DOWN,t=>{e(new ki(t))})),this.onMouseDown=(e=>dn(this.inputBox.inputElement,Kn.MOUSE_DOWN,t=>{e(new Oi(t))})),this.onDidChange=(e=>this.inputBox.onDidChange(e)),this.container=Xn(this.parent,vN(".quick-input-box")),this.inputBox=this._register(new gN(this.container,void 0))}get value(){return this.inputBox.value}set value(e){this.inputBox.value=e}select(e=null){this.inputBox.select(e)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(e){this.inputBox.setPlaceHolder(e)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(e){this.inputBox.setAriaLabel(e)}get password(){return"password"===this.inputBox.inputElement.type}set password(e){this.inputBox.inputElement.type=e?"password":"text"}setAttribute(e,t){this.inputBox.inputElement.setAttribute(e,t)}removeAttribute(e){this.inputBox.inputElement.removeAttribute(e)}showDecoration(e){e===Rc.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:e===Rc.Info?1:e===Rc.Warning?2:3,content:""})}stylesForType(e){return this.inputBox.stylesForType(e===Rc.Info?1:e===Rc.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(e){this.inputBox.style(e)}}i("0u1n");const _N={badgeBackground:hm.fromHex("#4D4D4D"),badgeForeground:hm.fromHex("#FFFFFF")};class yN{constructor(e,t){this.count=0,this.options=t||Object.create(null),Ur(this.options,_N,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=Xn(e,er(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(e){this.count=e,this.render()}setTitleFormat(e){this.titleFormat=e,this.render()}render(){this.element.textContent=Object(hr.v)(this.countFormat,this.count),this.element.title=Object(hr.v)(this.titleFormat,this.count),this.applyStyles()}style(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",i=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=i?"1px":"",this.element.style.borderStyle=i?"solid":"",this.element.style.borderColor=i}}}i("1O6n");const wN="done",CN="active",SN="infinite",xN="discrete",kN="monaco-progress-container",LN="progress-bit",DN={progressBarBackground:hm.fromHex("#0E70C0")};class EN extends ne{constructor(e,t){super(),this.options=t||Object.create(null),Ur(this.options,DN,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this._register(this.showDelayedScheduler=new Vi(()=>tr(this.element),0)),this.create(e)}create(e){this.element=document.createElement("div"),sn(this.element,kN),e.appendChild(this.element),this.bit=document.createElement("div"),sn(this.bit,LN),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",cn(this.element,CN,SN,xN),this.workedVal=0,this.totalWork=void 0}stop(){return this.doDone(!1)}doDone(e){return sn(this.element,wN),on(this.element,SN)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",cn(this.element,xN,wN),an(this.element,CN,SN),this}getContainer(){return this.element}style(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}}}i("nfAi");const NN={buttonBackground:hm.fromHex("#0E639C"),buttonHoverBackground:hm.fromHex("#006BB3"),buttonForeground:hm.white};class TN extends ne{constructor(e,t){super(),this._onDidClick=this._register(new ce),this.options=t||Object.create(null),Ur(this.options,NN,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),sn(this._element,"monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),e.appendChild(this._element),this._register(Id.addTarget(this._element)),[Kn.CLICK,Od.Tap].forEach(e=>{this._register(dn(this._element,e,e=>{this.enabled?this._onDidClick.fire(e):qn.stop(e)}))}),this._register(dn(this._element,Kn.KEY_DOWN,e=>{const t=new ki(e);let i=!1;this.enabled&&(t.equals(3)||t.equals(10))?(this._onDidClick.fire(e),i=!0):t.equals(9)&&(this._element.blur(),i=!0),i&&qn.stop(t,!0)})),this._register(dn(this._element,Kn.MOUSE_OVER,e=>{on(this._element,"disabled")||this.setHoverBackground()})),this._register(dn(this._element,Kn.MOUSE_OUT,e=>{this.applyStyles()})),this.focusTracker=this._register(Yn(this._element)),this._register(this.focusTracker.onDidFocus(()=>this.setHoverBackground())),this._register(this.focusTracker.onDidBlur(()=>this.applyStyles())),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let e;(e=this.options.secondary?this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:this.buttonHoverBackground?this.buttonHoverBackground.toString():null)&&(this._element.style.backgroundColor=e)}style(e){this.buttonForeground=e.buttonForeground,this.buttonBackground=e.buttonBackground,this.buttonHoverBackground=e.buttonHoverBackground,this.buttonSecondaryForeground=e.buttonSecondaryForeground,this.buttonSecondaryBackground=e.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=e.buttonSecondaryHoverBackground,this.buttonBorder=e.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let e,t;this.options.secondary?(t=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",e=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(t=this.buttonForeground?this.buttonForeground.toString():"",e=this.buttonBackground?this.buttonBackground.toString():"");const i=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=t,this._element.style.backgroundColor=e,this._element.style.borderWidth=i?"1px":"",this._element.style.borderStyle=i?"solid":"",this._element.style.borderColor=i}}get element(){return this._element}set label(e){on(this._element,"monaco-text-button")||sn(this._element,"monaco-text-button"),this.options.supportCodicons?function(e,...t){e.innerText="",Hi(t).forEach(t=>{t instanceof Node?e.appendChild(t):e.appendChild(document.createTextNode(t))})}(this._element,...function(e){const t=new Array;let i,n=0,r=0;for(;null!==(i=ks.exec(e));){r=i.index||0,t.push(e.substring(n,r)),n=(i.index||0)+i[0].length;const[,o,s,a,l]=i;t.push(o?`$(${s})`:er(`span.codicon.codicon-${a}${l?`.codicon-animation-${l}`:""}`))}return n<e.length&&t.push(e.substring(n)),t}(e)):this._element.textContent=e,"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=e)}set enabled(e){e?(ln(this._element,"disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(sn(this._element,"disabled"),this._element.setAttribute("aria-disabled",String(!0)),nr(this._element))}get enabled(){return!on(this._element,"disabled")}}var ON=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(r,o){function s(e){try{l(n.next(e))}catch(e){o(e)}}function a(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(s,a)}l((n=n.apply(e,t||[])).next())})};const MN=er,IN={iconClass:Ss("quick-input-back",xs.arrowLeft).classNames,tooltip:n(0,"Back"),handle:-1};class AN extends ne{constructor(e){super(),this.ui=e,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new ce),this.onDidHideEmitter=this._register(new ce),this.onDisposeEmitter=this._register(new ce),this.visibleDisposables=this._register(new ie),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(e){this._title=e,this.update()}get description(){return this._description}set description(e){this._description=e,this.update()}get step(){return this._steps}set step(e){this._steps=e,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(e){this._totalSteps=e,this.update()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}get contextKey(){return this._contextKey}set contextKey(e){this._contextKey=e,this.update()}get busy(){return this._busy}set busy(e){this._busy=e,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(e){this._ignoreFocusOut=e,this.update()}get buttons(){return this._buttons}set buttons(e){this._buttons=e,this.buttonsUpdated=!0,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(e=>{-1!==this.buttons.indexOf(e)&&this.onDidTriggerButtonEmitter.fire(e)})),this.ui.show(this),this.visible=!0,this.update())}hide(){this.visible&&this.ui.hide()}didHide(){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire()}update(){if(!this.visible)return;const e=this.getTitle();e&&this.ui.title.textContent!==e?this.ui.title.textContent=e:e||"&nbsp;"===this.ui.title.innerHTML||(this.ui.title.innerText=" ;");const t=this.getDescription();if(this.ui.description.textContent!==t&&(this.ui.description.textContent=t),this.busy&&!this.busyDelay&&(this.busyDelay=new Ri,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const e=this.buttons.filter(e=>e===IN);this.ui.leftActionBar.push(e.map((e,t)=>{const i=new Ru(`id-${t}`,"",e.iconClass||JE(e.iconPath),!0,()=>ON(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(e)}));return i.tooltip=e.tooltip||"",i}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const t=this.buttons.filter(e=>e!==IN);this.ui.rightActionBar.push(t.map((e,t)=>{const i=new Ru(`id-${t}`,"",e.iconClass||JE(e.iconPath),!0,()=>ON(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(e)}));return i.tooltip=e.tooltip||"",i}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey)}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?n(0,"{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(e){if(this.ui.inputBox.showDecoration(e),e===Rc.Error){const t=this.ui.inputBox.stylesForType(e);this.ui.message.style.color=t.foreground?`${t.foreground}`:"",this.ui.message.style.backgroundColor=t.background?`${t.background}`:"",this.ui.message.style.border=t.border?`1px solid ${t.border}`:"",this.ui.message.style.paddingBottom="4px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.paddingBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}class PN extends AN{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new ce),this.onDidAcceptEmitter=this._register(new ce),this.onDidCustomEmitter=this._register(new ce),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._sortByLabel=!0,this._autoFocusOnList=!0,this._itemActivation=this.ui.isScreenReaderOptimized()?zE.NONE:zE.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new ce),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new ce),this.onDidTriggerItemButtonEmitter=this._register(new ce),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=(e=>e),this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(e){this._quickNavigate=e,this.update()}get value(){return this._value}set value(e){this._value=e||"",this.update()}set ariaLabel(e){this._ariaLabel=e,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.update()}get items(){return this._items}set items(e){this._items=e,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(e){this._canSelectMany=e,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(e){this._canAcceptInBackground=e}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(e){this._matchOnDescription=e,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(e){this._matchOnDetail=e,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(e){this._matchOnLabel=e,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(e){this._sortByLabel=e,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(e){this._autoFocusOnList=e,this.update()}get itemActivation(){return this._itemActivation}set itemActivation(e){this._itemActivation=e}get activeItems(){return this._activeItems}set activeItems(e){this._activeItems=e,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(e){this._selectedItems=e,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?$E:this.ui.keyMods}set valueSelection(e){this._valueSelection=e,this.valueSelectionUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(e){this._validationMessage=e,this.update()}get customButton(){return this._customButton}set customButton(e){this._customButton=e,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(e){this._customButtonLabel=e,this.update()}get customHover(){return this._customButtonHover}set customHover(e){this._customButtonHover=e,this.update()}get ok(){return this._ok}set ok(e){this._ok=e,this.update()}get hideInput(){return!!this._hideInput}set hideInput(e){this._hideInput=e,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(aN.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(e=>{if(e===this.value)return;this._value=e,this.ui.list.filter(this.filterValue(this.ui.inputBox.value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(e)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(e=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(e=>{switch(e.keyCode){case 18:this.ui.list.focus(aN.Next),this.canSelectMany&&this.ui.list.domFocus(),qn.stop(e,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(aN.Previous):this.ui.list.focus(aN.Last),this.canSelectMany&&this.ui.list.domFocus(),qn.stop(e,!0);break;case 12:this.ui.list.focus(aN.NextPage),this.canSelectMany&&this.ui.list.domFocus(),qn.stop(e,!0);break;case 11:this.ui.list.focus(aN.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),qn.stop(e,!0);break;case 17:if(!this._canAcceptInBackground)return;if(!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!0}));break;case 14:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(aN.First),qn.stop(e,!0));break;case 13:!e.ctrlKey&&!e.metaKey||e.shiftKey||e.altKey||(this.ui.list.focus(aN.Last),qn.stop(e,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{!this.canSelectMany&&this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.onDidAcceptEmitter.fire({inBackground:!1})})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(e=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&$i(e,this._activeItems,(e,t)=>e===t)||(this._activeItems=e,this.onDidChangeActiveEmitter.fire(e))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:e,event:t})=>{this.canSelectMany?e.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&$i(e,this._selectedItems,(e,t)=>e===t)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e),e.length&&this.onDidAcceptEmitter.fire({inBackground:t instanceof MouseEvent&&1===t.button}))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(e=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&$i(e,this._selectedItems,(e,t)=>e===t)||(this._selectedItems=e,this.onDidChangeSelectionEmitter.fire(e)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(e=>this.onDidTriggerItemButtonEmitter.fire(e))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}registerQuickNavigation(){return dn(this.ui.container,Kn.KEY_UP,e=>{if(this.canSelectMany||!this._quickNavigate)return;const t=new ki(e),i=t.keyCode;this._quickNavigate.keybindings.some(e=>{const[n,r]=e.getParts();return!r&&(n.shiftKey&&4===i?!(t.ctrlKey||t.altKey||t.metaKey):!(!n.altKey||6!==i)||(!(!n.ctrlKey||5!==i)||!(!n.metaKey||57!==i)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.onDidAcceptEmitter.fire({inBackground:!1})),this._quickNavigate=void 0)})}update(){if(!this.visible)return;let e=!1,t=!1;this._hideInput&&this._items.length>0&&(this.ui.isScreenReaderOptimized()?t=!0:e=!0),hn(this.ui.container,"hidden-input",e);const i={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany,inputBox:!e,progressBar:!e,visibleCount:!0,count:this.canSelectMany,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};if(this.ui.setVisibilities(i),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),t)this.ui.inputBox.ariaLabel="";else{const e=this.ariaLabel||this.placeholder||PN.DEFAULT_ARIA_LABEL;this.ui.inputBox.ariaLabel!==e&&(this.ui.inputBox.ariaLabel=e)}if(this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case zE.NONE:this._itemActivation=zE.FIRST;break;case zE.SECOND:this.ui.list.focus(aN.Second),this._itemActivation=zE.FIRST;break;case zE.LAST:this.ui.list.focus(aN.Last),this._itemActivation=zE.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.validationMessage?(this.ui.message.textContent=this.validationMessage,this.showMessageDecoration(Rc.Error)):(this.ui.message.textContent=null,this.showMessageDecoration(Rc.Ignore)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),i.inputBox||this.ui.list.domFocus()}}PN.DEFAULT_ARIA_LABEL=n(0,"Type to narrow down results.");class RN extends ne{constructor(e){super(),this.options=e,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new ce),this.onDidCustomEmitter=this._register(new ce),this.onDidTriggerButtonEmitter=this._register(new ce),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new ce),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new ce),this.onHide=this.onHideEmitter.event,this.idPrefix=e.idPrefix,this.parentElement=e.container,this.styles=e.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const e=e=>{this.keyMods.ctrlCmd=e.ctrlKey||e.metaKey,this.keyMods.alt=e.altKey};this._register(dn(window,Kn.KEY_DOWN,e,!0)),this._register(dn(window,Kn.KEY_UP,e,!0)),this._register(dn(window,Kn.MOUSE_DOWN,e,!0))}getUI(){if(this.ui)return this.ui;const e=Xn(this.parentElement,MN(".quick-input-widget.show-file-icons"));e.tabIndex=-1,e.style.display="none";const t=Wn(e),i=Xn(e,MN(".quick-input-titlebar")),r=this._register(new eS(i));r.domNode.classList.add("quick-input-left-action-bar");const o=Xn(i,MN(".quick-input-title")),s=this._register(new eS(i));s.domNode.classList.add("quick-input-right-action-bar");const a=Xn(e,MN(".quick-input-description")),l=Xn(e,MN(".quick-input-header")),c=Xn(l,MN("input.quick-input-check-all"));c.type="checkbox",this._register(pn(c,Kn.CHANGE,e=>{const t=c.checked;S.setAllVisibleChecked(t)})),this._register(dn(c,Kn.CLICK,e=>{(e.x||e.y)&&d.setFocus()}));const h=Xn(l,MN(".quick-input-and-message")),u=Xn(h,MN(".quick-input-filter")),d=this._register(new bN(u));d.setAttribute("aria-describedby",`${this.idPrefix}message`);const f=Xn(u,MN(".quick-input-visible-count"));f.setAttribute("aria-live","polite"),f.setAttribute("aria-atomic","true");const p=new yN(f,{countFormat:n(0,"{0} Results")}),m=Xn(u,MN(".quick-input-count"));m.setAttribute("aria-live","polite");const g=new yN(m,{countFormat:n(0,"{0} Selected")}),v=Xn(l,MN(".quick-input-action")),b=new TN(v);b.label=n(0,"OK"),this._register(b.onDidClick(e=>{this.onDidAcceptEmitter.fire()}));const _=Xn(l,MN(".quick-input-action")),y=new TN(_);y.label=n(0,"Custom"),this._register(y.onDidClick(e=>{this.onDidCustomEmitter.fire()}));const w=Xn(h,MN(`#${this.idPrefix}message.quick-input-message`)),C=new EN(e);sn(C.getContainer(),"quick-input-progress");const S=this._register(new lN(e,this.idPrefix+"list",this.options));this._register(S.onChangedAllVisibleChecked(e=>{c.checked=e})),this._register(S.onChangedVisibleCount(e=>{p.setCount(e)})),this._register(S.onChangedCheckedCount(e=>{g.setCount(e)})),this._register(S.onLeave(()=>{setTimeout(()=>{d.setFocus(),this.controller instanceof PN&&this.controller.canSelectMany&&S.clearFocus()},0)})),this._register(S.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const x=Yn(e);return this._register(x),this._register(dn(e,Kn.FOCUS,e=>{this.previousFocusElement=e.relatedTarget instanceof HTMLElement?e.relatedTarget:void 0},!0)),this._register(x.onDidBlur(()=>{this.getUI().ignoreFocusOut||this.options.ignoreFocusOut()||this.hide(),this.previousFocusElement=void 0})),this._register(dn(e,Kn.FOCUS,e=>{d.setFocus()})),this._register(dn(e,Kn.KEY_DOWN,t=>{const i=new ki(t);switch(i.keyCode){case 3:qn.stop(t,!0),this.onDidAcceptEmitter.fire();break;case 9:qn.stop(t,!0),this.hide();break;case 2:if(!i.altKey&&!i.ctrlKey&&!i.metaKey){const n=[".action-label.codicon"];e.classList.contains("show-checkboxes")?n.push("input"):n.push("input[type=text]"),this.getUI().list.isDisplayed()&&n.push(".monaco-list");const r=e.querySelectorAll(n.join(", "));i.shiftKey&&i.target===r[0]?(qn.stop(t,!0),r[r.length-1].focus()):i.shiftKey||i.target!==r[r.length-1]||(qn.stop(t,!0),r[0].focus())}}})),this.ui={container:e,styleSheet:t,leftActionBar:r,titleBar:i,title:o,description:a,rightActionBar:s,checkAll:c,filterContainer:u,inputBox:d,visibleCountContainer:f,visibleCount:p,countContainer:m,count:g,okContainer:v,ok:b,message:w,customButtonContainer:_,customButton:y,progressBar:C,list:S,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:e=>this.show(e),hide:()=>this.hide(),setVisibilities:e=>this.setVisibilities(e),setComboboxAccessibility:e=>this.setComboboxAccessibility(e),setEnabled:e=>this.setEnabled(e),setContextKey:e=>this.options.setContextKey(e)},this.updateStyles(),this.ui}pick(e,t={},i=pe.None){return new Promise((n,r)=>{let o=e=>{o=n,t.onKeyMods&&t.onKeyMods(s.keyMods),n(e)};if(i.isCancellationRequested)return void o(void 0);const s=this.createQuickPick();let a;const l=[s,s.onDidAccept(()=>{if(s.canSelectMany)o(s.selectedItems.slice()),s.hide();else{const e=s.activeItems[0];e&&(o(e),s.hide())}}),s.onDidChangeActive(e=>{const i=e[0];i&&t.onDidFocus&&t.onDidFocus(i)}),s.onDidChangeSelection(e=>{if(!s.canSelectMany){const t=e[0];t&&(o(t),s.hide())}}),s.onDidTriggerItemButton(e=>t.onDidTriggerItemButton&&t.onDidTriggerItemButton(Object.assign(Object.assign({},e),{removeItem:()=>{const t=s.items.indexOf(e.item);if(-1!==t){const e=s.items.slice();e.splice(t,1),s.items=e}}}))),s.onDidChangeValue(e=>{!a||e||1===s.activeItems.length&&s.activeItems[0]===a||(s.activeItems=[a])}),i.onCancellationRequested(()=>{s.hide()}),s.onDidHide(()=>{J(l),o(void 0)})];s.canSelectMany=!!t.canPickMany,s.placeholder=t.placeHolder,s.ignoreFocusOut=!!t.ignoreFocusLost,s.matchOnDescription=!!t.matchOnDescription,s.matchOnDetail=!!t.matchOnDetail,s.matchOnLabel=void 0===t.matchOnLabel||t.matchOnLabel,s.autoFocusOnList=void 0===t.autoFocusOnList||t.autoFocusOnList,s.quickNavigate=t.quickNavigate,s.contextKey=t.contextKey,s.busy=!0,Promise.all([e,t.activeItem]).then(([e,t])=>{a=t,s.busy=!1,s.items=e,s.canSelectMany&&(s.selectedItems=e.filter(e=>"separator"!==e.type&&e.picked)),a&&(s.activeItems=[a])}),s.show(),Promise.resolve(e).then(void 0,e=>{r(e),s.hide()})})}createQuickPick(){const e=this.getUI();return new PN(e)}show(e){const t=this.getUI();this.onShowEmitter.fire();const i=this.controller;this.controller=e,i&&i.didHide(),this.setEnabled(!0),t.leftActionBar.clear(),t.title.textContent="",t.description.textContent="",t.rightActionBar.clear(),t.checkAll.checked=!1,t.inputBox.placeholder="",t.inputBox.password=!1,t.inputBox.showDecoration(Rc.Ignore),t.visibleCount.setCount(0),t.count.setCount(0),t.message.textContent="",t.progressBar.stop(),t.list.setElements([]),t.list.matchOnDescription=!1,t.list.matchOnDetail=!1,t.list.matchOnLabel=!0,t.list.sortByLabel=!0,t.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),t.inputBox.ariaLabel="";const r=this.options.backKeybindingLabel();IN.tooltip=r?n(0,"Back ({0})",r):n(0,"Back"),t.container.style.display="",this.updateLayout(),t.inputBox.setFocus()}setVisibilities(e){const t=this.getUI();t.title.style.display=e.title?"":"none",t.description.style.display=e.description?"":"none",t.checkAll.style.display=e.checkAll?"":"none",t.filterContainer.style.display=e.inputBox?"":"none",t.visibleCountContainer.style.display=e.visibleCount?"":"none",t.countContainer.style.display=e.count?"":"none",t.okContainer.style.display=e.ok?"":"none",t.customButtonContainer.style.display=e.customButton?"":"none",t.message.style.display=e.message?"":"none",t.progressBar.getContainer().style.display=e.progressBar?"":"none",t.list.display(!!e.list),t.container.classList[e.checkAll?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(e){if(e!==this.comboboxAccessibility){const t=this.getUI();this.comboboxAccessibility=e,this.comboboxAccessibility?(t.inputBox.setAttribute("role","combobox"),t.inputBox.setAttribute("aria-haspopup","true"),t.inputBox.setAttribute("aria-autocomplete","list"),t.inputBox.setAttribute("aria-activedescendant",t.list.getActiveDescendant()||"")):(t.inputBox.removeAttribute("role"),t.inputBox.removeAttribute("aria-haspopup"),t.inputBox.removeAttribute("aria-autocomplete"),t.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(e){if(e!==this.enabled){this.enabled=e;for(const t of this.getUI().leftActionBar.viewItems)t.getAction().enabled=e;for(const t of this.getUI().rightActionBar.viewItems)t.getAction().enabled=e;this.getUI().checkAll.disabled=!e,this.getUI().ok.enabled=e,this.getUI().list.enabled=e}}hide(){var e;const t=this.controller;if(t){const i=!(null===(e=this.ui)||void 0===e?void 0:e.container.contains(document.activeElement));this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",i||(this.previousFocusElement&&this.previousFocusElement.offsetParent?(this.previousFocusElement.focus(),this.previousFocusElement=void 0):this.options.returnFocus()),t.didHide()}}layout(e,t){this.dimension=e,this.titleBarOffset=t,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const e=this.ui.container.style,t=Math.min(.62*this.dimension.width,RN.MAX_WIDTH);e.width=t+"px",e.marginLeft="-"+t/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(e){this.styles=e,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:e,quickInputBackground:t,quickInputForeground:i,contrastBorder:n,widgetShadow:r}=this.styles.widget;this.ui.titleBar.style.backgroundColor=e?e.toString():"",this.ui.container.style.backgroundColor=t?t.toString():"",this.ui.container.style.color=i?i.toString():"",this.ui.container.style.border=n?`1px solid ${n}`:"",this.ui.container.style.boxShadow=r?`0 5px 8px ${r}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const o=[];this.styles.list.listInactiveFocusForeground&&(o.push(`.monaco-list .monaco-list-row.focused { color:  ${this.styles.list.listInactiveFocusForeground}; }`),o.push(`.monaco-list .monaco-list-row.focused:hover { color:  ${this.styles.list.listInactiveFocusForeground}; }`)),this.styles.list.pickerGroupBorder&&o.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&o.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`);const s=o.join("\n");s!==this.ui.styleSheet.innerHTML&&(this.ui.styleSheet.innerHTML=s)}}}RN.MAX_WIDTH=600;const FN=oi("quickInputService");var VN;!function(e){e[e.PRESERVE=0]="PRESERVE",e[e.LAST=1]="LAST"}(VN||(VN={}));const BN="workbench.contributions.quickaccess";zc.add(BN,new class{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(e){return 0===e.prefix.length?this.defaultProvider=e:this.providers.push(e),this.providers.sort((e,t)=>t.prefix.length-e.prefix.length),te(()=>{this.providers.splice(this.providers.indexOf(e),1),this.defaultProvider===e&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return Hi([this.defaultProvider,...this.providers])}getQuickAccessProvider(e){return e&&this.providers.find(t=>e.startsWith(t.prefix))||this.defaultProvider}});var WN=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},$N=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};let zN=class extends ne{constructor(e,t){super(),this.quickInputService=e,this.instantiationService=t,this.registry=zc.as(BN),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(e="",t){var i;const[n,r]=this.getOrInstantiateProvider(e),o=this.visibleQuickAccess,s=null===o||void 0===o?void 0:o.descriptor;if(o&&r&&s===r)return e===r.prefix||(null===t||void 0===t?void 0:t.preserveValue)||(o.picker.value=e),void this.adjustValueSelection(o.picker,r,t);if(r&&!(null===t||void 0===t?void 0:t.preserveValue)){let t=void 0;if(o&&s&&s!==r){const e=o.value.substr(s.prefix.length);e&&(t=`${r.prefix}${e}`)}if(!t){const e=null===n||void 0===n?void 0:n.defaultFilterValue;e===VN.LAST?t=this.lastAcceptedPickerValues.get(r):"string"==typeof e&&(t=`${r.prefix}${e}`)}"string"==typeof t&&(e=t)}const a=new ie,l=a.add(this.quickInputService.createQuickPick());l.value=e,this.adjustValueSelection(l,r,t),l.placeholder=null===r||void 0===r?void 0:r.placeholder,l.quickNavigate=null===t||void 0===t?void 0:t.quickNavigateConfiguration,l.hideInput=!!l.quickNavigate&&!o,("number"==typeof(null===t||void 0===t?void 0:t.itemActivation)||(null===t||void 0===t?void 0:t.quickNavigateConfiguration))&&(l.itemActivation=null!==(i=null===t||void 0===t?void 0:t.itemActivation)&&void 0!==i?i:zE.SECOND),l.contextKey=null===r||void 0===r?void 0:r.contextKey,l.filterValue=(e=>e.substring(r?r.prefix.length:0)),(null===r||void 0===r?void 0:r.placeholder)&&(l.ariaLabel=null===r||void 0===r?void 0:r.placeholder);const c=this.registerPickerListeners(l,n,r,e,a);n&&a.add(n.provide(l,c)),l.show()}adjustValueSelection(e,t,i){var n;let r;r=(null===i||void 0===i?void 0:i.preserveValue)?[e.value.length,e.value.length]:[null!==(n=null===t||void 0===t?void 0:t.prefix.length)&&void 0!==n?n:0,e.value.length],e.valueSelection=r}registerPickerListeners(e,t,i,n,r){const o=this.visibleQuickAccess={picker:e,descriptor:i,value:n};r.add(te(()=>{o===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),r.add(e.onDidChangeValue(e=>{const[i]=this.getOrInstantiateProvider(e);i!==t?this.show(e,{preserveValue:!0}):o.value=e})),i&&r.add(e.onDidAccept(()=>{this.lastAcceptedPickerValues.set(i,e.value)}));const s=r.add(new ge);return xy(e.onDidHide)(()=>{0===e.selectedItems.length&&s.cancel(),r.dispose()}),s.token}getOrInstantiateProvider(e){const t=this.registry.getQuickAccessProvider(e);if(!t)return[void 0,void 0];let i=this.mapProviderToDescriptor.get(t);return i||(i=this.instantiationService.createInstance(t.ctor),this.mapProviderToDescriptor.set(t,i)),[i,t]}};zN=WN([$N(0,FN),$N(1,ni)],zN);var HN=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},jN=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};let UN=class extends class extends ne{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(e=>this.onThemeChange(e)))}onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}}{constructor(e,t,i,n,r){super(i),this.instantiationService=e,this.contextKeyService=t,this.accessibilityService=n,this.layoutService=r,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(zN))),this._quickAccess}createController(e=this.layoutService,t){var i,n;const r={idPrefix:"quickInput_",container:e.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>void 0,setContextKey:e=>this.setContextKey(e),returnFocus:()=>e.focus(),createList:(e,t,i,n,r)=>this.instantiationService.createInstance(XD,e,t,i,n,r),styles:this.computeStyles()},o=this._register(new RN(Object.assign(Object.assign({},r),t)));return o.layout(e.dimension,null!==(n=null===(i=e.offset)||void 0===i?void 0:i.top)&&void 0!==n?n:0),this._register(e.onLayout(t=>{var i,n;return o.layout(t,null!==(n=null===(i=e.offset)||void 0===i?void 0:i.top)&&void 0!==n?n:0)})),this._register(o.onShow(()=>this.resetContextKeys())),this._register(o.onHide(()=>this.resetContextKeys())),o}setContextKey(e){let t;e&&((t=this.contexts.get(e))||(t=new id(e,!1).bindTo(this.contextKeyService),this.contexts.set(e,t))),t&&t.get()||(this.resetContextKeys(),t&&t.set(!0))}resetContextKeys(){this.contexts.forEach(e=>{e.get()&&e.reset()})}pick(e,t={},i=pe.None){return this.controller.pick(e,t,i)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},bk(this.theme,{quickInputBackground:lv,quickInputForeground:cv,quickInputTitleBackground:hv,contrastBorder:Cg,widgetShadow:xg})),inputBox:bk(this.theme,{inputForeground:Lg,inputBackground:kg,inputBorder:Dg,inputValidationInfoBackground:Eg,inputValidationInfoForeground:Ng,inputValidationInfoBorder:Tg,inputValidationWarningBackground:Og,inputValidationWarningForeground:Mg,inputValidationWarningBorder:Ig,inputValidationErrorBackground:Ag,inputValidationErrorForeground:Pg,inputValidationErrorBorder:Rg}),countBadge:bk(this.theme,{badgeBackground:zg,badgeForeground:Hg,badgeBorder:Cg}),button:bk(this.theme,{buttonForeground:Bg,buttonBackground:Wg,buttonHoverBackground:$g,buttonBorder:Cg}),progressBar:bk(this.theme,{progressBarBackground:Gg}),list:bk(this.theme,{listBackground:lv,listInactiveFocusForeground:Ev,listInactiveFocusBackground:Dv,listFocusOutline:Sg,listInactiveFocusOutline:Sg,pickerGroupBorder:dv,pickerGroupForeground:uv})}}};UN=HN([jN(0,ni),jN(1,nd),jN(2,tf),jN(3,dC),jN(4,Lk)],UN);var KN=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},qN=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};let GN=class extends UN{constructor(e,t,i,n,r,o){super(t,i,n,r,o),this.host=void 0;const s=XN.get(e);this.host={_serviceBrand:void 0,get container(){return s.widget.getDomNode()},get dimension(){return e.getLayoutInfo()},get onLayout(){return e.onDidLayoutChange},focus:()=>e.focus()}}createController(){return super.createController(this.host)}};GN=KN([qN(1,ni),qN(2,nd),qN(3,tf),qN(4,dC),qN(5,Lk)],GN);let YN=class{constructor(e,t){this.instantiationService=e,this.codeEditorService=t,this.mapEditorToService=new Map}get activeService(){const e=this.codeEditorService.getFocusedCodeEditor();if(!e)throw new Error("Quick input service needs a focused editor to work.");let t=this.mapEditorToService.get(e);if(!t){const i=t=this.instantiationService.createInstance(GN,e);this.mapEditorToService.set(e,t),xy(e.onDidDispose)(()=>{i.dispose(),this.mapEditorToService.delete(e)})}return t}get quickAccess(){return this.activeService.quickAccess}pick(e,t={},i=pe.None){return this.activeService.pick(e,t,i)}createQuickPick(){return this.activeService.createQuickPick()}};YN=KN([qN(0,ni),qN(1,si)],YN);class XN{constructor(e){this.editor=e,this.widget=new ZN(this.editor)}static get(e){return e.getContribution(XN.ID)}dispose(){this.widget.dispose()}}XN.ID="editor.controller.quickInput";class ZN{constructor(e){this.codeEditor=e,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return ZN.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}var QN,JN;ZN.ID="editor.contrib.quickInputWidget",QN=XN.ID,JN=XN,Cd.INSTANCE.registerEditorContribution(QN,JN);const eT=oi("IStorageKeysSyncRegistryService");var tT;!function(e){const t=new uC;class i{constructor(e,t){this._serviceId=e,this._factory=t,this._value=null}get id(){return this._serviceId}get(e){if(!this._value){if(e&&(this._value=e[this._serviceId.toString()]),this._value||(this._value=this._factory(e)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value}}e.LazyStaticService=i;let n=[];function r(e,t){let r=new i(e,t);return n.push(r),r}e.init=function(e){let t=new uC;for(const[e,i]of jC)t.set(e,i);for(let i in e)e.hasOwnProperty(i)&&t.set(oi(i),e[i]);n.forEach(i=>t.set(i.id,i.get(e)));let i=new Pk(t,!0);return t.set(ni,i),[t,i]},e.instantiationService=r(ni,()=>new Pk(t,!0));const o=new mu;e.configurationService=r(yh,()=>o),e.resourceConfigurationService=r(Ll,()=>new class{constructor(e){this.configurationService=e,this._onDidChangeConfiguration=new ce,this.configurationService.onDidChangeConfiguration(e=>{this._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:(t,i)=>e.affectsConfiguration(i)})})}getValue(e,t,i){const n=pt.isIPosition(t)&&t?"string"==typeof i?i:void 0:"string"==typeof t?t:void 0;return void 0===n?this.configurationService.getValue():this.configurationService.getValue(n)}}(o)),e.resourcePropertiesService=r(Dl,()=>new gu(o)),e.contextService=r(Hh,()=>new vu),e.labelService=r(Fk,()=>new class{getUriLabel(e,t){return"file"===e.scheme?e.fsPath:e.path}}),e.telemetryService=r(fd,()=>new class{publicLog(e,t){return Promise.resolve(void 0)}publicLog2(e,t){return this.publicLog(e,t)}}),e.dialogService=r(Tk,()=>new class{confirm(e){return this.doConfirm(e).then(e=>({confirmed:e,checkboxChecked:!1}))}doConfirm(e){let t=e.message;return e.detail&&(t=t+"\n\n"+e.detail),Promise.resolve(window.confirm(t))}show(e,t,i,n){return Promise.resolve({choice:0})}}),e.notificationService=r(zh,()=>new uu),e.markerService=r(lE,()=>new uE),e.modeService=r(HS,e=>new class{constructor(e=!1){this._onDidCreateMode=new ce,this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=new ce,this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=new ix(!0,e),this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire())}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){return Gi(this._registry.getModeIdsFromFilepathOrFirstLine(e,t),null)}getModeId(e){return Gi(this._registry.extractModeIds(e),null)}getLanguageIdentifier(e){return this._registry.getLanguageIdentifier(e)}create(e){return new nx(this.onLanguagesMaybeChanged,()=>{const t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)})}createByFilepathOrFirstLine(e,t){return new nx(this.onLanguagesMaybeChanged,()=>{const i=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(i)})}_createModeAndGetLanguageIdentifier(e){const t=this.getLanguageIdentifier(e||"plaintext")||sa;return this._getOrCreateMode(t.language),t}triggerMode(e){const t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")}_getOrCreateMode(e){if(!this._instantiatedModes.hasOwnProperty(e)){let t=this.getLanguageIdentifier(e)||sa;this._instantiatedModes[e]=new jS(t),this._onDidCreateMode.fire(this._instantiatedModes[e])}return this._instantiatedModes[e]}}),e.standaloneThemeService=r(IS,()=>new class extends ne{constructor(){super(),this._onColorThemeChange=this._register(new ce),this.onDidColorThemeChange=this._onColorThemeChange.event,this._environment=Object.create(null),this._knownThemes=new Map,this._knownThemes.set(Rx,jx(Rx)),this._knownThemes.set(Fx,jx(Fx)),this._knownThemes.set(Vx,jx(Vx)),this._codiconCSS=Ax.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this.setTheme(Rx),Ax.onDidChange(()=>{this._codiconCSS=Ax.getCSS(),this._updateCSS()})}registerEditorContainer(e){return Fn(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=Wn(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.innerHTML=this._allCSS,this._styleElements.push(this._globalStyleElement)),ne.None}_registerShadowDomContainer(e){const t=Wn(e);return t.className="monaco-colors",t.innerHTML=this._allCSS,this._styleElements.push(t),{dispose:()=>{for(let e=0;e<this._styleElements.length;e++)if(this._styleElements[e]===t)return void this._styleElements.splice(e,1)}}}defineTheme(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!zx(t.base)&&!zx(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new $x(e,t)),zx(e)&&this._knownThemes.forEach(t=>{t.base===e&&t.notifyBaseUpdated()}),this._theme&&this._theme.themeName===e&&this.setTheme(e)}getColorTheme(){return this._theme}setTheme(e){let t;if(t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get(Rx),this._theme===t)return t.id;this._theme=t;let i=[],n={},r={addRule:e=>{n[e]||(i.push(e),n[e]=!0)}};Wx.getThemingParticipants().forEach(e=>e(t,r,this._environment));let o=t.tokenTheme.getColorMap();return r.addRule(function(e){let t=[];for(let i=1,n=e.length;i<n;i++){let n=e[i];t[i]=`.mtk${i} { color: ${n}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}(o)),this._themeCSS=i.join("\n"),this._updateCSS(),na.setColorMap(o),this._onColorThemeChange.fire(t),t.id}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(e=>e.innerHTML=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}}),e.logService=r(El,()=>new class extends Ol{constructor(e=Tl){super(),this.setLevel(e)}trace(e,...t){this.getLevel()<=Nl.Trace&&console.log("%cTRACE","color: #888",e,...t)}info(e,...t){this.getLevel()<=Nl.Info&&console.log("%c INFO","color: #33f",e,...t)}error(e,...t){this.getLevel()<=Nl.Error&&console.log("%c  ERR","color: #f33",e,...t)}dispose(){}}),e.undoRedoService=r(rx,t=>new BE(e.dialogService.get(t),e.notificationService.get(t))),e.modelService=r(Po,t=>new fx(e.configurationService.get(t),e.resourcePropertiesService.get(t),e.standaloneThemeService.get(t),e.logService.get(t),e.undoRedoService.get(t))),e.markerDecorationsService=r(bE,t=>new CE(e.modelService.get(t),e.markerService.get(t))),e.codeEditorService=r(si,t=>new class extends yx{getActiveCodeEditor(){return null}openCodeEditor(e,t,i){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)}doOpenEditor(e,t){if(!this.findModel(e,t.resource)){if(t.resource){const i=t.resource.scheme;if(i===Zi.http||i===Zi.https)return sr(t.resource.toString()),e}return null}const i=t.options?t.options.selection:null;if(i)if("number"==typeof i.endLineNumber&&"number"==typeof i.endColumn)e.setSelection(i),e.revealRangeInCenter(i,1);else{const t={lineNumber:i.startLineNumber,column:i.startColumn};e.setPosition(t),e.revealPositionInCenter(t,1)}return e}findModel(e,t){const i=e.getModel();return i&&i.uri.toString()!==t.toString()?null:i}}(e.standaloneThemeService.get(t))),e.editorProgressService=r(pS,()=>new hu),e.storageService=r(dE,()=>new class extends ne{constructor(){super(...arguments),this._onDidChangeStorage=this._register(new ce),this._onWillSaveState=this._register(new ce),this.onWillSaveState=this._onWillSaveState.event,this.globalCache=new Map,this.workspaceCache=new Map}getCache(e){return 0===e?this.globalCache:this.workspaceCache}get(e,t,i){const n=this.getCache(t).get(e);return xr(n)?i:n}getBoolean(e,t,i){const n=this.getCache(t).get(e);return xr(n)?i:"true"===n}getNumber(e,t,i){const n=this.getCache(t).get(e);return xr(n)?i:parseInt(n,10)}store(e,t,i){if(xr(t))return this.remove(e,i);const n=String(t);return this.getCache(i).get(e)===n?Promise.resolve():(this.getCache(i).set(e,n),this._onDidChangeStorage.fire({scope:i,key:e}),Promise.resolve())}remove(e,t){return this.getCache(t).delete(e)?(this._onDidChangeStorage.fire({scope:t,key:e}),Promise.resolve()):Promise.resolve()}}),e.storageSyncService=r(eT,()=>new class extends ne{constructor(){super(),this._storageKeys=new Map,this._onDidChangeStorageKeys=this._register(new ce),this._register(te(()=>this._storageKeys.clear()))}get storageKeys(){return[...this._storageKeys.values()]}registerStorageKey(e){this._storageKeys.has(e.key)||(this._storageKeys.set(e.key,e),this._onDidChangeStorageKeys.fire(this.storageKeys))}}),e.editorWorkerService=r(la,t=>new Wl(e.modelService.get(t),e.resourceConfigurationService.get(t),e.logService.get(t)))}(tT||(tT={}));class iT extends ne{constructor(e,t){super();const[i,n]=tT.init(t);this._serviceCollection=i,this._instantiationService=n;const r=this.get(yh),o=this.get(zh),s=this.get(fd),a=this.get(tf),l=this.get(El);let c=(e,i)=>{let n=null;return t&&(n=t[e.toString()]),n||(n=i()),this._serviceCollection.set(e,n),n},h=c(nd,()=>this._register(new ik(r)));c(dC,()=>new kE(h,r)),c(DD,()=>new ED(a));let u=c(Tr,()=>new du(this._instantiationService)),d=c(AS,()=>this._register(new fu(h,u,s,o,l,e))),f=c(Lk,()=>new yu(tT.codeEditorService.get(si),e));c(FN,()=>new YN(n,tT.codeEditorService.get(si)));let p=c(cS,()=>this._register(new Nk(f)));c(fS,()=>new DE),c(hS,()=>{const e=new kk(s,o,p,d,a);return e.configure({blockMouse:!1}),this._register(e)}),c(ld,()=>new gE(u)),c(Vc,()=>new _u(tT.modelService.get(Po)))}get(e){let t=this._serviceCollection.get(e);if(!t)throw new Error("Missing service "+e);return t}set(e,t){this._serviceCollection.set(e,t)}has(e){return this._serviceCollection.has(e)}}function nT(e,t,i){let n=new iT(e,t),r=null;n.has(ca)||(r=new cu(tT.modelService.get()),n.set(ca,r)),n.has(Ir)||n.set(Ir,new $r(n.get(si),n.get(Tr)));let o=i(n);return r&&r.setEditor(o),o}function rT(e,t,i){return nT(e,i||{},i=>new $S(e,t,i,i.get(ni),i.get(si),i.get(Tr),i.get(nd),i.get(AS),i.get(cS),i.get(IS),i.get(zh),i.get(yh),i.get(dC)))}function oT(e){return tT.codeEditorService.get().onCodeEditorAdd(t=>{e(t)})}function sT(e,t,i){return nT(e,i||{},i=>new zS(e,t,i,i.get(ni),i.get(nd),i.get(AS),i.get(cS),i.get(la),i.get(si),i.get(IS),i.get(zh),i.get(yh),i.get(hS),i.get(pS),i.get(fS)))}function aT(e,t){return new Yr(e,t)}function lT(e,t,i){return tT.modelService.get().createModel(e,t,i)}function cT(e,t,i){if(e=e||"",!t){let t=e.indexOf("\n"),n=e;return-1!==t&&(n=e.substring(0,t)),lT(e,tT.modeService.get().createByFilepathOrFirstLine(i||null,n),i)}return lT(e,tT.modeService.get().create(t),i)}function hT(e,t){tT.modelService.get().setMode(e,tT.modeService.get().create(t))}function uT(e,t,i){e&&tT.markerService.get().changeOne(t,e.uri,i)}function dT(e){return tT.markerService.get().read(e)}function fT(e){return tT.modelService.get().getModel(e)}function pT(){return tT.modelService.get().getModels()}function mT(e){return tT.modelService.get().onModelAdded(e)}function gT(e){return tT.modelService.get().onModelRemoved(e)}function vT(e){return tT.modelService.get().onModelModeChanged(t=>{e({model:t.model,oldLanguage:t.oldModeId})})}function bT(e){return function(e,t){return new Ul(e,t)}(tT.modelService.get(),e)}function _T(e,t){const i=tT.standaloneThemeService.get();return i.registerEditorContainer(e),Oc.colorizeElement(i,tT.modeService.get(),e,t)}function yT(e,t,i){return tT.standaloneThemeService.get().registerEditorContainer(document.body),Oc.colorize(tT.modeService.get(),e,t,i)}function wT(e,t,i=4){return tT.standaloneThemeService.get().registerEditorContainer(document.body),Oc.colorizeModelLine(e,t,i)}function CT(e){let t=na.get(e);return t||{getInitialState:()=>ra,tokenize:(t,n,r)=>(i=e,n=n,r=r,new bt([new vt(r,"",i)],n))};var i,n,r}function ST(e,t){tT.modeService.get().triggerMode(t);let i=CT(t),n=e.split(/\r\n|\r|\n/),r=[],o=i.getInitialState();for(let e=0,t=n.length;e<t;e++){let t=n[e],s=i.tokenize(t,o,0);r[e]=s.tokens,o=s.endState}return r}function xT(e,t){tT.standaloneThemeService.get().defineTheme(e,t)}function kT(e){tT.standaloneThemeService.get().setTheme(e)}function LT(){Iu.INSTANCE.clearCache()}function DT(e,t){return"boolean"==typeof e?e:t}function ET(e,t){return"string"==typeof e?e:t}function NT(e,t=!1){t&&(e=e.map(function(e){return e.toLowerCase()}));const i=function(e){const t={};for(const i of e)t[i]=!0;return t}(e);return t?function(e){return void 0!==i[e.toLowerCase()]&&i.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==i[e]&&i.hasOwnProperty(e)}}function TT(e,t){let i=0;for(;t.indexOf("@")>=0&&i<5;)i++,t=t.replace(/@(\w+)/g,function(i,n){let r="";if("string"==typeof e[n])r=e[n];else{if(!(e[n]&&e[n]instanceof RegExp))throw void 0===e[n]?_c(e,"language definition does not contain attribute '"+n+"', used at: "+t):_c(e,"attribute reference '"+n+"' must be a string, used at: "+t);r=e[n].source}return gc(r)?"":"(?:"+r+")"});let n=(e.ignoreCase?"i":"")+(e.unicode?"u":"");return new RegExp(t,n)}function OT(e,t,i,n){let r=-1,o=i,s=i.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(r=parseInt(s[3]),s[2]&&(r+=100)),o=s[4]);let a,l="~",c=o;if(o&&0!==o.length?/^\w*$/.test(c)?l="==":(s=o.match(/^(@|!@|~|!~|==|!=)(.*)$/))&&(l=s[1],c=s[2]):(l="!=",c=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(c))if("@"===l||"!@"===l){let i=e[c];if(!i)throw _c(e,"the @ match target '"+c+"' is not defined, in rule: "+t);if(!function(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(const i of t)if(!e(i))return!1;return!0}(function(e){return"string"==typeof e},i))throw _c(e,"the @ match target '"+c+"' must be an array of strings, in rule: "+t);let n=NT(i,e.ignoreCase);a=function(e){return"@"===l?n(e):!n(e)}}else if("~"===l||"!~"===l)if(c.indexOf("$")<0){let t=TT(e,"^"+c+"$");a=function(e){return"~"===l?t.test(e):!t.test(e)}}else a=function(t,i,n,r){return TT(e,"^"+yc(e,c,i,n,r)+"$").test(t)};else if(c.indexOf("$")<0){let t=vc(e,c);a=function(e){return"=="===l?e===t:e!==t}}else{let t=vc(e,c);a=function(i,n,r,o,s){let a=yc(e,t,n,r,o);return"=="===l?i===a:i!==a}}else{let t=NT(c.split("|"),e.ignoreCase);a=function(e){return"~"===l?t(e):!t(e)}}return-1===r?{name:i,value:n,test:function(e,t,i,n){return a(e,e,t,i,n)}}:{name:i,value:n,test:function(e,t,i,n){let o=function(e,t,i,n){if(n<0)return e;if(n<t.length)return t[n];if(n>=100){n-=100;let e=i.split(".");if(e.unshift(i),n<e.length)return e[n]}return null}(e,t,i,r);return a(o||"",e,t,i,n)}}}class MT{constructor(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}setRegex(e,t){let i;if("string"==typeof t)i=t;else{if(!(t instanceof RegExp))throw _c(e,"rules must start with a match string or regular expression: "+this.name);i=t.source}this.matchOnlyAtLineStart=i.length>0&&"^"===i[0],this.name=this.name+": "+i,this.regex=TT(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")}setAction(e,t){this.action=function e(t,i,n){if(n){if("string"==typeof n)return n;if(n.token||""===n.token){if("string"!=typeof n.token)throw _c(t,"a 'token' attribute must be of type string, in rule: "+i);{let e={token:n.token};if(n.token.indexOf("$")>=0&&(e.tokenSubst=!0),"string"==typeof n.bracket)if("@open"===n.bracket)e.bracket=1;else{if("@close"!==n.bracket)throw _c(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+i);e.bracket=-1}if(n.next){if("string"!=typeof n.next)throw _c(t,"the next state must be a string value in rule: "+i);{let r=n.next;if(!/^(@pop|@push|@popall)$/.test(r)&&("@"===r[0]&&(r=r.substr(1)),r.indexOf("$")<0&&!function(e,t){let i=t;for(;i&&i.length>0;){if(e.stateNames[i])return!0;const t=i.lastIndexOf(".");i=t<0?null:i.substr(0,t)}return!1}(t,yc(t,r,"",[],""))))throw _c(t,"the next state '"+n.next+"' is not defined in rule: "+i);e.next=r}}return"number"==typeof n.goBack&&(e.goBack=n.goBack),"string"==typeof n.switchTo&&(e.switchTo=n.switchTo),"string"==typeof n.log&&(e.log=n.log),"string"==typeof n.nextEmbedded&&(e.nextEmbedded=n.nextEmbedded,t.usesEmbedded=!0),e}}if(Array.isArray(n)){let r=[];for(let o=0,s=n.length;o<s;o++)r[o]=e(t,i,n[o]);return{group:r}}if(n.cases){let r=[];for(let o in n.cases)if(n.cases.hasOwnProperty(o)){const s=e(t,i,n.cases[o]);"@default"===o||"@"===o||""===o?r.push({test:void 0,value:s,name:o}):"@eos"===o?r.push({test:function(e,t,i,n){return n},value:s,name:o}):r.push(OT(t,i,o,s))}const o=t.defaultToken;return{test:function(e,t,i,n){for(const o of r)if(!o.test||o.test(e,t,i,n))return o.value;return o}}}throw _c(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+i)}return{token:""}}(e,this.name,t)}}function IT(e){JS.registerLanguage(e)}function AT(){let e=[];return e=e.concat(JS.getLanguages())}function PT(e){let t=tT.modeService.get().getLanguageIdentifier(e);return t?t.id:0}function RT(e,t){let i=tT.modeService.get().onDidCreateMode(n=>{n.getId()===e&&(i.dispose(),t())});return i}function FT(e,t){let i=tT.modeService.get().getLanguageIdentifier(e);if(!i)throw new Error(`Cannot set configuration for unknown language ${e}`);return za.register(i,t)}class VT{constructor(e){this._actual=e}getInitialState(){return this._actual.getInitialState()}tokenize(e,t,i){throw new Error("Not supported!")}tokenize2(e,t){let i=this._actual.tokenizeEncoded(e,t);return new _t(i.tokens,i.endState)}}class BT{constructor(e,t,i){this._standaloneThemeService=e,this._languageIdentifier=t,this._actual=i}getInitialState(){return this._actual.getInitialState()}_toClassicTokens(e,t,i){let n=[],r=0;for(let o=0,s=e.length;o<s;o++){const s=e[o];let a=s.startIndex;0===o?a=0:a<r&&(a=r),n[o]=new vt(a+i,s.scopes,t),r=a}return n}tokenize(e,t,i){let n,r=this._actual.tokenize(e,t),o=this._toClassicTokens(r.tokens,this._languageIdentifier.language,i);return n=r.endState.equals(t)?t:r.endState,new bt(o,n)}_toBinaryTokens(e,t){const i=this._languageIdentifier.id,n=this._standaloneThemeService.getColorTheme().tokenTheme;let r=[],o=0,s=0;for(let a=0,l=e.length;a<l;a++){const l=e[a],c=n.match(i,l.scopes);if(o>0&&r[o-1]===c)continue;let h=l.startIndex;0===a?h=0:h<s&&(h=s),r[o++]=h+t,r[o++]=c,s=h}let a=new Uint32Array(o);for(let e=0;e<o;e++)a[e]=r[e];return a}tokenize2(e,t,i){let n,r=this._actual.tokenize(e,t),o=this._toBinaryTokens(r.tokens,i);return n=r.endState.equals(t)?t:r.endState,new _t(o,n)}}function WT(e){return e&&"function"==typeof e.then}function $T(e,t){let i=tT.modeService.get().getLanguageIdentifier(e);if(!i)throw new Error(`Cannot set tokens provider for unknown language ${e}`);const n=e=>(function(e){return"tokenizeEncoded"in e})(e)?new VT(e):new BT(tT.standaloneThemeService.get(),i,e);return WT(t)?na.registerPromise(e,t.then(e=>n(e))):na.register(e,n(t))}function zT(e,t){const i=t=>(n=tT.modeService.get(),r=tT.standaloneThemeService.get(),o=e,s=function(e,t){if(!t||"object"!=typeof t)throw new Error("Monarch: expecting a language definition object");let i={};i.languageId=e,i.noThrow=!1,i.maxStack=100,i.start="string"==typeof t.start?t.start:null,i.ignoreCase=DT(t.ignoreCase,!1),i.unicode=DT(t.unicode,!1),i.tokenPostfix=ET(t.tokenPostfix,"."+i.languageId),i.defaultToken=ET(t.defaultToken,"source"),i.usesEmbedded=!1;let n=t;function r(e,o,s){for(const a of s){let s=a.include;if(s){if("string"!=typeof s)throw _c(i,"an 'include' attribute must be a string at: "+e);if("@"===s[0]&&(s=s.substr(1)),!t.tokenizer[s])throw _c(i,"include target '"+s+"' is not defined at: "+e);r(e+"."+s,o,t.tokenizer[s])}else{const t=new MT(e);if(Array.isArray(a)&&a.length>=1&&a.length<=3)if(t.setRegex(n,a[0]),a.length>=3)if("string"==typeof a[1])t.setAction(n,{token:a[1],next:a[2]});else{if("object"!=typeof a[1])throw _c(i,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);{const e=a[1];e.next=a[2],t.setAction(n,e)}}else t.setAction(n,a[1]);else{if(!a.regex)throw _c(i,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e);a.name&&"string"==typeof a.name&&(t.name=a.name),a.matchOnlyAtStart&&(t.matchOnlyAtLineStart=DT(a.matchOnlyAtLineStart,!1)),t.setRegex(n,a.regex),t.setAction(n,a.action)}o.push(t)}}}if(n.languageId=e,n.ignoreCase=i.ignoreCase,n.unicode=i.unicode,n.noThrow=i.noThrow,n.usesEmbedded=i.usesEmbedded,n.stateNames=t.tokenizer,n.defaultToken=i.defaultToken,!t.tokenizer||"object"!=typeof t.tokenizer)throw _c(i,"a language definition must define the 'tokenizer' attribute as an object");i.tokenizer=[];for(let e in t.tokenizer)if(t.tokenizer.hasOwnProperty(e)){i.start||(i.start=e);const n=t.tokenizer[e];i.tokenizer[e]=new Array,r("tokenizer."+e,i.tokenizer[e],n)}if(i.usesEmbedded=n.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw _c(i,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];let o=[];for(let e of t.brackets){let t=e;if(t&&Array.isArray(t)&&3===t.length&&(t={token:t[2],open:t[0],close:t[1]}),t.open===t.close)throw _c(i,"open and close brackets in a 'brackets' attribute must be different: "+t.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof t.open||"string"!=typeof t.token||"string"!=typeof t.close)throw _c(i,"every element in the 'brackets' array must be a '{open,close,token}' object or array");o.push({token:t.token+i.tokenPostfix,open:vc(i,t.open),close:vc(i,t.close)})}return i.brackets=o,i.noThrow=!0,i}(e,t),new Nc(n,r,o,s));var n,r,o,s;return WT(t)?na.registerPromise(e,t.then(e=>i(e))):na.register(e,i(t))}function HT(e,t){return As.register(e,t)}function jT(e,t){return Ps.register(e,t)}function UT(e,t){return Fs.register(e,t)}function KT(e,t){return Vs.register(e,{provideHover:(e,i,n)=>{let r=e.getWordAtPosition(i);return Promise.resolve(t.provideHover(e,i,n)).then(e=>{if(e)return!e.range&&r&&(e.range=new mt(i.lineNumber,r.startColumn,i.lineNumber,r.endColumn)),e.range||(e.range=new mt(i.lineNumber,i.column,i.lineNumber,i.column)),e})}})}function qT(e,t){return Bs.register(e,t)}function GT(e,t){return Ws.register(e,t)}function YT(e,t){return $s.register(e,t)}function XT(e,t){return zs.register(e,t)}function ZT(e,t){return js.register(e,t)}function QT(e,t){return Us.register(e,t)}function JT(e,t){return Ks.register(e,t)}function eO(e,t){return qs.register(e,{provideCodeActions:(e,i,n,r)=>{let o=tT.markerService.get().read({resource:e.uri}).filter(e=>mt.areIntersectingOrTouching(e,i));return t.provideCodeActions(e,i,{markers:o,only:n.only},r)}})}function tO(e,t){return Gs.register(e,t)}function iO(e,t){return Ys.register(e,t)}function nO(e,t){return Xs.register(e,t)}function rO(e,t){return Zs.register(e,t)}function oO(e,t){return Rs.register(e,t)}function sO(e,t){return Qs.register(e,t)}function aO(e,t){return ea.register(e,t)}function lO(e,t){return Hs.register(e,t)}function cO(e,t){return Js.register(e,t)}function hO(e,t){return ta.register(e,t)}function uO(e,t){return ia.register(e,t)}const dO=self;B.wrappingIndent.defaultValue=0,B.glyphMargin.defaultValue=!1,B.autoIndent.defaultValue=3,B.overviewRulerLanes.defaultValue=2;const fO=ti();fO.editor={create:rT,onDidCreateEditor:oT,createDiffEditor:sT,createDiffNavigator:aT,createModel:cT,setModelLanguage:hT,setModelMarkers:uT,getModelMarkers:dT,getModels:pT,getModel:fT,onDidCreateModel:mT,onWillDisposeModel:gT,onDidChangeModelLanguage:vT,createWebWorker:bT,colorizeElement:_T,colorize:yT,colorizeModelLine:wT,tokenize:ST,defineTheme:xT,setTheme:kT,remeasureFonts:LT,AccessibilitySupport:yt,ContentWidgetPositionPreference:kt,CursorChangeReason:Lt,DefaultEndOfLine:Dt,EditorAutoIndentStrategy:Nt,EditorOption:Tt,EndOfLinePreference:Ot,EndOfLineSequence:Mt,MinimapPosition:Vt,MouseTargetType:Bt,OverlayWidgetPositionPreference:Wt,OverviewRulerLane:$t,RenderLineNumbersType:zt,RenderMinimap:Ht,ScrollbarVisibility:Ut,ScrollType:jt,TextEditorCursorBlinkingStyle:Xt,TextEditorCursorStyle:Zt,TrackedRangeStickiness:Qt,WrappingIndent:Jt,ConfigurationChangedEvent:d,BareFontInfo:Jr,FontInfo:eo,TextModelResolvedOptions:ro,FindMatch:oo,EditorType:to,EditorOptions:B},fO.languages={register:IT,getLanguages:AT,onLanguage:RT,getEncodedLanguageId:PT,setLanguageConfiguration:FT,setTokensProvider:$T,setMonarchTokensProvider:zT,registerReferenceProvider:HT,registerRenameProvider:jT,registerCompletionItemProvider:oO,registerSignatureHelpProvider:UT,registerHoverProvider:KT,registerDocumentSymbolProvider:qT,registerDocumentHighlightProvider:GT,registerOnTypeRenameProvider:YT,registerDefinitionProvider:XT,registerImplementationProvider:ZT,registerTypeDefinitionProvider:QT,registerCodeLensProvider:JT,registerCodeActionProvider:eO,registerDocumentFormattingEditProvider:tO,registerDocumentRangeFormattingEditProvider:iO,registerOnTypeFormattingEditProvider:nO,registerLinkProvider:rO,registerColorProvider:sO,registerFoldingRangeProvider:aO,registerDeclarationProvider:lO,registerSelectionRangeProvider:cO,registerDocumentSemanticTokensProvider:hO,registerDocumentRangeSemanticTokensProvider:uO,DocumentHighlightKind:Et,CompletionItemKind:Ct,CompletionItemTag:St,CompletionItemInsertTextRule:wt,SymbolKind:Gt,SymbolTag:Yt,IndentAction:It,CompletionTriggerKind:xt,SignatureHelpTriggerKind:qt,FoldingRangeKind:Is};fO.CancellationTokenSource,fO.Emitter,fO.KeyCode,fO.KeyMod,fO.Position,fO.Range,fO.Selection,fO.SelectionDirection,fO.MarkerSeverity,fO.MarkerTag,fO.Uri,fO.Token;const pO=fO.editor;t.a=pO;const mO=fO.languages;t.b=mO,dO.monaco=fO,void 0!==dO.require&&"function"==typeof dO.require.config&&dO.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},O4g8:function(e,t){e.exports=!0},OAzY:function(e,t,i){"use strict";t.__esModule=!0;var n,r=i("7+uW"),o=(n=r)&&n.__esModule?n:{default:n},s=i("2kvA");var a=!1,l=!1,c=void 0,h=function(){if(!o.default.prototype.$isServer){var e=d.modalDom;return e?a=!0:(a=!1,e=document.createElement("div"),d.modalDom=e,e.addEventListener("touchmove",function(e){e.preventDefault(),e.stopPropagation()}),e.addEventListener("click",function(){d.doOnModalClick&&d.doOnModalClick()})),e}},u={},d={modalFade:!0,getInstance:function(e){return u[e]},register:function(e,t){e&&t&&(u[e]=t)},deregister:function(e){e&&(u[e]=null,delete u[e])},nextZIndex:function(){return d.zIndex++},modalStack:[],doOnModalClick:function(){var e=d.modalStack[d.modalStack.length-1];if(e){var t=d.getInstance(e.id);t&&t.closeOnClickModal&&t.close()}},openModal:function(e,t,i,n,r){if(!o.default.prototype.$isServer&&e&&void 0!==t){this.modalFade=r;for(var l=this.modalStack,c=0,u=l.length;c<u;c++){if(l[c].id===e)return}var d=h();if((0,s.addClass)(d,"v-modal"),this.modalFade&&!a&&(0,s.addClass)(d,"v-modal-enter"),n)n.trim().split(/\s+/).forEach(function(e){return(0,s.addClass)(d,e)});setTimeout(function(){(0,s.removeClass)(d,"v-modal-enter")},200),i&&i.parentNode&&11!==i.parentNode.nodeType?i.parentNode.appendChild(d):document.body.appendChild(d),t&&(d.style.zIndex=t),d.tabIndex=0,d.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:n})}},closeModal:function(e){var t=this.modalStack,i=h();if(t.length>0){var n=t[t.length-1];if(n.id===e){if(n.modalClass)n.modalClass.trim().split(/\s+/).forEach(function(e){return(0,s.removeClass)(i,e)});t.pop(),t.length>0&&(i.style.zIndex=t[t.length-1].zIndex)}else for(var r=t.length-1;r>=0;r--)if(t[r].id===e){t.splice(r,1);break}}0===t.length&&(this.modalFade&&(0,s.addClass)(i,"v-modal-leave"),setTimeout(function(){0===t.length&&(i.parentNode&&i.parentNode.removeChild(i),i.style.display="none",d.modalDom=void 0),(0,s.removeClass)(i,"v-modal-leave")},200))}};Object.defineProperty(d,"zIndex",{configurable:!0,get:function(){return l||(c=c||(o.default.prototype.$ELEMENT||{}).zIndex||2e3,l=!0),c},set:function(e){c=e}});o.default.prototype.$isServer||window.addEventListener("keydown",function(e){if(27===e.keyCode){var t=function(){if(!o.default.prototype.$isServer&&d.modalStack.length>0){var e=d.modalStack[d.modalStack.length-1];if(!e)return;return d.getInstance(e.id)}}();t&&t.closeOnPressEscape&&(t.handleClose?t.handleClose():t.handleAction?t.handleAction("cancel"):t.close())}}),t.default=d},ON07:function(e,t,i){var n=i("EqjI"),r=i("7KvD").document,o=n(r)&&n(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},ON3O:function(e,t,i){var n=i("uY1a");e.exports=function(e,t,i){return void 0===i?n(e,t,!1):n(e,i,!1!==t)}},OYls:function(e,t,i){i("crlp")("asyncIterator")},"Oi+a":function(e,t,i){"use strict";var n=i("dIwP"),r=i("qRfI");e.exports=function(e,t){return e&&!n(t)?r(e,t):t}},PzxK:function(e,t,i){var n=i("D2L2"),r=i("sB3e"),o=i("ax3d")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},QRG4:function(e,t,i){var n=i("UuGF"),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},"QWe/":function(e,t,i){i("crlp")("observable")},R4wc:function(e,t,i){var n=i("kM2E");n(n.S+n.F,"Object",{assign:i("To3L")})},R9M2:function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},RDoK:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=116)}({0:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}i.d(t,"a",function(){return n})},116:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"el-radio",class:[e.border&&e.radioSize?"el-radio--"+e.radioSize:"",{"is-disabled":e.isDisabled},{"is-focus":e.focus},{"is-bordered":e.border},{"is-checked":e.model===e.label}],attrs:{role:"radio","aria-checked":e.model===e.label,"aria-disabled":e.isDisabled,tabindex:e.tabIndex},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.stopPropagation(),t.preventDefault(),e.model=e.isDisabled?e.model:e.label}}},[i("span",{staticClass:"el-radio__input",class:{"is-disabled":e.isDisabled,"is-checked":e.model===e.label}},[i("span",{staticClass:"el-radio__inner"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:e.name,disabled:e.isDisabled,tabindex:"-1"},domProps:{value:e.label,checked:e._q(e.model,e.label)},on:{focus:function(t){e.focus=!0},blur:function(t){e.focus=!1},change:[function(t){e.model=e.label},e.handleChange]}})]),i("span",{staticClass:"el-radio__label",on:{keydown:function(e){e.stopPropagation()}}},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.label))]],2)])};n._withStripped=!0;var r=i(4),o={name:"ElRadio",mixins:[i.n(r).a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){for(var e=this.$parent;e;){if("ElRadioGroup"===e.$options.componentName)return this._radioGroup=e,!0;e=e.$parent}return!1},model:{get:function(){return this.isGroup?this._radioGroup.value:this.value},set:function(e){this.isGroup?this.dispatch("ElRadioGroup","input",[e]):this.$emit("input",e),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var e=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._radioGroup.radioGroupSize||e},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var e=this;this.$nextTick(function(){e.$emit("change",e.model),e.isGroup&&e.dispatch("ElRadioGroup","handleChange",e.model)})}}},s=i(0),a=Object(s.a)(o,n,[],!1,null,null,null);a.options.__file="packages/radio/src/radio.vue";var l=a.exports;l.install=function(e){e.component(l.name,l)};t.default=l},4:function(e,t){e.exports=i("fPll")}})},RPLV:function(e,t,i){var n=i("7KvD").document;e.exports=n&&n.documentElement},Rrel:function(e,t,i){var n=i("TcQ7"),r=i("n0T6").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?function(e){try{return r(e)}catch(e){return s.slice()}}(e):r(n(e))}},S82l:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},STLj:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=53)}({0:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}i.d(t,"a",function(){return n})},3:function(e,t){e.exports=i("ylDJ")},34:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:e.itemSelected,"is-disabled":e.disabled||e.groupDisabled||e.limitReached,hover:e.hover},on:{mouseenter:e.hoverItem,click:function(t){return t.stopPropagation(),e.selectOptionClick(t)}}},[e._t("default",[i("span",[e._v(e._s(e.currentLabel))])])],2)};n._withStripped=!0;var r=i(4),o=i.n(r),s=i(3),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={mixins:[o.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(e,t){var i=this.select,n=i.remote,r=i.valueKey;if(!this.created&&!n){if(r&&"object"===(void 0===e?"undefined":a(e))&&"object"===(void 0===t?"undefined":a(t))&&e[r]===t[r])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(e,t){if(this.isObject){var i=this.select.valueKey;return Object(s.getValueByPath)(e,i)===Object(s.getValueByPath)(t,i)}return e===t},contains:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(this.isObject){var i=this.select.valueKey;return e&&e.some(function(e){return Object(s.getValueByPath)(e,i)===Object(s.getValueByPath)(t,i)})}return e&&e.indexOf(t)>-1},handleGroupDisabled:function(e){this.groupDisabled=e},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(e){this.visible=new RegExp(Object(s.escapeRegexpString)(e),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var e=this.select,t=e.selected,i=e.multiple?t:[t],n=this.select.cachedOptions.indexOf(this),r=i.indexOf(this);n>-1&&r<0&&this.select.cachedOptions.splice(n,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},c=i(0),h=Object(c.a)(l,n,[],!1,null,null,null);h.options.__file="packages/select/src/option.vue";t.a=h.exports},4:function(e,t){e.exports=i("fPll")},53:function(e,t,i){"use strict";i.r(t);var n=i(34);n.a.install=function(e){e.component(n.a.name,n.a)},t.default=n.a}})},SXzR:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=74)}({0:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}i.d(t,"a",function(){return n})},2:function(e,t){e.exports=i("2kvA")},3:function(e,t){e.exports=i("ylDJ")},5:function(e,t){e.exports=i("fKx3")},7:function(e,t){e.exports=i("7+uW")},74:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("transition",{attrs:{name:e.transition},on:{"after-enter":e.handleAfterEnter,"after-leave":e.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled&&e.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[e.popperClass,e.content&&"el-popover--plain"],style:{width:e.width+"px"},attrs:{role:"tooltip",id:e.tooltipId,"aria-hidden":e.disabled||!e.showPopper?"true":"false"}},[e.title?i("div",{staticClass:"el-popover__title",domProps:{textContent:e._s(e.title)}}):e._e(),e._t("default",[e._v(e._s(e.content))])],2)]),i("span",{ref:"wrapper",staticClass:"el-popover__reference-wrapper"},[e._t("reference")],2)],1)};n._withStripped=!0;var r=i(5),o=i.n(r),s=i(2),a=i(3),l={name:"ElPopover",mixins:[o.a],props:{trigger:{type:String,default:"click",validator:function(e){return["click","focus","hover","manual"].indexOf(e)>-1}},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"},tabindex:{type:Number,default:0}},computed:{tooltipId:function(){return"el-popover-"+Object(a.generateId)()}},watch:{showPopper:function(e){this.disabled||(e?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var e=this,t=this.referenceElm=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!t&&this.$refs.wrapper.children&&(t=this.referenceElm=this.$refs.wrapper.children[0]),t&&(Object(s.addClass)(t,"el-popover__reference"),t.setAttribute("aria-describedby",this.tooltipId),t.setAttribute("tabindex",this.tabindex),i.setAttribute("tabindex",0),"click"!==this.trigger&&(Object(s.on)(t,"focusin",function(){e.handleFocus();var i=t.__vue__;i&&"function"==typeof i.focus&&i.focus()}),Object(s.on)(i,"focusin",this.handleFocus),Object(s.on)(t,"focusout",this.handleBlur),Object(s.on)(i,"focusout",this.handleBlur)),Object(s.on)(t,"keydown",this.handleKeydown),Object(s.on)(t,"click",this.handleClick)),"click"===this.trigger?(Object(s.on)(t,"click",this.doToggle),Object(s.on)(document,"click",this.handleDocumentClick)):"hover"===this.trigger?(Object(s.on)(t,"mouseenter",this.handleMouseEnter),Object(s.on)(i,"mouseenter",this.handleMouseEnter),Object(s.on)(t,"mouseleave",this.handleMouseLeave),Object(s.on)(i,"mouseleave",this.handleMouseLeave)):"focus"===this.trigger&&(this.tabindex<0&&console.warn("[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key"),t.querySelector("input, textarea")?(Object(s.on)(t,"focusin",this.doShow),Object(s.on)(t,"focusout",this.doClose)):(Object(s.on)(t,"mousedown",this.doShow),Object(s.on)(t,"mouseup",this.doClose)))},beforeDestroy:function(){this.cleanup()},deactivated:function(){this.cleanup()},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){Object(s.addClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!0)},handleClick:function(){Object(s.removeClass)(this.referenceElm,"focusing")},handleBlur:function(){Object(s.removeClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!1)},handleMouseEnter:function(){var e=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout(function(){e.showPopper=!0},this.openDelay):this.showPopper=!0},handleKeydown:function(e){27===e.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var e=this;clearTimeout(this._timer),this.closeDelay?this._timer=setTimeout(function(){e.showPopper=!1},this.closeDelay):this.showPopper=!1},handleDocumentClick:function(e){var t=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!t&&this.$refs.wrapper.children&&(t=this.referenceElm=this.$refs.wrapper.children[0]),this.$el&&t&&!this.$el.contains(e.target)&&!t.contains(e.target)&&i&&!i.contains(e.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()},cleanup:function(){(this.openDelay||this.closeDelay)&&clearTimeout(this._timer)}},destroyed:function(){var e=this.reference;Object(s.off)(e,"click",this.doToggle),Object(s.off)(e,"mouseup",this.doClose),Object(s.off)(e,"mousedown",this.doShow),Object(s.off)(e,"focusin",this.doShow),Object(s.off)(e,"focusout",this.doClose),Object(s.off)(e,"mousedown",this.doShow),Object(s.off)(e,"mouseup",this.doClose),Object(s.off)(e,"mouseleave",this.handleMouseLeave),Object(s.off)(e,"mouseenter",this.handleMouseEnter),Object(s.off)(document,"click",this.handleDocumentClick)}},c=i(0),h=Object(c.a)(l,n,[],!1,null,null,null);h.options.__file="packages/popover/src/main.vue";var u=h.exports,d=function(e,t,i){var n=t.expression?t.value:t.arg,r=i.context.$refs[n];r&&(Array.isArray(r)?r[0].$refs.reference=e:r.$refs.reference=e)},f={bind:function(e,t,i){d(e,t,i)},inserted:function(e,t,i){d(e,t,i)}},p=i(7);i.n(p).a.directive("popover",f),u.install=function(e){e.directive("popover",f),e.component(u.name,u)},u.directive=f;t.default=u}})},SfB7:function(e,t,i){e.exports=!i("+E39")&&!i("S82l")(function(){return 7!=Object.defineProperty(i("ON07")("div"),"a",{get:function(){return 7}}).a})},SvnF:function(e,t,i){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){return function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return 1===i.length&&"object"===n(i[0])&&(i=i[0]),i&&i.hasOwnProperty||(i={}),e.replace(o,function(t,n,o,s){var a=void 0;return"{"===e[s-1]&&"}"===e[s+t.length]?o:null===(a=(0,r.hasOwn)(i,o)?i[o]:null)||void 0===a?"":a})}};var r=i("ylDJ"),o=/(%|)\{([0-9a-zA-Z_]+)\}/g},TFmH:function(e,t,i){"use strict";var n=i("Ny4g"),r={},o={},s=function(){function e(e){var t=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise(function(e,i){t._lazyLoadPromiseResolve=e,t._lazyLoadPromiseReject=i})}return e.getOrCreate=function(t){return o[t]||(o[t]=new e(t)),o[t]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,r[this._languageId].loader().then(function(t){return e._lazyLoadPromiseResolve(t)},function(t){return e._lazyLoadPromiseReject(t)})),this._lazyLoadPromise},e}();function a(e){var t=e.id;r[t]=e,n.b.register(e);var i=s.getOrCreate(t);n.b.setMonarchTokensProvider(t,i.whenLoaded().then(function(e){return e.language})),n.b.onLanguage(t,function(){i.load().then(function(e){n.b.setLanguageConfiguration(t,e.conf)})})}a({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return i.e(0).then(i.bind(null,"Aj3d"))}}),a({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return i.e(0).then(i.bind(null,"Aj3d"))}})},THjC:function(e,t,i){(function(e){"use strict";function t(t,i,r,o){if(r&&r.call){var s=r;r=null}else s=n(t,r,"rangeFinder");"number"==typeof i&&(i=e.Pos(i,0));var a=n(t,r,"minFoldSize");function l(e){var n=s(t,i);if(!n||n.to.line-n.from.line<a)return null;for(var r=t.findMarksAt(n.from),l=0;l<r.length;++l)if(r[l].__isFold&&"fold"!==o){if(!e)return null;n.cleared=!0,r[l].clear()}return n}var c=l(!0);if(n(t,r,"scanUp"))for(;!c&&i.line>t.firstLine();)i=e.Pos(i.line-1,0),c=l(!1);if(c&&!c.cleared&&"unfold"!==o){var h=function(e,t,i){var r=n(e,t,"widget");"function"==typeof r&&(r=r(i.from,i.to));if("string"==typeof r){var o=document.createTextNode(r);(r=document.createElement("span")).appendChild(o),r.className="CodeMirror-foldmarker"}else r&&(r=r.cloneNode(!0));return r}(t,r,c);e.on(h,"mousedown",function(t){u.clear(),e.e_preventDefault(t)});var u=t.markText(c.from,c.to,{replacedWith:h,clearOnEnter:n(t,r,"clearOnEnter"),__isFold:!0});u.on("clear",function(i,n){e.signal(t,"unfold",t,i,n)}),e.signal(t,"fold",t,c.from,c.to)}}e.newFoldFunction=function(e,i){return function(n,r){t(n,r,{rangeFinder:e,widget:i})}},e.defineExtension("foldCode",function(e,i,n){t(this,e,i,n)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),i=0;i<t.length;++i)if(t[i].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var i=t.firstLine(),n=t.lastLine();i<=n;i++)t.foldCode(e.Pos(i,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var i=t.firstLine(),n=t.lastLine();i<=n;i++)t.foldCode(e.Pos(i,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,i){for(var n=0;n<e.length;++n){var r=e[n](t,i);if(r)return r}}}),e.registerHelper("fold","auto",function(e,t){for(var i=e.getHelpers(t,"fold"),n=0;n<i.length;n++){var r=i[n](e,t);if(r)return r}});var i={rangeFinder:e.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function n(e,t,n){if(t&&void 0!==t[n])return t[n];var r=e.options.foldOptions;return r&&void 0!==r[n]?r[n]:i[n]}e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return n(this,e,t)})})(i("8U58"))},TNV1:function(e,t,i){"use strict";var n=i("cGG2");e.exports=function(e,t,i){return n.forEach(i,function(i){e=i(e,t)}),e}},TcQ7:function(e,t,i){var n=i("MU5D"),r=i("52gC");e.exports=function(e){return n(r(e))}},To3L:function(e,t,i){"use strict";var n=i("+E39"),r=i("lktj"),o=i("1kS7"),s=i("NpIQ"),a=i("sB3e"),l=i("MU5D"),c=Object.assign;e.exports=!c||i("S82l")(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=c({},e)[i]||Object.keys(c({},t)).join("")!=n})?function(e,t){for(var i=a(e),c=arguments.length,h=1,u=o.f,d=s.f;c>h;)for(var f,p=l(arguments[h++]),m=u?r(p).concat(u(p)):r(p),g=m.length,v=0;g>v;)f=m[v++],n&&!d.call(p,f)||(i[f]=p[f]);return i}:c},U3HU:function(e,t,i){(function(e){"use strict";function t(t,i){var n=t.getLine(i),r=n.search(/\S/);return-1==r||/\bcomment\b/.test(t.getTokenTypeAt(e.Pos(i,r+1)))?-1:e.countColumn(n,null,t.getOption("tabSize"))}e.registerHelper("fold","indent",function(i,n){var r=t(i,n.line);if(!(r<0)){for(var o=null,s=n.line+1,a=i.lastLine();s<=a;++s){var l=t(i,s);if(-1==l);else{if(!(l>r))break;o=s}}return o?{from:e.Pos(n.line,i.getLine(n.line).length),to:e.Pos(o,i.getLine(o).length)}:void 0}})})(i("8U58"))},UuGF:function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},V3tA:function(e,t,i){i("R4wc"),e.exports=i("FeBl").Object.assign},"VU/8":function(e,t){e.exports=function(e,t,i,n,r,o){var s,a=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(s=e,a=e.default);var c,h="function"==typeof a?a.options:a;if(t&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0),i&&(h.functional=!0),r&&(h._scopeId=r),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},h._ssrRegister=c):n&&(c=n),c){var u=h.functional,d=u?h.render:h.beforeCreate;u?(h._injectStyles=c,h.render=function(e,t){return c.call(t),d(e,t)}):h.beforeCreate=d?[].concat(d,c):[c]}return{esModule:s,exports:a,options:h}}},Vi3T:function(e,t,i){"use strict";t.__esModule=!0,t.default={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"}}}},W2nU:function(e,t){var i,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var l,c=[],h=!1,u=-1;function d(){h&&l&&(h=!1,l.length?c=l.concat(c):u=-1,c.length&&f())}function f(){if(!h){var e=a(d);h=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new p(e,t)),1!==c.length||h||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},X8DO:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},Xc4G:function(e,t,i){var n=i("lktj"),r=i("1kS7"),o=i("NpIQ");e.exports=function(e){var t=n(e),i=r.f;if(i)for(var s,a=i(e),l=o.f,c=0;a.length>c;)l.call(e,s=a[c++])&&t.push(s);return t}},XmWM:function(e,t,i){"use strict";var n=i("cGG2"),r=i("DQCr"),o=i("fuGk"),s=i("xLtR"),a=i("DUeU");function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],i=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)i=i.then(t.shift(),t.shift());return i},l.prototype.getUri=function(e){return e=a(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],function(e){l.prototype[e]=function(t,i){return this.request(a(i||{},{method:e,url:t,data:(i||{}).data}))}}),n.forEach(["post","put","patch"],function(e){l.prototype[e]=function(t,i,n){return this.request(a(n||{},{method:e,url:t,data:i}))}}),e.exports=l},Y5mS:function(e,t,i){"use strict";var n,r=i("lFkc");r.canUseDOM&&(n=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */,e.exports=function(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document))return!1;var i="on"+e,o=i in document;if(!o){var s=document.createElement("div");s.setAttribute(i,"return;"),o="function"==typeof s[i]}return!o&&n&&"wheel"===e&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}},YAhB:function(e,t,i){"use strict";var n=i("++K3"),r=i("Y5mS"),o=10,s=40,a=800;function l(e){var t=0,i=0,n=0,r=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),n=t*o,r=i*o,"deltaY"in e&&(r=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||r)&&e.deltaMode&&(1==e.deltaMode?(n*=s,r*=s):(n*=a,r*=a)),n&&!t&&(t=n<1?-1:1),r&&!i&&(i=r<1?-1:1),{spinX:t,spinY:i,pixelX:n,pixelY:r}}l.getEventType=function(){return n.firefox()?"DOMMouseScroll":r("wheel")?"wheel":"mousewheel"},e.exports=l},Yobk:function(e,t,i){var n=i("77Pl"),r=i("qio6"),o=i("xnc9"),s=i("ax3d")("IE_PROTO"),a=function(){},l=function(){var e,t=i("ON07")("iframe"),n=o.length;for(t.style.display="none",i("RPLV").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[o[n]];return l()};e.exports=Object.create||function(e,t){var i;return null!==e?(a.prototype=n(e),i=new a,a.prototype=null,i[s]=e):i=l(),void 0===t?i:r(i,t)}},Zcwg:function(e,t,i){"use strict";t.__esModule=!0;var n=i("2kvA");var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.beforeEnter=function(e){(0,n.addClass)(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},e.prototype.enter=function(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},e.prototype.afterEnter=function(e){(0,n.removeClass)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},e.prototype.beforeLeave=function(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},e.prototype.leave=function(e){0!==e.scrollHeight&&((0,n.addClass)(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},e.prototype.afterLeave=function(e){(0,n.removeClass)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},e}();t.default={name:"ElCollapseTransition",functional:!0,render:function(e,t){var i=t.children;return e("transition",{on:new r},i)}}},ZfGv:function(e,t,i){"use strict";(function(e,i){t.e=function(){if(!k){k=!0;const e=new Uint8Array(2);e[0]=1,e[1]=2;const t=new Uint16Array(e.buffer);x=513===t[0]}return x};let n=!1,r=!1,o=!1,s=!1,a=!1,l=!1,c=void 0,h="en",u=void 0,d=void 0;const f=void 0!==e&&void 0!==e.versions&&void 0!==e.versions.electron&&"renderer"===e.type;if("object"!=typeof navigator||f){if("object"==typeof e){n="win32"===e.platform,r="darwin"===e.platform,o="linux"===e.platform,c="en",h="en";const t=Object({NODE_ENV:"production"}).VSCODE_NLS_CONFIG;if(t)try{const e=JSON.parse(t),i=e.availableLanguages["*"];c=e.locale,h=i||"en",u=e._translationsConfigFile}catch(e){}s=!0}}else n=(d=navigator.userAgent).indexOf("Windows")>=0,r=d.indexOf("Macintosh")>=0,l=(d.indexOf("Macintosh")>=0||d.indexOf("iPad")>=0||d.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,o=d.indexOf("Linux")>=0,a=!0,h=c=navigator.language;let p=0;r?p=1:n?p=3:o&&(p=2);const m=n;t.i=m;const g=r;t.f=g;const v=o;t.d=v;const b=s;t.g=b;const _=a;t.h=_;const y=l;t.c=y;const w="object"==typeof self?self:"object"==typeof i?i:{};t.b=w;const C=function(){if(w.setImmediate)return w.setImmediate.bind(w);if("function"==typeof w.postMessage&&!w.importScripts){let e=[];w.addEventListener("message",t=>{if(t.data&&t.data.vscodeSetImmediateId)for(let i=0,n=e.length;i<n;i++){const n=e[i];if(n.id===t.data.vscodeSetImmediateId)return e.splice(i,1),void n.callback()}});let t=0;return i=>{const n=++t;e.push({id:n,callback:i}),w.postMessage({vscodeSetImmediateId:n},"*")}}if(void 0!==e&&"function"==typeof e.nextTick)return e.nextTick.bind(e);const t=Promise.resolve();return e=>t.then(e)}();t.j=C;const S=r||l?2:n?1:3;t.a=S;let x=!0,k=!1}).call(t,i("W2nU"),i("DuR2"))},Zzip:function(e,t,i){e.exports={default:i("/n6Q"),__esModule:!0}},aGTD:function(e,t,i){(function(e){"use strict";var t="CodeMirror-activeline",i="CodeMirror-activeline-background",n="CodeMirror-activeline-gutter";function r(e){for(var r=0;r<e.state.activeLines.length;r++)e.removeLineClass(e.state.activeLines[r],"wrap",t),e.removeLineClass(e.state.activeLines[r],"background",i),e.removeLineClass(e.state.activeLines[r],"gutter",n)}function o(e,o){for(var s=[],a=0;a<o.length;a++){var l=o[a],c=e.getOption("styleActiveLine");if("object"==typeof c&&c.nonEmpty?l.anchor.line==l.head.line:l.empty()){var h=e.getLineHandleVisualStart(l.head.line);s[s.length-1]!=h&&s.push(h)}}(function(e,t){if(e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(e[i]!=t[i])return!1;return!0})(e.state.activeLines,s)||e.operation(function(){r(e);for(var o=0;o<s.length;o++)e.addLineClass(s[o],"wrap",t),e.addLineClass(s[o],"background",i),e.addLineClass(s[o],"gutter",n);e.state.activeLines=s})}function s(e,t){o(e,t.ranges)}e.defineOption("styleActiveLine",!1,function(t,i,n){var a=n!=e.Init&&n;i!=a&&(a&&(t.off("beforeSelectionChange",s),r(t),delete t.state.activeLines),i&&(t.state.activeLines=[],o(t,t.listSelections()),t.on("beforeSelectionChange",s)))})})(i("8U58"))},aL7J:function(e,t,i){"use strict";t.B=function(e){if(!e||"string"!=typeof e)return!0;return 0===e.trim().length},t.v=function(e,...t){if(0===t.length)return e;return e.replace(n,function(e,i){const n=parseInt(i,10);return isNaN(n)||n<0||n>=t.length?e:t[n]})},t.s=function(e){return e.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})},t.t=r,t.I=o,t.N=s,t.n=function(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")},t.P=function(e,t){if(e.length<t.length)return!1;if(e===t)return!0;for(let i=0;i<t.length;i++)if(e[i]!==t[i])return!1;return!0},t.q=function(e,t){const i=e.length-t.length;return i>0?e.indexOf(t,i)===i:0===i&&e===t},t.o=function(e,t,i={}){if(!e)throw new Error("Cannot create regex from empty string");t||(e=r(e));i.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));let n="";i.global&&(n+="g");i.matchCase||(n+="i");i.multiline&&(n+="m");i.unicode&&(n+="u");return new RegExp(e,n)},t.M=function(e){if("^"===e.source||"^$"===e.source||"$"===e.source||"^\\s*$"===e.source)return!1;return!(!e.exec("")||0!==e.lastIndex)},t.L=function(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")},t.u=function(e){for(let t=0,i=e.length;t<i;t++){const i=e.charCodeAt(t);if(32!==i&&9!==i)return t}return-1},t.x=function(e,t=0,i=e.length){for(let n=t;n<i;n++){const i=e.charCodeAt(n);if(32!==i&&9!==i)return e.substring(t,n)}return e.substring(t,i)},t.H=function(e,t=e.length-1){for(let i=t;i>=0;i--){const t=e.charCodeAt(i);if(32!==t&&9!==t)return i}return-1},t.f=function(e,t){return e<t?-1:e>t?1:0},t.g=a,t.h=l,t.F=c,t.G=h,t.r=function(e,t){return e.length===t.length&&d(e,t)},t.Q=function(e,t){const i=t.length;if(t.length>e.length)return!1;return d(e,t,i)},t.d=function(e,t){let i,n=Math.min(e.length,t.length);for(i=0;i<n;i++)if(e.charCodeAt(i)!==t.charCodeAt(i))return i;return n},t.e=function(e,t){let i,n=Math.min(e.length,t.length);const r=e.length-1,o=t.length-1;for(i=0;i<n;i++)if(e.charCodeAt(r-i)!==t.charCodeAt(o-i))return i;return n},t.D=f,t.E=p,t.i=m,t.y=g,t.J=function(e,t){const i=k.getInstance(),n=t,r=e.length,o=g(e,r,t);t+=o>=65536?2:1;let s=i.getGraphemeBreakType(o);for(;t<r;){const n=g(e,r,t),o=i.getGraphemeBreakType(n);if(x(s,o))break;t+=n>=65536?2:1,s=o}return t-n},t.K=function(e,t){const i=k.getInstance(),n=t,r=v(e,t);t-=r>=65536?2:1;let o=i.getGraphemeBreakType(r);for(;t>0;){const n=v(e,t),r=i.getGraphemeBreakType(n);if(x(r,o))break;t-=n>=65536?2:1,o=r}return n-t},t.p=function(e){const t=e.byteLength,i=[];let n=0;for(;n<t;){const r=e[n];let o;if((o=r>=240&&n+3<t?(7&e[n++])<<18>>>0|(63&e[n++])<<12>>>0|(63&e[n++])<<6>>>0|(63&e[n++])<<0>>>0:r>=224&&n+2<t?(15&e[n++])<<12>>>0|(63&e[n++])<<6>>>0|(63&e[n++])<<0>>>0:r>=192&&n+1<t?(31&e[n++])<<6>>>0|(63&e[n++])<<0>>>0:e[n++])>=0&&o<=55295||o>=57344&&o<=65535)i.push(String.fromCharCode(o));else if(o>=65536&&o<=1114111){const e=o-65536,t=55296+((1047552&e)>>>10),n=56320+((1023&e)>>>0);i.push(String.fromCharCode(t)),i.push(String.fromCharCode(n))}else i.push(String.fromCharCode(65533))}return i.join("")},t.l=function(e){return b.test(e)},t.j=function(e){return _.test(e)},t.z=function(e){return y.test(e)},t.m=function(e){return w.test(e)},t.k=function(e){for(let t=0,i=e.length;t<i;t++)if(C(e.charCodeAt(t)))return!0;return!1},t.C=C,t.A=function(e){return e>=127462&&e<=127487||e>=9728&&e<=10175||e>=127744&&e<=128591||e>=128640&&e<=128764||e>=128992&&e<=129003||e>=129280&&e<=129535||e>=129648&&e<=129651||e>=129656&&e<=129666||e>=129680&&e<=129685},t.R=function(e){return!!(e&&e.length>0&&65279===e.charCodeAt(0))},t.O=function(e){if((e%=52)<26)return String.fromCharCode(97+e);return String.fromCharCode(65+e-26)},t.w=function(e){return k.getInstance().getGraphemeBreakType(e)},t.c=x;const n=/{(\d+)}/g;function r(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function o(e,t){if(!e||!t)return e;const i=t.length;if(0===i||0===e.length)return e;let n=0;for(;e.indexOf(t,n)===n;)n+=i;return e.substring(n)}function s(e,t){if(!e||!t)return e;const i=t.length,n=e.length;if(0===i||0===n)return e;let r=n,o=-1;for(;-1!==(o=e.lastIndexOf(t,r-1))&&o+i===r;){if(0===o)return"";r=o}return e.substring(0,r)}function a(e,t,i=0,n=e.length,r=0,o=t.length){for(;i<n&&r<o;i++,r++){let n=e.charCodeAt(i),o=t.charCodeAt(r);if(n<o)return-1;if(n>o)return 1}const s=n-i,a=o-r;return s<a?-1:s>a?1:0}function l(e,t,i=0,n=e.length,r=0,o=t.length){for(;i<n&&r<o;i++,r++){let s=e.charCodeAt(i),l=t.charCodeAt(r);if(s===l)continue;const u=s-l;if((32!==u||!h(l))&&(-32!==u||!h(s)))return c(s)&&c(l)?u:a(e.toLowerCase(),t.toLowerCase(),i,n,r,o)}const s=n-i,l=o-r;return s<l?-1:s>l?1:0}function c(e){return e>=97&&e<=122}function h(e){return e>=65&&e<=90}function u(e){return c(e)||h(e)}function d(e,t,i=e.length){for(let n=0;n<i;n++){const i=e.charCodeAt(n),r=t.charCodeAt(n);if(i!==r)if(u(i)&&u(r)){const e=Math.abs(i-r);if(0!==e&&32!==e)return!1}else if(String.fromCharCode(i).toLowerCase()!==String.fromCharCode(r).toLowerCase())return!1}return!0}function f(e){return 55296<=e&&e<=56319}function p(e){return 56320<=e&&e<=57343}function m(e,t){return t-56320+(e-55296<<10)+65536}function g(e,t,i){const n=e.charCodeAt(i);if(f(n)&&i+1<t){const t=e.charCodeAt(i+1);if(p(t))return m(n,t)}return n}function v(e,t){const i=e.charCodeAt(t-1);if(p(i)&&t>1){const n=e.charCodeAt(t-2);if(f(n))return m(n,i)}return i}const b=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;const _=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDE73\uDE78-\uDE82\uDE90-\uDE95])/;const y=/^[\t\n\r\x20-\x7E]*$/;const w=/[\u2028\u2029]/;function C(e){return(e=+e)>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}t.a=w;const S=String.fromCharCode(65279);function x(e,t){return 0===e?5!==t&&7!==t:(2!==e||3!==t)&&(4===e||2===e||3===e||(4===t||2===t||3===t||(8!==e||8!==t&&9!==t&&11!==t&&12!==t)&&((11!==e&&9!==e||9!==t&&10!==t)&&((12!==e&&10!==e||10!==t)&&(5!==t&&13!==t&&(7!==t&&(1!==e&&((13!==e||14!==t)&&(6!==e||6!==t)))))))))}t.b=S;class k{constructor(){this._data=JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}static getInstance(){return k._INSTANCE||(k._INSTANCE=new k),k._INSTANCE}getGraphemeBreakType(e){if(e<32)return 10===e?3:13===e?2:4;if(e<127)return 0;const t=this._data,i=t.length/3;let n=1;for(;n<=i;)if(e<t[3*n])n*=2;else{if(!(e>t[3*n+1]))return t[3*n+2];n=2*n+1}return 0}}k._INSTANCE=null},aMwW:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=131)}({131:function(e,t,i){"use strict";i.r(t);var n=i(5),r=i.n(n),o=i(17),s=i.n(o),a=i(2),l=i(3),c=i(7),h=i.n(c),u={name:"ElTooltip",mixins:[r.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(l.generateId)(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var e=this;this.$isServer||(this.popperVM=new h.a({data:{node:""},render:function(e){return this.node}}).$mount(),this.debounceClose=s()(200,function(){return e.handleClosePopper()}))},render:function(e){var t=this;this.popperVM&&(this.popperVM.node=e("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[e("div",{on:{mouseleave:function(){t.setExpectedState(!1),t.debounceClose()},mouseenter:function(){t.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var i=this.getFirstElement();if(!i)return null;var n=i.data=i.data||{};return n.staticClass=this.addTooltipClass(n.staticClass),i},mounted:function(){var e=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(a.on)(this.referenceElm,"mouseenter",this.show),Object(a.on)(this.referenceElm,"mouseleave",this.hide),Object(a.on)(this.referenceElm,"focus",function(){if(e.$slots.default&&e.$slots.default.length){var t=e.$slots.default[0].componentInstance;t&&t.focus?t.focus():e.handleFocus()}else e.handleFocus()}),Object(a.on)(this.referenceElm,"blur",this.handleBlur),Object(a.on)(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick(function(){e.value&&e.updatePopper()})},watch:{focusing:function(e){e?Object(a.addClass)(this.referenceElm,"focusing"):Object(a.removeClass)(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(e){return e?"el-tooltip "+e.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var e=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.showPopper=!0},this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout(function(){e.showPopper=!1},this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(e){!1===e&&clearTimeout(this.timeoutPending),this.expectedState=e},getFirstElement:function(){var e=this.$slots.default;if(!Array.isArray(e))return null;for(var t=null,i=0;i<e.length;i++)e[i]&&e[i].tag&&(t=e[i]);return t}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var e=this.referenceElm;1===e.nodeType&&(Object(a.off)(e,"mouseenter",this.show),Object(a.off)(e,"mouseleave",this.hide),Object(a.off)(e,"focus",this.handleFocus),Object(a.off)(e,"blur",this.handleBlur),Object(a.off)(e,"click",this.removeFocusing))},install:function(e){e.component(u.name,u)}};t.default=u},17:function(e,t){e.exports=i("ON3O")},2:function(e,t){e.exports=i("2kvA")},3:function(e,t){e.exports=i("ylDJ")},5:function(e,t){e.exports=i("fKx3")},7:function(e,t){e.exports=i("7+uW")}})},aW5l:function(e,t,i){"use strict";t.__esModule=!0;i("ylDJ");t.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}},ax3d:function(e,t,i){var n=i("e8AB")("keys"),r=i("3Eo+");e.exports=function(e){return n[e]||(n[e]=r(e))}},bcVt:function(e,t,i){"use strict";(function(e){t.b=function(e,t){return e[t+0]<<0>>>0|e[t+1]<<8>>>0},t.e=function(e,t,i){e[i+0]=255&t,t>>>=8,e[i+1]=255&t},t.c=function(e,t){return e[t]*Math.pow(2,24)+e[t+1]*Math.pow(2,16)+e[t+2]*Math.pow(2,8)+e[t+3]},t.f=function(e,t,i){e[i+3]=t,t>>>=8,e[i+2]=t,t>>>=8,e[i+1]=t,t>>>=8,e[i]=t},t.d=function(e,t){return e[t]},t.g=function(e,t,i){e[i]=t};var n=i("aL7J");const r=void 0!==e,o="undefined"!=typeof TextDecoder;let s;t.a=class{constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}toString(){return r?this.buffer.toString():o?(s||(s=new TextDecoder),s.decode(this.buffer)):n.p(this.buffer)}}}).call(t,i("EuP9").Buffer)},cGG2:function(e,t,i){"use strict";var n=i("JP+z"),r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===r.call(e)}function h(e,t){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),o(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:h,merge:function e(){var t={};function i(i,n){l(t[n])&&l(i)?t[n]=e(t[n],i):l(i)?t[n]=e({},i):o(i)?t[n]=i.slice():t[n]=i}for(var n=0,r=arguments.length;n<r;n++)h(arguments[n],i);return t},extend:function(e,t,i){return h(t,function(t,r){e[r]=i&&"function"==typeof t?n(t,i):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},cWxy:function(e,t,i){"use strict";var n=i("dVOP");function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var i=this;e(function(e){i.reason||(i.reason=new n(e),t(i.reason))})}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r(function(t){e=t}),cancel:e}},e.exports=r},crlp:function(e,t,i){var n=i("7KvD"),r=i("FeBl"),o=i("O4g8"),s=i("Kh4W"),a=i("evD5").f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},dIwP:function(e,t,i){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},dSzd:function(e,t,i){var n=i("e8AB")("wks"),r=i("3Eo+"),o=i("7KvD").Symbol,s="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=s&&o[e]||(s?o:r)("Symbol."+e))}).store=n},dVOP:function(e,t,i){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},e0Bm:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=61)}([function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}i.d(t,"a",function(){return n})},,,function(e,t){e.exports=i("ylDJ")},function(e,t){e.exports=i("fPll")},function(e,t){e.exports=i("fKx3")},function(e,t){e.exports=i("y+7x")},,,,function(e,t){e.exports=i("HJMx")},,function(e,t){e.exports=i("ISYW")},,function(e,t){e.exports=i("fEB+")},,function(e,t){e.exports=i("02w1")},function(e,t){e.exports=i("ON3O")},,function(e,t){e.exports=i("urW8")},,function(e,t){e.exports=i("E/in")},function(e,t){e.exports=i("1oZe")},,,,,,,,,function(e,t){e.exports=i("zTCi")},,,function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:e.itemSelected,"is-disabled":e.disabled||e.groupDisabled||e.limitReached,hover:e.hover},on:{mouseenter:e.hoverItem,click:function(t){return t.stopPropagation(),e.selectOptionClick(t)}}},[e._t("default",[i("span",[e._v(e._s(e.currentLabel))])])],2)};n._withStripped=!0;var r=i(4),o=i.n(r),s=i(3),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={mixins:[o.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(e,t){var i=this.select,n=i.remote,r=i.valueKey;if(!this.created&&!n){if(r&&"object"===(void 0===e?"undefined":a(e))&&"object"===(void 0===t?"undefined":a(t))&&e[r]===t[r])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(e,t){if(this.isObject){var i=this.select.valueKey;return Object(s.getValueByPath)(e,i)===Object(s.getValueByPath)(t,i)}return e===t},contains:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(this.isObject){var i=this.select.valueKey;return e&&e.some(function(e){return Object(s.getValueByPath)(e,i)===Object(s.getValueByPath)(t,i)})}return e&&e.indexOf(t)>-1},handleGroupDisabled:function(e){this.groupDisabled=e},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(e){this.visible=new RegExp(Object(s.escapeRegexpString)(e),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var e=this.select,t=e.selected,i=e.multiple?t:[t],n=this.select.cachedOptions.indexOf(this),r=i.indexOf(this);n>-1&&r<0&&this.select.cachedOptions.splice(n,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},c=i(0),h=Object(c.a)(l,n,[],!1,null,null,null);h.options.__file="packages/select/src/option.vue";t.a=h.exports},,,,function(e,t){e.exports=i("orbS")},,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[e.selectSize?"el-select--"+e.selectSize:""],on:{click:function(t){return t.stopPropagation(),e.toggleMenu(t)}}},[e.multiple?i("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":e.inputWidth-32+"px",width:"100%"}},[e.collapseTags&&e.selected.length?i("span",[i("el-tag",{attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(t){e.deleteTag(t,e.selected[0])}}},[i("span",{staticClass:"el-select__tags-text"},[e._v(e._s(e.selected[0].currentLabel))])]),e.selected.length>1?i("el-tag",{attrs:{closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""}},[i("span",{staticClass:"el-select__tags-text"},[e._v("+ "+e._s(e.selected.length-1))])]):e._e()],1):e._e(),e.collapseTags?e._e():i("transition-group",{on:{"after-leave":e.resetInputHeight}},e._l(e.selected,function(t){return i("el-tag",{key:e.getValueKey(t),attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,hit:t.hitState,type:"info","disable-transitions":""},on:{close:function(i){e.deleteTag(i,t)}}},[i("span",{staticClass:"el-select__tags-text"},[e._v(e._s(t.currentLabel))])])}),1),e.filterable?i("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[e.selectSize?"is-"+e.selectSize:""],style:{"flex-grow":"1",width:e.inputLength/(e.inputWidth-32)+"%","max-width":e.inputWidth-42+"px"},attrs:{type:"text",disabled:e.selectDisabled,autocomplete:e.autoComplete||e.autocomplete},domProps:{value:e.query},on:{focus:e.handleFocus,blur:function(t){e.softFocus=!1},keyup:e.managePlaceholder,keydown:[e.resetInputState,function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault(),e.navigateOptions("next")},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.preventDefault(),e.navigateOptions("prev")},function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.selectOption(t)):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;t.stopPropagation(),t.preventDefault(),e.visible=!1},function(t){return"button"in t||!e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?e.deletePrevTag(t):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;e.visible=!1}],compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition,input:[function(t){t.target.composing||(e.query=t.target.value)},e.debouncedQueryChange]}}):e._e()],1):e._e(),i("el-input",{ref:"reference",class:{"is-focus":e.visible},attrs:{type:"text",placeholder:e.currentPlaceholder,name:e.name,id:e.id,autocomplete:e.autoComplete||e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,tabindex:e.multiple&&e.filterable?"-1":null},on:{focus:e.handleFocus,blur:e.handleBlur},nativeOn:{keyup:function(t){return e.debouncedOnInputChange(t)},keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.stopPropagation(),t.preventDefault(),e.navigateOptions("next")},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.stopPropagation(),t.preventDefault(),e.navigateOptions("prev")},function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.selectOption(t)):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;t.stopPropagation(),t.preventDefault(),e.visible=!1},function(t){if(!("button"in t)&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;e.visible=!1}],paste:function(t){return e.debouncedOnInputChange(t)},mouseenter:function(t){e.inputHovering=!0},mouseleave:function(t){e.inputHovering=!1}},model:{value:e.selectedLabel,callback:function(t){e.selectedLabel=t},expression:"selectedLabel"}},[e.$slots.prefix?i("template",{slot:"prefix"},[e._t("prefix")],2):e._e(),i("template",{slot:"suffix"},[i("i",{directives:[{name:"show",rawName:"v-show",value:!e.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+e.iconClass]}),e.showClose?i("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:e.handleClearClick}}):e._e()])],2),i("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":e.handleMenuEnter,"after-leave":e.doDestroy}},[i("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:e.visible&&!1!==e.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":e.popperAppendToBody}},[i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:e.options.length>0&&!e.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!e.allowCreate&&e.query&&0===e.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[e.showNewOption?i("el-option",{attrs:{value:e.query,created:""}}):e._e(),e._t("default")],2),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.length)?[e.$slots.empty?e._t("empty"):i("p",{staticClass:"el-select-dropdown__empty"},[e._v("\n          "+e._s(e.emptyText)+"\n        ")])]:e._e()],2)],1)],1)};n._withStripped=!0;var r=i(4),o=i.n(r),s=i(22),a=i.n(s),l=i(6),c=i.n(l),h=i(10),u=i.n(h),d=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":this.$parent.multiple},this.popperClass],style:{minWidth:this.minWidth}},[this._t("default")],2)};d._withStripped=!0;var f=i(5),p={name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[i.n(f).a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var e=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",function(){e.$parent.visible&&e.updatePopper()}),this.$on("destroyPopper",this.destroyPopper)}},m=i(0),g=Object(m.a)(p,d,[],!1,null,null,null);g.options.__file="packages/select/src/select-dropdown.vue";var v=g.exports,b=i(34),_=i(38),y=i.n(_),w=i(14),C=i.n(w),S=i(17),x=i.n(S),k=i(12),L=i.n(k),D=i(16),E=i(19),N=i(31),T=i.n(N),O=i(3),M=i(21),I={mixins:[o.a,c.a,a()("reference"),{data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter(function(e){return e.visible}).every(function(e){return e.disabled})}},watch:{hoverIndex:function(e){var t=this;"number"==typeof e&&e>-1&&(this.hoverOption=this.options[e]||{}),this.options.forEach(function(e){e.hover=t.hoverOption===e})}},methods:{navigateOptions:function(e){var t=this;if(this.visible){if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===e?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===e&&(this.hoverIndex--,this.hoverIndex<0&&(this.hoverIndex=this.options.length-1));var i=this.options[this.hoverIndex];!0!==i.disabled&&!0!==i.groupDisabled&&i.visible||this.navigateOptions(e),this.$nextTick(function(){return t.scrollToOption(t.hoverOption)})}}else this.visible=!0}}}],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!Object(O.isIE)()&&!Object(O.isEdge)()&&!this.visible},showClose:function(){var e=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value;return this.clearable&&!this.selectDisabled&&this.inputHovering&&e},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&this.options.length>0&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var e=this,t=this.options.filter(function(e){return!e.created}).some(function(t){return t.currentLabel===e.query});return this.filterable&&this.allowCreate&&""!==this.query&&!t},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"}},components:{ElInput:u.a,ElSelectMenu:v,ElOption:b.a,ElTag:y.a,ElScrollbar:C.a},directives:{Clickoutside:L.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,default:function(){return Object(E.t)("el.select.placeholder")}},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var e=this;this.$nextTick(function(){e.resetInputHeight()})},placeholder:function(e){this.cachedPlaceHolder=this.currentPlaceholder=e},value:function(e,t){this.multiple&&(this.resetInputHeight(),e&&e.length>0||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(O.valueEquals)(e,t)||this.dispatch("ElFormItem","el.form.change",e)},visible:function(e){var t=this;e?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick(function(){t.$refs.input&&""===t.$refs.input.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)}),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",e)},options:function(){var e=this;if(!this.$isServer){this.$nextTick(function(){e.broadcast("ElSelectDropdown","updatePopper")}),this.multiple&&this.resetInputHeight();var t=this.$el.querySelectorAll("input");-1===[].indexOf.call(t,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleComposition:function(e){var t=this,i=e.target.value;if("compositionend"===e.type)this.isOnComposition=!1,this.$nextTick(function(e){return t.handleQueryChange(i)});else{var n=i[i.length-1]||"";this.isOnComposition=!Object(M.isKorean)(n)}},handleQueryChange:function(e){var t=this;this.previousQuery===e||this.isOnComposition||(null!==this.previousQuery||"function"!=typeof this.filterMethod&&"function"!=typeof this.remoteMethod?(this.previousQuery=e,this.$nextTick(function(){t.visible&&t.broadcast("ElSelectDropdown","updatePopper")}),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick(function(){var e=15*t.$refs.input.value.length+20;t.inputLength=t.collapseTags?Math.min(50,e):e,t.managePlaceholder(),t.resetInputHeight()}),this.remote&&"function"==typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(e)):"function"==typeof this.filterMethod?(this.filterMethod(e),this.broadcast("ElOptionGroup","queryChange")):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",e),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=e)},scrollToOption:function(e){var t=Array.isArray(e)&&e[0]?e[0].$el:e.$el;if(this.$refs.popper&&t){var i=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");T()(i,t)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var e=this;this.$nextTick(function(){return e.scrollToOption(e.selected)})},emitChange:function(e){Object(O.valueEquals)(this.value,e)||this.$emit("change",e)},getOption:function(e){for(var t=void 0,i="[object object]"===Object.prototype.toString.call(e).toLowerCase(),n="[object null]"===Object.prototype.toString.call(e).toLowerCase(),r="[object undefined]"===Object.prototype.toString.call(e).toLowerCase(),o=this.cachedOptions.length-1;o>=0;o--){var s=this.cachedOptions[o];if(i?Object(O.getValueByPath)(s.value,this.valueKey)===Object(O.getValueByPath)(e,this.valueKey):s.value===e){t=s;break}}if(t)return t;var a={value:e,currentLabel:i||n||r?"":e};return this.multiple&&(a.hitState=!1),a},setSelected:function(){var e=this;if(!this.multiple){var t=this.getOption(this.value);return t.created?(this.createdLabel=t.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=t.currentLabel,this.selected=t,void(this.filterable&&(this.query=this.selectedLabel))}var i=[];Array.isArray(this.value)&&this.value.forEach(function(t){i.push(e.getOption(t))}),this.selected=i,this.$nextTick(function(){e.resetInputHeight()})},handleFocus:function(e){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.visible=!0,this.filterable&&(this.menuVisibleOnFocus=!0)),this.$emit("focus",e))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(e){var t=this;setTimeout(function(){t.isSilentBlur?t.isSilentBlur=!1:t.$emit("blur",e)},50),this.softFocus=!1},handleClearClick:function(e){this.deleteSelected(e)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(e){if(Array.isArray(this.selected)){var t=this.selected[this.selected.length-1];if(t)return!0===e||!1===e?(t.hitState=e,e):(t.hitState=!t.hitState,t.hitState)}},deletePrevTag:function(e){if(e.target.value.length<=0&&!this.toggleLastOptionHitState()){var t=this.value.slice();t.pop(),this.$emit("input",t),this.emitChange(t)}},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(e){8!==e.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var e=this;this.collapseTags&&!this.filterable||this.$nextTick(function(){if(e.$refs.reference){var t=e.$refs.reference.$el.childNodes,i=[].filter.call(t,function(e){return"INPUT"===e.tagName})[0],n=e.$refs.tags,r=e.initialInputHeight||40;i.style.height=0===e.selected.length?r+"px":Math.max(n?n.clientHeight+(n.clientHeight>r?6:0):0,r)+"px",e.visible&&!1!==e.emptyText&&e.broadcast("ElSelectDropdown","updatePopper")}})},resetHoverIndex:function(){var e=this;setTimeout(function(){e.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map(function(t){return e.options.indexOf(t)})):e.hoverIndex=-1:e.hoverIndex=e.options.indexOf(e.selected)},300)},handleOptionSelect:function(e,t){var i=this;if(this.multiple){var n=(this.value||[]).slice(),r=this.getValueIndex(n,e.value);r>-1?n.splice(r,1):(this.multipleLimit<=0||n.length<this.multipleLimit)&&n.push(e.value),this.$emit("input",n),this.emitChange(n),e.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",e.value),this.emitChange(e.value),this.visible=!1;this.isSilentBlur=t,this.setSoftFocus(),this.visible||this.$nextTick(function(){i.scrollToOption(e)})},setSoftFocus:function(){this.softFocus=!0;var e=this.$refs.input||this.$refs.reference;e&&e.focus()},getValueIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if("[object object]"===Object.prototype.toString.call(t).toLowerCase()){var i=this.valueKey,n=-1;return e.some(function(e,r){return Object(O.getValueByPath)(e,i)===Object(O.getValueByPath)(t,i)&&(n=r,!0)}),n}return e.indexOf(t)},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(e){e.stopPropagation();var t=this.multiple?[]:"";this.$emit("input",t),this.emitChange(t),this.visible=!1,this.$emit("clear")},deleteTag:function(e,t){var i=this.selected.indexOf(t);if(i>-1&&!this.selectDisabled){var n=this.value.slice();n.splice(i,1),this.$emit("input",n),this.emitChange(n),this.$emit("remove-tag",t.value)}e.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(e){e>-1&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(e,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){this.hoverIndex=-1;for(var e=!1,t=this.options.length-1;t>=0;t--)if(this.options[t].created){e=!0,this.hoverIndex=t;break}if(!e)for(var i=0;i!==this.options.length;++i){var n=this.options[i];if(this.query){if(!n.disabled&&!n.groupDisabled&&n.visible){this.hoverIndex=i;break}}else if(n.itemSelected){this.hoverIndex=i;break}}},getValueKey:function(e){return"[object object]"!==Object.prototype.toString.call(e.value).toLowerCase()?e.value:Object(O.getValueByPath)(e.value,this.valueKey)}},created:function(){var e=this;this.cachedPlaceHolder=this.currentPlaceholder=this.placeholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=x()(this.debounce,function(){e.onInputChange()}),this.debouncedQueryChange=x()(this.debounce,function(t){e.handleQueryChange(t.target.value)}),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var e=this;this.multiple&&Array.isArray(this.value)&&this.value.length>0&&(this.currentPlaceholder=""),Object(D.addResizeListener)(this.$el,this.handleResize);var t=this.$refs.reference;if(t&&t.$el){var i=t.$el.querySelector("input");this.initialInputHeight=i.getBoundingClientRect().height||{medium:36,small:32,mini:28}[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick(function(){t&&t.$el&&(e.inputWidth=t.$el.getBoundingClientRect().width)}),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(D.removeResizeListener)(this.$el,this.handleResize)}},A=Object(m.a)(I,n,[],!1,null,null,null);A.options.__file="packages/select/src/select.vue";var P=A.exports;P.install=function(e){e.component(P.name,P)};t.default=P}])},e6n0:function(e,t,i){var n=i("evD5").f,r=i("D2L2"),o=i("dSzd")("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},e8AB:function(e,t,i){var n=i("FeBl"),r=i("7KvD"),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i("O4g8")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},eNfa:function(e,t,i){"use strict";var n;!function(r){var o={},s=/d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,a="[^\\s]+",l=/\[([^]*?)\]/gm,c=function(){};function h(e,t){for(var i=[],n=0,r=e.length;n<r;n++)i.push(e[n].substr(0,t));return i}function u(e){return function(t,i,n){var r=n[e].indexOf(i.charAt(0).toUpperCase()+i.substr(1).toLowerCase());~r&&(t.month=r)}}function d(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],p=["January","February","March","April","May","June","July","August","September","October","November","December"],m=h(p,3),g=h(f,3);o.i18n={dayNamesShort:g,dayNames:f,monthNamesShort:m,monthNames:p,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}};var v={D:function(e){return e.getDay()},DD:function(e){return d(e.getDay())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDate()},dd:function(e){return d(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return d(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return d(String(e.getFullYear()),4).substr(2)},yyyy:function(e){return d(e.getFullYear(),4)},h:function(e){return e.getHours()%12||12},hh:function(e){return d(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return d(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return d(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return d(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return d(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return d(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+d(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},b={d:["\\d\\d?",function(e,t){e.day=t}],Do:["\\d\\d?"+a,function(e,t){e.day=parseInt(t,10)}],M:["\\d\\d?",function(e,t){e.month=t-1}],yy:["\\d\\d?",function(e,t){var i=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(t>68?i-1:i)+t}],h:["\\d\\d?",function(e,t){e.hour=t}],m:["\\d\\d?",function(e,t){e.minute=t}],s:["\\d\\d?",function(e,t){e.second=t}],yyyy:["\\d{4}",function(e,t){e.year=t}],S:["\\d",function(e,t){e.millisecond=100*t}],SS:["\\d{2}",function(e,t){e.millisecond=10*t}],SSS:["\\d{3}",function(e,t){e.millisecond=t}],D:["\\d\\d?",c],ddd:[a,c],MMM:[a,u("monthNamesShort")],MMMM:[a,u("monthNames")],a:[a,function(e,t,i){var n=t.toLowerCase();n===i.amPm[0]?e.isPm=!1:n===i.amPm[1]&&(e.isPm=!0)}],ZZ:["[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z",function(e,t){var i,n=(t+"").match(/([+-]|\d\d)/gi);n&&(i=60*n[1]+parseInt(n[2],10),e.timezoneOffset="+"===n[0]?i:-i)}]};b.dd=b.d,b.dddd=b.ddd,b.DD=b.D,b.mm=b.m,b.hh=b.H=b.HH=b.h,b.MM=b.M,b.ss=b.s,b.A=b.a,o.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/D/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},o.format=function(e,t,i){var n=i||o.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");var r=[];return(t=(t=(t=o.masks[t]||t||o.masks.default).replace(l,function(e,t){return r.push(t),"@@@"})).replace(s,function(t){return t in v?v[t](e,n):t.slice(1,t.length-1)})).replace(/@@@/g,function(){return r.shift()})},o.parse=function(e,t,i){var n=i||o.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=o.masks[t]||t,e.length>1e3)return null;var r={},a=[],c=[];t=t.replace(l,function(e,t){return c.push(t),"@@@"});var h,u=(h=t,h.replace(/[|\\{()[^$+*?.-]/g,"\\$&")).replace(s,function(e){if(b[e]){var t=b[e];return a.push(t[1]),"("+t[0]+")"}return e});u=u.replace(/@@@/g,function(){return c.shift()});var d=e.match(new RegExp(u,"i"));if(!d)return null;for(var f=1;f<d.length;f++)a[f-1](r,d[f],n);var p,m=new Date;return!0===r.isPm&&null!=r.hour&&12!=+r.hour?r.hour=+r.hour+12:!1===r.isPm&&12==+r.hour&&(r.hour=0),null!=r.timezoneOffset?(r.minute=+(r.minute||0)-+r.timezoneOffset,p=new Date(Date.UTC(r.year||m.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0))):p=new Date(r.year||m.getFullYear(),r.month||0,r.day||1,r.hour||0,r.minute||0,r.second||0,r.millisecond||0),p},void 0!==e&&e.exports?e.exports=o:void 0===(n=function(){return o}.call(t,i,t,e))||(e.exports=n)}()},evD5:function(e,t,i){var n=i("77Pl"),r=i("SfB7"),o=i("MmMw"),s=Object.defineProperty;t.f=i("+E39")?Object.defineProperty:function(e,t,i){if(n(e),t=o(t,!0),n(i),r)try{return s(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},"fEB+":function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=127)}({127:function(e,t,i){"use strict";i.r(t);var n=i(16),r=i(39),o=i.n(r),s=i(3),a=i(2),l={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};var c={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return l[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(e){var t=this.size,i=this.move,n=this.bar;return e("div",{class:["el-scrollbar__bar","is-"+n.key],on:{mousedown:this.clickTrackHandler}},[e("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:function(e){var t=e.move,i=e.size,n=e.bar,r={},o="translate"+n.axis+"("+t+"%)";return r[n.size]=i,r.transform=o,r.msTransform=o,r.webkitTransform=o,r}({size:t,move:i,bar:n})})])},methods:{clickThumbHandler:function(e){e.ctrlKey||2===e.button||(this.startDrag(e),this[this.bar.axis]=e.currentTarget[this.bar.offset]-(e[this.bar.client]-e.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(e){var t=100*(Math.abs(e.target.getBoundingClientRect()[this.bar.direction]-e[this.bar.client])-this.$refs.thumb[this.bar.offset]/2)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=t*this.wrap[this.bar.scrollSize]/100},startDrag:function(e){e.stopImmediatePropagation(),this.cursorDown=!0,Object(a.on)(document,"mousemove",this.mouseMoveDocumentHandler),Object(a.on)(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(e){if(!1!==this.cursorDown){var t=this[this.bar.axis];if(t){var i=100*(-1*(this.$el.getBoundingClientRect()[this.bar.direction]-e[this.bar.client])-(this.$refs.thumb[this.bar.offset]-t))/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=i*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(e){this.cursorDown=!1,this[this.bar.axis]=0,Object(a.off)(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(a.off)(document,"mouseup",this.mouseUpDocumentHandler)}},h={name:"ElScrollbar",components:{Bar:c},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(e){var t=o()(),i=this.wrapStyle;if(t){var n="-"+t+"px",r="margin-bottom: "+n+"; margin-right: "+n+";";Array.isArray(this.wrapStyle)?(i=Object(s.toObject)(this.wrapStyle)).marginRight=i.marginBottom=n:"string"==typeof this.wrapStyle?i+=r:i=r}var a=e(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),l=e("div",{ref:"wrap",style:i,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",t?"":"el-scrollbar__wrap--hidden-default"]},[[a]]);return e("div",{class:"el-scrollbar"},this.native?[e("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:i},[[a]])]:[l,e(c,{attrs:{move:this.moveX,size:this.sizeWidth}}),e(c,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})])},methods:{handleScroll:function(){var e=this.wrap;this.moveY=100*e.scrollTop/e.clientHeight,this.moveX=100*e.scrollLeft/e.clientWidth},update:function(){var e,t,i=this.wrap;i&&(e=100*i.clientHeight/i.scrollHeight,t=100*i.clientWidth/i.scrollWidth,this.sizeHeight=e<100?e+"%":"",this.sizeWidth=t<100?t+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(n.addResizeListener)(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||!this.noresize&&Object(n.removeResizeListener)(this.$refs.resize,this.update)},install:function(e){e.component(h.name,h)}};t.default=h},16:function(e,t){e.exports=i("02w1")},2:function(e,t){e.exports=i("2kvA")},3:function(e,t){e.exports=i("ylDJ")},39:function(e,t){e.exports=i("6Twh")}})},fKx3:function(e,t,i){"use strict";t.__esModule=!0;var n,r=i("7+uW"),o=(n=r)&&n.__esModule?n:{default:n},s=i("7J9s");var a=o.default.prototype.$isServer?function(){}:i("NMof"),l=function(e){return e.stopPropagation()};t.default={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function(){return{gpuAcceleration:!1}}}},data:function(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function(e){this.showPopper=e,this.$emit("input",e)}},showPopper:function(e){this.disabled||(e?this.updatePopper():this.destroyPopper(),this.$emit("input",e))}},methods:{createPopper:function(){var e=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var t=this.popperOptions,i=this.popperElm=this.popperElm||this.popper||this.$refs.popper,n=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!n&&this.$slots.reference&&this.$slots.reference[0]&&(n=this.referenceElm=this.$slots.reference[0].elm),i&&n&&(this.visibleArrow&&this.appendArrow(i),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),t.placement=this.currentPlacement,t.offset=this.offset,t.arrowOffset=this.arrowOffset,this.popperJS=new a(n,i,t),this.popperJS.onCreate(function(t){e.$emit("created",e),e.resetTransformOrigin(),e.$nextTick(e.updatePopper)}),"function"==typeof t.onUpdate&&this.popperJS.onUpdate(t.onUpdate),this.popperJS._popper.style.zIndex=s.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",l))}},updatePopper:function(){var e=this.popperJS;e?(e.update(),e._popper&&(e._popper.style.zIndex=s.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function(e){!this.popperJS||this.showPopper&&!e||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function(){if(this.transformOrigin){var e=this.popperJS._popper.getAttribute("x-placement").split("-")[0],t={top:"bottom",bottom:"top",left:"right",right:"left"}[e];this.popperJS._popper.style.transformOrigin="string"==typeof this.transformOrigin?this.transformOrigin:["top","bottom"].indexOf(e)>-1?"center "+t:t+" center"}},appendArrow:function(e){var t=void 0;if(!this.appended){for(var i in this.appended=!0,e.attributes)if(/^_v-/.test(e.attributes[i].name)){t=e.attributes[i].name;break}var n=document.createElement("div");t&&n.setAttribute(t,""),n.setAttribute("x-arrow",""),n.className="popper__arrow",e.appendChild(n)}}},beforeDestroy:function(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",l),document.body.removeChild(this.popperElm))},deactivated:function(){this.$options.beforeDestroy[0].call(this)}}},fPll:function(e,t,i){"use strict";t.__esModule=!0,t.default={methods:{dispatch:function(e,t,i){for(var n=this.$parent||this.$root,r=n.$options.componentName;n&&(!r||r!==e);)(n=n.$parent)&&(r=n.$options.componentName);n&&n.$emit.apply(n,[t].concat(i))},broadcast:function(e,t,i){(function e(t,i,n){this.$children.forEach(function(r){r.$options.componentName===t?r.$emit.apply(r,[i].concat(n)):e.apply(r,[t,i].concat([n]))})}).call(this,e,t,i)}}}},fUqW:function(e,t,i){"use strict";t.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isVNode=function(e){return null!==e&&"object"===(void 0===e?"undefined":n(e))&&(0,r.hasOwn)(e,"componentOptions")};var r=i("ylDJ")},fWfb:function(e,t,i){"use strict";var n=i("7KvD"),r=i("D2L2"),o=i("+E39"),s=i("kM2E"),a=i("880/"),l=i("06OY").KEY,c=i("S82l"),h=i("e8AB"),u=i("e6n0"),d=i("3Eo+"),f=i("dSzd"),p=i("Kh4W"),m=i("crlp"),g=i("Xc4G"),v=i("7UMu"),b=i("77Pl"),_=i("EqjI"),y=i("sB3e"),w=i("TcQ7"),C=i("MmMw"),S=i("X8DO"),x=i("Yobk"),k=i("Rrel"),L=i("LKZe"),D=i("1kS7"),E=i("evD5"),N=i("lktj"),T=L.f,O=E.f,M=k.f,I=n.Symbol,A=n.JSON,P=A&&A.stringify,R=f("_hidden"),F=f("toPrimitive"),V={}.propertyIsEnumerable,B=h("symbol-registry"),W=h("symbols"),$=h("op-symbols"),z=Object.prototype,H="function"==typeof I&&!!D.f,j=n.QObject,U=!j||!j.prototype||!j.prototype.findChild,K=o&&c(function(){return 7!=x(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=T(z,t);n&&delete z[t],O(e,t,i),n&&e!==z&&O(z,t,n)}:O,q=function(e){var t=W[e]=x(I.prototype);return t._k=e,t},G=H&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},Y=function(e,t,i){return e===z&&Y($,t,i),b(e),t=C(t,!0),b(i),r(W,t)?(i.enumerable?(r(e,R)&&e[R][t]&&(e[R][t]=!1),i=x(i,{enumerable:S(0,!1)})):(r(e,R)||O(e,R,S(1,{})),e[R][t]=!0),K(e,t,i)):O(e,t,i)},X=function(e,t){b(e);for(var i,n=g(t=w(t)),r=0,o=n.length;o>r;)Y(e,i=n[r++],t[i]);return e},Z=function(e){var t=V.call(this,e=C(e,!0));return!(this===z&&r(W,e)&&!r($,e))&&(!(t||!r(this,e)||!r(W,e)||r(this,R)&&this[R][e])||t)},Q=function(e,t){if(e=w(e),t=C(t,!0),e!==z||!r(W,t)||r($,t)){var i=T(e,t);return!i||!r(W,t)||r(e,R)&&e[R][t]||(i.enumerable=!0),i}},J=function(e){for(var t,i=M(w(e)),n=[],o=0;i.length>o;)r(W,t=i[o++])||t==R||t==l||n.push(t);return n},ee=function(e){for(var t,i=e===z,n=M(i?$:w(e)),o=[],s=0;n.length>s;)!r(W,t=n[s++])||i&&!r(z,t)||o.push(W[t]);return o};H||(a((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(i){this===z&&t.call($,i),r(this,R)&&r(this[R],e)&&(this[R][e]=!1),K(this,e,S(1,i))};return o&&U&&K(z,e,{configurable:!0,set:t}),q(e)}).prototype,"toString",function(){return this._k}),L.f=Q,E.f=Y,i("n0T6").f=k.f=J,i("NpIQ").f=Z,D.f=ee,o&&!i("O4g8")&&a(z,"propertyIsEnumerable",Z,!0),p.f=function(e){return q(f(e))}),s(s.G+s.W+s.F*!H,{Symbol:I});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ie=0;te.length>ie;)f(te[ie++]);for(var ne=N(f.store),re=0;ne.length>re;)m(ne[re++]);s(s.S+s.F*!H,"Symbol",{for:function(e){return r(B,e+="")?B[e]:B[e]=I(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){U=!0},useSimple:function(){U=!1}}),s(s.S+s.F*!H,"Object",{create:function(e,t){return void 0===t?x(e):X(x(e),t)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:ee});var oe=c(function(){D.f(1)});s(s.S+s.F*oe,"Object",{getOwnPropertySymbols:function(e){return D.f(y(e))}}),A&&s(s.S+s.F*(!H||c(function(){var e=I();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){for(var t,i,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=t=n[1],(_(t)||void 0!==e)&&!G(e))return v(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!G(t))return t}),n[1]=t,P.apply(A,n)}}),I.prototype[F]||i("hJx8")(I.prototype,F,I.prototype.valueOf),u(I,"Symbol"),u(Math,"Math",!0),u(n.JSON,"JSON",!0)},fkB2:function(e,t,i){var n=i("UuGF"),r=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):o(e,t)}},fo6W:function(e,t,i){(function(e){"use strict";e.registerHelper("fold","brace",function(t,i){var n,r=i.line,o=t.getLine(r);function s(s){for(var a=i.ch,l=0;;){var c=a<=0?-1:o.lastIndexOf(s,a-1);if(-1!=c){if(1==l&&c<i.ch)break;if(n=t.getTokenTypeAt(e.Pos(r,c+1)),!/^(comment|string)/.test(n))return c+1;a=c-1}else{if(1==l)break;l=1,a=o.length}}}var a="{",l="}",c=s("{");if(null==c&&(a="[",l="]",c=s("[")),null!=c){var h,u,d=1,f=t.lastLine();e:for(var p=r;p<=f;++p)for(var m=t.getLine(p),g=p==r?c:0;;){var v=m.indexOf(a,g),b=m.indexOf(l,g);if(v<0&&(v=m.length),b<0&&(b=m.length),(g=Math.min(v,b))==m.length)break;if(t.getTokenTypeAt(e.Pos(p,g+1))==n)if(g==v)++d;else if(!--d){h=p,u=g;break e}++g}if(null!=h&&r!=h)return{from:e.Pos(r,c),to:e.Pos(h,u)}}}),e.registerHelper("fold","import",function(t,i){function n(i){if(i<t.firstLine()||i>t.lastLine())return null;var n=t.getTokenAt(e.Pos(i,1));if(/\S/.test(n.string)||(n=t.getTokenAt(e.Pos(i,n.end+1))),"keyword"!=n.type||"import"!=n.string)return null;for(var r=i,o=Math.min(t.lastLine(),i+10);r<=o;++r){var s=t.getLine(r).indexOf(";");if(-1!=s)return{startCh:n.end,end:e.Pos(r,s)}}}var r,o=i.line,s=n(o);if(!s||n(o-1)||(r=n(o-2))&&r.end.line==o-1)return null;for(var a=s.end;;){var l=n(a.line+1);if(null==l)break;a=l.end}return{from:t.clipPos(e.Pos(o,s.startCh+1)),to:a}}),e.registerHelper("fold","include",function(t,i){function n(i){if(i<t.firstLine()||i>t.lastLine())return null;var n=t.getTokenAt(e.Pos(i,1));return/\S/.test(n.string)||(n=t.getTokenAt(e.Pos(i,n.end+1))),"meta"==n.type&&"#include"==n.string.slice(0,8)?n.start+8:void 0}var r=i.line,o=n(r);if(null==o||null!=n(r-1))return null;for(var s=r;;){if(null==n(s+1))break;++s}return{from:e.Pos(r,o+1),to:t.clipPos(e.Pos(s))}})})(i("8U58"))},fuGk:function(e,t,i){"use strict";var n=i("cGG2");function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},h65t:function(e,t,i){var n=i("UuGF"),r=i("52gC");e.exports=function(e){return function(t,i){var o,s,a=String(r(t)),l=n(i),c=a.length;return l<0||l>=c?e?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===c||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},hJx8:function(e,t,i){var n=i("evD5"),r=i("X8DO");e.exports=i("+E39")?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},hyEB:function(e,t,i){"use strict";t.__esModule=!0;var n=n||{};n.Utils=n.Utils||{},n.Utils.focusFirstDescendant=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(n.Utils.attemptFocus(i)||n.Utils.focusFirstDescendant(i))return!0}return!1},n.Utils.focusLastDescendant=function(e){for(var t=e.childNodes.length-1;t>=0;t--){var i=e.childNodes[t];if(n.Utils.attemptFocus(i)||n.Utils.focusLastDescendant(i))return!0}return!1},n.Utils.attemptFocus=function(e){if(!n.Utils.isFocusable(e))return!1;n.Utils.IgnoreUtilFocusChanges=!0;try{e.focus()}catch(e){}return n.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===e},n.Utils.isFocusable=function(e){if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return"hidden"!==e.type&&"file"!==e.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},n.Utils.triggerEvent=function(e,t){var i=void 0;i=/^mouse|click/.test(t)?"MouseEvents":/^key/.test(t)?"KeyboardEvent":"HTMLEvents";for(var n=document.createEvent(i),r=arguments.length,o=Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];return n.initEvent.apply(n,[t].concat(o)),e.dispatchEvent?e.dispatchEvent(n):e.fireEvent("on"+t,n),e},n.Utils.keys={tab:9,enter:13,space:32,left:37,up:38,right:39,down:40,esc:27},t.default=n.Utils},i3rX:function(e,t,i){"use strict";var n=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e)};var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){var i;return t&&!0===t.clone&&n(e)?a((i=e,Array.isArray(i)?[]:{}),e,t):e}function s(e,t,i){var r=e.slice();return t.forEach(function(t,s){void 0===r[s]?r[s]=o(t,i):n(t)?r[s]=a(e[s],t,i):-1===e.indexOf(t)&&r.push(o(t,i))}),r}function a(e,t,i){var r=Array.isArray(t);return r===Array.isArray(e)?r?((i||{arrayMerge:s}).arrayMerge||s)(e,t,i):function(e,t,i){var r={};return n(e)&&Object.keys(e).forEach(function(t){r[t]=o(e[t],i)}),Object.keys(t).forEach(function(s){n(t[s])&&e[s]?r[s]=a(e[s],t[s],i):r[s]=o(t[s],i)}),r}(e,t,i):o(t,i)}a.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,i){return a(e,i,t)})};var l=a;e.exports=l},jmaC:function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){for(var t=1,i=arguments.length;t<i;t++){var n=arguments[t]||{};for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];void 0!==o&&(e[r]=o)}}return e}},jwfv:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Dd8w"),r=i.n(n),o=i("pFYg"),s=i.n(o),a=/%[sdj%]/g,l=function(){};function c(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=1,r=t[0],o=t.length;if("function"==typeof r)return r.apply(null,t.slice(1));if("string"==typeof r){for(var s=String(r).replace(a,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(t[n++]);case"%d":return Number(t[n++]);case"%j":try{return JSON.stringify(t[n++])}catch(e){return"[Circular]"}break;default:return e}}),l=t[n];n<o;l=t[++n])s+=" "+l;return s}return r}function h(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function u(e,t,i){var n=0,r=e.length;!function o(s){if(s&&s.length)i(s);else{var a=n;n+=1,a<r?t(e[a],o):i([])}}([])}function d(e,t,i,n){if(t.first)return u(function(e){var t=[];return Object.keys(e).forEach(function(i){t.push.apply(t,e[i])}),t}(e),i,n);var r=t.firstFields||[];!0===r&&(r=Object.keys(e));var o=Object.keys(e),s=o.length,a=0,l=[],c=function(e){l.push.apply(l,e),++a===s&&n(l)};o.forEach(function(t){var n=e[t];-1!==r.indexOf(t)?u(n,i,c):function(e,t,i){var n=[],r=0,o=e.length;function s(e){n.push.apply(n,e),++r===o&&i(n)}e.forEach(function(e){t(e,s)})}(n,i,c)})}function f(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:t,field:t.field||e.fullField}}}function p(e,t){if(t)for(var i in t)if(t.hasOwnProperty(i)){var n=t[i];"object"===(void 0===n?"undefined":s()(n))&&"object"===s()(e[i])?e[i]=r()({},e[i],n):e[i]=n}return e}var m=function(e,t,i,n,r,o){!e.required||i.hasOwnProperty(e.field)&&!h(t,o||e.type)||n.push(c(r.messages.required,e.fullField))};var g=function(e,t,i,n,r){(/^\s+$/.test(t)||""===t)&&n.push(c(r.messages.whitespace,e.fullField))},v={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},b={integer:function(e){return b.number(e)&&parseInt(e,10)===e},float:function(e){return b.number(e)&&!b.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"===(void 0===e?"undefined":s()(e))&&!b.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(v.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(v.url)},hex:function(e){return"string"==typeof e&&!!e.match(v.hex)}};var _="enum";var y={required:m,whitespace:g,type:function(e,t,i,n,r){if(e.required&&void 0===t)m(e,t,i,n,r);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?b[o](t)||n.push(c(r.messages.types[o],e.fullField,e.type)):o&&(void 0===t?"undefined":s()(t))!==e.type&&n.push(c(r.messages.types[o],e.fullField,e.type))}},range:function(e,t,i,n,r){var o="number"==typeof e.len,s="number"==typeof e.min,a="number"==typeof e.max,l=t,h=null,u="number"==typeof t,d="string"==typeof t,f=Array.isArray(t);if(u?h="number":d?h="string":f&&(h="array"),!h)return!1;f&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==e.len&&n.push(c(r.messages[h].len,e.fullField,e.len)):s&&!a&&l<e.min?n.push(c(r.messages[h].min,e.fullField,e.min)):a&&!s&&l>e.max?n.push(c(r.messages[h].max,e.fullField,e.max)):s&&a&&(l<e.min||l>e.max)&&n.push(c(r.messages[h].range,e.fullField,e.min,e.max))},enum:function(e,t,i,n,r){e[_]=Array.isArray(e[_])?e[_]:[],-1===e[_].indexOf(t)&&n.push(c(r.messages[_],e.fullField,e[_].join(", ")))},pattern:function(e,t,i,n,r){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||n.push(c(r.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"==typeof e.pattern&&(new RegExp(e.pattern).test(t)||n.push(c(r.messages.pattern.mismatch,e.fullField,t,e.pattern))))}};var w="enum";var C=function(e,t,i,n,r){var o=e.type,s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t,o)&&!e.required)return i();y.required(e,t,n,s,r,o),h(t,o)||y.type(e,t,n,s,r)}i(s)},S={string:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t,"string")&&!e.required)return i();y.required(e,t,n,o,r,"string"),h(t,"string")||(y.type(e,t,n,o,r),y.range(e,t,n,o,r),y.pattern(e,t,n,o,r),!0===e.whitespace&&y.whitespace(e,t,n,o,r))}i(o)},method:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return i();y.required(e,t,n,o,r),void 0!==t&&y.type(e,t,n,o,r)}i(o)},number:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return i();y.required(e,t,n,o,r),void 0!==t&&(y.type(e,t,n,o,r),y.range(e,t,n,o,r))}i(o)},boolean:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return i();y.required(e,t,n,o,r),void 0!==t&&y.type(e,t,n,o,r)}i(o)},regexp:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return i();y.required(e,t,n,o,r),h(t)||y.type(e,t,n,o,r)}i(o)},integer:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return i();y.required(e,t,n,o,r),void 0!==t&&(y.type(e,t,n,o,r),y.range(e,t,n,o,r))}i(o)},float:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return i();y.required(e,t,n,o,r),void 0!==t&&(y.type(e,t,n,o,r),y.range(e,t,n,o,r))}i(o)},array:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t,"array")&&!e.required)return i();y.required(e,t,n,o,r,"array"),h(t,"array")||(y.type(e,t,n,o,r),y.range(e,t,n,o,r))}i(o)},object:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return i();y.required(e,t,n,o,r),void 0!==t&&y.type(e,t,n,o,r)}i(o)},enum:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return i();y.required(e,t,n,o,r),t&&y[w](e,t,n,o,r)}i(o)},pattern:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t,"string")&&!e.required)return i();y.required(e,t,n,o,r),h(t,"string")||y.pattern(e,t,n,o,r)}i(o)},date:function(e,t,i,n,r){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(h(t)&&!e.required)return i();if(y.required(e,t,n,o,r),!h(t)){var s=void 0;s="number"==typeof t?new Date(t):t,y.type(e,s,n,o,r),s&&y.range(e,s.getTime(),n,o,r)}}i(o)},url:C,hex:C,email:C,required:function(e,t,i,n,r){var o=[],a=Array.isArray(t)?"array":void 0===t?"undefined":s()(t);y.required(e,t,n,o,r,a),i(o)}};function x(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var k=x();function L(e){this.rules=null,this._messages=k,this.define(e)}L.prototype={messages:function(e){return e&&(this._messages=p(x(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==(void 0===e?"undefined":s()(e))||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t=void 0,i=void 0;for(t in e)e.hasOwnProperty(t)&&(i=e[t],this.rules[t]=Array.isArray(i)?i:[i])},validate:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],o=e,a=i,h=n;if("function"==typeof a&&(h=a,a={}),this.rules&&0!==Object.keys(this.rules).length){if(a.messages){var u=this.messages();u===k&&(u=x()),p(u,a.messages),a.messages=u}else a.messages=this.messages();var m=void 0,g=void 0,v={};(a.keys||Object.keys(this.rules)).forEach(function(i){m=t.rules[i],g=o[i],m.forEach(function(n){var s=n;"function"==typeof s.transform&&(o===e&&(o=r()({},o)),g=o[i]=s.transform(g)),(s="function"==typeof s?{validator:s}:r()({},s)).validator=t.getValidationMethod(s),s.field=i,s.fullField=s.fullField||i,s.type=t.getType(s),s.validator&&(v[i]=v[i]||[],v[i].push({rule:s,value:g,source:o,field:i}))})});var b={};d(v,a,function(e,t){var i=e.rule,n=!("object"!==i.type&&"array"!==i.type||"object"!==s()(i.fields)&&"object"!==s()(i.defaultField));function o(e,t){return r()({},t,{fullField:i.fullField+"."+e})}function h(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Array.isArray(s)||(s=[s]),s.length&&l("async-validator:",s),s.length&&i.message&&(s=[].concat(i.message)),s=s.map(f(i)),a.first&&s.length)return b[i.field]=1,t(s);if(n){if(i.required&&!e.value)return s=i.message?[].concat(i.message).map(f(i)):a.error?[a.error(i,c(a.messages.required,i.field))]:[],t(s);var h={};if(i.defaultField)for(var u in e.value)e.value.hasOwnProperty(u)&&(h[u]=i.defaultField);for(var d in h=r()({},h,e.rule.fields))if(h.hasOwnProperty(d)){var p=Array.isArray(h[d])?h[d]:[h[d]];h[d]=p.map(o.bind(null,d))}var m=new L(h);m.messages(a.messages),e.rule.options&&(e.rule.options.messages=a.messages,e.rule.options.error=a.error),m.validate(e.value,e.rule.options||a,function(e){t(e&&e.length?s.concat(e):e)})}else t(s)}n=n&&(i.required||!i.required&&e.value),i.field=e.field;var u=i.validator(i,e.value,h,e.source,a);u&&u.then&&u.then(function(){return h()},function(e){return h(e)})},function(e){!function(e){var t,i=void 0,n=void 0,r=[],o={};for(i=0;i<e.length;i++)t=e[i],Array.isArray(t)?r=r.concat.apply(r,t):r.push(t);if(r.length)for(i=0;i<r.length;i++)o[n=r[i].field]=o[n]||[],o[n].push(r[i]);else r=null,o=null;h(r,o)}(e)})}else h&&h()},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!S.hasOwnProperty(e.type))throw new Error(c("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),i=t.indexOf("message");return-1!==i&&t.splice(i,1),1===t.length&&"required"===t[0]?S.required:S[this.getType(e)]||!1}},L.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");S[e]=t},L.messages=k;t.default=L},kM2E:function(e,t,i){var n=i("7KvD"),r=i("FeBl"),o=i("+ZMJ"),s=i("hJx8"),a=i("D2L2"),l=function(e,t,i){var c,h,u,d=e&l.F,f=e&l.G,p=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,b=f?r:r[t]||(r[t]={}),_=b.prototype,y=f?n:p?n[t]:(n[t]||{}).prototype;for(c in f&&(i=t),i)(h=!d&&y&&void 0!==y[c])&&a(b,c)||(u=h?y[c]:i[c],b[c]=f&&"function"!=typeof y[c]?i[c]:g&&h?o(u,n):v&&y[c]==u?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):m&&"function"==typeof u?o(Function.call,u):u,m&&((b.virtual||(b.virtual={}))[c]=u,e&l.R&&_&&!_[c]&&s(_,c,u)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},kNJA:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=59)}({0:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}i.d(t,"a",function(){return n})},14:function(e,t){e.exports=i("fEB+")},18:function(e,t){e.exports=i("EKTV")},21:function(e,t){e.exports=i("E/in")},26:function(e,t){e.exports=i("nvbp")},3:function(e,t){e.exports=i("ylDJ")},31:function(e,t){e.exports=i("zTCi")},32:function(e,t){e.exports=i("hyEB")},51:function(e,t){e.exports=i("RDoK")},59:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["el-cascader-panel",this.border&&"is-bordered"],on:{keydown:this.handleKeyDown}},this._l(this.menus,function(e,i){return t("cascader-menu",{key:i,ref:"menu",refInFor:!0,attrs:{index:i,nodes:e}})}),1)};n._withStripped=!0;var r=i(26),o=i.n(r),s=i(14),a=i.n(s),l=i(18),c=i.n(l),h=i(51),u=i.n(h),d=i(3),f=function(e){return e.stopPropagation()},p={inject:["panel"],components:{ElCheckbox:c.a,ElRadio:u.a},props:{node:{required:!0},nodeId:String},computed:{config:function(){return this.panel.config},isLeaf:function(){return this.node.isLeaf},isDisabled:function(){return this.node.isDisabled},checkedValue:function(){return this.panel.checkedValue},isChecked:function(){return this.node.isSameNode(this.checkedValue)},inActivePath:function(){return this.isInPath(this.panel.activePath)},inCheckedPath:function(){var e=this;return!!this.config.checkStrictly&&this.panel.checkedNodePaths.some(function(t){return e.isInPath(t)})},value:function(){return this.node.getValueByOption()}},methods:{handleExpand:function(){var e=this,t=this.panel,i=this.node,n=this.isDisabled,r=this.config,o=r.multiple;!r.checkStrictly&&n||i.loading||(r.lazy&&!i.loaded?t.lazyLoad(i,function(){var t=e.isLeaf;if(t||e.handleExpand(),o){var n=!!t&&i.checked;e.handleMultiCheckChange(n)}}):t.handleExpand(i))},handleCheckChange:function(){var e=this.panel,t=this.value,i=this.node;e.handleCheckChange(t),e.handleExpand(i)},handleMultiCheckChange:function(e){this.node.doCheck(e),this.panel.calculateMultiCheckedValue()},isInPath:function(e){var t=this.node;return(e[t.level-1]||{}).uid===t.uid},renderPrefix:function(e){var t=this.isLeaf,i=this.isChecked,n=this.config,r=n.checkStrictly;return n.multiple?this.renderCheckbox(e):r?this.renderRadio(e):t&&i?this.renderCheckIcon(e):null},renderPostfix:function(e){var t=this.node,i=this.isLeaf;return t.loading?this.renderLoadingIcon(e):i?null:this.renderExpandIcon(e)},renderCheckbox:function(e){var t=this.node,i=this.config,n=this.isDisabled,r={on:{change:this.handleMultiCheckChange},nativeOn:{}};return i.checkStrictly&&(r.nativeOn.click=f),e("el-checkbox",o()([{attrs:{value:t.checked,indeterminate:t.indeterminate,disabled:n}},r]))},renderRadio:function(e){var t=this.checkedValue,i=this.value,n=this.isDisabled;return Object(d.isEqual)(i,t)&&(i=t),e("el-radio",{attrs:{value:t,label:i,disabled:n},on:{change:this.handleCheckChange},nativeOn:{click:f}},[e("span")])},renderCheckIcon:function(e){return e("i",{class:"el-icon-check el-cascader-node__prefix"})},renderLoadingIcon:function(e){return e("i",{class:"el-icon-loading el-cascader-node__postfix"})},renderExpandIcon:function(e){return e("i",{class:"el-icon-arrow-right el-cascader-node__postfix"})},renderContent:function(e){var t=this.panel,i=this.node,n=t.renderLabelFn;return e("span",{class:"el-cascader-node__label"},[(n?n({node:i,data:i.data}):null)||i.label])}},render:function(e){var t=this,i=this.inActivePath,n=this.inCheckedPath,r=this.isChecked,s=this.isLeaf,a=this.isDisabled,l=this.config,c=this.nodeId,h=l.expandTrigger,u=l.checkStrictly,d=l.multiple,f=!u&&a,p={on:{}};return"click"===h?p.on.click=this.handleExpand:(p.on.mouseenter=function(e){t.handleExpand(),t.$emit("expand",e)},p.on.focus=function(e){t.handleExpand(),t.$emit("expand",e)}),!s||a||u||d||(p.on.click=this.handleCheckChange),e("li",o()([{attrs:{role:"menuitem",id:c,"aria-expanded":i,tabindex:f?null:-1},class:{"el-cascader-node":!0,"is-selectable":u,"in-active-path":i,"in-checked-path":n,"is-active":r,"is-disabled":f}},p]),[this.renderPrefix(e),this.renderContent(e),this.renderPostfix(e)])}},m=i(0),g=Object(m.a)(p,void 0,void 0,!1,null,null,null);g.options.__file="packages/cascader-panel/src/cascader-node.vue";var v=g.exports,b=i(6),_={name:"ElCascaderMenu",mixins:[i.n(b).a],inject:["panel"],components:{ElScrollbar:a.a,CascaderNode:v},props:{nodes:{type:Array,required:!0},index:Number},data:function(){return{activeNode:null,hoverTimer:null,id:Object(d.generateId)()}},computed:{isEmpty:function(){return!this.nodes.length},menuId:function(){return"cascader-menu-"+this.id+"-"+this.index}},methods:{handleExpand:function(e){this.activeNode=e.target},handleMouseMove:function(e){var t=this.activeNode,i=this.hoverTimer,n=this.$refs.hoverZone;if(t&&n)if(t.contains(e.target)){clearTimeout(i);var r=this.$el.getBoundingClientRect().left,o=e.clientX-r,s=this.$el,a=s.offsetWidth,l=s.offsetHeight,c=t.offsetTop,h=c+t.offsetHeight;n.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'+o+" "+c+" L"+a+" 0 V"+c+' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M'+o+" "+h+" L"+a+" "+l+" V"+h+' Z" />\n        '}else i||(this.hoverTimer=setTimeout(this.clearHoverZone,this.panel.config.hoverThreshold))},clearHoverZone:function(){var e=this.$refs.hoverZone;e&&(e.innerHTML="")},renderEmptyText:function(e){return e("div",{class:"el-cascader-menu__empty-text"},[this.t("el.cascader.noData")])},renderNodeList:function(e){var t=this.menuId,i=this.panel.isHoverMenu,n={on:{}};i&&(n.on.expand=this.handleExpand);var r=this.nodes.map(function(i,r){var s=i.hasChildren;return e("cascader-node",o()([{key:i.uid,attrs:{node:i,"node-id":t+"-"+r,"aria-haspopup":s,"aria-owns":s?t:null}},n]))});return[].concat(r,[i?e("svg",{ref:"hoverZone",class:"el-cascader-menu__hover-zone"}):null])}},render:function(e){var t=this.isEmpty,i=this.menuId,n={nativeOn:{}};return this.panel.isHoverMenu&&(n.nativeOn.mousemove=this.handleMouseMove),e("el-scrollbar",o()([{attrs:{tag:"ul",role:"menu",id:i,"wrap-class":"el-cascader-menu__wrap","view-class":{"el-cascader-menu__list":!0,"is-empty":t}},class:"el-cascader-menu"},n]),[t?this.renderEmptyText(e):this.renderNodeList(e)])}},y=Object(m.a)(_,void 0,void 0,!1,null,null,null);y.options.__file="packages/cascader-panel/src/cascader-menu.vue";var w=y.exports,C=i(21),S=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var x=0,k=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.config=i,this.parent=n||null,this.level=this.parent?this.parent.level+1:1,this.uid=x++,this.initState(),this.initChildren()}return e.prototype.initState=function(){var e=this.config,t=e.value,i=e.label;this.value=this.data[t],this.label=this.data[i],this.pathNodes=this.calculatePathNodes(),this.path=this.pathNodes.map(function(e){return e.value}),this.pathLabels=this.pathNodes.map(function(e){return e.label}),this.loading=!1,this.loaded=!1},e.prototype.initChildren=function(){var t=this,i=this.config,n=i.children,r=this.data[n];this.hasChildren=Array.isArray(r),this.children=(r||[]).map(function(n){return new e(n,i,t)})},e.prototype.calculatePathNodes=function(){for(var e=[this],t=this.parent;t;)e.unshift(t),t=t.parent;return e},e.prototype.getPath=function(){return this.path},e.prototype.getValue=function(){return this.value},e.prototype.getValueByOption=function(){return this.config.emitPath?this.getPath():this.getValue()},e.prototype.getText=function(e,t){return e?this.pathLabels.join(t):this.label},e.prototype.isSameNode=function(e){var t=this.getValueByOption();return this.config.multiple&&Array.isArray(e)?e.some(function(e){return Object(d.isEqual)(e,t)}):Object(d.isEqual)(e,t)},e.prototype.broadcast=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r="onParent"+Object(d.capitalize)(e);this.children.forEach(function(t){t&&(t.broadcast.apply(t,[e].concat(i)),t[r]&&t[r].apply(t,i))})},e.prototype.emit=function(e){var t=this.parent,i="onChild"+Object(d.capitalize)(e);if(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t[i]&&t[i].apply(t,r),t.emit.apply(t,[e].concat(r))}},e.prototype.onParentCheck=function(e){this.isDisabled||this.setCheckState(e)},e.prototype.onChildCheck=function(){var e=this.children.filter(function(e){return!e.isDisabled}),t=!!e.length&&e.every(function(e){return e.checked});this.setCheckState(t)},e.prototype.setCheckState=function(e){var t=this.children.length,i=this.children.reduce(function(e,t){return e+(t.checked?1:t.indeterminate?.5:0)},0);this.checked=e,this.indeterminate=i!==t&&i>0},e.prototype.syncCheckState=function(e){var t=this.getValueByOption(),i=this.isSameNode(e,t);this.doCheck(i)},e.prototype.doCheck=function(e){this.checked!==e&&(this.config.checkStrictly?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check")))},S(e,[{key:"isDisabled",get:function(){var e=this.data,t=this.parent,i=this.config,n=i.disabled,r=i.checkStrictly;return e[n]||!r&&t&&t.isDisabled}},{key:"isLeaf",get:function(){var e=this.data,t=this.loaded,i=this.hasChildren,n=this.children,r=this.config,o=r.lazy,s=r.leaf;if(o){var a=Object(C.isDef)(e[s])?e[s]:!!t&&!n.length;return this.hasChildren=!a,a}return!i}}]),e}();var L=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=i,this.initNodes(t)}return e.prototype.initNodes=function(e){var t=this;e=Object(d.coerceTruthyValueToArray)(e),this.nodes=e.map(function(e){return new k(e,t.config)}),this.flattedNodes=this.getFlattedNodes(!1,!1),this.leafNodes=this.getFlattedNodes(!0,!1)},e.prototype.appendNode=function(e,t){var i=new k(e,this.config,t);(t?t.children:this.nodes).push(i)},e.prototype.appendNodes=function(e,t){var i=this;(e=Object(d.coerceTruthyValueToArray)(e)).forEach(function(e){return i.appendNode(e,t)})},e.prototype.getNodes=function(){return this.nodes},e.prototype.getFlattedNodes=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e?this.leafNodes:this.flattedNodes;return t?i:function e(t,i){return t.reduce(function(t,n){return n.isLeaf?t.push(n):(!i&&t.push(n),t=t.concat(e(n.children,i))),t},[])}(this.nodes,e)},e.prototype.getNodeByValue=function(e){if(e){var t=this.getFlattedNodes(!1,!this.config.lazy).filter(function(t){return Object(d.valueEquals)(t.path,e)||t.value===e});return t&&t.length?t[0]:null}return null},e}(),D=i(9),E=i.n(D),N=i(32),T=i.n(N),O=i(31),M=i.n(O),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},A=T.a.keys,P={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:d.noop,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},R=function(e){return!e.getAttribute("aria-owns")},F=function(e,t){var i=e.parentNode;if(i){var n=i.querySelectorAll('.el-cascader-node[tabindex="-1"]');return n[Array.prototype.indexOf.call(n,e)+t]||null}return null},V=function(e,t){if(e){var i=e.id.split("-");return Number(i[i.length-2])}},B=function(e){e&&(e.focus(),!R(e)&&e.click())},W={name:"ElCascaderPanel",components:{CascaderMenu:w},props:{value:{},options:Array,props:Object,border:{type:Boolean,default:!0},renderLabel:Function},provide:function(){return{panel:this}},data:function(){return{checkedValue:null,checkedNodePaths:[],store:[],menus:[],activePath:[],loadCount:0}},computed:{config:function(){return E()(I({},P),this.props||{})},multiple:function(){return this.config.multiple},checkStrictly:function(){return this.config.checkStrictly},leafOnly:function(){return!this.checkStrictly},isHoverMenu:function(){return"hover"===this.config.expandTrigger},renderLabelFn:function(){return this.renderLabel||this.$scopedSlots.default}},watch:{options:{handler:function(){this.initStore()},immediate:!0,deep:!0},value:function(){this.syncCheckedValue(),this.checkStrictly&&this.calculateCheckedNodePaths()},checkedValue:function(e){Object(d.isEqual)(e,this.value)||(this.checkStrictly&&this.calculateCheckedNodePaths(),this.$emit("input",e),this.$emit("change",e))}},mounted:function(){Object(d.isEmpty)(this.value)||this.syncCheckedValue()},methods:{initStore:function(){var e=this.config,t=this.options;e.lazy&&Object(d.isEmpty)(t)?this.lazyLoad():(this.store=new L(t,e),this.menus=[this.store.getNodes()],this.syncMenuState())},syncCheckedValue:function(){var e=this.value,t=this.checkedValue;Object(d.isEqual)(e,t)||(this.checkedValue=e,this.syncMenuState())},syncMenuState:function(){var e=this.multiple,t=this.checkStrictly;this.syncActivePath(),e&&this.syncMultiCheckState(),t&&this.calculateCheckedNodePaths(),this.$nextTick(this.scrollIntoView)},syncMultiCheckState:function(){var e=this;this.getFlattedNodes(this.leafOnly).forEach(function(t){t.syncCheckState(e.checkedValue)})},syncActivePath:function(){var e=this,t=this.store,i=this.multiple,n=this.activePath,r=this.checkedValue;if(Object(d.isEmpty)(n))if(Object(d.isEmpty)(r))this.activePath=[],this.menus=[t.getNodes()];else{var o=i?r[0]:r,s=((this.getNodeByValue(o)||{}).pathNodes||[]).slice(0,-1);this.expandNodes(s)}else{var a=n.map(function(t){return e.getNodeByValue(t.getValue())});this.expandNodes(a)}},expandNodes:function(e){var t=this;e.forEach(function(e){return t.handleExpand(e,!0)})},calculateCheckedNodePaths:function(){var e=this,t=this.checkedValue,i=this.multiple?Object(d.coerceTruthyValueToArray)(t):[t];this.checkedNodePaths=i.map(function(t){var i=e.getNodeByValue(t);return i?i.pathNodes:[]})},handleKeyDown:function(e){var t=e.target;switch(e.keyCode){case A.up:var i=F(t,-1);B(i);break;case A.down:var n=F(t,1);B(n);break;case A.left:var r=this.$refs.menu[V(t)-1];if(r){var o=r.$el.querySelector('.el-cascader-node[aria-expanded="true"]');B(o)}break;case A.right:var s=this.$refs.menu[V(t)+1];if(s){var a=s.$el.querySelector('.el-cascader-node[tabindex="-1"]');B(a)}break;case A.enter:!function(e){if(e){var t=e.querySelector("input");t?t.click():R(e)&&e.click()}}(t);break;case A.esc:case A.tab:this.$emit("close");break;default:return}},handleExpand:function(e,t){var i=this.activePath,n=e.level,r=i.slice(0,n-1),o=this.menus.slice(0,n);if(e.isLeaf||(r.push(e),o.push(e.children)),this.activePath=r,this.menus=o,!t){var s=r.map(function(e){return e.getValue()}),a=i.map(function(e){return e.getValue()});Object(d.valueEquals)(s,a)||(this.$emit("active-item-change",s),this.$emit("expand-change",s))}},handleCheckChange:function(e){this.checkedValue=e},lazyLoad:function(e,t){var i=this,n=this.config;e||(e=e||{root:!0,level:0},this.store=new L([],n),this.menus=[this.store.getNodes()]),e.loading=!0;n.lazyLoad(e,function(n){var r=e.root?null:e;if(n&&n.length&&i.store.appendNodes(n,r),e.loading=!1,e.loaded=!0,Array.isArray(i.checkedValue)){var o=i.checkedValue[i.loadCount++],s=i.config.value,a=i.config.leaf;if(Array.isArray(n)&&n.filter(function(e){return e[s]===o}).length>0){var l=i.store.getNodeByValue(o);l.data[a]||i.lazyLoad(l,function(){i.handleExpand(l)}),i.loadCount===i.checkedValue.length&&i.$parent.computePresentText()}}t&&t(n)})},calculateMultiCheckedValue:function(){this.checkedValue=this.getCheckedNodes(this.leafOnly).map(function(e){return e.getValueByOption()})},scrollIntoView:function(){this.$isServer||(this.$refs.menu||[]).forEach(function(e){var t=e.$el;if(t){var i=t.querySelector(".el-scrollbar__wrap"),n=t.querySelector(".el-cascader-node.is-active")||t.querySelector(".el-cascader-node.in-active-path");M()(i,n)}})},getNodeByValue:function(e){return this.store.getNodeByValue(e)},getFlattedNodes:function(e){var t=!this.config.lazy;return this.store.getFlattedNodes(e,t)},getCheckedNodes:function(e){var t=this.checkedValue;return this.multiple?this.getFlattedNodes(e).filter(function(e){return e.checked}):Object(d.isEmpty)(t)?[]:[this.getNodeByValue(t)]},clearCheckedNodes:function(){var e=this.config,t=this.leafOnly,i=e.multiple,n=e.emitPath;i?(this.getCheckedNodes(t).filter(function(e){return!e.isDisabled}).forEach(function(e){return e.doCheck(!1)}),this.calculateMultiCheckedValue()):this.checkedValue=n?[]:null}}},$=Object(m.a)(W,n,[],!1,null,null,null);$.options.__file="packages/cascader-panel/src/cascader-panel.vue";var z=$.exports;z.install=function(e){e.component(z.name,z)};t.default=z},6:function(e,t){e.exports=i("y+7x")},9:function(e,t){e.exports=i("jmaC")}})},lFkc:function(e,t,i){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},lOnJ:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},lktj:function(e,t,i){var n=i("Ibhu"),r=i("xnc9");e.exports=Object.keys||function(e){return n(e,r)}},mtWM:function(e,t,i){e.exports=i("tIFN")},mtrD:function(e,t){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=97)}({0:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}i.d(t,"a",function(){return n})},97:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"el-button",class:[e.type?"el-button--"+e.type:"",e.buttonSize?"el-button--"+e.buttonSize:"",{"is-disabled":e.buttonDisabled,"is-loading":e.loading,"is-plain":e.plain,"is-round":e.round,"is-circle":e.circle}],attrs:{disabled:e.buttonDisabled||e.loading,autofocus:e.autofocus,type:e.nativeType},on:{click:e.handleClick}},[e.loading?i("i",{staticClass:"el-icon-loading"}):e._e(),e.icon&&!e.loading?i("i",{class:e.icon}):e._e(),e.$slots.default?i("span",[e._t("default")],2):e._e()])};n._withStripped=!0;var r={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(e){this.$emit("click",e)}}},o=i(0),s=Object(o.a)(r,n,[],!1,null,null,null);s.options.__file="packages/button/src/button.vue";var a=s.exports;a.install=function(e){e.component(a.name,a)};t.default=a}})},n0T6:function(e,t,i){var n=i("Ibhu"),r=i("xnc9").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},nvbp:function(e,t){var i=/^(attrs|props|on|nativeOn|class|style|hook)$/;function n(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}}e.exports=function(e){return e.reduce(function(e,t){var r,o,s,a,l;for(s in t)if(r=e[s],o=t[s],r&&i.test(s))if("class"===s&&("string"==typeof r&&(l=r,e[s]=r={},r[l]=!0),"string"==typeof o&&(l=o,t[s]=o={},o[l]=!0)),"on"===s||"nativeOn"===s||"hook"===s)for(a in o)r[a]=n(r[a],o[a]);else if(Array.isArray(r))e[s]=r.concat(o);else if(Array.isArray(o))e[s]=[r].concat(o);else for(a in o)r[a]=o[a];else e[s]=t[s];return e},{})}},oJlt:function(e,t,i){"use strict";var n=i("cGG2"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,o,s={};return e?(n.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),i=n.trim(e.substr(o+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([i]):s[t]?s[t]+", "+i:i}}),s):s}},orbS:function(e,t){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=124)}({0:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}i.d(t,"a",function(){return n})},124:function(e,t,i){"use strict";i.r(t);var n={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(e){return-1!==["dark","light","plain"].indexOf(e)}}},methods:{handleClose:function(e){e.stopPropagation(),this.$emit("close",e)},handleClick:function(e){this.$emit("click",e)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(e){var t=this.type,i=this.tagSize,n=this.hit,r=this.effect,o=e("span",{class:["el-tag",t?"el-tag--"+t:"",i?"el-tag--"+i:"",r?"el-tag--"+r:"",n&&"is-hit"],style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&e("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?o:e("transition",{attrs:{name:"el-zoom-in-center"}},[o])}},r=i(0),o=Object(r.a)(n,void 0,void 0,!1,null,null,null);o.options.__file="packages/tag/src/tag.vue";var s=o.exports;s.install=function(e){e.component(s.name,s)};t.default=s}})},p1b6:function(e,t,i){"use strict";var n=i("cGG2");e.exports=n.isStandardBrowserEnv()?{write:function(e,t,i,r,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),n.isString(r)&&a.push("path="+r),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},pBtG:function(e,t,i){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},pFYg:function(e,t,i){"use strict";t.__esModule=!0;var n=s(i("Zzip")),r=s(i("5QVw")),o="function"==typeof r.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===o(n.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":o(e)}},pxG4:function(e,t,i){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},qRfI:function(e,t,i){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},qio6:function(e,t,i){var n=i("evD5"),r=i("77Pl"),o=i("lktj");e.exports=i("+E39")?Object.defineProperties:function(e,t){r(e);for(var i,s=o(t),a=s.length,l=0;a>l;)n.f(e,i=s[l++],t[i]);return e}},s3ue:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=86)}({0:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}i.d(t,"a",function(){return n})},4:function(e,t){e.exports=i("fPll")},86:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[this._t("default")],2)};n._withStripped=!0;var r=i(4),o={name:"ElCheckboxGroup",componentName:"ElCheckboxGroup",mixins:[i.n(r).a],inject:{elFormItem:{default:""}},props:{value:{},disabled:Boolean,min:Number,max:Number,size:String,fill:String,textColor:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",[e])}}},s=i(0),a=Object(s.a)(o,n,[],!1,null,null,null);a.options.__file="packages/checkbox/src/checkbox-group.vue";var l=a.exports;l.install=function(e){e.component(l.name,l)};t.default=l}})},sB3e:function(e,t,i){var n=i("52gC");e.exports=function(e){return Object(n(e))}},sOR5:function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},t8qj:function(e,t,i){"use strict";e.exports=function(e,t,i,n,r){return e.config=t,i&&(e.code=i),e.request=n,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},tIFN:function(e,t,i){"use strict";var n=i("cGG2"),r=i("JP+z"),o=i("XmWM"),s=i("DUeU");function a(e){var t=new o(e),i=r(o.prototype.request,t);return n.extend(i,o.prototype,t),n.extend(i,t),i}var l=a(i("KCLY"));l.Axios=o,l.create=function(e){return a(s(l.defaults,e))},l.Cancel=i("dVOP"),l.CancelToken=i("cWxy"),l.isCancel=i("pBtG"),l.all=function(e){return Promise.all(e)},l.spread=i("pxG4"),e.exports=l,e.exports.default=l},tWbI:function(e,t,i){(function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}var i=t(["and","or","not","is"]),n=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],r=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];function o(e){return e.scopes[e.scopes.length-1]}e.registerHelper("hintWords","python",n.concat(r)),e.defineMode("python",function(s,a){for(var l="error",c=a.delimiters||a.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,h=[a.singleOperators,a.doubleOperators,a.doubleDelimiters,a.tripleDelimiters,a.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],u=0;u<h.length;u++)h[u]||h.splice(u--,1);var d=a.hangingIndent||s.indentUnit,f=n,p=r;void 0!=a.extra_keywords&&(f=f.concat(a.extra_keywords)),void 0!=a.extra_builtins&&(p=p.concat(a.extra_builtins));var m=!(a.version&&Number(a.version)<3);if(m){var g=a.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;f=f.concat(["nonlocal","False","True","None","async","await"]),p=p.concat(["ascii","bytes","exec","print"]);var v=new RegExp("^(([rbuf]|(br)|(fr))?('{3}|\"{3}|['\"]))","i")}else{g=a.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;f=f.concat(["exec","print"]),p=p.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);v=new RegExp("^(([rubf]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var b=t(f),_=t(p);function y(e,t){var i=e.sol()&&"\\"!=t.lastToken;if(i&&(t.indent=e.indentation()),i&&"py"==o(t).type){var n=o(t).offset;if(e.eatSpace()){var r=e.indentation();return r>n?C(t):r<n&&S(e,t)&&"#"!=e.peek()&&(t.errorToken=!0),null}var s=w(e,t);return n>0&&S(e,t)&&(s+=" "+l),s}return w(e,t)}function w(e,t,n){if(e.eatSpace())return null;if(!n&&e.match(/^#.*/))return"comment";if(e.match(/^[0-9\.]/,!1)){var r=!1;if(e.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(r=!0),e.match(/^[\d_]+\.\d*/)&&(r=!0),e.match(/^\.\d+/)&&(r=!0),r)return e.eat(/J/i),"number";var o=!1;if(e.match(/^0x[0-9a-f_]+/i)&&(o=!0),e.match(/^0b[01_]+/i)&&(o=!0),e.match(/^0o[0-7_]+/i)&&(o=!0),e.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(e.eat(/J/i),o=!0),e.match(/^0(?![\dx])/i)&&(o=!0),o)return e.eat(/L/i),"number"}if(e.match(v))return-1!==e.current().toLowerCase().indexOf("f")?(t.tokenize=function(e,t){for(;"rubf".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var i=1==e.length,n="string";function r(e){return function(t,i){var n=w(t,i,!0);return"punctuation"==n&&("{"==t.current()?i.tokenize=r(e+1):"}"==t.current()&&(i.tokenize=e>1?r(e-1):o)),n}}function o(o,s){for(;!o.eol();)if(o.eatWhile(/[^'"\{\}\\]/),o.eat("\\")){if(o.next(),i&&o.eol())return n}else{if(o.match(e))return s.tokenize=t,n;if(o.match("{{"))return n;if(o.match("{",!1))return s.tokenize=r(0),o.current()?n:s.tokenize(o,s);if(o.match("}}"))return n;if(o.match("}"))return l;o.eat(/['"]/)}if(i){if(a.singleLineStringErrors)return l;s.tokenize=t}return n}return o.isString=!0,o}(e.current(),t.tokenize),t.tokenize(e,t)):(t.tokenize=function(e,t){for(;"rubf".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var i=1==e.length,n="string";function r(r,o){for(;!r.eol();)if(r.eatWhile(/[^'"\\]/),r.eat("\\")){if(r.next(),i&&r.eol())return n}else{if(r.match(e))return o.tokenize=t,n;r.eat(/['"]/)}if(i){if(a.singleLineStringErrors)return l;o.tokenize=t}return n}return r.isString=!0,r}(e.current(),t.tokenize),t.tokenize(e,t));for(var s=0;s<h.length;s++)if(e.match(h[s]))return"operator";return e.match(c)?"punctuation":"."==t.lastToken&&e.match(g)?"property":e.match(b)||e.match(i)?"keyword":e.match(_)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(g)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),n?null:l)}function C(e){for(;"py"!=o(e).type;)e.scopes.pop();e.scopes.push({offset:o(e).offset+s.indentUnit,type:"py",align:null})}function S(e,t){for(var i=e.indentation();t.scopes.length>1&&o(t).offset>i;){if("py"!=o(t).type)return!0;t.scopes.pop()}return o(t).offset!=i}function x(e,t){e.sol()&&(t.beginningOfLine=!0);var i=t.tokenize(e,t),n=e.current();if(t.beginningOfLine&&"@"==n)return e.match(g,!1)?"meta":m?"operator":l;if(/\S/.test(n)&&(t.beginningOfLine=!1),"variable"!=i&&"builtin"!=i||"meta"!=t.lastToken||(i="meta"),"pass"!=n&&"return"!=n||(t.dedent+=1),"lambda"==n&&(t.lambda=!0),":"!=n||t.lambda||"py"!=o(t).type||C(t),1==n.length&&!/string|comment/.test(i)){var r="[({".indexOf(n);if(-1!=r&&function(e,t,i){var n=e.match(/^([\s\[\{\(]|#.*)*$/,!1)?null:e.column()+1;t.scopes.push({offset:t.indent+d,type:i,align:n})}(e,t,"])}".slice(r,r+1)),-1!=(r="])}".indexOf(n))){if(o(t).type!=n)return l;t.indent=t.scopes.pop().offset-d}}return t.dedent>0&&e.eol()&&"py"==o(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),i}return{startState:function(e){return{tokenize:y,scopes:[{offset:e||0,type:"py",align:null}],indent:e||0,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var i=t.errorToken;i&&(t.errorToken=!1);var n=x(e,t);return n&&"comment"!=n&&(t.lastToken="keyword"==n||"punctuation"==n?e.current():n),"punctuation"==n&&(n=null),e.eol()&&t.lambda&&(t.lambda=!1),i?n+" "+l:n},indent:function(t,i){if(t.tokenize!=y)return t.tokenize.isString?e.Pass:0;var n=o(t),r=n.type==i.charAt(0);return null!=n.align?n.align-(r?1:0):n.offset-(r?d:0)},electricInput:/^\s*[\}\]\)]$/,closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"}}),e.defineMIME("text/x-python","python");var s;e.defineMIME("text/x-cython",{name:"python",extra_keywords:(s="by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE",s.split(" "))})})(i("8U58"))},uY1a:function(e,t){e.exports=function(e,t,i,n){var r,o=0;return"boolean"!=typeof t&&(n=i,i=t,t=void 0),function(){var s=this,a=Number(new Date)-o,l=arguments;function c(){o=Number(new Date),i.apply(s,l)}n&&!r&&c(),r&&clearTimeout(r),void 0===n&&a>e?c():!0!==t&&(r=setTimeout(n?function(){r=void 0}:c,void 0===n?e-a:e))}}},ujcs:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,i,n,r){var o,s,a=8*r-n-1,l=(1<<a)-1,c=l>>1,h=-7,u=i?r-1:0,d=i?-1:1,f=e[t+u];for(u+=d,o=f&(1<<-h)-1,f>>=-h,h+=a;h>0;o=256*o+e[t+u],u+=d,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;h>0;s=256*s+e[t+u],u+=d,h-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,n),o-=c}return(f?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,i,n,r,o){var s,a,l,c=8*o-r-1,h=(1<<c)-1,u=h>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=h):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+u>=1?d/l:d*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=h?(a=0,s=h):s+u>=1?(a=(t*l-1)*Math.pow(2,r),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,r),s=0));r>=8;e[i+f]=255&a,f+=p,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;e[i+f]=255&s,f+=p,s/=256,c-=8);e[i+f-p]|=128*m}},urW8:function(e,t,i){"use strict";t.__esModule=!0,t.i18n=t.use=t.t=void 0;var n=s(i("Vi3T")),r=s(i("7+uW")),o=s(i("i3rX"));function s(e){return e&&e.__esModule?e:{default:e}}var a=(0,s(i("SvnF")).default)(r.default),l=n.default,c=!1,h=function(){var e=Object.getPrototypeOf(this||r.default).$t;if("function"==typeof e&&r.default.locale)return c||(c=!0,r.default.locale(r.default.config.lang,(0,o.default)(l,r.default.locale(r.default.config.lang)||{},{clone:!0}))),e.apply(this,arguments)},u=t.t=function(e,t){var i=h.apply(this,arguments);if(null!==i&&void 0!==i)return i;for(var n=e.split("."),r=l,o=0,s=n.length;o<s;o++){if(i=r[n[o]],o===s-1)return a(i,t);if(!i)return"";r=i}return""},d=t.use=function(e){l=e||l},f=t.i18n=function(e){h=e||h};t.default={use:d,t:u,i18n:f}},"vFc/":function(e,t,i){var n=i("TcQ7"),r=i("QRG4"),o=i("fkB2");e.exports=function(e){return function(t,i,s){var a,l=n(t),c=r(l.length),h=o(s,c);if(e&&i!=i){for(;c>h;)if((a=l[h++])!=a)return!0}else for(;c>h;h++)if((e||h in l)&&l[h]===i)return e||h||0;return!e&&-1}}},"vIB/":function(e,t,i){"use strict";var n=i("O4g8"),r=i("kM2E"),o=i("880/"),s=i("hJx8"),a=i("/bQp"),l=i("94VQ"),c=i("e6n0"),h=i("PzxK"),u=i("dSzd")("iterator"),d=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,i,p,m,g,v){l(i,t,p);var b,_,y,w=function(e){if(!d&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},C=t+" Iterator",S="values"==m,x=!1,k=e.prototype,L=k[u]||k["@@iterator"]||m&&k[m],D=L||w(m),E=m?S?w("entries"):D:void 0,N="Array"==t&&k.entries||L;if(N&&(y=h(N.call(new e)))!==Object.prototype&&y.next&&(c(y,C,!0),n||"function"==typeof y[u]||s(y,u,f)),S&&L&&"values"!==L.name&&(x=!0,D=function(){return L.call(this)}),n&&!v||!d&&!x&&k[u]||s(k,u,D),a[t]=D,a[C]=f,m)if(b={values:S?D:w("values"),keys:g?D:w("keys"),entries:E},v)for(_ in b)_ in k||o(k,_,b[_]);else r(r.P+r.F*(d||x),t,b);return b}},woOf:function(e,t,i){e.exports={default:i("V3tA"),__esModule:!0}},xGkn:function(e,t,i){"use strict";var n=i("4mcu"),r=i("EGZi"),o=i("/bQp"),s=i("TcQ7");e.exports=i("vIB/")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},xLtR:function(e,t,i){"use strict";var n=i("cGG2"),r=i("TNV1"),o=i("pBtG"),s=i("KCLY");function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return a(e),t.data=r(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},xgy6:function(e,t,i){"use strict";(function(e){var n=i("ZfGv");const r=void 0===e?{cwd:()=>"/",env:Object.create(null),get platform(){return n.i?"win32":n.f?"darwin":"linux"},nextTick:e=>Object(n.j)(e)}:e,o=r.cwd;t.a=o;const s=r.env;t.b=s;const a=r.platform;t.c=a}).call(t,i("W2nU"))},xnc9:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"y+7x":function(e,t,i){"use strict";t.__esModule=!0;var n=i("urW8");t.default={methods:{t:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.t.apply(this,t)}}}},ylDJ:function(e,t,i){"use strict";t.__esModule=!0,t.isEmpty=t.isEqual=t.arrayEquals=t.looseEqual=t.capitalize=t.kebabCase=t.autoprefixer=t.isFirefox=t.isEdge=t.isIE=t.coerceTruthyValueToArray=t.arrayFind=t.arrayFindIndex=t.escapeRegexpString=t.valueEquals=t.generateId=t.getValueByPath=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.noop=function(){},t.hasOwn=function(e,t){return l.call(e,t)},t.toObject=function(e){for(var t={},i=0;i<e.length;i++)e[i]&&c(t,e[i]);return t},t.getPropByPath=function(e,t,i){for(var n=e,r=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),o=0,s=r.length;o<s-1&&(n||i);++o){var a=r[o];if(!(a in n)){if(i)throw new Error("please transfer a valid prop path to form item!");break}n=n[a]}return{o:n,k:r[o],v:n?n[r[o]]:null}},t.rafThrottle=function(e){var t=!1;return function(){for(var i=this,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];t||(t=!0,window.requestAnimationFrame(function(n){e.apply(i,r),t=!1}))}},t.objToArray=function(e){if(Array.isArray(e))return e;return f(e)?[]:[e]};var r,o=i("7+uW"),s=(r=o)&&r.__esModule?r:{default:r},a=i("835U");var l=Object.prototype.hasOwnProperty;function c(e,t){for(var i in t)e[i]=t[i];return e}t.getValueByPath=function(e,t){for(var i=(t=t||"").split("."),n=e,r=null,o=0,s=i.length;o<s;o++){var a=i[o];if(!n)break;if(o===s-1){r=n[a];break}n=n[a]}return r};t.generateId=function(){return Math.floor(1e4*Math.random())},t.valueEquals=function(e,t){if(e===t)return!0;if(!(e instanceof Array))return!1;if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var i=0;i!==e.length;++i)if(e[i]!==t[i])return!1;return!0},t.escapeRegexpString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var h=t.arrayFindIndex=function(e,t){for(var i=0;i!==e.length;++i)if(t(e[i]))return i;return-1},u=(t.arrayFind=function(e,t){var i=h(e,t);return-1!==i?e[i]:void 0},t.coerceTruthyValueToArray=function(e){return Array.isArray(e)?e:e?[e]:[]},t.isIE=function(){return!s.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},t.isEdge=function(){return!s.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},t.isFirefox=function(){return!s.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},t.autoprefixer=function(e){if("object"!==(void 0===e?"undefined":n(e)))return e;var t=["ms-","webkit-"];return["transform","transition","animation"].forEach(function(i){var n=e[i];i&&n&&t.forEach(function(t){e[t+i]=n})}),e},t.kebabCase=function(e){var t=/([^-])([A-Z])/g;return e.replace(t,"$1-$2").replace(t,"$1-$2").toLowerCase()},t.capitalize=function(e){return(0,a.isString)(e)?e.charAt(0).toUpperCase()+e.slice(1):e},t.looseEqual=function(e,t){var i=(0,a.isObject)(e),n=(0,a.isObject)(t);return i&&n?JSON.stringify(e)===JSON.stringify(t):!i&&!n&&String(e)===String(t)}),d=t.arrayEquals=function(e,t){if(e=e||[],t=t||[],e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!u(e[i],t[i]))return!1;return!0},f=(t.isEqual=function(e,t){return Array.isArray(e)&&Array.isArray(t)?d(e,t):u(e,t)},t.isEmpty=function(e){if(null==e)return!0;if("boolean"==typeof e)return!1;if("number"==typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}return!1})},"z+gd":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var i=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var i=-1;return e.some(function(e,n){return e[0]===t&&(i=n,!0)}),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var i=e(this.__entries__,t),n=this.__entries__[i];return n&&n[1]},t.prototype.set=function(t,i){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=i:this.__entries__.push([t,i])},t.prototype.delete=function(t){var i=this.__entries__,n=e(i,t);~n&&i.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var i=0,n=this.__entries__;i<n.length;i++){var r=n[i];e.call(t,r[1],r[0])}},t}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},s=2;var a=20,l=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,h=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var i=!1,n=!1,r=0;function a(){i&&(i=!1,e()),n&&c()}function l(){o(a)}function c(){var e=Date.now();if(i){if(e-r<s)return;n=!0}else i=!0,n=!1,setTimeout(l,t);r=e}return c}(this.refresh.bind(this),a)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,i=t.indexOf(e);~i&&t.splice(i,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,i=void 0===t?"":t;l.some(function(e){return!!~i.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var r=n[i];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},f=_(0,0,0,0);function p(e){return parseFloat(e)||0}function m(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.reduce(function(t,i){return t+p(e["border-"+i+"-width"])},0)}function g(e){var t=e.clientWidth,i=e.clientHeight;if(!t&&!i)return f;var n=d(e).getComputedStyle(e),r=function(e){for(var t={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var r=n[i],o=e["padding-"+r];t[r]=p(o)}return t}(n),o=r.left+r.right,s=r.top+r.bottom,a=p(n.width),l=p(n.height);if("border-box"===n.boxSizing&&(Math.round(a+o)!==t&&(a-=m(n,"left","right")+o),Math.round(l+s)!==i&&(l-=m(n,"top","bottom")+s)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(a+o)-t,h=Math.round(l+s)-i;1!==Math.abs(c)&&(a-=c),1!==Math.abs(h)&&(l-=h)}return _(r.left,r.top,a,l)}var v="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function b(e){return n?v(e)?function(e){var t=e.getBBox();return _(0,0,t.width,t.height)}(e):g(e):f}function _(e,t,i,n){return{x:e,y:t,width:i,height:n}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=b(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(){return function(e,t){var i,n,r,o,s,a,l,c=(n=(i=t).x,r=i.y,o=i.width,s=i.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),u(l,{x:n,y:r,width:o,height:s,top:r,right:n+o,bottom:s+r,left:n}),l);u(this,{target:e,contentRect:c})}}(),C=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new w(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),S="undefined"!=typeof WeakMap?new WeakMap:new i,x=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=h.getInstance(),n=new C(t,i,this);S.set(this,n)}}();["observe","unobserve","disconnect"].forEach(function(e){x.prototype[e]=function(){var t;return(t=S.get(this))[e].apply(t,arguments)}});var k=void 0!==r.ResizeObserver?r.ResizeObserver:x;t.default=k}.call(t,i("DuR2"))},"zAL+":function(e,t){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=99)}({0:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}i.d(t,"a",function(){return n})},99:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-button-group"},[this._t("default")],2)};n._withStripped=!0;var r={name:"ElButtonGroup"},o=i(0),s=Object(o.a)(r,n,[],!1,null,null,null);s.options.__file="packages/button/src/button-group.vue";var a=s.exports;a.install=function(e){e.component(a.name,a)};t.default=a}})},zL8q:function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/dist/",i(i.s=45)}([function(e,t){e.exports=i("AMCD")},function(e,t){e.exports=i("2kvA")},function(e,t){e.exports=i("ylDJ")},function(e,t){e.exports=i("fPll")},function(e,t){e.exports=i("y+7x")},function(e,t){e.exports=i("fKx3")},function(e,t){e.exports=i("7+uW")},function(e,t){e.exports=i("jmaC")},function(e,t){e.exports=i("HJMx")},function(e,t){e.exports=i("aW5l")},function(e,t){e.exports=i("ISYW")},function(e,t){e.exports=i("urW8")},function(e,t){e.exports=i("mtrD")},function(e,t){e.exports=i("02w1")},function(e,t){e.exports=i("7J9s")},function(e,t){e.exports=i("ON3O")},function(e,t){e.exports=i("EKTV")},function(e,t){e.exports=i("fEB+")},function(e,t){e.exports=i("835U")},function(e,t){e.exports=i("E/in")},function(e,t){e.exports=i("eNfa")},function(e,t){e.exports=i("Zcwg")},function(e,t){e.exports=i("1oZe")},function(e,t){e.exports=i("fUqW")},function(e,t){e.exports=i("nvbp")},function(e,t){e.exports=i("uY1a")},function(e,t){e.exports=i("aMwW")},function(e,t){e.exports=i("zTCi")},function(e,t){e.exports=i("hyEB")},function(e,t){e.exports=i("zAL+")},function(e,t){e.exports=i("orbS")},function(e,t){e.exports=i("6Twh")},function(e,t){e.exports=i("s3ue")},function(e,t){e.exports=i("H8dH")},function(e,t){e.exports=i("GegP")},function(e,t){e.exports=i("HzcN")},function(e,t){e.exports=i("e0Bm")},function(e,t){e.exports=i("STLj")},function(e,t){e.exports=i("3fo+")},function(e,t){e.exports=i("DQJY")},function(e,t){e.exports=i("jwfv")},function(e,t){e.exports=i("0kY3")},function(e,t){e.exports=i("kNJA")},function(e,t){e.exports=i("RDoK")},function(e,t){e.exports=i("SXzR")},function(e,t,i){e.exports=i(46)},function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"el-pager",on:{click:e.onPagerClick}},[e.pageCount>0?i("li",{staticClass:"number",class:{active:1===e.currentPage,disabled:e.disabled}},[e._v("1")]):e._e(),e.showPrevMore?i("li",{staticClass:"el-icon more btn-quickprev",class:[e.quickprevIconClass,{disabled:e.disabled}],on:{mouseenter:function(t){e.onMouseenter("left")},mouseleave:function(t){e.quickprevIconClass="el-icon-more"}}}):e._e(),e._l(e.pagers,function(t){return i("li",{key:t,staticClass:"number",class:{active:e.currentPage===t,disabled:e.disabled}},[e._v(e._s(t))])}),e.showNextMore?i("li",{staticClass:"el-icon more btn-quicknext",class:[e.quicknextIconClass,{disabled:e.disabled}],on:{mouseenter:function(t){e.onMouseenter("right")},mouseleave:function(t){e.quicknextIconClass="el-icon-more"}}}):e._e(),e.pageCount>1?i("li",{staticClass:"number",class:{active:e.currentPage===e.pageCount,disabled:e.disabled}},[e._v(e._s(e.pageCount))]):e._e()],2)};function r(e,t,i,n,r,o,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var h=c.render;c.render=function(e,t){return l.call(t),h(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}n._withStripped=!0;var o=r({name:"ElPager",props:{currentPage:Number,pageCount:Number,pagerCount:Number,disabled:Boolean},watch:{showPrevMore:function(e){e||(this.quickprevIconClass="el-icon-more")},showNextMore:function(e){e||(this.quicknextIconClass="el-icon-more")}},methods:{onPagerClick:function(e){var t=e.target;if("UL"!==t.tagName&&!this.disabled){var i=Number(e.target.textContent),n=this.pageCount,r=this.currentPage,o=this.pagerCount-2;-1!==t.className.indexOf("more")&&(-1!==t.className.indexOf("quickprev")?i=r-o:-1!==t.className.indexOf("quicknext")&&(i=r+o)),isNaN(i)||(i<1&&(i=1),i>n&&(i=n)),i!==r&&this.$emit("change",i)}},onMouseenter:function(e){this.disabled||("left"===e?this.quickprevIconClass="el-icon-d-arrow-left":this.quicknextIconClass="el-icon-d-arrow-right")}},computed:{pagers:function(){var e=this.pagerCount,t=(e-1)/2,i=Number(this.currentPage),n=Number(this.pageCount),r=!1,o=!1;n>e&&(i>e-t&&(r=!0),i<n-t&&(o=!0));var s=[];if(r&&!o)for(var a=n-(e-2);a<n;a++)s.push(a);else if(!r&&o)for(var l=2;l<e;l++)s.push(l);else if(r&&o)for(var c=Math.floor(e/2)-1,h=i-c;h<=i+c;h++)s.push(h);else for(var u=2;u<n;u++)s.push(u);return this.showPrevMore=r,this.showNextMore=o,s}},data:function(){return{current:null,showPrevMore:!1,showNextMore:!1,quicknextIconClass:"el-icon-more",quickprevIconClass:"el-icon-more"}}},n,[],!1,null,null,null);o.options.__file="packages/pagination/src/pager.vue";var s=o.exports,a=i(36),l=i.n(a),c=i(37),h=i.n(c),u=i(8),d=i.n(u),f=i(4),p=i.n(f),m=i(2),g={name:"ElPagination",props:{pageSize:{type:Number,default:10},small:Boolean,total:Number,pageCount:Number,pagerCount:{type:Number,validator:function(e){return(0|e)===e&&e>4&&e<22&&e%2==1},default:7},currentPage:{type:Number,default:1},layout:{default:"prev, pager, next, jumper, ->, total"},pageSizes:{type:Array,default:function(){return[10,20,30,40,50,100]}},popperClass:String,prevText:String,nextText:String,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean},data:function(){return{internalCurrentPage:1,internalPageSize:0,lastEmittedPage:-1,userChangePageSize:!1}},render:function(e){var t=this.layout;if(!t)return null;if(this.hideOnSinglePage&&(!this.internalPageCount||1===this.internalPageCount))return null;var i=e("div",{class:["el-pagination",{"is-background":this.background,"el-pagination--small":this.small}]}),n={prev:e("prev"),jumper:e("jumper"),pager:e("pager",{attrs:{currentPage:this.internalCurrentPage,pageCount:this.internalPageCount,pagerCount:this.pagerCount,disabled:this.disabled},on:{change:this.handleCurrentChange}}),next:e("next"),sizes:e("sizes",{attrs:{pageSizes:this.pageSizes}}),slot:e("slot",[this.$slots.default?this.$slots.default:""]),total:e("total")},r=t.split(",").map(function(e){return e.trim()}),o=e("div",{class:"el-pagination__rightwrapper"}),s=!1;return i.children=i.children||[],o.children=o.children||[],r.forEach(function(e){"->"!==e?s?o.children.push(n[e]):i.children.push(n[e]):s=!0}),s&&i.children.unshift(o),i},components:{Prev:{render:function(e){return e("button",{attrs:{type:"button",disabled:this.$parent.disabled||this.$parent.internalCurrentPage<=1},class:"btn-prev",on:{click:this.$parent.prev}},[this.$parent.prevText?e("span",[this.$parent.prevText]):e("i",{class:"el-icon el-icon-arrow-left"})])}},Next:{render:function(e){return e("button",{attrs:{type:"button",disabled:this.$parent.disabled||this.$parent.internalCurrentPage===this.$parent.internalPageCount||0===this.$parent.internalPageCount},class:"btn-next",on:{click:this.$parent.next}},[this.$parent.nextText?e("span",[this.$parent.nextText]):e("i",{class:"el-icon el-icon-arrow-right"})])}},Sizes:{mixins:[p.a],props:{pageSizes:Array},watch:{pageSizes:{immediate:!0,handler:function(e,t){Object(m.valueEquals)(e,t)||Array.isArray(e)&&(this.$parent.internalPageSize=e.indexOf(this.$parent.pageSize)>-1?this.$parent.pageSize:this.pageSizes[0])}}},render:function(e){var t=this;return e("span",{class:"el-pagination__sizes"},[e("el-select",{attrs:{value:this.$parent.internalPageSize,popperClass:this.$parent.popperClass||"",size:"mini",disabled:this.$parent.disabled},on:{input:this.handleChange}},[this.pageSizes.map(function(i){return e("el-option",{attrs:{value:i,label:i+t.t("el.pagination.pagesize")}})})])])},components:{ElSelect:l.a,ElOption:h.a},methods:{handleChange:function(e){e!==this.$parent.internalPageSize&&(this.$parent.internalPageSize=e=parseInt(e,10),this.$parent.userChangePageSize=!0,this.$parent.$emit("update:pageSize",e),this.$parent.$emit("size-change",e))}}},Jumper:{mixins:[p.a],components:{ElInput:d.a},data:function(){return{userInput:null}},watch:{"$parent.internalCurrentPage":function(){this.userInput=null}},methods:{handleKeyup:function(e){var t=e.keyCode,i=e.target;13===t&&this.handleChange(i.value)},handleInput:function(e){this.userInput=e},handleChange:function(e){this.$parent.internalCurrentPage=this.$parent.getValidCurrentPage(e),this.$parent.emitChange(),this.userInput=null}},render:function(e){return e("span",{class:"el-pagination__jump"},[this.t("el.pagination.goto"),e("el-input",{class:"el-pagination__editor is-in-pagination",attrs:{min:1,max:this.$parent.internalPageCount,value:null!==this.userInput?this.userInput:this.$parent.internalCurrentPage,type:"number",disabled:this.$parent.disabled},nativeOn:{keyup:this.handleKeyup},on:{input:this.handleInput,change:this.handleChange}}),this.t("el.pagination.pageClassifier")])}},Total:{mixins:[p.a],render:function(e){return"number"==typeof this.$parent.total?e("span",{class:"el-pagination__total"},[this.t("el.pagination.total",{total:this.$parent.total})]):""}},Pager:s},methods:{handleCurrentChange:function(e){this.internalCurrentPage=this.getValidCurrentPage(e),this.userChangePageSize=!0,this.emitChange()},prev:function(){if(!this.disabled){var e=this.internalCurrentPage-1;this.internalCurrentPage=this.getValidCurrentPage(e),this.$emit("prev-click",this.internalCurrentPage),this.emitChange()}},next:function(){if(!this.disabled){var e=this.internalCurrentPage+1;this.internalCurrentPage=this.getValidCurrentPage(e),this.$emit("next-click",this.internalCurrentPage),this.emitChange()}},getValidCurrentPage:function(e){e=parseInt(e,10);var t=void 0;return"number"==typeof this.internalPageCount?e<1?t=1:e>this.internalPageCount&&(t=this.internalPageCount):(isNaN(e)||e<1)&&(t=1),void 0===t&&isNaN(e)?t=1:0===t&&(t=1),void 0===t?e:t},emitChange:function(){var e=this;this.$nextTick(function(){(e.internalCurrentPage!==e.lastEmittedPage||e.userChangePageSize)&&(e.$emit("current-change",e.internalCurrentPage),e.lastEmittedPage=e.internalCurrentPage,e.userChangePageSize=!1)})}},computed:{internalPageCount:function(){return"number"==typeof this.total?Math.max(1,Math.ceil(this.total/this.internalPageSize)):"number"==typeof this.pageCount?Math.max(1,this.pageCount):null}},watch:{currentPage:{immediate:!0,handler:function(e){this.internalCurrentPage=this.getValidCurrentPage(e)}},pageSize:{immediate:!0,handler:function(e){this.internalPageSize=isNaN(e)?10:e}},internalCurrentPage:{immediate:!0,handler:function(e){this.$emit("update:currentPage",e),this.lastEmittedPage=-1}},internalPageCount:function(e){var t=this.internalCurrentPage;e>0&&0===t?this.internalCurrentPage=1:t>e&&(this.internalCurrentPage=0===e?1:e,this.userChangePageSize&&this.emitChange()),this.userChangePageSize=!1}},install:function(e){e.component(g.name,g)}},v=g,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":e.afterEnter,"after-leave":e.afterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[i("div",{key:e.key,ref:"dialog",class:["el-dialog",{"is-fullscreen":e.fullscreen,"el-dialog--center":e.center},e.customClass],style:e.style,attrs:{role:"dialog","aria-modal":"true","aria-label":e.title||"dialog"}},[i("div",{staticClass:"el-dialog__header"},[e._t("title",[i("span",{staticClass:"el-dialog__title"},[e._v(e._s(e.title))])]),e.showClose?i("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:e.handleClose}},[i("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):e._e()],2),e.rendered?i("div",{staticClass:"el-dialog__body"},[e._t("default")],2):e._e(),e.$slots.footer?i("div",{staticClass:"el-dialog__footer"},[e._t("footer")],2):e._e()])])])};b._withStripped=!0;var _=i(14),y=i.n(_),w=i(9),C=i.n(w),S=i(3),x=i.n(S),k=r({name:"ElDialog",mixins:[y.a,x.a,C.a],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:String,fullscreen:Boolean,customClass:{type:String,default:""},top:{type:String,default:"15vh"},beforeClose:Function,center:{type:Boolean,default:!1},destroyOnClose:Boolean},data:function(){return{closed:!1,key:0}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick(function(){t.$refs.dialog.scrollTop=0}),this.appendToBody&&document.body.appendChild(this.$el)):(this.$el.removeEventListener("scroll",this.updatePopper),this.closed||this.$emit("close"),this.destroyOnClose&&this.$nextTick(function(){t.key++}))}},computed:{style:function(){var e={};return this.fullscreen||(e.marginTop=this.top,this.width&&(e.width=this.width)),e}},methods:{getMigratingConfig:function(){return{props:{size:"size is removed."}}},handleWrapperClick:function(){this.closeOnClickModal&&this.handleClose()},handleClose:function(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},updatePopper:function(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")},afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el))},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},b,[],!1,null,null,null);k.options.__file="packages/dialog/src/component.vue";var L=k.exports;L.install=function(e){e.component(L.name,L)};var D=L,E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.close,expression:"close"}],staticClass:"el-autocomplete",attrs:{"aria-haspopup":"listbox",role:"combobox","aria-expanded":e.suggestionVisible,"aria-owns":e.id}},[i("el-input",e._b({ref:"input",on:{input:e.handleInput,change:e.handleChange,focus:e.handleFocus,blur:e.handleBlur,clear:e.handleClear},nativeOn:{keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.preventDefault(),e.highlight(e.highlightedIndex-1)},function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault(),e.highlight(e.highlightedIndex+1)},function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleKeyEnter(t):null},function(t){return"button"in t||!e._k(t.keyCode,"tab",9,t.key,"Tab")?e.close(t):null}]}},"el-input",[e.$props,e.$attrs],!1),[e.$slots.prepend?i("template",{slot:"prepend"},[e._t("prepend")],2):e._e(),e.$slots.append?i("template",{slot:"append"},[e._t("append")],2):e._e(),e.$slots.prefix?i("template",{slot:"prefix"},[e._t("prefix")],2):e._e(),e.$slots.suffix?i("template",{slot:"suffix"},[e._t("suffix")],2):e._e()],2),i("el-autocomplete-suggestions",{ref:"suggestions",class:[e.popperClass?e.popperClass:""],attrs:{"visible-arrow":"","popper-options":e.popperOptions,"append-to-body":e.popperAppendToBody,placement:e.placement,id:e.id}},e._l(e.suggestions,function(t,n){return i("li",{key:n,class:{highlighted:e.highlightedIndex===n},attrs:{id:e.id+"-item-"+n,role:"option","aria-selected":e.highlightedIndex===n},on:{click:function(i){e.select(t)}}},[e._t("default",[e._v("\n        "+e._s(t[e.valueKey])+"\n      ")],{item:t})],2)}),0)],1)};E._withStripped=!0;var N=i(15),T=i.n(N),O=i(10),M=i.n(O),I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":e.doDestroy}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-autocomplete-suggestion el-popper",class:{"is-loading":!e.parent.hideLoading&&e.parent.loading},style:{width:e.dropdownWidth},attrs:{role:"region"}},[i("el-scrollbar",{attrs:{tag:"ul","wrap-class":"el-autocomplete-suggestion__wrap","view-class":"el-autocomplete-suggestion__list"}},[!e.parent.hideLoading&&e.parent.loading?i("li",[i("i",{staticClass:"el-icon-loading"})]):e._t("default")],2)],1)])};I._withStripped=!0;var A=i(5),P=i.n(A),R=i(17),F=i.n(R),V=r({components:{ElScrollbar:F.a},mixins:[P.a,x.a],componentName:"ElAutocompleteSuggestions",data:function(){return{parent:this.$parent,dropdownWidth:""}},props:{options:{default:function(){return{gpuAcceleration:!1}}},id:String},methods:{select:function(e){this.dispatch("ElAutocomplete","item-click",e)}},updated:function(){var e=this;this.$nextTick(function(t){e.popperJS&&e.updatePopper()})},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$refs.input.$refs.input||this.$parent.$refs.input.$refs.textarea,this.referenceList=this.$el.querySelector(".el-autocomplete-suggestion__list"),this.referenceList.setAttribute("role","listbox"),this.referenceList.setAttribute("id",this.id)},created:function(){var e=this;this.$on("visible",function(t,i){e.dropdownWidth=i+"px",e.showPopper=t})}},I,[],!1,null,null,null);V.options.__file="packages/autocomplete/src/autocomplete-suggestions.vue";var B=V.exports,W=i(22),$=i.n(W),z=r({name:"ElAutocomplete",mixins:[x.a,$()("input"),C.a],inheritAttrs:!1,componentName:"ElAutocomplete",components:{ElInput:d.a,ElAutocompleteSuggestions:B},directives:{Clickoutside:M.a},props:{valueKey:{type:String,default:"value"},popperClass:String,popperOptions:Object,placeholder:String,clearable:{type:Boolean,default:!1},disabled:Boolean,name:String,size:String,value:String,maxlength:Number,minlength:Number,autofocus:Boolean,fetchSuggestions:Function,triggerOnFocus:{type:Boolean,default:!0},customItem:String,selectWhenUnmatched:{type:Boolean,default:!1},prefixIcon:String,suffixIcon:String,label:String,debounce:{type:Number,default:300},placement:{type:String,default:"bottom-start"},hideLoading:Boolean,popperAppendToBody:{type:Boolean,default:!0},highlightFirstItem:{type:Boolean,default:!1}},data:function(){return{activated:!1,suggestions:[],loading:!1,highlightedIndex:-1,suggestionDisabled:!1}},computed:{suggestionVisible:function(){var e=this.suggestions;return(Array.isArray(e)&&e.length>0||this.loading)&&this.activated},id:function(){return"el-autocomplete-"+Object(m.generateId)()}},watch:{suggestionVisible:function(e){var t=this.getInput();t&&this.broadcast("ElAutocompleteSuggestions","visible",[e,t.offsetWidth])}},methods:{getMigratingConfig:function(){return{props:{"custom-item":"custom-item is removed, use scoped slot instead.",props:"props is removed, use value-key instead."}}},getData:function(e){var t=this;this.suggestionDisabled||(this.loading=!0,this.fetchSuggestions(e,function(e){t.loading=!1,t.suggestionDisabled||(Array.isArray(e)?(t.suggestions=e,t.highlightedIndex=t.highlightFirstItem?0:-1):console.error("[Element Error][Autocomplete]autocomplete suggestions must be an array"))}))},handleInput:function(e){if(this.$emit("input",e),this.suggestionDisabled=!1,!this.triggerOnFocus&&!e)return this.suggestionDisabled=!0,void(this.suggestions=[]);this.debouncedGetData(e)},handleChange:function(e){this.$emit("change",e)},handleFocus:function(e){this.activated=!0,this.$emit("focus",e),this.triggerOnFocus&&this.debouncedGetData(this.value)},handleBlur:function(e){this.$emit("blur",e)},handleClear:function(){this.activated=!1,this.$emit("clear")},close:function(e){this.activated=!1},handleKeyEnter:function(e){var t=this;this.suggestionVisible&&this.highlightedIndex>=0&&this.highlightedIndex<this.suggestions.length?(e.preventDefault(),this.select(this.suggestions[this.highlightedIndex])):this.selectWhenUnmatched&&(this.$emit("select",{value:this.value}),this.$nextTick(function(e){t.suggestions=[],t.highlightedIndex=-1}))},select:function(e){var t=this;this.$emit("input",e[this.valueKey]),this.$emit("select",e),this.$nextTick(function(e){t.suggestions=[],t.highlightedIndex=-1})},highlight:function(e){if(this.suggestionVisible&&!this.loading)if(e<0)this.highlightedIndex=-1;else{e>=this.suggestions.length&&(e=this.suggestions.length-1);var t=this.$refs.suggestions.$el.querySelector(".el-autocomplete-suggestion__wrap"),i=t.querySelectorAll(".el-autocomplete-suggestion__list li")[e],n=t.scrollTop,r=i.offsetTop;r+i.scrollHeight>n+t.clientHeight&&(t.scrollTop+=i.scrollHeight),r<n&&(t.scrollTop-=i.scrollHeight),this.highlightedIndex=e,this.getInput().setAttribute("aria-activedescendant",this.id+"-item-"+this.highlightedIndex)}},getInput:function(){return this.$refs.input.getInput()}},mounted:function(){var e=this;this.debouncedGetData=T()(this.debounce,this.getData),this.$on("item-click",function(t){e.select(t)});var t=this.getInput();t.setAttribute("role","textbox"),t.setAttribute("aria-autocomplete","list"),t.setAttribute("aria-controls","id"),t.setAttribute("aria-activedescendant",this.id+"-item-"+this.highlightedIndex)},beforeDestroy:function(){this.$refs.suggestions.$destroy()}},E,[],!1,null,null,null);z.options.__file="packages/autocomplete/src/autocomplete.vue";var H=z.exports;H.install=function(e){e.component(H.name,H)};var j=H,U=i(12),K=i.n(U),q=i(29),G=i.n(q),Y=r({name:"ElDropdown",componentName:"ElDropdown",mixins:[x.a,C.a],directives:{Clickoutside:M.a},components:{ElButton:K.a,ElButtonGroup:G.a},provide:function(){return{dropdown:this}},props:{trigger:{type:String,default:"hover"},type:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},placement:{type:String,default:"bottom-end"},visibleArrow:{default:!0},showTimeout:{type:Number,default:250},hideTimeout:{type:Number,default:150},tabindex:{type:Number,default:0}},data:function(){return{timeout:null,visible:!1,triggerElm:null,menuItems:null,menuItemsArray:null,dropdownElm:null,focusing:!1,listId:"dropdown-menu-"+Object(m.generateId)()}},computed:{dropdownSize:function(){return this.size||(this.$ELEMENT||{}).size}},mounted:function(){this.$on("menu-item-click",this.handleMenuItemClick)},watch:{visible:function(e){this.broadcast("ElDropdownMenu","visible",e),this.$emit("visible-change",e)},focusing:function(e){var t=this.$el.querySelector(".el-dropdown-selfdefine");t&&(e?t.className+=" focusing":t.className=t.className.replace("focusing",""))}},methods:{getMigratingConfig:function(){return{props:{"menu-align":"menu-align is renamed to placement."}}},show:function(){var e=this;this.triggerElm.disabled||(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.visible=!0},"click"===this.trigger?0:this.showTimeout))},hide:function(){var e=this;this.triggerElm.disabled||(this.removeTabindex(),this.tabindex>=0&&this.resetTabindex(this.triggerElm),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.visible=!1},"click"===this.trigger?0:this.hideTimeout))},handleClick:function(){this.triggerElm.disabled||(this.visible?this.hide():this.show())},handleTriggerKeyDown:function(e){var t=e.keyCode;[38,40].indexOf(t)>-1?(this.removeTabindex(),this.resetTabindex(this.menuItems[0]),this.menuItems[0].focus(),e.preventDefault(),e.stopPropagation()):13===t?this.handleClick():[9,27].indexOf(t)>-1&&this.hide()},handleItemKeyDown:function(e){var t=e.keyCode,i=e.target,n=this.menuItemsArray.indexOf(i),r=this.menuItemsArray.length-1,o=void 0;[38,40].indexOf(t)>-1?(o=38===t?0!==n?n-1:0:n<r?n+1:r,this.removeTabindex(),this.resetTabindex(this.menuItems[o]),this.menuItems[o].focus(),e.preventDefault(),e.stopPropagation()):13===t?(this.triggerElmFocus(),i.click(),this.hideOnClick&&(this.visible=!1)):[9,27].indexOf(t)>-1&&(this.hide(),this.triggerElmFocus())},resetTabindex:function(e){this.removeTabindex(),e.setAttribute("tabindex","0")},removeTabindex:function(){this.triggerElm.setAttribute("tabindex","-1"),this.menuItemsArray.forEach(function(e){e.setAttribute("tabindex","-1")})},initAria:function(){this.dropdownElm.setAttribute("id",this.listId),this.triggerElm.setAttribute("aria-haspopup","list"),this.triggerElm.setAttribute("aria-controls",this.listId),this.splitButton||(this.triggerElm.setAttribute("role","button"),this.triggerElm.setAttribute("tabindex",this.tabindex),this.triggerElm.setAttribute("class",(this.triggerElm.getAttribute("class")||"")+" el-dropdown-selfdefine"))},initEvent:function(){var e=this,t=this.trigger,i=this.show,n=this.hide,r=this.handleClick,o=this.splitButton,s=this.handleTriggerKeyDown,a=this.handleItemKeyDown;this.triggerElm=o?this.$refs.trigger.$el:this.$slots.default[0].elm;var l=this.dropdownElm;this.triggerElm.addEventListener("keydown",s),l.addEventListener("keydown",a,!0),o||(this.triggerElm.addEventListener("focus",function(){e.focusing=!0}),this.triggerElm.addEventListener("blur",function(){e.focusing=!1}),this.triggerElm.addEventListener("click",function(){e.focusing=!1})),"hover"===t?(this.triggerElm.addEventListener("mouseenter",i),this.triggerElm.addEventListener("mouseleave",n),l.addEventListener("mouseenter",i),l.addEventListener("mouseleave",n)):"click"===t&&this.triggerElm.addEventListener("click",r)},handleMenuItemClick:function(e,t){this.hideOnClick&&(this.visible=!1),this.$emit("command",e,t)},triggerElmFocus:function(){this.triggerElm.focus&&this.triggerElm.focus()},initDomOperation:function(){this.dropdownElm=this.popperElm,this.menuItems=this.dropdownElm.querySelectorAll("[tabindex='-1']"),this.menuItemsArray=[].slice.call(this.menuItems),this.initEvent(),this.initAria()}},render:function(e){var t=this,i=this.hide,n=this.splitButton,r=this.type,o=this.dropdownSize,s=n?e("el-button-group",[e("el-button",{attrs:{type:r,size:o},nativeOn:{click:function(e){t.$emit("click",e),i()}}},[this.$slots.default]),e("el-button",{ref:"trigger",attrs:{type:r,size:o},class:"el-dropdown__caret-button"},[e("i",{class:"el-dropdown__icon el-icon-arrow-down"})])]):this.$slots.default;return e("div",{class:"el-dropdown",directives:[{name:"clickoutside",value:i}]},[s,this.$slots.dropdown])}},void 0,void 0,!1,null,null,null);Y.options.__file="packages/dropdown/src/dropdown.vue";var X=Y.exports;X.install=function(e){e.component(X.name,X)};var Z=X,Q=function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":this.doDestroy}},[t("ul",{directives:[{name:"show",rawName:"v-show",value:this.showPopper,expression:"showPopper"}],staticClass:"el-dropdown-menu el-popper",class:[this.size&&"el-dropdown-menu--"+this.size]},[this._t("default")],2)])};Q._withStripped=!0;var J=r({name:"ElDropdownMenu",componentName:"ElDropdownMenu",mixins:[P.a],props:{visibleArrow:{type:Boolean,default:!0},arrowOffset:{type:Number,default:0}},data:function(){return{size:this.dropdown.dropdownSize}},inject:["dropdown"],created:function(){var e=this;this.$on("updatePopper",function(){e.showPopper&&e.updatePopper()}),this.$on("visible",function(t){e.showPopper=t})},mounted:function(){this.dropdown.popperElm=this.popperElm=this.$el,this.referenceElm=this.dropdown.$el,this.dropdown.initDomOperation()},watch:{"dropdown.placement":{immediate:!0,handler:function(e){this.currentPlacement=e}}}},Q,[],!1,null,null,null);J.options.__file="packages/dropdown/src/dropdown-menu.vue";var ee=J.exports;ee.install=function(e){e.component(ee.name,ee)};var te=ee,ie=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"el-dropdown-menu__item",class:{"is-disabled":e.disabled,"el-dropdown-menu__item--divided":e.divided},attrs:{"aria-disabled":e.disabled,tabindex:e.disabled?null:-1},on:{click:e.handleClick}},[e.icon?i("i",{class:e.icon}):e._e(),e._t("default")],2)};ie._withStripped=!0;var ne=r({name:"ElDropdownItem",mixins:[x.a],props:{command:{},disabled:Boolean,divided:Boolean,icon:String},methods:{handleClick:function(e){this.dispatch("ElDropdown","menu-item-click",[this.command,this])}}},ie,[],!1,null,null,null);ne.options.__file="packages/dropdown/src/dropdown-item.vue";var re=ne.exports;re.install=function(e){e.component(re.name,re)};var oe=re,se=se||{};se.Utils=se.Utils||{},se.Utils.focusFirstDescendant=function(e){for(var t=0;t<e.childNodes.length;t++){var i=e.childNodes[t];if(se.Utils.attemptFocus(i)||se.Utils.focusFirstDescendant(i))return!0}return!1},se.Utils.focusLastDescendant=function(e){for(var t=e.childNodes.length-1;t>=0;t--){var i=e.childNodes[t];if(se.Utils.attemptFocus(i)||se.Utils.focusLastDescendant(i))return!0}return!1},se.Utils.attemptFocus=function(e){if(!se.Utils.isFocusable(e))return!1;se.Utils.IgnoreUtilFocusChanges=!0;try{e.focus()}catch(e){}return se.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===e},se.Utils.isFocusable=function(e){if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return"hidden"!==e.type&&"file"!==e.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},se.Utils.triggerEvent=function(e,t){var i=void 0;i=/^mouse|click/.test(t)?"MouseEvents":/^key/.test(t)?"KeyboardEvent":"HTMLEvents";for(var n=document.createEvent(i),r=arguments.length,o=Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];return n.initEvent.apply(n,[t].concat(o)),e.dispatchEvent?e.dispatchEvent(n):e.fireEvent("on"+t,n),e},se.Utils.keys={tab:9,enter:13,space:32,left:37,up:38,right:39,down:40,esc:27};var ae=se.Utils,le=function(e,t){this.domNode=t,this.parent=e,this.subMenuItems=[],this.subIndex=0,this.init()};le.prototype.init=function(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()},le.prototype.gotoSubIndex=function(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e},le.prototype.addListeners=function(){var e=this,t=ae.keys,i=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,function(n){n.addEventListener("keydown",function(n){var r=!1;switch(n.keyCode){case t.down:e.gotoSubIndex(e.subIndex+1),r=!0;break;case t.up:e.gotoSubIndex(e.subIndex-1),r=!0;break;case t.tab:ae.triggerEvent(i,"mouseleave");break;case t.enter:case t.space:r=!0,n.currentTarget.click()}return r&&(n.preventDefault(),n.stopPropagation()),!1})})};var ce=le,he=function(e){this.domNode=e,this.submenu=null,this.init()};he.prototype.init=function(){this.domNode.setAttribute("tabindex","0");var e=this.domNode.querySelector(".el-menu");e&&(this.submenu=new ce(this,e)),this.addListeners()},he.prototype.addListeners=function(){var e=this,t=ae.keys;this.domNode.addEventListener("keydown",function(i){var n=!1;switch(i.keyCode){case t.down:ae.triggerEvent(i.currentTarget,"mouseenter"),e.submenu&&e.submenu.gotoSubIndex(0),n=!0;break;case t.up:ae.triggerEvent(i.currentTarget,"mouseenter"),e.submenu&&e.submenu.gotoSubIndex(e.submenu.subMenuItems.length-1),n=!0;break;case t.tab:ae.triggerEvent(i.currentTarget,"mouseleave");break;case t.enter:case t.space:n=!0,i.currentTarget.click()}n&&i.preventDefault()})};var ue=he,de=function(e){this.domNode=e,this.init()};de.prototype.init=function(){var e=this.domNode.childNodes;[].filter.call(e,function(e){return 1===e.nodeType}).forEach(function(e){new ue(e)})};var fe=de,pe=i(1),me=r({name:"ElMenu",render:function(e){var t=e("ul",{attrs:{role:"menubar"},key:+this.collapse,style:{backgroundColor:this.backgroundColor||""},class:{"el-menu--horizontal":"horizontal"===this.mode,"el-menu--collapse":this.collapse,"el-menu":!0}},[this.$slots.default]);return this.collapseTransition?e("el-menu-collapse-transition",[t]):t},componentName:"ElMenu",mixins:[x.a,C.a],provide:function(){return{rootMenu:this}},components:{"el-menu-collapse-transition":{functional:!0,render:function(e,t){return e("transition",{props:{mode:"out-in"},on:{beforeEnter:function(e){e.style.opacity=.2},enter:function(e){Object(pe.addClass)(e,"el-opacity-transition"),e.style.opacity=1},afterEnter:function(e){Object(pe.removeClass)(e,"el-opacity-transition"),e.style.opacity=""},beforeLeave:function(e){e.dataset||(e.dataset={}),Object(pe.hasClass)(e,"el-menu--collapse")?(Object(pe.removeClass)(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth,Object(pe.addClass)(e,"el-menu--collapse")):(Object(pe.addClass)(e,"el-menu--collapse"),e.dataset.oldOverflow=e.style.overflow,e.dataset.scrollWidth=e.clientWidth,Object(pe.removeClass)(e,"el-menu--collapse")),e.style.width=e.scrollWidth+"px",e.style.overflow="hidden"},leave:function(e){Object(pe.addClass)(e,"horizontal-collapse-transition"),e.style.width=e.dataset.scrollWidth+"px"}}},t.children)}}},props:{mode:{type:String,default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:Array,uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0}},data:function(){return{activeIndex:this.defaultActive,openedMenus:this.defaultOpeneds&&!this.collapse?this.defaultOpeneds.slice(0):[],items:{},submenus:{}}},computed:{hoverBackground:function(){return this.backgroundColor?this.mixColor(this.backgroundColor,.2):""},isMenuPopup:function(){return"horizontal"===this.mode||"vertical"===this.mode&&this.collapse}},watch:{defaultActive:function(e){this.items[e]||(this.activeIndex=null),this.updateActiveIndex(e)},defaultOpeneds:function(e){this.collapse||(this.openedMenus=e)},collapse:function(e){e&&(this.openedMenus=[]),this.broadcast("ElSubmenu","toggle-collapse",e)}},methods:{updateActiveIndex:function(e){var t=this.items[e]||this.items[this.activeIndex]||this.items[this.defaultActive];t?(this.activeIndex=t.index,this.initOpenedMenu()):this.activeIndex=null},getMigratingConfig:function(){return{props:{theme:"theme is removed."}}},getColorChannels:function(e){if(e=e.replace("#",""),/^[0-9a-fA-F]{3}$/.test(e)){e=e.split("");for(var t=2;t>=0;t--)e.splice(t,0,e[t]);e=e.join("")}return/^[0-9a-fA-F]{6}$/.test(e)?{red:parseInt(e.slice(0,2),16),green:parseInt(e.slice(2,4),16),blue:parseInt(e.slice(4,6),16)}:{red:255,green:255,blue:255}},mixColor:function(e,t){var i=this.getColorChannels(e),n=i.red,r=i.green,o=i.blue;return t>0?(n*=1-t,r*=1-t,o*=1-t):(n+=(255-n)*t,r+=(255-r)*t,o+=(255-o)*t),"rgb("+Math.round(n)+", "+Math.round(r)+", "+Math.round(o)+")"},addItem:function(e){this.$set(this.items,e.index,e)},removeItem:function(e){delete this.items[e.index]},addSubmenu:function(e){this.$set(this.submenus,e.index,e)},removeSubmenu:function(e){delete this.submenus[e.index]},openMenu:function(e,t){var i=this.openedMenus;-1===i.indexOf(e)&&(this.uniqueOpened&&(this.openedMenus=i.filter(function(e){return-1!==t.indexOf(e)})),this.openedMenus.push(e))},closeMenu:function(e){var t=this.openedMenus.indexOf(e);-1!==t&&this.openedMenus.splice(t,1)},handleSubmenuClick:function(e){var t=e.index,i=e.indexPath;-1!==this.openedMenus.indexOf(t)?(this.closeMenu(t),this.$emit("close",t,i)):(this.openMenu(t,i),this.$emit("open",t,i))},handleItemClick:function(e){var t=this,i=e.index,n=e.indexPath,r=this.activeIndex,o=null!==e.index;o&&(this.activeIndex=e.index),this.$emit("select",i,n,e),("horizontal"===this.mode||this.collapse)&&(this.openedMenus=[]),this.router&&o&&this.routeToItem(e,function(e){if(t.activeIndex=r,e){if("NavigationDuplicated"===e.name)return;console.error(e)}})},initOpenedMenu:function(){var e=this,t=this.activeIndex,i=this.items[t];i&&"horizontal"!==this.mode&&!this.collapse&&i.indexPath.forEach(function(t){var i=e.submenus[t];i&&e.openMenu(t,i.indexPath)})},routeToItem:function(e,t){var i=e.route||e.index;try{this.$router.push(i,function(){},t)}catch(e){console.error(e)}},open:function(e){var t=this,i=this.submenus[e.toString()].indexPath;i.forEach(function(e){return t.openMenu(e,i)})},close:function(e){this.closeMenu(e)}},mounted:function(){this.initOpenedMenu(),this.$on("item-click",this.handleItemClick),this.$on("submenu-click",this.handleSubmenuClick),"horizontal"===this.mode&&new fe(this.$el),this.$watch("items",this.updateActiveIndex)}},void 0,void 0,!1,null,null,null);me.options.__file="packages/menu/src/menu.vue";var ge=me.exports;ge.install=function(e){e.component(ge.name,ge)};var ve=ge,be=i(21),_e=i.n(be),ye={inject:["rootMenu"],computed:{indexPath:function(){for(var e=[this.index],t=this.$parent;"ElMenu"!==t.$options.componentName;)t.index&&e.unshift(t.index),t=t.$parent;return e},parentMenu:function(){for(var e=this.$parent;e&&-1===["ElMenu","ElSubmenu"].indexOf(e.$options.componentName);)e=e.$parent;return e},paddingStyle:function(){if("vertical"!==this.rootMenu.mode)return{};var e=20,t=this.$parent;if(this.rootMenu.collapse)e=20;else for(;t&&"ElMenu"!==t.$options.componentName;)"ElSubmenu"===t.$options.componentName&&(e+=20),t=t.$parent;return{paddingLeft:e+"px"}}}},we={props:{transformOrigin:{type:[Boolean,String],default:!1},offset:P.a.props.offset,boundariesPadding:P.a.props.boundariesPadding,popperOptions:P.a.props.popperOptions},data:P.a.data,methods:P.a.methods,beforeDestroy:P.a.beforeDestroy,deactivated:P.a.deactivated},Ce=r({name:"ElSubmenu",componentName:"ElSubmenu",mixins:[ye,x.a,we],components:{ElCollapseTransition:_e.a},props:{index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0}},data:function(){return{popperJS:null,timeout:null,items:{},submenus:{},mouseInChild:!1}},watch:{opened:function(e){var t=this;this.isMenuPopup&&this.$nextTick(function(e){t.updatePopper()})}},computed:{appendToBody:function(){return void 0===this.popperAppendToBody?this.isFirstLevel:this.popperAppendToBody},menuTransitionName:function(){return this.rootMenu.collapse?"el-zoom-in-left":"el-zoom-in-top"},opened:function(){return this.rootMenu.openedMenus.indexOf(this.index)>-1},active:function(){var e=!1,t=this.submenus,i=this.items;return Object.keys(i).forEach(function(t){i[t].active&&(e=!0)}),Object.keys(t).forEach(function(i){t[i].active&&(e=!0)}),e},hoverBackground:function(){return this.rootMenu.hoverBackground},backgroundColor:function(){return this.rootMenu.backgroundColor||""},activeTextColor:function(){return this.rootMenu.activeTextColor||""},textColor:function(){return this.rootMenu.textColor||""},mode:function(){return this.rootMenu.mode},isMenuPopup:function(){return this.rootMenu.isMenuPopup},titleStyle:function(){return"horizontal"!==this.mode?{color:this.textColor}:{borderBottomColor:this.active?this.rootMenu.activeTextColor?this.activeTextColor:"":"transparent",color:this.active?this.activeTextColor:this.textColor}},isFirstLevel:function(){for(var e=!0,t=this.$parent;t&&t!==this.rootMenu;){if(["ElSubmenu","ElMenuItemGroup"].indexOf(t.$options.componentName)>-1){e=!1;break}t=t.$parent}return e}},methods:{handleCollapseToggle:function(e){e?this.initPopper():this.doDestroy()},addItem:function(e){this.$set(this.items,e.index,e)},removeItem:function(e){delete this.items[e.index]},addSubmenu:function(e){this.$set(this.submenus,e.index,e)},removeSubmenu:function(e){delete this.submenus[e.index]},handleClick:function(){var e=this.rootMenu,t=this.disabled;"hover"===e.menuTrigger&&"horizontal"===e.mode||e.collapse&&"vertical"===e.mode||t||this.dispatch("ElMenu","submenu-click",this)},handleMouseenter:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.showTimeout;if("ActiveXObject"in window||"focus"!==e.type||e.relatedTarget){var n=this.rootMenu,r=this.disabled;"click"===n.menuTrigger&&"horizontal"===n.mode||!n.collapse&&"vertical"===n.mode||r||(this.dispatch("ElSubmenu","mouse-enter-child"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.rootMenu.openMenu(t.index,t.indexPath)},i),this.appendToBody&&this.$parent.$el.dispatchEvent(new MouseEvent("mouseenter")))}},handleMouseleave:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.rootMenu;"click"===i.menuTrigger&&"horizontal"===i.mode||!i.collapse&&"vertical"===i.mode||(this.dispatch("ElSubmenu","mouse-leave-child"),clearTimeout(this.timeout),this.timeout=setTimeout(function(){!e.mouseInChild&&e.rootMenu.closeMenu(e.index)},this.hideTimeout),this.appendToBody&&t&&"ElSubmenu"===this.$parent.$options.name&&this.$parent.handleMouseleave(!0))},handleTitleMouseenter:function(){if("horizontal"!==this.mode||this.rootMenu.backgroundColor){var e=this.$refs["submenu-title"];e&&(e.style.backgroundColor=this.rootMenu.hoverBackground)}},handleTitleMouseleave:function(){if("horizontal"!==this.mode||this.rootMenu.backgroundColor){var e=this.$refs["submenu-title"];e&&(e.style.backgroundColor=this.rootMenu.backgroundColor||"")}},updatePlacement:function(){this.currentPlacement="horizontal"===this.mode&&this.isFirstLevel?"bottom-start":"right-start"},initPopper:function(){this.referenceElm=this.$el,this.popperElm=this.$refs.menu,this.updatePlacement()}},created:function(){var e=this;this.$on("toggle-collapse",this.handleCollapseToggle),this.$on("mouse-enter-child",function(){e.mouseInChild=!0,clearTimeout(e.timeout)}),this.$on("mouse-leave-child",function(){e.mouseInChild=!1,clearTimeout(e.timeout)})},mounted:function(){this.parentMenu.addSubmenu(this),this.rootMenu.addSubmenu(this),this.initPopper()},beforeDestroy:function(){this.parentMenu.removeSubmenu(this),this.rootMenu.removeSubmenu(this)},render:function(e){var t=this,i=this.active,n=this.opened,r=this.paddingStyle,o=this.titleStyle,s=this.backgroundColor,a=this.rootMenu,l=this.currentPlacement,c=this.menuTransitionName,h=this.mode,u=this.disabled,d=this.popperClass,f=this.$slots,p=this.isFirstLevel,m=e("transition",{attrs:{name:c}},[e("div",{ref:"menu",directives:[{name:"show",value:n}],class:["el-menu--"+h,d],on:{mouseenter:function(e){return t.handleMouseenter(e,100)},mouseleave:function(){return t.handleMouseleave(!0)},focus:function(e){return t.handleMouseenter(e,100)}}},[e("ul",{attrs:{role:"menu"},class:["el-menu el-menu--popup","el-menu--popup-"+l],style:{backgroundColor:a.backgroundColor||""}},[f.default])])]),g=e("el-collapse-transition",[e("ul",{attrs:{role:"menu"},class:"el-menu el-menu--inline",directives:[{name:"show",value:n}],style:{backgroundColor:a.backgroundColor||""}},[f.default])]),v="horizontal"===a.mode&&p||"vertical"===a.mode&&!a.collapse?"el-icon-arrow-down":"el-icon-arrow-right";return e("li",{class:{"el-submenu":!0,"is-active":i,"is-opened":n,"is-disabled":u},attrs:{role:"menuitem","aria-haspopup":"true","aria-expanded":n},on:{mouseenter:this.handleMouseenter,mouseleave:function(){return t.handleMouseleave(!1)},focus:this.handleMouseenter}},[e("div",{class:"el-submenu__title",ref:"submenu-title",on:{click:this.handleClick,mouseenter:this.handleTitleMouseenter,mouseleave:this.handleTitleMouseleave},style:[r,o,{backgroundColor:s}]},[f.title,e("i",{class:["el-submenu__icon-arrow",v]})]),this.isMenuPopup?m:g])}},void 0,void 0,!1,null,null,null);Ce.options.__file="packages/menu/src/submenu.vue";var Se=Ce.exports;Se.install=function(e){e.component(Se.name,Se)};var xe=Se,ke=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"el-menu-item",class:{"is-active":e.active,"is-disabled":e.disabled},style:[e.paddingStyle,e.itemStyle,{backgroundColor:e.backgroundColor}],attrs:{role:"menuitem",tabindex:"-1"},on:{click:e.handleClick,mouseenter:e.onMouseEnter,focus:e.onMouseEnter,blur:e.onMouseLeave,mouseleave:e.onMouseLeave}},["ElMenu"===e.parentMenu.$options.componentName&&e.rootMenu.collapse&&e.$slots.title?i("el-tooltip",{attrs:{effect:"dark",placement:"right"}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._t("title")],2),i("div",{staticStyle:{position:"absolute",left:"0",top:"0",height:"100%",width:"100%",display:"inline-block","box-sizing":"border-box",padding:"0 20px"}},[e._t("default")],2)]):[e._t("default"),e._t("title")]],2)};ke._withStripped=!0;var Le=i(26),De=i.n(Le),Ee=r({name:"ElMenuItem",componentName:"ElMenuItem",mixins:[ye,x.a],components:{ElTooltip:De.a},props:{index:{default:null,validator:function(e){return"string"==typeof e||null===e}},route:[String,Object],disabled:Boolean},computed:{active:function(){return this.index===this.rootMenu.activeIndex},hoverBackground:function(){return this.rootMenu.hoverBackground},backgroundColor:function(){return this.rootMenu.backgroundColor||""},activeTextColor:function(){return this.rootMenu.activeTextColor||""},textColor:function(){return this.rootMenu.textColor||""},mode:function(){return this.rootMenu.mode},itemStyle:function(){var e={color:this.active?this.activeTextColor:this.textColor};return"horizontal"!==this.mode||this.isNested||(e.borderBottomColor=this.active?this.rootMenu.activeTextColor?this.activeTextColor:"":"transparent"),e},isNested:function(){return this.parentMenu!==this.rootMenu}},methods:{onMouseEnter:function(){("horizontal"!==this.mode||this.rootMenu.backgroundColor)&&(this.$el.style.backgroundColor=this.hoverBackground)},onMouseLeave:function(){("horizontal"!==this.mode||this.rootMenu.backgroundColor)&&(this.$el.style.backgroundColor=this.backgroundColor)},handleClick:function(){this.disabled||(this.dispatch("ElMenu","item-click",this),this.$emit("click",this))}},mounted:function(){this.parentMenu.addItem(this),this.rootMenu.addItem(this)},beforeDestroy:function(){this.parentMenu.removeItem(this),this.rootMenu.removeItem(this)}},ke,[],!1,null,null,null);Ee.options.__file="packages/menu/src/menu-item.vue";var Ne=Ee.exports;Ne.install=function(e){e.component(Ne.name,Ne)};var Te=Ne,Oe=function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"el-menu-item-group"},[t("div",{staticClass:"el-menu-item-group__title",style:{paddingLeft:this.levelPadding+"px"}},[this.$slots.title?this._t("title"):[this._v(this._s(this.title))]],2),t("ul",[this._t("default")],2)])};Oe._withStripped=!0;var Me=r({name:"ElMenuItemGroup",componentName:"ElMenuItemGroup",inject:["rootMenu"],props:{title:{type:String}},data:function(){return{paddingLeft:20}},computed:{levelPadding:function(){var e=20,t=this.$parent;if(this.rootMenu.collapse)return 20;for(;t&&"ElMenu"!==t.$options.componentName;)"ElSubmenu"===t.$options.componentName&&(e+=20),t=t.$parent;return e}}},Oe,[],!1,null,null,null);Me.options.__file="packages/menu/src/menu-item-group.vue";var Ie=Me.exports;Ie.install=function(e){e.component(Ie.name,Ie)};var Ae=Ie,Pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"is-exceed":e.inputExceed,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword}],on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},["textarea"!==e.type?[e.$slots.prepend?i("div",{staticClass:"el-input-group__prepend"},[e._t("prepend")],2):e._e(),"textarea"!==e.type?i("input",e._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:e.tabindex,type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"input",e.$attrs,!1)):e._e(),e.$slots.prefix||e.prefixIcon?i("span",{staticClass:"el-input__prefix"},[e._t("prefix"),e.prefixIcon?i("i",{staticClass:"el-input__icon",class:e.prefixIcon}):e._e()],2):e._e(),e.getSuffixVisible()?i("span",{staticClass:"el-input__suffix"},[i("span",{staticClass:"el-input__suffix-inner"},[e.showClear&&e.showPwdVisible&&e.isWordLimitVisible?e._e():[e._t("suffix"),e.suffixIcon?i("i",{staticClass:"el-input__icon",class:e.suffixIcon}):e._e()],e.showClear?i("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(e){e.preventDefault()},click:e.clear}}):e._e(),e.showPwdVisible?i("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:e.handlePasswordVisible}}):e._e(),e.isWordLimitVisible?i("span",{staticClass:"el-input__count"},[i("span",{staticClass:"el-input__count-inner"},[e._v("\n            "+e._s(e.textLength)+"/"+e._s(e.upperLimit)+"\n          ")])]):e._e()],2),e.validateState?i("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",e.validateIcon]}):e._e()]):e._e(),e.$slots.append?i("div",{staticClass:"el-input-group__append"},[e._t("append")],2):e._e()]:i("textarea",e._b({ref:"textarea",staticClass:"el-textarea__inner",style:e.textareaStyle,attrs:{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"textarea",e.$attrs,!1)),e.isWordLimitVisible&&"textarea"===e.type?i("span",{staticClass:"el-input__count"},[e._v(e._s(e.textLength)+"/"+e._s(e.upperLimit))]):e._e()],2)};Pe._withStripped=!0;var Re=void 0,Fe="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",Ve=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Re||(Re=document.createElement("textarea"),document.body.appendChild(Re));var n=function(e){var t=window.getComputedStyle(e),i=t.getPropertyValue("box-sizing"),n=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),r=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Ve.map(function(e){return e+":"+t.getPropertyValue(e)}).join(";"),paddingSize:n,borderSize:r,boxSizing:i}}(e),r=n.paddingSize,o=n.borderSize,s=n.boxSizing,a=n.contextStyle;Re.setAttribute("style",a+";"+Fe),Re.value=e.value||e.placeholder||"";var l=Re.scrollHeight,c={};"border-box"===s?l+=o:"content-box"===s&&(l-=r),Re.value="";var h=Re.scrollHeight-r;if(null!==t){var u=h*t;"border-box"===s&&(u=u+r+o),l=Math.max(u,l),c.minHeight=u+"px"}if(null!==i){var d=h*i;"border-box"===s&&(d=d+r+o),l=Math.min(d,l)}return c.height=l+"px",Re.parentNode&&Re.parentNode.removeChild(Re),Re=null,c}var We=i(7),$e=i.n(We),ze=i(19),He=r({name:"ElInput",componentName:"ElInput",mixins:[x.a,C.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return $e()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(e){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[e])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var e=this;this.$nextTick(function(){e.setNativeInputValue(),e.resizeTextarea(),e.updateIconOffset()})}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var e=this.autosize;if("textarea"===this.type)if(e){var t=e.minRows,i=e.maxRows;this.textareaCalcStyle=Be(this.$refs.textarea,t,i)}else this.textareaCalcStyle={minHeight:Be(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},handleFocus:function(e){this.focused=!0,this.$emit("focus",e)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(e){var t=e.target.value,i=t[t.length-1]||"";this.isComposing=!Object(ze.isKorean)(i)},handleCompositionEnd:function(e){this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handleInput:function(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(e){this.$emit("change",e.target.value)},calcIconOffset:function(e){var t=[].slice.call(this.$el.querySelectorAll(".el-input__"+e)||[]);if(t.length){for(var i=null,n=0;n<t.length;n++)if(t[n].parentNode===this.$el){i=t[n];break}if(i){var r={suffix:"append",prefix:"prepend"}[e];this.$slots[r]?i.style.transform="translateX("+("suffix"===e?"-":"")+this.$el.querySelector(".el-input-group__"+r).offsetWidth+"px)":i.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},Pe,[],!1,null,null,null);He.options.__file="packages/input/src/input.vue";var je=He.exports;je.install=function(e){e.component(je.name,je)};var Ue=je,Ke=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["el-input-number",e.inputNumberSize?"el-input-number--"+e.inputNumberSize:"",{"is-disabled":e.inputNumberDisabled},{"is-without-controls":!e.controls},{"is-controls-right":e.controlsAtRight}],on:{dragstart:function(e){e.preventDefault()}}},[e.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.decrease,expression:"decrease"}],staticClass:"el-input-number__decrease",class:{"is-disabled":e.minDisabled},attrs:{role:"button"},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.decrease(t):null}}},[i("i",{class:"el-icon-"+(e.controlsAtRight?"arrow-down":"minus")})]):e._e(),e.controls?i("span",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.increase,expression:"increase"}],staticClass:"el-input-number__increase",class:{"is-disabled":e.maxDisabled},attrs:{role:"button"},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.increase(t):null}}},[i("i",{class:"el-icon-"+(e.controlsAtRight?"arrow-up":"plus")})]):e._e(),i("el-input",{ref:"input",attrs:{value:e.displayValue,placeholder:e.placeholder,disabled:e.inputNumberDisabled,size:e.inputNumberSize,max:e.max,min:e.min,name:e.name,label:e.label},on:{blur:e.handleBlur,focus:e.handleFocus,input:e.handleInput,change:e.handleInputChange},nativeOn:{keydown:[function(t){return"button"in t||!e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?(t.preventDefault(),e.increase(t)):null},function(t){return"button"in t||!e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?(t.preventDefault(),e.decrease(t)):null}]}})],1)};Ke._withStripped=!0;var qe={bind:function(e,t,i){var n=null,r=void 0,o=function(){return i.context[t.expression].apply()},s=function(){Date.now()-r<100&&o(),clearInterval(n),n=null};Object(pe.on)(e,"mousedown",function(e){0===e.button&&(r=Date.now(),Object(pe.once)(document,"mouseup",s),clearInterval(n),n=setInterval(o,100))})}},Ge=r({name:"ElInputNumber",mixins:[$()("input")],inject:{elForm:{default:""},elFormItem:{default:""}},directives:{repeatClick:qe},components:{ElInput:d.a},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:""},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(e){return e>=0&&e===parseInt(e,10)}}},data:function(){return{currentValue:0,userInput:null}},watch:{value:{immediate:!0,handler:function(e){var t=void 0===e?e:Number(e);if(void 0!==t){if(isNaN(t))return;if(this.stepStrictly){var i=this.getPrecision(this.step),n=Math.pow(10,i);t=Math.round(t/this.step)*n*this.step/n}void 0!==this.precision&&(t=this.toPrecision(t,this.precision))}t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),this.currentValue=t,this.userInput=null,this.$emit("input",t)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var e=this.value,t=this.step,i=this.getPrecision,n=this.precision,r=i(t);return void 0!==n?(r>n&&console.warn("[Element Warn][InputNumber]precision should not be less than the decimal places of step"),n):Math.max(i(e),r)},controlsAtRight:function(){return this.controls&&"right"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||!!(this.elForm||{}).disabled},displayValue:function(){if(null!==this.userInput)return this.userInput;var e=this.currentValue;if("number"==typeof e){if(this.stepStrictly){var t=this.getPrecision(this.step),i=Math.pow(10,t);e=Math.round(e/this.step)*i*this.step/i}void 0!==this.precision&&(e=e.toFixed(this.precision))}return e}},methods:{toPrecision:function(e,t){return void 0===t&&(t=this.numPrecision),parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t))},getPrecision:function(e){if(void 0===e)return 0;var t=e.toString(),i=t.indexOf("."),n=0;return-1!==i&&(n=t.length-i-1),n},_increase:function(e,t){if("number"!=typeof e&&void 0!==e)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*e+i*t)/i)},_decrease:function(e,t){if("number"!=typeof e&&void 0!==e)return this.currentValue;var i=Math.pow(10,this.numPrecision);return this.toPrecision((i*e-i*t)/i)},increase:function(){if(!this.inputNumberDisabled&&!this.maxDisabled){var e=this.value||0,t=this._increase(e,this.step);this.setCurrentValue(t)}},decrease:function(){if(!this.inputNumberDisabled&&!this.minDisabled){var e=this.value||0,t=this._decrease(e,this.step);this.setCurrentValue(t)}},handleBlur:function(e){this.$emit("blur",e)},handleFocus:function(e){this.$emit("focus",e)},setCurrentValue:function(e){var t=this.currentValue;"number"==typeof e&&void 0!==this.precision&&(e=this.toPrecision(e,this.precision)),e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),t!==e&&(this.userInput=null,this.$emit("input",e),this.$emit("change",e,t),this.currentValue=e)},handleInput:function(e){this.userInput=e},handleInputChange:function(e){var t=""===e?void 0:Number(e);isNaN(t)&&""!==e||this.setCurrentValue(t),this.userInput=null},select:function(){this.$refs.input.select()}},mounted:function(){var e=this.$refs.input.$refs.input;e.setAttribute("role","spinbutton"),e.setAttribute("aria-valuemax",this.max),e.setAttribute("aria-valuemin",this.min),e.setAttribute("aria-valuenow",this.currentValue),e.setAttribute("aria-disabled",this.inputNumberDisabled)},updated:function(){this.$refs&&this.$refs.input&&this.$refs.input.$refs.input.setAttribute("aria-valuenow",this.currentValue)}},Ke,[],!1,null,null,null);Ge.options.__file="packages/input-number/src/input-number.vue";var Ye=Ge.exports;Ye.install=function(e){e.component(Ye.name,Ye)};var Xe=Ye,Ze=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"el-radio",class:[e.border&&e.radioSize?"el-radio--"+e.radioSize:"",{"is-disabled":e.isDisabled},{"is-focus":e.focus},{"is-bordered":e.border},{"is-checked":e.model===e.label}],attrs:{role:"radio","aria-checked":e.model===e.label,"aria-disabled":e.isDisabled,tabindex:e.tabIndex},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.stopPropagation(),t.preventDefault(),e.model=e.isDisabled?e.model:e.label}}},[i("span",{staticClass:"el-radio__input",class:{"is-disabled":e.isDisabled,"is-checked":e.model===e.label}},[i("span",{staticClass:"el-radio__inner"}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],ref:"radio",staticClass:"el-radio__original",attrs:{type:"radio","aria-hidden":"true",name:e.name,disabled:e.isDisabled,tabindex:"-1"},domProps:{value:e.label,checked:e._q(e.model,e.label)},on:{focus:function(t){e.focus=!0},blur:function(t){e.focus=!1},change:[function(t){e.model=e.label},e.handleChange]}})]),i("span",{staticClass:"el-radio__label",on:{keydown:function(e){e.stopPropagation()}}},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.label))]],2)])};Ze._withStripped=!0;var Qe=r({name:"ElRadio",mixins:[x.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElRadio",props:{value:{},label:{},disabled:Boolean,name:String,border:Boolean,size:String},data:function(){return{focus:!1}},computed:{isGroup:function(){for(var e=this.$parent;e;){if("ElRadioGroup"===e.$options.componentName)return this._radioGroup=e,!0;e=e.$parent}return!1},model:{get:function(){return this.isGroup?this._radioGroup.value:this.value},set:function(e){this.isGroup?this.dispatch("ElRadioGroup","input",[e]):this.$emit("input",e),this.$refs.radio&&(this.$refs.radio.checked=this.model===this.label)}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},radioSize:function(){var e=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._radioGroup.radioGroupSize||e},isDisabled:function(){return this.isGroup?this._radioGroup.disabled||this.disabled||(this.elForm||{}).disabled:this.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this.isGroup&&this.model!==this.label?-1:0}},methods:{handleChange:function(){var e=this;this.$nextTick(function(){e.$emit("change",e.model),e.isGroup&&e.dispatch("ElRadioGroup","handleChange",e.model)})}}},Ze,[],!1,null,null,null);Qe.options.__file="packages/radio/src/radio.vue";var Je=Qe.exports;Je.install=function(e){e.component(Je.name,Je)};var et=Je,tt=function(){var e=this.$createElement;return(this._self._c||e)(this._elTag,{tag:"component",staticClass:"el-radio-group",attrs:{role:"radiogroup"},on:{keydown:this.handleKeydown}},[this._t("default")],2)};tt._withStripped=!0;var it=Object.freeze({LEFT:37,UP:38,RIGHT:39,DOWN:40}),nt=r({name:"ElRadioGroup",componentName:"ElRadioGroup",inject:{elFormItem:{default:""}},mixins:[x.a],props:{value:{},size:String,fill:String,textColor:String,disabled:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},_elTag:function(){return(this.$vnode.data||{}).tag||"div"},radioGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},created:function(){var e=this;this.$on("handleChange",function(t){e.$emit("change",t)})},mounted:function(){var e=this.$el.querySelectorAll("[type=radio]"),t=this.$el.querySelectorAll("[role=radio]")[0];![].some.call(e,function(e){return e.checked})&&t&&(t.tabIndex=0)},methods:{handleKeydown:function(e){var t=e.target,i="INPUT"===t.nodeName?"[type=radio]":"[role=radio]",n=this.$el.querySelectorAll(i),r=n.length,o=[].indexOf.call(n,t),s=this.$el.querySelectorAll("[role=radio]");switch(e.keyCode){case it.LEFT:case it.UP:e.stopPropagation(),e.preventDefault(),0===o?(s[r-1].click(),s[r-1].focus()):(s[o-1].click(),s[o-1].focus());break;case it.RIGHT:case it.DOWN:o===r-1?(e.stopPropagation(),e.preventDefault(),s[0].click(),s[0].focus()):(s[o+1].click(),s[o+1].focus())}}},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",[this.value])}}},tt,[],!1,null,null,null);nt.options.__file="packages/radio/src/radio-group.vue";var rt=nt.exports;rt.install=function(e){e.component(rt.name,rt)};var ot=rt,st=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"el-radio-button",class:[e.size?"el-radio-button--"+e.size:"",{"is-active":e.value===e.label},{"is-disabled":e.isDisabled},{"is-focus":e.focus}],attrs:{role:"radio","aria-checked":e.value===e.label,"aria-disabled":e.isDisabled,tabindex:e.tabIndex},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;t.stopPropagation(),t.preventDefault(),e.value=e.isDisabled?e.value:e.label}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"el-radio-button__orig-radio",attrs:{type:"radio",name:e.name,disabled:e.isDisabled,tabindex:"-1"},domProps:{value:e.label,checked:e._q(e.value,e.label)},on:{change:[function(t){e.value=e.label},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}),i("span",{staticClass:"el-radio-button__inner",style:e.value===e.label?e.activeStyle:null,on:{keydown:function(e){e.stopPropagation()}}},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.label))]],2)])};st._withStripped=!0;var at=r({name:"ElRadioButton",mixins:[x.a],inject:{elForm:{default:""},elFormItem:{default:""}},props:{label:{},disabled:Boolean,name:String},data:function(){return{focus:!1}},computed:{value:{get:function(){return this._radioGroup.value},set:function(e){this._radioGroup.$emit("input",e)}},_radioGroup:function(){for(var e=this.$parent;e;){if("ElRadioGroup"===e.$options.componentName)return e;e=e.$parent}return!1},activeStyle:function(){return{backgroundColor:this._radioGroup.fill||"",borderColor:this._radioGroup.fill||"",boxShadow:this._radioGroup.fill?"-1px 0 0 0 "+this._radioGroup.fill:"",color:this._radioGroup.textColor||""}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._radioGroup.radioGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isDisabled:function(){return this.disabled||this._radioGroup.disabled||(this.elForm||{}).disabled},tabIndex:function(){return this.isDisabled||this._radioGroup&&this.value!==this.label?-1:0}},methods:{handleChange:function(){var e=this;this.$nextTick(function(){e.dispatch("ElRadioGroup","handleChange",e.value)})}}},st,[],!1,null,null,null);at.options.__file="packages/radio/src/radio-button.vue";var lt=at.exports;lt.install=function(e){e.component(lt.name,lt)};var ct=lt,ht=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"el-checkbox",class:[e.border&&e.checkboxSize?"el-checkbox--"+e.checkboxSize:"",{"is-disabled":e.isDisabled},{"is-bordered":e.border},{"is-checked":e.isChecked}],attrs:{id:e.id}},[i("span",{staticClass:"el-checkbox__input",class:{"is-disabled":e.isDisabled,"is-checked":e.isChecked,"is-indeterminate":e.indeterminate,"is-focus":e.focus},attrs:{tabindex:!!e.indeterminate&&0,role:!!e.indeterminate&&"checkbox","aria-checked":!!e.indeterminate&&"mixed"}},[i("span",{staticClass:"el-checkbox__inner"}),e.trueLabel||e.falseLabel?i("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":e.indeterminate?"true":"false",name:e.name,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel},domProps:{checked:Array.isArray(e.model)?e._i(e.model,null)>-1:e._q(e.model,e.trueLabel)},on:{change:[function(t){var i=e.model,n=t.target,r=n.checked?e.trueLabel:e.falseLabel;if(Array.isArray(i)){var o=e._i(i,null);n.checked?o<0&&(e.model=i.concat([null])):o>-1&&(e.model=i.slice(0,o).concat(i.slice(o+1)))}else e.model=r},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox__original",attrs:{type:"checkbox","aria-hidden":e.indeterminate?"true":"false",disabled:e.isDisabled,name:e.name},domProps:{value:e.label,checked:Array.isArray(e.model)?e._i(e.model,e.label)>-1:e.model},on:{change:[function(t){var i=e.model,n=t.target,r=!!n.checked;if(Array.isArray(i)){var o=e.label,s=e._i(i,o);n.checked?s<0&&(e.model=i.concat([o])):s>-1&&(e.model=i.slice(0,s).concat(i.slice(s+1)))}else e.model=r},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}})]),e.$slots.default||e.label?i("span",{staticClass:"el-checkbox__label"},[e._t("default"),e.$slots.default?e._e():[e._v(e._s(e.label))]],2):e._e()])};ht._withStripped=!0;var ut=r({name:"ElCheckbox",mixins:[x.a],inject:{elForm:{default:""},elFormItem:{default:""}},componentName:"ElCheckbox",data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},computed:{model:{get:function(){return this.isGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(e){this.isGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&e.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&e.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[e])):(this.$emit("input",e),this.selfModel=e)}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},isGroup:function(){for(var e=this.$parent;e;){if("ElCheckboxGroup"===e.$options.componentName)return this._checkboxGroup=e,!0;e=e.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},isLimitDisabled:function(){var e=this._checkboxGroup,t=e.max,i=e.min;return!(!t&&!i)&&this.model.length>=t&&!this.isChecked||this.model.length<=i&&this.isChecked},isDisabled:function(){return this.isGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxSize:function(){var e=this.size||this._elFormItemSize||(this.$ELEMENT||{}).size;return this.isGroup&&this._checkboxGroup.checkboxGroupSize||e}},props:{value:{},label:{},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number],id:String,controls:String,border:Boolean,size:String},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(e){var t=this;if(!this.isLimitExceeded){var i=void 0;i=e.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",i,e),this.$nextTick(function(){t.isGroup&&t.dispatch("ElCheckboxGroup","change",[t._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()},mounted:function(){this.indeterminate&&this.$el.setAttribute("aria-controls",this.controls)},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",e)}}},ht,[],!1,null,null,null);ut.options.__file="packages/checkbox/src/checkbox.vue";var dt=ut.exports;dt.install=function(e){e.component(dt.name,dt)};var ft=dt,pt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{staticClass:"el-checkbox-button",class:[e.size?"el-checkbox-button--"+e.size:"",{"is-disabled":e.isDisabled},{"is-checked":e.isChecked},{"is-focus":e.focus}],attrs:{role:"checkbox","aria-checked":e.isChecked,"aria-disabled":e.isDisabled}},[e.trueLabel||e.falseLabel?i("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox-button__original",attrs:{type:"checkbox",name:e.name,disabled:e.isDisabled,"true-value":e.trueLabel,"false-value":e.falseLabel},domProps:{checked:Array.isArray(e.model)?e._i(e.model,null)>-1:e._q(e.model,e.trueLabel)},on:{change:[function(t){var i=e.model,n=t.target,r=n.checked?e.trueLabel:e.falseLabel;if(Array.isArray(i)){var o=e._i(i,null);n.checked?o<0&&(e.model=i.concat([null])):o>-1&&(e.model=i.slice(0,o).concat(i.slice(o+1)))}else e.model=r},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"el-checkbox-button__original",attrs:{type:"checkbox",name:e.name,disabled:e.isDisabled},domProps:{value:e.label,checked:Array.isArray(e.model)?e._i(e.model,e.label)>-1:e.model},on:{change:[function(t){var i=e.model,n=t.target,r=!!n.checked;if(Array.isArray(i)){var o=e.label,s=e._i(i,o);n.checked?s<0&&(e.model=i.concat([o])):s>-1&&(e.model=i.slice(0,s).concat(i.slice(s+1)))}else e.model=r},e.handleChange],focus:function(t){e.focus=!0},blur:function(t){e.focus=!1}}}),e.$slots.default||e.label?i("span",{staticClass:"el-checkbox-button__inner",style:e.isChecked?e.activeStyle:null},[e._t("default",[e._v(e._s(e.label))])],2):e._e()])};pt._withStripped=!0;var mt=r({name:"ElCheckboxButton",mixins:[x.a],inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{selfModel:!1,focus:!1,isLimitExceeded:!1}},props:{value:{},label:{},disabled:Boolean,checked:Boolean,name:String,trueLabel:[String,Number],falseLabel:[String,Number]},computed:{model:{get:function(){return this._checkboxGroup?this.store:void 0!==this.value?this.value:this.selfModel},set:function(e){this._checkboxGroup?(this.isLimitExceeded=!1,void 0!==this._checkboxGroup.min&&e.length<this._checkboxGroup.min&&(this.isLimitExceeded=!0),void 0!==this._checkboxGroup.max&&e.length>this._checkboxGroup.max&&(this.isLimitExceeded=!0),!1===this.isLimitExceeded&&this.dispatch("ElCheckboxGroup","input",[e])):void 0!==this.value?this.$emit("input",e):this.selfModel=e}},isChecked:function(){return"[object Boolean]"==={}.toString.call(this.model)?this.model:Array.isArray(this.model)?this.model.indexOf(this.label)>-1:null!==this.model&&void 0!==this.model?this.model===this.trueLabel:void 0},_checkboxGroup:function(){for(var e=this.$parent;e;){if("ElCheckboxGroup"===e.$options.componentName)return e;e=e.$parent}return!1},store:function(){return this._checkboxGroup?this._checkboxGroup.value:this.value},activeStyle:function(){return{backgroundColor:this._checkboxGroup.fill||"",borderColor:this._checkboxGroup.fill||"",color:this._checkboxGroup.textColor||"","box-shadow":"-1px 0 0 0 "+this._checkboxGroup.fill}},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},size:function(){return this._checkboxGroup.checkboxGroupSize||this._elFormItemSize||(this.$ELEMENT||{}).size},isLimitDisabled:function(){var e=this._checkboxGroup,t=e.max,i=e.min;return!(!t&&!i)&&this.model.length>=t&&!this.isChecked||this.model.length<=i&&this.isChecked},isDisabled:function(){return this._checkboxGroup?this._checkboxGroup.disabled||this.disabled||(this.elForm||{}).disabled||this.isLimitDisabled:this.disabled||(this.elForm||{}).disabled}},methods:{addToStore:function(){Array.isArray(this.model)&&-1===this.model.indexOf(this.label)?this.model.push(this.label):this.model=this.trueLabel||!0},handleChange:function(e){var t=this;if(!this.isLimitExceeded){var i=void 0;i=e.target.checked?void 0===this.trueLabel||this.trueLabel:void 0!==this.falseLabel&&this.falseLabel,this.$emit("change",i,e),this.$nextTick(function(){t._checkboxGroup&&t.dispatch("ElCheckboxGroup","change",[t._checkboxGroup.value])})}}},created:function(){this.checked&&this.addToStore()}},pt,[],!1,null,null,null);mt.options.__file="packages/checkbox/src/checkbox-button.vue";var gt=mt.exports;gt.install=function(e){e.component(gt.name,gt)};var vt=gt,bt=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-checkbox-group",attrs:{role:"group","aria-label":"checkbox-group"}},[this._t("default")],2)};bt._withStripped=!0;var _t=r({name:"ElCheckboxGroup",componentName:"ElCheckboxGroup",mixins:[x.a],inject:{elFormItem:{default:""}},props:{value:{},disabled:Boolean,min:Number,max:Number,size:String,fill:String,textColor:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},checkboxGroupSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size}},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",[e])}}},bt,[],!1,null,null,null);_t.options.__file="packages/checkbox/src/checkbox-group.vue";var yt=_t.exports;yt.install=function(e){e.component(yt.name,yt)};var wt=yt,Ct=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-switch",class:{"is-disabled":e.switchDisabled,"is-checked":e.checked},attrs:{role:"switch","aria-checked":e.checked,"aria-disabled":e.switchDisabled},on:{click:function(t){return t.preventDefault(),e.switchValue(t)}}},[i("input",{ref:"input",staticClass:"el-switch__input",attrs:{type:"checkbox",id:e.id,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:e.switchDisabled},on:{change:e.handleChange,keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.switchValue(t):null}}}),e.inactiveIconClass||e.inactiveText?i("span",{class:["el-switch__label","el-switch__label--left",e.checked?"":"is-active"]},[e.inactiveIconClass?i("i",{class:[e.inactiveIconClass]}):e._e(),!e.inactiveIconClass&&e.inactiveText?i("span",{attrs:{"aria-hidden":e.checked}},[e._v(e._s(e.inactiveText))]):e._e()]):e._e(),i("span",{ref:"core",staticClass:"el-switch__core",style:{width:e.coreWidth+"px"}}),e.activeIconClass||e.activeText?i("span",{class:["el-switch__label","el-switch__label--right",e.checked?"is-active":""]},[e.activeIconClass?i("i",{class:[e.activeIconClass]}):e._e(),!e.activeIconClass&&e.activeText?i("span",{attrs:{"aria-hidden":!e.checked}},[e._v(e._s(e.activeText))]):e._e()]):e._e()])};Ct._withStripped=!0;var St=r({name:"ElSwitch",mixins:[$()("input"),C.a,x.a],inject:{elForm:{default:""}},props:{value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:Number,default:40},activeIconClass:{type:String,default:""},inactiveIconClass:{type:String,default:""},activeText:String,inactiveText:String,activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String},data:function(){return{coreWidth:this.width}},created:function(){~[this.activeValue,this.inactiveValue].indexOf(this.value)||this.$emit("input",this.inactiveValue)},computed:{checked:function(){return this.value===this.activeValue},switchDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{checked:function(){this.$refs.input.checked=this.checked,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[this.value])}},methods:{handleChange:function(e){var t=this,i=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",i),this.$emit("change",i),this.$nextTick(function(){t.$refs.input.checked=t.checked})},setBackgroundColor:function(){var e=this.checked?this.activeColor:this.inactiveColor;this.$refs.core.style.borderColor=e,this.$refs.core.style.backgroundColor=e},switchValue:function(){!this.switchDisabled&&this.handleChange()},getMigratingConfig:function(){return{props:{"on-color":"on-color is renamed to active-color.","off-color":"off-color is renamed to inactive-color.","on-text":"on-text is renamed to active-text.","off-text":"off-text is renamed to inactive-text.","on-value":"on-value is renamed to active-value.","off-value":"off-value is renamed to inactive-value.","on-icon-class":"on-icon-class is renamed to active-icon-class.","off-icon-class":"off-icon-class is renamed to inactive-icon-class."}}}},mounted:function(){this.coreWidth=this.width||40,(this.activeColor||this.inactiveColor)&&this.setBackgroundColor(),this.$refs.input.checked=this.checked}},Ct,[],!1,null,null,null);St.options.__file="packages/switch/src/component.vue";var xt=St.exports;xt.install=function(e){e.component(xt.name,xt)};var kt=xt,Lt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[e.selectSize?"el-select--"+e.selectSize:""],on:{click:function(t){return t.stopPropagation(),e.toggleMenu(t)}}},[e.multiple?i("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":e.inputWidth-32+"px",width:"100%"}},[e.collapseTags&&e.selected.length?i("span",[i("el-tag",{attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(t){e.deleteTag(t,e.selected[0])}}},[i("span",{staticClass:"el-select__tags-text"},[e._v(e._s(e.selected[0].currentLabel))])]),e.selected.length>1?i("el-tag",{attrs:{closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""}},[i("span",{staticClass:"el-select__tags-text"},[e._v("+ "+e._s(e.selected.length-1))])]):e._e()],1):e._e(),e.collapseTags?e._e():i("transition-group",{on:{"after-leave":e.resetInputHeight}},e._l(e.selected,function(t){return i("el-tag",{key:e.getValueKey(t),attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,hit:t.hitState,type:"info","disable-transitions":""},on:{close:function(i){e.deleteTag(i,t)}}},[i("span",{staticClass:"el-select__tags-text"},[e._v(e._s(t.currentLabel))])])}),1),e.filterable?i("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[e.selectSize?"is-"+e.selectSize:""],style:{"flex-grow":"1",width:e.inputLength/(e.inputWidth-32)+"%","max-width":e.inputWidth-42+"px"},attrs:{type:"text",disabled:e.selectDisabled,autocomplete:e.autoComplete||e.autocomplete},domProps:{value:e.query},on:{focus:e.handleFocus,blur:function(t){e.softFocus=!1},keyup:e.managePlaceholder,keydown:[e.resetInputState,function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.preventDefault(),e.navigateOptions("next")},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.preventDefault(),e.navigateOptions("prev")},function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.selectOption(t)):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;t.stopPropagation(),t.preventDefault(),e.visible=!1},function(t){return"button"in t||!e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?e.deletePrevTag(t):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;e.visible=!1}],compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition,input:[function(t){t.target.composing||(e.query=t.target.value)},e.debouncedQueryChange]}}):e._e()],1):e._e(),i("el-input",{ref:"reference",class:{"is-focus":e.visible},attrs:{type:"text",placeholder:e.currentPlaceholder,name:e.name,id:e.id,autocomplete:e.autoComplete||e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,tabindex:e.multiple&&e.filterable?"-1":null},on:{focus:e.handleFocus,blur:e.handleBlur},nativeOn:{keyup:function(t){return e.debouncedOnInputChange(t)},keydown:[function(t){if(!("button"in t)&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"]))return null;t.stopPropagation(),t.preventDefault(),e.navigateOptions("next")},function(t){if(!("button"in t)&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"]))return null;t.stopPropagation(),t.preventDefault(),e.navigateOptions("prev")},function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.selectOption(t)):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;t.stopPropagation(),t.preventDefault(),e.visible=!1},function(t){if(!("button"in t)&&e._k(t.keyCode,"tab",9,t.key,"Tab"))return null;e.visible=!1}],paste:function(t){return e.debouncedOnInputChange(t)},mouseenter:function(t){e.inputHovering=!0},mouseleave:function(t){e.inputHovering=!1}},model:{value:e.selectedLabel,callback:function(t){e.selectedLabel=t},expression:"selectedLabel"}},[e.$slots.prefix?i("template",{slot:"prefix"},[e._t("prefix")],2):e._e(),i("template",{slot:"suffix"},[i("i",{directives:[{name:"show",rawName:"v-show",value:!e.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+e.iconClass]}),e.showClose?i("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:e.handleClearClick}}):e._e()])],2),i("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":e.handleMenuEnter,"after-leave":e.doDestroy}},[i("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:e.visible&&!1!==e.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":e.popperAppendToBody}},[i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:e.options.length>0&&!e.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!e.allowCreate&&e.query&&0===e.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[e.showNewOption?i("el-option",{attrs:{value:e.query,created:""}}):e._e(),e._t("default")],2),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.length)?[e.$slots.empty?e._t("empty"):i("p",{staticClass:"el-select-dropdown__empty"},[e._v("\n          "+e._s(e.emptyText)+"\n        ")])]:e._e()],2)],1)],1)};Lt._withStripped=!0;var Dt=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":this.$parent.multiple},this.popperClass],style:{minWidth:this.minWidth}},[this._t("default")],2)};Dt._withStripped=!0;var Et=r({name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[P.a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function(){return{minWidth:""}},computed:{popperClass:function(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function(){var e=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",function(){e.$parent.visible&&e.updatePopper()}),this.$on("destroyPopper",this.destroyPopper)}},Dt,[],!1,null,null,null);Et.options.__file="packages/select/src/select-dropdown.vue";var Nt=Et.exports,Tt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:e.itemSelected,"is-disabled":e.disabled||e.groupDisabled||e.limitReached,hover:e.hover},on:{mouseenter:e.hoverItem,click:function(t){return t.stopPropagation(),e.selectOptionClick(t)}}},[e._t("default",[i("span",[e._v(e._s(e.currentLabel))])])],2)};Tt._withStripped=!0;var Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt=r({mixins:[x.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function(){return this.label||(this.isObject?"":this.value)},currentValue:function(){return this.value||this.label||""},itemSelected:function(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function(e,t){var i=this.select,n=i.remote,r=i.valueKey;if(!this.created&&!n){if(r&&"object"===(void 0===e?"undefined":Ot(e))&&"object"===(void 0===t?"undefined":Ot(t))&&e[r]===t[r])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function(e,t){if(this.isObject){var i=this.select.valueKey;return Object(m.getValueByPath)(e,i)===Object(m.getValueByPath)(t,i)}return e===t},contains:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if(this.isObject){var i=this.select.valueKey;return e&&e.some(function(e){return Object(m.getValueByPath)(e,i)===Object(m.getValueByPath)(t,i)})}return e&&e.indexOf(t)>-1},handleGroupDisabled:function(e){this.groupDisabled=e},hoverItem:function(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function(e){this.visible=new RegExp(Object(m.escapeRegexpString)(e),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function(){var e=this.select,t=e.selected,i=e.multiple?t:[t],n=this.select.cachedOptions.indexOf(this),r=i.indexOf(this);n>-1&&r<0&&this.select.cachedOptions.splice(n,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},Tt,[],!1,null,null,null);Mt.options.__file="packages/select/src/option.vue";var It=Mt.exports,At=i(30),Pt=i.n(At),Rt=i(13),Ft=i(11),Vt=i.n(Ft),Bt=i(27),Wt=i.n(Bt),$t=r({mixins:[x.a,p.a,$()("reference"),{data:function(){return{hoverOption:-1}},computed:{optionsAllDisabled:function(){return this.options.filter(function(e){return e.visible}).every(function(e){return e.disabled})}},watch:{hoverIndex:function(e){var t=this;"number"==typeof e&&e>-1&&(this.hoverOption=this.options[e]||{}),this.options.forEach(function(e){e.hover=t.hoverOption===e})}},methods:{navigateOptions:function(e){var t=this;if(this.visible){if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===e?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===e&&(this.hoverIndex--,this.hoverIndex<0&&(this.hoverIndex=this.options.length-1));var i=this.options[this.hoverIndex];!0!==i.disabled&&!0!==i.groupDisabled&&i.visible||this.navigateOptions(e),this.$nextTick(function(){return t.scrollToOption(t.hoverOption)})}}else this.visible=!0}}}],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function(){return{select:this}},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},readonly:function(){return!this.filterable||this.multiple||!Object(m.isIE)()&&!Object(m.isEdge)()&&!this.visible},showClose:function(){var e=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value;return this.clearable&&!this.selectDisabled&&this.inputHovering&&e},iconClass:function(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function(){return this.remote?300:0},emptyText:function(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&this.options.length>0&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function(){var e=this,t=this.options.filter(function(e){return!e.created}).some(function(t){return t.currentLabel===e.query});return this.filterable&&this.allowCreate&&""!==this.query&&!t},selectSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"}},components:{ElInput:d.a,ElSelectMenu:Nt,ElOption:It,ElTag:Pt.a,ElScrollbar:F.a},directives:{Clickoutside:M.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,default:function(){return Object(Ft.t)("el.select.placeholder")}},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function(){var e=this;this.$nextTick(function(){e.resetInputHeight()})},placeholder:function(e){this.cachedPlaceHolder=this.currentPlaceholder=e},value:function(e,t){this.multiple&&(this.resetInputHeight(),e&&e.length>0||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(m.valueEquals)(e,t)||this.dispatch("ElFormItem","el.form.change",e)},visible:function(e){var t=this;e?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick(function(){t.$refs.input&&""===t.$refs.input.value&&0===t.selected.length&&(t.currentPlaceholder=t.cachedPlaceHolder)}),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",e)},options:function(){var e=this;if(!this.$isServer){this.$nextTick(function(){e.broadcast("ElSelectDropdown","updatePopper")}),this.multiple&&this.resetInputHeight();var t=this.$el.querySelectorAll("input");-1===[].indexOf.call(t,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleComposition:function(e){var t=this,i=e.target.value;if("compositionend"===e.type)this.isOnComposition=!1,this.$nextTick(function(e){return t.handleQueryChange(i)});else{var n=i[i.length-1]||"";this.isOnComposition=!Object(ze.isKorean)(n)}},handleQueryChange:function(e){var t=this;this.previousQuery===e||this.isOnComposition||(null!==this.previousQuery||"function"!=typeof this.filterMethod&&"function"!=typeof this.remoteMethod?(this.previousQuery=e,this.$nextTick(function(){t.visible&&t.broadcast("ElSelectDropdown","updatePopper")}),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick(function(){var e=15*t.$refs.input.value.length+20;t.inputLength=t.collapseTags?Math.min(50,e):e,t.managePlaceholder(),t.resetInputHeight()}),this.remote&&"function"==typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(e)):"function"==typeof this.filterMethod?(this.filterMethod(e),this.broadcast("ElOptionGroup","queryChange")):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",e),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=e)},scrollToOption:function(e){var t=Array.isArray(e)&&e[0]?e[0].$el:e.$el;if(this.$refs.popper&&t){var i=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");Wt()(i,t)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function(){var e=this;this.$nextTick(function(){return e.scrollToOption(e.selected)})},emitChange:function(e){Object(m.valueEquals)(this.value,e)||this.$emit("change",e)},getOption:function(e){for(var t=void 0,i="[object object]"===Object.prototype.toString.call(e).toLowerCase(),n="[object null]"===Object.prototype.toString.call(e).toLowerCase(),r="[object undefined]"===Object.prototype.toString.call(e).toLowerCase(),o=this.cachedOptions.length-1;o>=0;o--){var s=this.cachedOptions[o];if(i?Object(m.getValueByPath)(s.value,this.valueKey)===Object(m.getValueByPath)(e,this.valueKey):s.value===e){t=s;break}}if(t)return t;var a={value:e,currentLabel:i||n||r?"":e};return this.multiple&&(a.hitState=!1),a},setSelected:function(){var e=this;if(!this.multiple){var t=this.getOption(this.value);return t.created?(this.createdLabel=t.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=t.currentLabel,this.selected=t,void(this.filterable&&(this.query=this.selectedLabel))}var i=[];Array.isArray(this.value)&&this.value.forEach(function(t){i.push(e.getOption(t))}),this.selected=i,this.$nextTick(function(){e.resetInputHeight()})},handleFocus:function(e){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.visible=!0,this.filterable&&(this.menuVisibleOnFocus=!0)),this.$emit("focus",e))},blur:function(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function(e){var t=this;setTimeout(function(){t.isSilentBlur?t.isSilentBlur=!1:t.$emit("blur",e)},50),this.softFocus=!1},handleClearClick:function(e){this.deleteSelected(e)},doDestroy:function(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function(){this.visible=!1},toggleLastOptionHitState:function(e){if(Array.isArray(this.selected)){var t=this.selected[this.selected.length-1];if(t)return!0===e||!1===e?(t.hitState=e,e):(t.hitState=!t.hitState,t.hitState)}},deletePrevTag:function(e){if(e.target.value.length<=0&&!this.toggleLastOptionHitState()){var t=this.value.slice();t.pop(),this.$emit("input",t),this.emitChange(t)}},managePlaceholder:function(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function(e){8!==e.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function(){var e=this;this.collapseTags&&!this.filterable||this.$nextTick(function(){if(e.$refs.reference){var t=e.$refs.reference.$el.childNodes,i=[].filter.call(t,function(e){return"INPUT"===e.tagName})[0],n=e.$refs.tags,r=e.initialInputHeight||40;i.style.height=0===e.selected.length?r+"px":Math.max(n?n.clientHeight+(n.clientHeight>r?6:0):0,r)+"px",e.visible&&!1!==e.emptyText&&e.broadcast("ElSelectDropdown","updatePopper")}})},resetHoverIndex:function(){var e=this;setTimeout(function(){e.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map(function(t){return e.options.indexOf(t)})):e.hoverIndex=-1:e.hoverIndex=e.options.indexOf(e.selected)},300)},handleOptionSelect:function(e,t){var i=this;if(this.multiple){var n=(this.value||[]).slice(),r=this.getValueIndex(n,e.value);r>-1?n.splice(r,1):(this.multipleLimit<=0||n.length<this.multipleLimit)&&n.push(e.value),this.$emit("input",n),this.emitChange(n),e.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",e.value),this.emitChange(e.value),this.visible=!1;this.isSilentBlur=t,this.setSoftFocus(),this.visible||this.$nextTick(function(){i.scrollToOption(e)})},setSoftFocus:function(){this.softFocus=!0;var e=this.$refs.input||this.$refs.reference;e&&e.focus()},getValueIndex:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if("[object object]"===Object.prototype.toString.call(t).toLowerCase()){var i=this.valueKey,n=-1;return e.some(function(e,r){return Object(m.getValueByPath)(e,i)===Object(m.getValueByPath)(t,i)&&(n=r,!0)}),n}return e.indexOf(t)},toggleMenu:function(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function(e){e.stopPropagation();var t=this.multiple?[]:"";this.$emit("input",t),this.emitChange(t),this.visible=!1,this.$emit("clear")},deleteTag:function(e,t){var i=this.selected.indexOf(t);if(i>-1&&!this.selectDisabled){var n=this.value.slice();n.splice(i,1),this.$emit("input",n),this.emitChange(n),this.$emit("remove-tag",t.value)}e.stopPropagation()},onInputChange:function(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function(e){e>-1&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(e,1))},resetInputWidth:function(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function(){this.hoverIndex=-1;for(var e=!1,t=this.options.length-1;t>=0;t--)if(this.options[t].created){e=!0,this.hoverIndex=t;break}if(!e)for(var i=0;i!==this.options.length;++i){var n=this.options[i];if(this.query){if(!n.disabled&&!n.groupDisabled&&n.visible){this.hoverIndex=i;break}}else if(n.itemSelected){this.hoverIndex=i;break}}},getValueKey:function(e){return"[object object]"!==Object.prototype.toString.call(e.value).toLowerCase()?e.value:Object(m.getValueByPath)(e.value,this.valueKey)}},created:function(){var e=this;this.cachedPlaceHolder=this.currentPlaceholder=this.placeholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=T()(this.debounce,function(){e.onInputChange()}),this.debouncedQueryChange=T()(this.debounce,function(t){e.handleQueryChange(t.target.value)}),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function(){var e=this;this.multiple&&Array.isArray(this.value)&&this.value.length>0&&(this.currentPlaceholder=""),Object(Rt.addResizeListener)(this.$el,this.handleResize);var t=this.$refs.reference;if(t&&t.$el){var i=t.$el.querySelector("input");this.initialInputHeight=i.getBoundingClientRect().height||{medium:36,small:32,mini:28}[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick(function(){t&&t.$el&&(e.inputWidth=t.$el.getBoundingClientRect().width)}),this.setSelected()},beforeDestroy:function(){this.$el&&this.handleResize&&Object(Rt.removeResizeListener)(this.$el,this.handleResize)}},Lt,[],!1,null,null,null);$t.options.__file="packages/select/src/select.vue";var zt=$t.exports;zt.install=function(e){e.component(zt.name,zt)};var Ht=zt;It.install=function(e){e.component(It.name,It)};var jt=It,Ut=function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"el-select-group__wrap"},[t("li",{staticClass:"el-select-group__title"},[this._v(this._s(this.label))]),t("li",[t("ul",{staticClass:"el-select-group"},[this._t("default")],2)])])};Ut._withStripped=!0;var Kt=r({mixins:[x.a],name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},data:function(){return{visible:!0}},watch:{disabled:function(e){this.broadcast("ElOption","handleGroupDisabled",e)}},methods:{queryChange:function(){this.visible=this.$children&&Array.isArray(this.$children)&&this.$children.some(function(e){return!0===e.visible})}},created:function(){this.$on("queryChange",this.queryChange)},mounted:function(){this.disabled&&this.broadcast("ElOption","handleGroupDisabled",this.disabled)}},Ut,[],!1,null,null,null);Kt.options.__file="packages/select/src/option-group.vue";var qt=Kt.exports;qt.install=function(e){e.component(qt.name,qt)};var Gt=qt,Yt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"el-button",class:[e.type?"el-button--"+e.type:"",e.buttonSize?"el-button--"+e.buttonSize:"",{"is-disabled":e.buttonDisabled,"is-loading":e.loading,"is-plain":e.plain,"is-round":e.round,"is-circle":e.circle}],attrs:{disabled:e.buttonDisabled||e.loading,autofocus:e.autofocus,type:e.nativeType},on:{click:e.handleClick}},[e.loading?i("i",{staticClass:"el-icon-loading"}):e._e(),e.icon&&!e.loading?i("i",{class:e.icon}):e._e(),e.$slots.default?i("span",[e._t("default")],2):e._e()])};Yt._withStripped=!0;var Xt=r({name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(e){this.$emit("click",e)}}},Yt,[],!1,null,null,null);Xt.options.__file="packages/button/src/button.vue";var Zt=Xt.exports;Zt.install=function(e){e.component(Zt.name,Zt)};var Qt=Zt,Jt=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-button-group"},[this._t("default")],2)};Jt._withStripped=!0;var ei=r({name:"ElButtonGroup"},Jt,[],!1,null,null,null);ei.options.__file="packages/button/src/button-group.vue";var ti=ei.exports;ti.install=function(e){e.component(ti.name,ti)};var ii=ti,ni=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-table",class:[{"el-table--fit":e.fit,"el-table--striped":e.stripe,"el-table--border":e.border||e.isGroup,"el-table--hidden":e.isHidden,"el-table--group":e.isGroup,"el-table--fluid-height":e.maxHeight,"el-table--scrollable-x":e.layout.scrollX,"el-table--scrollable-y":e.layout.scrollY,"el-table--enable-row-hover":!e.store.states.isComplex,"el-table--enable-row-transition":0!==(e.store.states.data||[]).length&&(e.store.states.data||[]).length<100},e.tableSize?"el-table--"+e.tableSize:""],on:{mouseleave:function(t){e.handleMouseLeave(t)}}},[i("div",{ref:"hiddenColumns",staticClass:"hidden-columns"},[e._t("default")],2),e.showHeader?i("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:e.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"headerWrapper",staticClass:"el-table__header-wrapper"},[i("table-header",{ref:"tableHeader",style:{width:e.layout.bodyWidth?e.layout.bodyWidth+"px":""},attrs:{store:e.store,border:e.border,"default-sort":e.defaultSort}})],1):e._e(),i("div",{ref:"bodyWrapper",staticClass:"el-table__body-wrapper",class:[e.layout.scrollX?"is-scrolling-"+e.scrollPosition:"is-scrolling-none"],style:[e.bodyHeight]},[i("table-body",{style:{width:e.bodyWidth},attrs:{context:e.context,store:e.store,stripe:e.stripe,"row-class-name":e.rowClassName,"row-style":e.rowStyle,highlight:e.highlightCurrentRow}}),e.data&&0!==e.data.length?e._e():i("div",{ref:"emptyBlock",staticClass:"el-table__empty-block",style:e.emptyBlockStyle},[i("span",{staticClass:"el-table__empty-text"},[e._t("empty",[e._v(e._s(e.emptyText||e.t("el.table.emptyText")))])],2)]),e.$slots.append?i("div",{ref:"appendWrapper",staticClass:"el-table__append-wrapper"},[e._t("append")],2):e._e()],1),e.showSummary?i("div",{directives:[{name:"show",rawName:"v-show",value:e.data&&e.data.length>0,expression:"data && data.length > 0"},{name:"mousewheel",rawName:"v-mousewheel",value:e.handleHeaderFooterMousewheel,expression:"handleHeaderFooterMousewheel"}],ref:"footerWrapper",staticClass:"el-table__footer-wrapper"},[i("table-footer",{style:{width:e.layout.bodyWidth?e.layout.bodyWidth+"px":""},attrs:{store:e.store,border:e.border,"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod,"default-sort":e.defaultSort}})],1):e._e(),e.fixedColumns.length>0?i("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:e.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"fixedWrapper",staticClass:"el-table__fixed",style:[{width:e.layout.fixedWidth?e.layout.fixedWidth+"px":""},e.fixedHeight]},[e.showHeader?i("div",{ref:"fixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[i("table-header",{ref:"fixedTableHeader",style:{width:e.bodyWidth},attrs:{fixed:"left",border:e.border,store:e.store}})],1):e._e(),i("div",{ref:"fixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:e.layout.headerHeight+"px"},e.fixedBodyHeight]},[i("table-body",{style:{width:e.bodyWidth},attrs:{fixed:"left",store:e.store,stripe:e.stripe,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"row-style":e.rowStyle}}),e.$slots.append?i("div",{staticClass:"el-table__append-gutter",style:{height:e.layout.appendHeight+"px"}}):e._e()],1),e.showSummary?i("div",{directives:[{name:"show",rawName:"v-show",value:e.data&&e.data.length>0,expression:"data && data.length > 0"}],ref:"fixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[i("table-footer",{style:{width:e.bodyWidth},attrs:{fixed:"left",border:e.border,"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod,store:e.store}})],1):e._e()]):e._e(),e.rightFixedColumns.length>0?i("div",{directives:[{name:"mousewheel",rawName:"v-mousewheel",value:e.handleFixedMousewheel,expression:"handleFixedMousewheel"}],ref:"rightFixedWrapper",staticClass:"el-table__fixed-right",style:[{width:e.layout.rightFixedWidth?e.layout.rightFixedWidth+"px":"",right:e.layout.scrollY?(e.border?e.layout.gutterWidth:e.layout.gutterWidth||0)+"px":""},e.fixedHeight]},[e.showHeader?i("div",{ref:"rightFixedHeaderWrapper",staticClass:"el-table__fixed-header-wrapper"},[i("table-header",{ref:"rightFixedTableHeader",style:{width:e.bodyWidth},attrs:{fixed:"right",border:e.border,store:e.store}})],1):e._e(),i("div",{ref:"rightFixedBodyWrapper",staticClass:"el-table__fixed-body-wrapper",style:[{top:e.layout.headerHeight+"px"},e.fixedBodyHeight]},[i("table-body",{style:{width:e.bodyWidth},attrs:{fixed:"right",store:e.store,stripe:e.stripe,"row-class-name":e.rowClassName,"row-style":e.rowStyle,highlight:e.highlightCurrentRow}}),e.$slots.append?i("div",{staticClass:"el-table__append-gutter",style:{height:e.layout.appendHeight+"px"}}):e._e()],1),e.showSummary?i("div",{directives:[{name:"show",rawName:"v-show",value:e.data&&e.data.length>0,expression:"data && data.length > 0"}],ref:"rightFixedFooterWrapper",staticClass:"el-table__fixed-footer-wrapper"},[i("table-footer",{style:{width:e.bodyWidth},attrs:{fixed:"right",border:e.border,"sum-text":e.sumText||e.t("el.table.sumText"),"summary-method":e.summaryMethod,store:e.store}})],1):e._e()]):e._e(),e.rightFixedColumns.length>0?i("div",{ref:"rightFixedPatch",staticClass:"el-table__fixed-right-patch",style:{width:e.layout.scrollY?e.layout.gutterWidth+"px":"0",height:e.layout.headerHeight+"px"}}):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.resizeProxyVisible,expression:"resizeProxyVisible"}],ref:"resizeProxy",staticClass:"el-table__column-resize-proxy"})])};ni._withStripped=!0;var ri=i(16),oi=i.n(ri),si=i(35),ai=i(38),li=i.n(ai),ci="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,hi={bind:function(e,t){var i,n;i=e,n=t.value,i&&i.addEventListener&&i.addEventListener(ci?"DOMMouseScroll":"mousewheel",function(e){var t=li()(e);n&&n.apply(this,[e,t])})}},ui=i(6),di=i.n(ui),fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi=function(e){for(var t=e.target;t&&"HTML"!==t.tagName.toUpperCase();){if("TD"===t.tagName.toUpperCase())return t;t=t.parentNode}return null},mi=function(e){return null!==e&&"object"===(void 0===e?"undefined":fi(e))},gi=function(e,t,i,n,r){if(!t&&!n&&(!r||Array.isArray(r)&&!r.length))return e;i="string"==typeof i?"descending"===i?-1:1:i&&i<0?-1:1;var o=n?null:function(i,n){return r?(Array.isArray(r)||(r=[r]),r.map(function(t){return"string"==typeof t?Object(m.getValueByPath)(i,t):t(i,n,e)})):("$key"!==t&&mi(i)&&"$value"in i&&(i=i.$value),[mi(i)?Object(m.getValueByPath)(i,t):i])};return e.map(function(e,t){return{value:e,index:t,key:o?o(e,t):null}}).sort(function(e,t){var r=function(e,t){if(n)return n(e.value,t.value);for(var i=0,r=e.key.length;i<r;i++){if(e.key[i]<t.key[i])return-1;if(e.key[i]>t.key[i])return 1}return 0}(e,t);return r||(r=e.index-t.index),r*i}).map(function(e){return e.value})},vi=function(e,t){var i=null;return e.columns.forEach(function(e){e.id===t&&(i=e)}),i},bi=function(e,t){var i=(t.className||"").match(/el-table_[^\s]+/gm);return i?vi(e,i[0]):null},_i=function(e,t){if(!e)throw new Error("row is required when get row identity");if("string"==typeof t){if(t.indexOf(".")<0)return e[t];for(var i=t.split("."),n=e,r=0;r<i.length;r++)n=n[i[r]];return n}if("function"==typeof t)return t.call(null,e)},yi=function(e,t){var i={};return(e||[]).forEach(function(e,n){i[_i(e,t)]={row:e,index:n}}),i};function wi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ci(e){return void 0!==e&&(e=parseInt(e,10),isNaN(e)&&(e=null)),e}function Si(e){return"number"==typeof e?e:"string"==typeof e?/^\d+(?:px)?$/.test(e)?parseInt(e,10):e:null}function xi(e,t,i){var n=!1,r=e.indexOf(t),o=-1!==r,s=function(){e.push(t),n=!0},a=function(){e.splice(r,1),n=!0};return"boolean"==typeof i?i&&!o?s():!i&&o&&a():o?a():s(),n}function ki(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hasChildren",r=function(e){return!(Array.isArray(e)&&e.length)};e.forEach(function(e){if(e[n])t(e,null,0);else{var o=e[i];r(o)||function e(o,s,a){t(o,s,a),s.forEach(function(o){if(o[n])t(o,null,a+1);else{var s=o[i];r(s)||e(o,s,a+1)}})}(e,o,0)}})}var Li={data:function(){return{states:{defaultExpandAll:!1,expandRows:[]}}},methods:{updateExpandRows:function(){var e=this.states,t=e.data,i=void 0===t?[]:t,n=e.rowKey,r=e.defaultExpandAll,o=e.expandRows;if(r)this.states.expandRows=i.slice();else if(n){var s=yi(o,n);this.states.expandRows=i.reduce(function(e,t){var i=_i(t,n);return s[i]&&e.push(t),e},[])}else this.states.expandRows=[]},toggleRowExpansion:function(e,t){xi(this.states.expandRows,e,t)&&(this.table.$emit("expand-change",e,this.states.expandRows.slice()),this.scheduleLayout())},setExpandRowKeys:function(e){this.assertRowKey();var t=this.states,i=t.data,n=t.rowKey,r=yi(i,n);this.states.expandRows=e.reduce(function(e,t){var i=r[t];return i&&e.push(i.row),e},[])},isRowExpanded:function(e){var t=this.states,i=t.expandRows,n=void 0===i?[]:i,r=t.rowKey;return r?!!yi(n,r)[_i(e,r)]:-1!==n.indexOf(e)}}},Di={data:function(){return{states:{_currentRowKey:null,currentRow:null}}},methods:{setCurrentRowKey:function(e){this.assertRowKey(),this.states._currentRowKey=e,this.setCurrentRowByKey(e)},restoreCurrentRowKey:function(){this.states._currentRowKey=null},setCurrentRowByKey:function(e){var t=this.states,i=t.data,n=void 0===i?[]:i,r=t.rowKey,o=null;r&&(o=Object(m.arrayFind)(n,function(t){return _i(t,r)===e})),t.currentRow=o},updateCurrentRow:function(e){var t=this.states,i=this.table,n=t.currentRow;if(e&&e!==n)return t.currentRow=e,void i.$emit("current-change",e,n);!e&&n&&(t.currentRow=null,i.$emit("current-change",null,n))},updateCurrentRowData:function(){var e=this.states,t=this.table,i=e.rowKey,n=e._currentRowKey,r=e.data||[],o=e.currentRow;if(-1===r.indexOf(o)&&o){if(i){var s=_i(o,i);this.setCurrentRowByKey(s)}else e.currentRow=null;null===e.currentRow&&t.$emit("current-change",null,o)}else n&&(this.setCurrentRowByKey(n),this.restoreCurrentRowKey())}}},Ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ni={data:function(){return{states:{expandRowKeys:[],treeData:{},indent:16,lazy:!1,lazyTreeNodeMap:{},lazyColumnIdentifier:"hasChildren",childrenColumnName:"children"}}},computed:{normalizedData:function(){if(!this.states.rowKey)return{};var e=this.states.data||[];return this.normalize(e)},normalizedLazyNode:function(){var e=this.states,t=e.rowKey,i=e.lazyTreeNodeMap,n=e.lazyColumnIdentifier,r=Object.keys(i),o={};return r.length?(r.forEach(function(e){if(i[e].length){var r={children:[]};i[e].forEach(function(e){var i=_i(e,t);r.children.push(i),e[n]&&!o[i]&&(o[i]={children:[]})}),o[e]=r}}),o):o}},watch:{normalizedData:"updateTreeData",normalizedLazyNode:"updateTreeData"},methods:{normalize:function(e){var t=this.states,i=t.childrenColumnName,n=t.lazyColumnIdentifier,r=t.rowKey,o=t.lazy,s={};return ki(e,function(e,t,i){var n=_i(e,r);Array.isArray(t)?s[n]={children:t.map(function(e){return _i(e,r)}),level:i}:o&&(s[n]={children:[],lazy:!0,level:i})},i,n),s},updateTreeData:function(){var e=this.normalizedData,t=this.normalizedLazyNode,i=Object.keys(e),n={};if(i.length){var r=this.states,o=r.treeData,s=r.defaultExpandAll,a=r.expandRowKeys,l=r.lazy,c=[],h=function(e,t){var i=s||a&&-1!==a.indexOf(t);return!!(e&&e.expanded||i)};i.forEach(function(t){var i=o[t],r=Ei({},e[t]);if(r.expanded=h(i,t),r.lazy){var s=i||{},a=s.loaded,l=void 0!==a&&a,u=s.loading,d=void 0!==u&&u;r.loaded=!!l,r.loading=!!d,c.push(t)}n[t]=r});var u=Object.keys(t);l&&u.length&&c.length&&u.forEach(function(e){var i=o[e],r=t[e].children;if(-1!==c.indexOf(e)){if(0!==n[e].children.length)throw new Error("[ElTable]children must be an empty array.");n[e].children=r}else{var s=i||{},a=s.loaded,l=void 0!==a&&a,u=s.loading,d=void 0!==u&&u;n[e]={lazy:!0,loaded:!!l,loading:!!d,expanded:h(i,e),children:r,level:""}}})}this.states.treeData=n,this.updateTableScrollY()},updateTreeExpandKeys:function(e){this.states.expandRowKeys=e,this.updateTreeData()},toggleTreeExpansion:function(e,t){this.assertRowKey();var i=this.states,n=i.rowKey,r=i.treeData,o=_i(e,n),s=o&&r[o];if(o&&s&&"expanded"in s){var a=s.expanded;t=void 0===t?!s.expanded:t,r[o].expanded=t,a!==t&&this.table.$emit("expand-change",e,t),this.updateTableScrollY()}},loadOrToggle:function(e){this.assertRowKey();var t=this.states,i=t.lazy,n=t.treeData,r=t.rowKey,o=_i(e,r),s=n[o];i&&s&&"loaded"in s&&!s.loaded?this.loadData(e,o,s):this.toggleTreeExpansion(e)},loadData:function(e,t,i){var n=this,r=this.table.load,o=this.states,s=o.lazyTreeNodeMap,a=o.treeData;r&&!a[t].loaded&&(a[t].loading=!0,r(e,i,function(i){if(!Array.isArray(i))throw new Error("[ElTable] data must be an array");a[t].loading=!1,a[t].loaded=!0,a[t].expanded=!0,i.length&&n.$set(s,t,i),n.table.$emit("expand-change",e,!0)}))}}},Ti=function e(t){var i=[];return t.forEach(function(t){t.children?i.push.apply(i,e(t.children)):i.push(t)}),i},Oi=di.a.extend({data:function(){return{states:{rowKey:null,data:[],isComplex:!1,_columns:[],originColumns:[],columns:[],fixedColumns:[],rightFixedColumns:[],leafColumns:[],fixedLeafColumns:[],rightFixedLeafColumns:[],leafColumnsLength:0,fixedLeafColumnsLength:0,rightFixedLeafColumnsLength:0,isAllSelected:!1,selection:[],reserveSelection:!1,selectOnIndeterminate:!1,selectable:null,filters:{},filteredData:null,sortingColumn:null,sortProp:null,sortOrder:null,hoverRow:null}}},mixins:[Li,Di,Ni],methods:{assertRowKey:function(){if(!this.states.rowKey)throw new Error("[ElTable] prop row-key is required")},updateColumns:function(){var e=this.states,t=e._columns||[];e.fixedColumns=t.filter(function(e){return!0===e.fixed||"left"===e.fixed}),e.rightFixedColumns=t.filter(function(e){return"right"===e.fixed}),e.fixedColumns.length>0&&t[0]&&"selection"===t[0].type&&!t[0].fixed&&(t[0].fixed=!0,e.fixedColumns.unshift(t[0]));var i=t.filter(function(e){return!e.fixed});e.originColumns=[].concat(e.fixedColumns).concat(i).concat(e.rightFixedColumns);var n=Ti(i),r=Ti(e.fixedColumns),o=Ti(e.rightFixedColumns);e.leafColumnsLength=n.length,e.fixedLeafColumnsLength=r.length,e.rightFixedLeafColumnsLength=o.length,e.columns=[].concat(r).concat(n).concat(o),e.isComplex=e.fixedColumns.length>0||e.rightFixedColumns.length>0},scheduleLayout:function(e){e&&this.updateColumns(),this.table.debouncedUpdateLayout()},isSelected:function(e){var t=this.states.selection;return(void 0===t?[]:t).indexOf(e)>-1},clearSelection:function(){var e=this.states;e.isAllSelected=!1,e.selection.length&&(e.selection=[],this.table.$emit("selection-change",[]))},cleanSelection:function(){var e=this.states,t=e.data,i=e.rowKey,n=e.selection,r=void 0;if(i){r=[];var o=yi(n,i),s=yi(t,i);for(var a in o)o.hasOwnProperty(a)&&!s[a]&&r.push(o[a].row)}else r=n.filter(function(e){return-1===t.indexOf(e)});if(r.length){var l=n.filter(function(e){return-1===r.indexOf(e)});e.selection=l,this.table.$emit("selection-change",l.slice())}},toggleRowSelection:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(xi(this.states.selection,e,t)){var n=(this.states.selection||[]).slice();i&&this.table.$emit("select",n,e),this.table.$emit("selection-change",n)}},_toggleAllSelection:function(){var e=this.states,t=e.data,i=void 0===t?[]:t,n=e.selection,r=e.selectOnIndeterminate?!e.isAllSelected:!(e.isAllSelected||n.length);e.isAllSelected=r;var o=!1;i.forEach(function(t,i){e.selectable?e.selectable.call(null,t,i)&&xi(n,t,r)&&(o=!0):xi(n,t,r)&&(o=!0)}),o&&this.table.$emit("selection-change",n?n.slice():[]),this.table.$emit("select-all",n)},updateSelectionByRowKey:function(){var e=this.states,t=e.selection,i=e.rowKey,n=e.data,r=yi(t,i);n.forEach(function(e){var n=_i(e,i),o=r[n];o&&(t[o.index]=e)})},updateAllSelected:function(){var e=this.states,t=e.selection,i=e.rowKey,n=e.selectable,r=e.data||[];if(0!==r.length){var o=void 0;i&&(o=yi(t,i));for(var s,a=!0,l=0,c=0,h=r.length;c<h;c++){var u=r[c],d=n&&n.call(null,u,c);if(s=u,o?o[_i(s,i)]:-1!==t.indexOf(s))l++;else if(!n||d){a=!1;break}}0===l&&(a=!1),e.isAllSelected=a}else e.isAllSelected=!1},updateFilters:function(e,t){Array.isArray(e)||(e=[e]);var i=this.states,n={};return e.forEach(function(e){i.filters[e.id]=t,n[e.columnKey||e.id]=t}),n},updateSort:function(e,t,i){this.states.sortingColumn&&this.states.sortingColumn!==e&&(this.states.sortingColumn.order=null),this.states.sortingColumn=e,this.states.sortProp=t,this.states.sortOrder=i},execFilter:function(){var e=this,t=this.states,i=t._data,n=t.filters,r=i;Object.keys(n).forEach(function(i){var n=t.filters[i];if(n&&0!==n.length){var o=vi(e.states,i);o&&o.filterMethod&&(r=r.filter(function(e){return n.some(function(t){return o.filterMethod.call(null,t,e,o)})}))}}),t.filteredData=r},execSort:function(){var e=this.states;e.data=function(e,t){var i=t.sortingColumn;return i&&"string"!=typeof i.sortable?gi(e,t.sortProp,t.sortOrder,i.sortMethod,i.sortBy):e}(e.filteredData,e)},execQuery:function(e){e&&e.filter||this.execFilter(),this.execSort()},clearFilter:function(e){var t=this.states,i=this.table.$refs,n=i.tableHeader,r=i.fixedTableHeader,o=i.rightFixedTableHeader,s={};n&&(s=$e()(s,n.filterPanels)),r&&(s=$e()(s,r.filterPanels)),o&&(s=$e()(s,o.filterPanels));var a=Object.keys(s);if(a.length)if("string"==typeof e&&(e=[e]),Array.isArray(e)){var l=e.map(function(e){return function(e,t){for(var i=null,n=0;n<e.columns.length;n++){var r=e.columns[n];if(r.columnKey===t){i=r;break}}return i}(t,e)});a.forEach(function(e){l.find(function(t){return t.id===e})&&(s[e].filteredValue=[])}),this.commit("filterChange",{column:l,values:[],silent:!0,multi:!0})}else a.forEach(function(e){s[e].filteredValue=[]}),t.filters={},this.commit("filterChange",{column:{},values:[],silent:!0})},clearSort:function(){this.states.sortingColumn&&(this.updateSort(null,null,null),this.commit("changeSortCondition",{silent:!0}))},setExpandRowKeysAdapter:function(e){this.setExpandRowKeys(e),this.updateTreeExpandKeys(e)},toggleRowExpansionAdapter:function(e,t){this.states.columns.some(function(e){return"expand"===e.type})?this.toggleRowExpansion(e,t):this.toggleTreeExpansion(e,t)}}});Oi.prototype.mutations={setData:function(e,t){var i=e._data!==t;e._data=t,this.execQuery(),this.updateCurrentRowData(),this.updateExpandRows(),e.reserveSelection?(this.assertRowKey(),this.updateSelectionByRowKey()):i?this.clearSelection():this.cleanSelection(),this.updateAllSelected(),this.updateTableScrollY()},insertColumn:function(e,t,i,n){var r=e._columns;n&&((r=n.children)||(r=n.children=[])),void 0!==i?r.splice(i,0,t):r.push(t),"selection"===t.type&&(e.selectable=t.selectable,e.reserveSelection=t.reserveSelection),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},removeColumn:function(e,t,i){var n=e._columns;i&&((n=i.children)||(n=i.children=[])),n&&n.splice(n.indexOf(t),1),this.table.$ready&&(this.updateColumns(),this.scheduleLayout())},sort:function(e,t){var i=t.prop,n=t.order,r=t.init;if(i){var o=Object(m.arrayFind)(e.columns,function(e){return e.property===i});o&&(o.order=n,this.updateSort(o,i,n),this.commit("changeSortCondition",{init:r}))}},changeSortCondition:function(e,t){var i=e.sortingColumn,n=e.sortProp,r=e.sortOrder;null===r&&(e.sortingColumn=null,e.sortProp=null);this.execQuery({filter:!0}),t&&(t.silent||t.init)||this.table.$emit("sort-change",{column:i,prop:n,order:r}),this.updateTableScrollY()},filterChange:function(e,t){var i=t.column,n=t.values,r=t.silent,o=this.updateFilters(i,n);this.execQuery(),r||this.table.$emit("filter-change",o),this.updateTableScrollY()},toggleAllSelection:function(){this.toggleAllSelection()},rowSelectedChanged:function(e,t){this.toggleRowSelection(t),this.updateAllSelected()},setHoverRow:function(e,t){e.hoverRow=t},setCurrentRow:function(e,t){this.updateCurrentRow(t)}},Oi.prototype.commit=function(e){var t=this.mutations;if(!t[e])throw new Error("Action not found: "+e);for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];t[e].apply(this,[this.states].concat(n))},Oi.prototype.updateTableScrollY=function(){di.a.nextTick(this.table.updateScrollY)};var Mi=Oi;function Ii(e){var t={};return Object.keys(e).forEach(function(i){var n=e[i],r=void 0;"string"==typeof n?r=function(){return this.store.states[n]}:"function"==typeof n?r=function(){return n.call(this,this.store.states)}:console.error("invalid value type"),r&&(t[i]=r)}),t}var Ai=i(31),Pi=i.n(Ai);var Ri=function(){function e(t){for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observers=[],this.table=null,this.store=null,this.columns=null,this.fit=!0,this.showHeader=!0,this.height=null,this.scrollX=!1,this.scrollY=!1,this.bodyWidth=null,this.fixedWidth=null,this.rightFixedWidth=null,this.tableHeight=null,this.headerHeight=44,this.appendHeight=0,this.footerHeight=44,this.viewportHeight=null,this.bodyHeight=null,this.fixedBodyHeight=null,this.gutterWidth=Pi()(),t)t.hasOwnProperty(i)&&(this[i]=t[i]);if(!this.table)throw new Error("table is required for Table Layout");if(!this.store)throw new Error("store is required for Table Layout")}return e.prototype.updateScrollY=function(){if(null===this.height)return!1;var e=this.table.bodyWrapper;if(this.table.$el&&e){var t=e.querySelector(".el-table__body"),i=this.scrollY,n=t.offsetHeight>this.bodyHeight;return this.scrollY=n,i!==n}return!1},e.prototype.setHeight=function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"height";if(!di.a.prototype.$isServer){var n=this.table.$el;if(e=Si(e),this.height=e,!n&&(e||0===e))return di.a.nextTick(function(){return t.setHeight(e,i)});"number"==typeof e?(n.style[i]=e+"px",this.updateElsHeight()):"string"==typeof e&&(n.style[i]=e,this.updateElsHeight())}},e.prototype.setMaxHeight=function(e){this.setHeight(e,"max-height")},e.prototype.getFlattenColumns=function(){var e=[];return this.table.columns.forEach(function(t){t.isColumnGroup?e.push.apply(e,t.columns):e.push(t)}),e},e.prototype.updateElsHeight=function(){var e=this;if(!this.table.$ready)return di.a.nextTick(function(){return e.updateElsHeight()});var t=this.table.$refs,i=t.headerWrapper,n=t.appendWrapper,r=t.footerWrapper;if(this.appendHeight=n?n.offsetHeight:0,!this.showHeader||i){var o=i?i.querySelector(".el-table__header tr"):null,s=this.headerDisplayNone(o),a=this.headerHeight=this.showHeader?i.offsetHeight:0;if(this.showHeader&&!s&&i.offsetWidth>0&&(this.table.columns||[]).length>0&&a<2)return di.a.nextTick(function(){return e.updateElsHeight()});var l=this.tableHeight=this.table.$el.clientHeight,c=this.footerHeight=r?r.offsetHeight:0;null!==this.height&&(this.bodyHeight=l-a-c+(r?1:0)),this.fixedBodyHeight=this.scrollX?this.bodyHeight-this.gutterWidth:this.bodyHeight;var h=!(this.store.states.data&&this.store.states.data.length);this.viewportHeight=this.scrollX?l-(h?0:this.gutterWidth):l,this.updateScrollY(),this.notifyObservers("scrollable")}},e.prototype.headerDisplayNone=function(e){if(!e)return!0;for(var t=e;"DIV"!==t.tagName;){if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1},e.prototype.updateColumnsWidth=function(){if(!di.a.prototype.$isServer){var e=this.fit,t=this.table.$el.clientWidth,i=0,n=this.getFlattenColumns(),r=n.filter(function(e){return"number"!=typeof e.width});if(n.forEach(function(e){"number"==typeof e.width&&e.realWidth&&(e.realWidth=null)}),r.length>0&&e){n.forEach(function(e){i+=e.width||e.minWidth||80});var o=this.scrollY?this.gutterWidth:0;if(i<=t-o){this.scrollX=!1;var s=t-o-i;if(1===r.length)r[0].realWidth=(r[0].minWidth||80)+s;else{var a=s/r.reduce(function(e,t){return e+(t.minWidth||80)},0),l=0;r.forEach(function(e,t){if(0!==t){var i=Math.floor((e.minWidth||80)*a);l+=i,e.realWidth=(e.minWidth||80)+i}}),r[0].realWidth=(r[0].minWidth||80)+s-l}}else this.scrollX=!0,r.forEach(function(e){e.realWidth=e.minWidth});this.bodyWidth=Math.max(i,t),this.table.resizeState.width=this.bodyWidth}else n.forEach(function(e){e.width||e.minWidth?e.realWidth=e.width||e.minWidth:e.realWidth=80,i+=e.realWidth}),this.scrollX=i>t,this.bodyWidth=i;var c=this.store.states.fixedColumns;if(c.length>0){var h=0;c.forEach(function(e){h+=e.realWidth||e.width}),this.fixedWidth=h}var u=this.store.states.rightFixedColumns;if(u.length>0){var d=0;u.forEach(function(e){d+=e.realWidth||e.width}),this.rightFixedWidth=d}this.notifyObservers("columns")}},e.prototype.addObserver=function(e){this.observers.push(e)},e.prototype.removeObserver=function(e){var t=this.observers.indexOf(e);-1!==t&&this.observers.splice(t,1)},e.prototype.notifyObservers=function(e){var t=this;this.observers.forEach(function(i){switch(e){case"columns":i.onColumnsChange(t);break;case"scrollable":i.onScrollableChange(t);break;default:throw new Error("Table Layout don't have event "+e+".")}})},e}(),Fi={created:function(){this.tableLayout.addObserver(this)},destroyed:function(){this.tableLayout.removeObserver(this)},computed:{tableLayout:function(){var e=this.layout;if(!e&&this.table&&(e=this.table.layout),!e)throw new Error("Can not find table layout.");return e}},mounted:function(){this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout)},updated:function(){this.__updated__||(this.onColumnsChange(this.tableLayout),this.onScrollableChange(this.tableLayout),this.__updated__=!0)},methods:{onColumnsChange:function(e){var t=this.$el.querySelectorAll("colgroup > col");if(t.length){var i={};e.getFlattenColumns().forEach(function(e){i[e.id]=e});for(var n=0,r=t.length;n<r;n++){var o=t[n],s=o.getAttribute("name"),a=i[s];a&&o.setAttribute("width",a.realWidth||a.width)}}},onScrollableChange:function(e){for(var t=this.$el.querySelectorAll("colgroup > col[name=gutter]"),i=0,n=t.length;i<n;i++){t[i].setAttribute("width",e.scrollY?e.gutterWidth:"0")}for(var r=this.$el.querySelectorAll("th.gutter"),o=0,s=r.length;o<s;o++){var a=r[o];a.style.width=e.scrollY?e.gutterWidth+"px":"0",a.style.display=e.scrollY?"":"none"}}}},Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Wi={name:"ElTableBody",mixins:[Fi],components:{ElCheckbox:oi.a,ElTooltip:De.a},props:{store:{required:!0},stripe:Boolean,context:{},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:String,highlight:Boolean},render:function(e){var t=this,i=this.data||[];return e("table",{class:"el-table__body",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e("colgroup",[this.columns.map(function(t){return e("col",{attrs:{name:t.id},key:t.id})})]),e("tbody",[i.reduce(function(e,i){return e.concat(t.wrappedRowRender(i,e.length))},[]),e("el-tooltip",{attrs:{effect:this.table.tooltipEffect,placement:"top",content:this.tooltipContent},ref:"tooltip"})])])},computed:Bi({table:function(){return this.$parent}},Ii({data:"data",columns:"columns",treeIndent:"indent",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(e){return e.columns.length},leftFixedCount:function(e){return e.fixedColumns.length},rightFixedCount:function(e){return e.rightFixedColumns.length},hasExpandColumn:function(e){return e.columns.some(function(e){return"expand"===e.type})}}),{firstDefaultColumnIndex:function(){return Object(m.arrayFindIndex)(this.columns,function(e){return"default"===e.type})}}),watch:{"store.states.hoverRow":function(e,t){var i=this;if(this.store.states.isComplex&&!this.$isServer){var n=window.requestAnimationFrame;n||(n=function(e){return setTimeout(e,16)}),n(function(){var n=i.$el.querySelectorAll(".el-table__row"),r=n[t],o=n[e];r&&Object(pe.removeClass)(r,"hover-row"),o&&Object(pe.addClass)(o,"hover-row")})}}},data:function(){return{tooltipContent:""}},created:function(){this.activateTooltip=T()(50,function(e){return e.handleShowPopper()})},methods:{getKeyOfRow:function(e,t){var i=this.table.rowKey;return i?_i(e,i):t},isColumnHidden:function(e){return!0===this.fixed||"left"===this.fixed?e>=this.leftFixedLeafCount:"right"===this.fixed?e<this.columnsCount-this.rightFixedLeafCount:e<this.leftFixedLeafCount||e>=this.columnsCount-this.rightFixedLeafCount},getSpan:function(e,t,i,n){var r=1,o=1,s=this.table.spanMethod;if("function"==typeof s){var a=s({row:e,column:t,rowIndex:i,columnIndex:n});Array.isArray(a)?(r=a[0],o=a[1]):"object"===(void 0===a?"undefined":Vi(a))&&(r=a.rowspan,o=a.colspan)}return{rowspan:r,colspan:o}},getRowStyle:function(e,t){var i=this.table.rowStyle;return"function"==typeof i?i.call(null,{row:e,rowIndex:t}):i||null},getRowClass:function(e,t){var i=["el-table__row"];this.table.highlightCurrentRow&&e===this.store.states.currentRow&&i.push("current-row"),this.stripe&&t%2==1&&i.push("el-table__row--striped");var n=this.table.rowClassName;return"string"==typeof n?i.push(n):"function"==typeof n&&i.push(n.call(null,{row:e,rowIndex:t})),this.store.states.expandRows.indexOf(e)>-1&&i.push("expanded"),i},getCellStyle:function(e,t,i,n){var r=this.table.cellStyle;return"function"==typeof r?r.call(null,{rowIndex:e,columnIndex:t,row:i,column:n}):r},getCellClass:function(e,t,i,n){var r=[n.id,n.align,n.className];this.isColumnHidden(t)&&r.push("is-hidden");var o=this.table.cellClassName;return"string"==typeof o?r.push(o):"function"==typeof o&&r.push(o.call(null,{rowIndex:e,columnIndex:t,row:i,column:n})),r.join(" ")},getColspanRealWidth:function(e,t,i){return t<1?e[i].realWidth:e.map(function(e){return e.realWidth}).slice(i,i+t).reduce(function(e,t){return e+t},-1)},handleCellMouseEnter:function(e,t){var i=this.table,n=pi(e);if(n){var r=bi(i,n),o=i.hoverState={cell:n,column:r,row:t};i.$emit("cell-mouse-enter",o.row,o.column,o.cell,e)}var s=e.target.querySelector(".cell");if(Object(pe.hasClass)(s,"el-tooltip")&&s.childNodes.length){var a=document.createRange();if(a.setStart(s,0),a.setEnd(s,s.childNodes.length),(a.getBoundingClientRect().width+((parseInt(Object(pe.getStyle)(s,"paddingLeft"),10)||0)+(parseInt(Object(pe.getStyle)(s,"paddingRight"),10)||0))>s.offsetWidth||s.scrollWidth>s.offsetWidth)&&this.$refs.tooltip){var l=this.$refs.tooltip;this.tooltipContent=n.innerText||n.textContent,l.referenceElm=n,l.$refs.popper&&(l.$refs.popper.style.display="none"),l.doDestroy(),l.setExpectedState(!0),this.activateTooltip(l)}}},handleCellMouseLeave:function(e){var t=this.$refs.tooltip;if(t&&(t.setExpectedState(!1),t.handleClosePopper()),pi(e)){var i=this.table.hoverState||{};this.table.$emit("cell-mouse-leave",i.row,i.column,i.cell,e)}},handleMouseEnter:T()(30,function(e){this.store.commit("setHoverRow",e)}),handleMouseLeave:T()(30,function(){this.store.commit("setHoverRow",null)}),handleContextMenu:function(e,t){this.handleEvent(e,t,"contextmenu")},handleDoubleClick:function(e,t){this.handleEvent(e,t,"dblclick")},handleClick:function(e,t){this.store.commit("setCurrentRow",t),this.handleEvent(e,t,"click")},handleEvent:function(e,t,i){var n=this.table,r=pi(e),o=void 0;r&&(o=bi(n,r))&&n.$emit("cell-"+i,t,o,r,e),n.$emit("row-"+i,t,o,e)},rowRender:function(e,t,i){var n=this,r=this.$createElement,o=this.treeIndent,s=this.columns,a=this.firstDefaultColumnIndex,l=s.map(function(e,t){return n.isColumnHidden(t)}),c=this.getRowClass(e,t),h=!0;return i&&(c.push("el-table__row--level-"+i.level),h=i.display),r("tr",{style:[h?null:{display:"none"},this.getRowStyle(e,t)],class:c,key:this.getKeyOfRow(e,t),on:{dblclick:function(t){return n.handleDoubleClick(t,e)},click:function(t){return n.handleClick(t,e)},contextmenu:function(t){return n.handleContextMenu(t,e)},mouseenter:function(e){return n.handleMouseEnter(t)},mouseleave:this.handleMouseLeave}},[s.map(function(c,h){var u=n.getSpan(e,c,t,h),d=u.rowspan,f=u.colspan;if(!d||!f)return null;var p=Bi({},c);p.realWidth=n.getColspanRealWidth(s,f,h);var m={store:n.store,_self:n.context||n.table.$vnode.context,column:p,row:e,$index:t};return h===a&&i&&(m.treeNode={indent:i.level*o,level:i.level},"boolean"==typeof i.expanded&&(m.treeNode.expanded=i.expanded,"loading"in i&&(m.treeNode.loading=i.loading),"noLazyChildren"in i&&(m.treeNode.noLazyChildren=i.noLazyChildren))),r("td",{style:n.getCellStyle(t,h,e,c),class:n.getCellClass(t,h,e,c),attrs:{rowspan:d,colspan:f},on:{mouseenter:function(t){return n.handleCellMouseEnter(t,e)},mouseleave:n.handleCellMouseLeave}},[c.renderCell.call(n._renderProxy,n.$createElement,m,l[h])])})])},wrappedRowRender:function(e,t){var i=this,n=this.$createElement,r=this.store,o=r.isRowExpanded,s=r.assertRowKey,a=r.states,l=a.treeData,c=a.lazyTreeNodeMap,h=a.childrenColumnName,u=a.rowKey;if(this.hasExpandColumn&&o(e)){var d=this.table.renderExpanded,f=this.rowRender(e,t);return d?[[f,n("tr",{key:"expanded-row__"+f.key},[n("td",{attrs:{colspan:this.columnsCount},class:"el-table__expanded-cell"},[d(this.$createElement,{row:e,$index:t,store:this.store})])])]]:(console.error("[Element Error]renderExpanded is required."),f)}if(Object.keys(l).length){s();var p=_i(e,u),m=l[p],g=null;m&&(g={expanded:m.expanded,level:m.level,display:!0},"boolean"==typeof m.lazy&&("boolean"==typeof m.loaded&&m.loaded&&(g.noLazyChildren=!(m.children&&m.children.length)),g.loading=m.loading));var v=[this.rowRender(e,t,g)];if(m){var b=0;m.display=!0,function e(n,r){n&&n.length&&r&&n.forEach(function(n){var o={display:r.display&&r.expanded,level:r.level+1},s=_i(n,u);if(void 0===s||null===s)throw new Error("for nested data item, row-key is required.");if((m=Bi({},l[s]))&&(o.expanded=m.expanded,m.level=m.level||o.level,m.display=!(!m.expanded||!o.display),"boolean"==typeof m.lazy&&("boolean"==typeof m.loaded&&m.loaded&&(o.noLazyChildren=!(m.children&&m.children.length)),o.loading=m.loading)),b++,v.push(i.rowRender(n,t+b,o)),m){var a=c[s]||n[h];e(a,m)}})}(c[p]||e[h],m)}return v}return this.rowRender(e,t)}}},$i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-zoom-in-top"}},[e.multiple?i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[i("div",{staticClass:"el-table-filter__content"},[i("el-scrollbar",{attrs:{"wrap-class":"el-table-filter__wrap"}},[i("el-checkbox-group",{staticClass:"el-table-filter__checkbox-group",model:{value:e.filteredValue,callback:function(t){e.filteredValue=t},expression:"filteredValue"}},e._l(e.filters,function(t){return i("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.text))])}),1)],1)],1),i("div",{staticClass:"el-table-filter__bottom"},[i("button",{class:{"is-disabled":0===e.filteredValue.length},attrs:{disabled:0===e.filteredValue.length},on:{click:e.handleConfirm}},[e._v(e._s(e.t("el.table.confirmFilter")))]),i("button",{on:{click:e.handleReset}},[e._v(e._s(e.t("el.table.resetFilter")))])])]):i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleOutsideClick,expression:"handleOutsideClick"},{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-table-filter"},[i("ul",{staticClass:"el-table-filter__list"},[i("li",{staticClass:"el-table-filter__list-item",class:{"is-active":void 0===e.filterValue||null===e.filterValue},on:{click:function(t){e.handleSelect(null)}}},[e._v(e._s(e.t("el.table.clearFilter")))]),e._l(e.filters,function(t){return i("li",{key:t.value,staticClass:"el-table-filter__list-item",class:{"is-active":e.isActive(t)},attrs:{label:t.value},on:{click:function(i){e.handleSelect(t.value)}}},[e._v(e._s(t.text))])})],2)])])};$i._withStripped=!0;var zi=[];!di.a.prototype.$isServer&&document.addEventListener("click",function(e){zi.forEach(function(t){var i=e.target;t&&t.$el&&(i===t.$el||t.$el.contains(i)||t.handleOutsideClick&&t.handleOutsideClick(e))})});var Hi=function(e){e&&zi.push(e)},ji=function(e){-1!==zi.indexOf(e)&&zi.splice(e,1)},Ui=i(32),Ki=i.n(Ui),qi=r({name:"ElTableFilterPanel",mixins:[P.a,p.a],directives:{Clickoutside:M.a},components:{ElCheckbox:oi.a,ElCheckboxGroup:Ki.a,ElScrollbar:F.a},props:{placement:{type:String,default:"bottom-end"}},methods:{isActive:function(e){return e.value===this.filterValue},handleOutsideClick:function(){var e=this;setTimeout(function(){e.showPopper=!1},16)},handleConfirm:function(){this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleReset:function(){this.filteredValue=[],this.confirmFilter(this.filteredValue),this.handleOutsideClick()},handleSelect:function(e){this.filterValue=e,void 0!==e&&null!==e?this.confirmFilter(this.filteredValue):this.confirmFilter([]),this.handleOutsideClick()},confirmFilter:function(e){this.table.store.commit("filterChange",{column:this.column,values:e}),this.table.store.updateAllSelected()}},data:function(){return{table:null,cell:null,column:null}},computed:{filters:function(){return this.column&&this.column.filters},filterValue:{get:function(){return(this.column.filteredValue||[])[0]},set:function(e){this.filteredValue&&(void 0!==e&&null!==e?this.filteredValue.splice(0,1,e):this.filteredValue.splice(0,1))}},filteredValue:{get:function(){return this.column&&this.column.filteredValue||[]},set:function(e){this.column&&(this.column.filteredValue=e)}},multiple:function(){return!this.column||this.column.filterMultiple}},mounted:function(){var e=this;this.popperElm=this.$el,this.referenceElm=this.cell,this.table.bodyWrapper.addEventListener("scroll",function(){e.updatePopper()}),this.$watch("showPopper",function(t){e.column&&(e.column.filterOpened=t),t?Hi(e):ji(e)})},watch:{showPopper:function(e){!0===e&&parseInt(this.popperJS._popper.style.zIndex,10)<_.PopupManager.zIndex&&(this.popperJS._popper.style.zIndex=_.PopupManager.nextZIndex())}}},$i,[],!1,null,null,null);qi.options.__file="packages/table/src/filter-panel.vue";var Gi=qi.exports,Yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Xi=function(e){var t=1;e.forEach(function(e){e.level=1,function e(i,n){if(n&&(i.level=n.level+1,t<i.level&&(t=i.level)),i.children){var r=0;i.children.forEach(function(t){e(t,i),r+=t.colSpan}),i.colSpan=r}else i.colSpan=1}(e)});for(var i=[],n=0;n<t;n++)i.push([]);return function e(t){var i=[];return t.forEach(function(t){t.children?(i.push(t),i.push.apply(i,e(t.children))):i.push(t)}),i}(e).forEach(function(e){e.children?e.rowSpan=1:e.rowSpan=t-e.level+1,i[e.level-1].push(e)}),i},Zi={name:"ElTableHeader",mixins:[Fi],render:function(e){var t=this,i=this.store.states.originColumns,n=Xi(i,this.columns),r=n.length>1;return r&&(this.$parent.isGroup=!0),e("table",{class:"el-table__header",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e("colgroup",[this.columns.map(function(t){return e("col",{attrs:{name:t.id},key:t.id})}),this.hasGutter?e("col",{attrs:{name:"gutter"}}):""]),e("thead",{class:[{"is-group":r,"has-gutter":this.hasGutter}]},[this._l(n,function(i,n){return e("tr",{style:t.getHeaderRowStyle(n),class:t.getHeaderRowClass(n)},[i.map(function(r,o){return e("th",{attrs:{colspan:r.colSpan,rowspan:r.rowSpan},on:{mousemove:function(e){return t.handleMouseMove(e,r)},mouseout:t.handleMouseOut,mousedown:function(e){return t.handleMouseDown(e,r)},click:function(e){return t.handleHeaderClick(e,r)},contextmenu:function(e){return t.handleHeaderContextMenu(e,r)}},style:t.getHeaderCellStyle(n,o,i,r),class:t.getHeaderCellClass(n,o,i,r),key:r.id},[e("div",{class:["cell",r.filteredValue&&r.filteredValue.length>0?"highlight":"",r.labelClassName]},[r.renderHeader?r.renderHeader.call(t._renderProxy,e,{column:r,$index:o,store:t.store,_self:t.$parent.$vnode.context}):r.label,r.sortable?e("span",{class:"caret-wrapper",on:{click:function(e){return t.handleSortClick(e,r)}}},[e("i",{class:"sort-caret ascending",on:{click:function(e){return t.handleSortClick(e,r,"ascending")}}}),e("i",{class:"sort-caret descending",on:{click:function(e){return t.handleSortClick(e,r,"descending")}}})]):"",r.filterable?e("span",{class:"el-table__column-filter-trigger",on:{click:function(e){return t.handleFilterClick(e,r)}}},[e("i",{class:["el-icon-arrow-down",r.filterOpened?"el-icon-arrow-up":""]})]):""])])}),t.hasGutter?e("th",{class:"gutter"}):""])})])])},props:{fixed:String,store:{required:!0},border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},components:{ElCheckbox:oi.a},computed:Yi({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},Ii({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(e){return e.columns.length},leftFixedCount:function(e){return e.fixedColumns.length},rightFixedCount:function(e){return e.rightFixedColumns.length}})),created:function(){this.filterPanels={}},mounted:function(){var e=this;this.$nextTick(function(){var t=e.defaultSort,i=t.prop,n=t.order;e.store.commit("sort",{prop:i,order:n,init:!0})})},beforeDestroy:function(){var e=this.filterPanels;for(var t in e)e.hasOwnProperty(t)&&e[t]&&e[t].$destroy(!0)},methods:{isCellHidden:function(e,t){for(var i=0,n=0;n<e;n++)i+=t[n].colSpan;var r=i+t[e].colSpan-1;return!0===this.fixed||"left"===this.fixed?r>=this.leftFixedLeafCount:"right"===this.fixed?i<this.columnsCount-this.rightFixedLeafCount:r<this.leftFixedLeafCount||i>=this.columnsCount-this.rightFixedLeafCount},getHeaderRowStyle:function(e){var t=this.table.headerRowStyle;return"function"==typeof t?t.call(null,{rowIndex:e}):t},getHeaderRowClass:function(e){var t=[],i=this.table.headerRowClassName;return"string"==typeof i?t.push(i):"function"==typeof i&&t.push(i.call(null,{rowIndex:e})),t.join(" ")},getHeaderCellStyle:function(e,t,i,n){var r=this.table.headerCellStyle;return"function"==typeof r?r.call(null,{rowIndex:e,columnIndex:t,row:i,column:n}):r},getHeaderCellClass:function(e,t,i,n){var r=[n.id,n.order,n.headerAlign,n.className,n.labelClassName];0===e&&this.isCellHidden(t,i)&&r.push("is-hidden"),n.children||r.push("is-leaf"),n.sortable&&r.push("is-sortable");var o=this.table.headerCellClassName;return"string"==typeof o?r.push(o):"function"==typeof o&&r.push(o.call(null,{rowIndex:e,columnIndex:t,row:i,column:n})),r.join(" ")},toggleAllSelection:function(e){e.stopPropagation(),this.store.commit("toggleAllSelection")},handleFilterClick:function(e,t){e.stopPropagation();var i=e.target,n="TH"===i.tagName?i:i.parentNode;if(!Object(pe.hasClass)(n,"noclick")){n=n.querySelector(".el-table__column-filter-trigger")||n;var r=this.$parent,o=this.filterPanels[t.id];o&&t.filterOpened?o.showPopper=!1:(o||(o=new di.a(Gi),this.filterPanels[t.id]=o,t.filterPlacement&&(o.placement=t.filterPlacement),o.table=r,o.cell=n,o.column=t,!this.$isServer&&o.$mount(document.createElement("div"))),setTimeout(function(){o.showPopper=!0},16))}},handleHeaderClick:function(e,t){!t.filters&&t.sortable?this.handleSortClick(e,t):t.filterable&&!t.sortable&&this.handleFilterClick(e,t),this.$parent.$emit("header-click",t,e)},handleHeaderContextMenu:function(e,t){this.$parent.$emit("header-contextmenu",t,e)},handleMouseDown:function(e,t){var i=this;if(!this.$isServer&&!(t.children&&t.children.length>0)&&this.draggingColumn&&this.border){this.dragging=!0,this.$parent.resizeProxyVisible=!0;var n=this.$parent,r=n.$el.getBoundingClientRect().left,o=this.$el.querySelector("th."+t.id),s=o.getBoundingClientRect(),a=s.left-r+30;Object(pe.addClass)(o,"noclick"),this.dragState={startMouseLeft:e.clientX,startLeft:s.right-r,startColumnLeft:s.left-r,tableLeft:r};var l=n.$refs.resizeProxy;l.style.left=this.dragState.startLeft+"px",document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};var c=function(e){var t=e.clientX-i.dragState.startMouseLeft,n=i.dragState.startLeft+t;l.style.left=Math.max(a,n)+"px"};document.addEventListener("mousemove",c),document.addEventListener("mouseup",function r(){if(i.dragging){var s=i.dragState,a=s.startColumnLeft,h=s.startLeft,u=parseInt(l.style.left,10)-a;t.width=t.realWidth=u,n.$emit("header-dragend",t.width,h-a,t,e),i.store.scheduleLayout(),document.body.style.cursor="",i.dragging=!1,i.draggingColumn=null,i.dragState={},n.resizeProxyVisible=!1}document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",r),document.onselectstart=null,document.ondragstart=null,setTimeout(function(){Object(pe.removeClass)(o,"noclick")},0)})}},handleMouseMove:function(e,t){if(!(t.children&&t.children.length>0)){for(var i=e.target;i&&"TH"!==i.tagName;)i=i.parentNode;if(t&&t.resizable&&!this.dragging&&this.border){var n=i.getBoundingClientRect(),r=document.body.style;n.width>12&&n.right-e.pageX<8?(r.cursor="col-resize",Object(pe.hasClass)(i,"is-sortable")&&(i.style.cursor="col-resize"),this.draggingColumn=t):this.dragging||(r.cursor="",Object(pe.hasClass)(i,"is-sortable")&&(i.style.cursor="pointer"),this.draggingColumn=null)}}},handleMouseOut:function(){this.$isServer||(document.body.style.cursor="")},toggleOrder:function(e){var t=e.order,i=e.sortOrders;if(""===t)return i[0];var n=i.indexOf(t||null);return i[n>i.length-2?0:n+1]},handleSortClick:function(e,t,i){e.stopPropagation();for(var n=t.order===i?null:i||this.toggleOrder(t),r=e.target;r&&"TH"!==r.tagName;)r=r.parentNode;if(r&&"TH"===r.tagName&&Object(pe.hasClass)(r,"noclick"))Object(pe.removeClass)(r,"noclick");else if(t.sortable){var o=this.store.states,s=o.sortProp,a=void 0,l=o.sortingColumn;(l!==t||l===t&&null===l.order)&&(l&&(l.order=null),o.sortingColumn=t,s=t.property),a=t.order=n||null,o.sortProp=s,o.sortOrder=a,this.store.commit("changeSortCondition")}}},data:function(){return{draggingColumn:null,dragging:!1,dragState:{}}}},Qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Ji={name:"ElTableFooter",mixins:[Fi],render:function(e){var t=this,i=[];return this.summaryMethod?i=this.summaryMethod({columns:this.columns,data:this.store.states.data}):this.columns.forEach(function(e,n){if(0!==n){var r=t.store.states.data.map(function(t){return Number(t[e.property])}),o=[],s=!0;r.forEach(function(e){if(!isNaN(e)){s=!1;var t=(""+e).split(".")[1];o.push(t?t.length:0)}});var a=Math.max.apply(null,o);i[n]=s?"":r.reduce(function(e,t){var i=Number(t);return isNaN(i)?e:parseFloat((e+t).toFixed(Math.min(a,20)))},0)}else i[n]=t.sumText}),e("table",{class:"el-table__footer",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e("colgroup",[this.columns.map(function(t){return e("col",{attrs:{name:t.id},key:t.id})}),this.hasGutter?e("col",{attrs:{name:"gutter"}}):""]),e("tbody",{class:[{"has-gutter":this.hasGutter}]},[e("tr",[this.columns.map(function(n,r){return e("td",{key:r,attrs:{colspan:n.colSpan,rowspan:n.rowSpan},class:t.getRowClasses(n,r)},[e("div",{class:["cell",n.labelClassName]},[i[r]])])}),this.hasGutter?e("th",{class:"gutter"}):""])])])},props:{fixed:String,store:{required:!0},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:function(){return{prop:"",order:""}}}},computed:Qi({table:function(){return this.$parent},hasGutter:function(){return!this.fixed&&this.tableLayout.gutterWidth}},Ii({columns:"columns",isAllSelected:"isAllSelected",leftFixedLeafCount:"fixedLeafColumnsLength",rightFixedLeafCount:"rightFixedLeafColumnsLength",columnsCount:function(e){return e.columns.length},leftFixedCount:function(e){return e.fixedColumns.length},rightFixedCount:function(e){return e.rightFixedColumns.length}})),methods:{isCellHidden:function(e,t,i){if(!0===this.fixed||"left"===this.fixed)return e>=this.leftFixedLeafCount;if("right"===this.fixed){for(var n=0,r=0;r<e;r++)n+=t[r].colSpan;return n<this.columnsCount-this.rightFixedLeafCount}return!(this.fixed||!i.fixed)||(e<this.leftFixedCount||e>=this.columnsCount-this.rightFixedCount)},getRowClasses:function(e,t){var i=[e.id,e.align,e.labelClassName];return e.className&&i.push(e.className),this.isCellHidden(t,this.columns,e)&&i.push("is-hidden"),e.children||i.push("is-leaf"),i}}},en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},tn=1,nn=r({name:"ElTable",mixins:[p.a,C.a],directives:{Mousewheel:hi},props:{data:{type:Array,default:function(){return[]}},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],context:{},showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:function(){return{hasChildren:"hasChildren",children:"children"}}},lazy:Boolean,load:Function},components:{TableHeader:Zi,TableFooter:Ji,TableBody:Wi,ElCheckbox:oi.a},methods:{getMigratingConfig:function(){return{events:{expand:"expand is renamed to expand-change"}}},setCurrentRow:function(e){this.store.commit("setCurrentRow",e)},toggleRowSelection:function(e,t){this.store.toggleRowSelection(e,t,!1),this.store.updateAllSelected()},toggleRowExpansion:function(e,t){this.store.toggleRowExpansionAdapter(e,t)},clearSelection:function(){this.store.clearSelection()},clearFilter:function(e){this.store.clearFilter(e)},clearSort:function(){this.store.clearSort()},handleMouseLeave:function(){this.store.commit("setHoverRow",null),this.hoverState&&(this.hoverState=null)},updateScrollY:function(){this.layout.updateScrollY()&&(this.layout.notifyObservers("scrollable"),this.layout.updateColumnsWidth())},handleFixedMousewheel:function(e,t){var i=this.bodyWrapper;if(Math.abs(t.spinY)>0){var n=i.scrollTop;t.pixelY<0&&0!==n&&e.preventDefault(),t.pixelY>0&&i.scrollHeight-i.clientHeight>n&&e.preventDefault(),i.scrollTop+=Math.ceil(t.pixelY/5)}else i.scrollLeft+=Math.ceil(t.pixelX/5)},handleHeaderFooterMousewheel:function(e,t){var i=t.pixelX,n=t.pixelY;Math.abs(i)>=Math.abs(n)&&(this.bodyWrapper.scrollLeft+=t.pixelX/5)},syncPostion:Object(si.throttle)(20,function(){var e=this.bodyWrapper,t=e.scrollLeft,i=e.scrollTop,n=e.offsetWidth,r=e.scrollWidth,o=this.$refs,s=o.headerWrapper,a=o.footerWrapper,l=o.fixedBodyWrapper,c=o.rightFixedBodyWrapper;s&&(s.scrollLeft=t),a&&(a.scrollLeft=t),l&&(l.scrollTop=i),c&&(c.scrollTop=i);var h=r-n-1;this.scrollPosition=t>=h?"right":0===t?"left":"middle"}),bindEvents:function(){this.bodyWrapper.addEventListener("scroll",this.syncPostion,{passive:!0}),this.fit&&Object(Rt.addResizeListener)(this.$el,this.resizeListener)},unbindEvents:function(){this.bodyWrapper.removeEventListener("scroll",this.syncPostion,{passive:!0}),this.fit&&Object(Rt.removeResizeListener)(this.$el,this.resizeListener)},resizeListener:function(){if(this.$ready){var e=!1,t=this.$el,i=this.resizeState,n=i.width,r=i.height,o=t.offsetWidth;n!==o&&(e=!0);var s=t.offsetHeight;(this.height||this.shouldUpdateHeight)&&r!==s&&(e=!0),e&&(this.resizeState.width=o,this.resizeState.height=s,this.doLayout())}},doLayout:function(){this.shouldUpdateHeight&&this.layout.updateElsHeight(),this.layout.updateColumnsWidth()},sort:function(e,t){this.store.commit("sort",{prop:e,order:t})},toggleAllSelection:function(){this.store.commit("toggleAllSelection")}},computed:en({tableSize:function(){return this.size||(this.$ELEMENT||{}).size},bodyWrapper:function(){return this.$refs.bodyWrapper},shouldUpdateHeight:function(){return this.height||this.maxHeight||this.fixedColumns.length>0||this.rightFixedColumns.length>0},bodyWidth:function(){var e=this.layout,t=e.bodyWidth,i=e.scrollY,n=e.gutterWidth;return t?t-(i?n:0)+"px":""},bodyHeight:function(){var e=this.layout,t=e.headerHeight,i=void 0===t?0:t,n=e.bodyHeight,r=e.footerHeight,o=void 0===r?0:r;if(this.height)return{height:n?n+"px":""};if(this.maxHeight){var s=Si(this.maxHeight);if("number"==typeof s)return{"max-height":s-o-(this.showHeader?i:0)+"px"}}return{}},fixedBodyHeight:function(){if(this.height)return{height:this.layout.fixedBodyHeight?this.layout.fixedBodyHeight+"px":""};if(this.maxHeight){var e=Si(this.maxHeight);if("number"==typeof e)return e=this.layout.scrollX?e-this.layout.gutterWidth:e,this.showHeader&&(e-=this.layout.headerHeight),{"max-height":(e-=this.layout.footerHeight)+"px"}}return{}},fixedHeight:function(){return this.maxHeight?this.showSummary?{bottom:0}:{bottom:this.layout.scrollX&&this.data.length?this.layout.gutterWidth+"px":""}:this.showSummary?{height:this.layout.tableHeight?this.layout.tableHeight+"px":""}:{height:this.layout.viewportHeight?this.layout.viewportHeight+"px":""}},emptyBlockStyle:function(){if(this.data&&this.data.length)return null;var e="100%";return this.layout.appendHeight&&(e="calc(100% - "+this.layout.appendHeight+"px)"),{width:this.bodyWidth,height:e}}},Ii({selection:"selection",columns:"columns",tableData:"data",fixedColumns:"fixedColumns",rightFixedColumns:"rightFixedColumns"})),watch:{height:{immediate:!0,handler:function(e){this.layout.setHeight(e)}},maxHeight:{immediate:!0,handler:function(e){this.layout.setMaxHeight(e)}},currentRowKey:{immediate:!0,handler:function(e){this.rowKey&&this.store.setCurrentRowKey(e)}},data:{immediate:!0,handler:function(e){this.store.commit("setData",e)}},expandRowKeys:{immediate:!0,handler:function(e){e&&this.store.setExpandRowKeysAdapter(e)}}},created:function(){var e=this;this.tableId="el-table_"+tn++,this.debouncedUpdateLayout=Object(si.debounce)(50,function(){return e.doLayout()})},mounted:function(){var e=this;this.bindEvents(),this.store.updateColumns(),this.doLayout(),this.resizeState={width:this.$el.offsetWidth,height:this.$el.offsetHeight},this.store.states.columns.forEach(function(t){t.filteredValue&&t.filteredValue.length&&e.store.commit("filterChange",{column:t,values:t.filteredValue,silent:!0})}),this.$ready=!0},destroyed:function(){this.unbindEvents()},data:function(){var e=this.treeProps,t=e.hasChildren,i=void 0===t?"hasChildren":t,n=e.children,r=void 0===n?"children":n;return this.store=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Table is required.");var i=new Mi;return i.table=e,i.toggleAllSelection=T()(10,i._toggleAllSelection),Object.keys(t).forEach(function(e){i.states[e]=t[e]}),i}(this,{rowKey:this.rowKey,defaultExpandAll:this.defaultExpandAll,selectOnIndeterminate:this.selectOnIndeterminate,indent:this.indent,lazy:this.lazy,lazyColumnIdentifier:i,childrenColumnName:r}),{layout:new Ri({store:this.store,table:this,fit:this.fit,showHeader:this.showHeader}),isHidden:!1,renderExpanded:null,resizeProxyVisible:!1,resizeState:{width:null,height:null},isGroup:!1,scrollPosition:"left"}}},ni,[],!1,null,null,null);nn.options.__file="packages/table/src/table.vue";var rn=nn.exports;rn.install=function(e){e.component(rn.name,rn)};var on=rn,sn={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:"",className:"el-table-column--selection"},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},an={selection:{renderHeader:function(e,t){var i=t.store;return e("el-checkbox",{attrs:{disabled:i.states.data&&0===i.states.data.length,indeterminate:i.states.selection.length>0&&!this.isAllSelected,value:this.isAllSelected},nativeOn:{click:this.toggleAllSelection}})},renderCell:function(e,t){var i=t.row,n=t.column,r=t.store,o=t.$index;return e("el-checkbox",{nativeOn:{click:function(e){return e.stopPropagation()}},attrs:{value:r.isSelected(i),disabled:!!n.selectable&&!n.selectable.call(null,i,o)},on:{input:function(){r.commit("rowSelectedChanged",i)}}})},sortable:!1,resizable:!1},index:{renderHeader:function(e,t){return t.column.label||"#"},renderCell:function(e,t){var i=t.$index,n=i+1,r=t.column.index;return"number"==typeof r?n=i+r:"function"==typeof r&&(n=r(i)),e("div",[n])},sortable:!1},expand:{renderHeader:function(e,t){return t.column.label||""},renderCell:function(e,t){var i=t.row,n=t.store,r=["el-table__expand-icon"];n.states.expandRows.indexOf(i)>-1&&r.push("el-table__expand-icon--expanded");return e("div",{class:r,on:{click:function(e){e.stopPropagation(),n.toggleRowExpansion(i)}}},[e("i",{class:"el-icon el-icon-arrow-right"})])},sortable:!1,resizable:!1,className:"el-table__expand-column"}};function ln(e,t){var i=t.row,n=t.column,r=t.$index,o=n.property,s=o&&Object(m.getPropByPath)(i,o).v;return n&&n.formatter?n.formatter(i,n,s,r):s}var cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},hn=1,un={name:"ElTableColumn",props:{type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{},minWidth:{},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:function(){return["ascending","descending",null]},validator:function(e){return e.every(function(e){return["ascending","descending",null].indexOf(e)>-1})}}},data:function(){return{isSubColumn:!1,columns:[]}},computed:{owner:function(){for(var e=this.$parent;e&&!e.tableId;)e=e.$parent;return e},columnOrTableParent:function(){for(var e=this.$parent;e&&!e.tableId&&!e.columnId;)e=e.$parent;return e},realWidth:function(){return Ci(this.width)},realMinWidth:function(){return void 0!==(e=this.minWidth)&&(e=Ci(e),isNaN(e)&&(e=80)),e;var e},realAlign:function(){return this.align?"is-"+this.align:null},realHeaderAlign:function(){return this.headerAlign?"is-"+this.headerAlign:this.realAlign}},methods:{getPropsData:function(){for(var e=this,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.reduce(function(t,i){return Array.isArray(i)&&i.forEach(function(i){t[i]=e[i]}),t},{})},getColumnElIndex:function(e,t){return[].indexOf.call(e,t)},setColumnWidth:function(e){return this.realWidth&&(e.width=this.realWidth),this.realMinWidth&&(e.minWidth=this.realMinWidth),e.minWidth||(e.minWidth=80),e.realWidth=void 0===e.width?e.minWidth:e.width,e},setColumnForcedProps:function(e){var t=e.type,i=an[t]||{};return Object.keys(i).forEach(function(t){var n=i[t];void 0!==n&&(e[t]="className"===t?e[t]+" "+n:n)}),e},setColumnRenders:function(e){var t=this;this.$createElement;this.renderHeader?console.warn("[Element Warn][TableColumn]Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header."):"selection"!==e.type&&(e.renderHeader=function(i,n){var r=t.$scopedSlots.header;return r?r(n):e.label});var i=e.renderCell;return"expand"===e.type?(e.renderCell=function(e,t){return e("div",{class:"cell"},[i(e,t)])},this.owner.renderExpanded=function(e,i){return t.$scopedSlots.default?t.$scopedSlots.default(i):t.$slots.default}):(i=i||ln,e.renderCell=function(n,r){var o=null;o=t.$scopedSlots.default?t.$scopedSlots.default(r):i(n,r);var s=function(e,t){var i=t.row,n=t.treeNode,r=t.store;if(!n)return null;var o=[];if(n.indent&&o.push(e("span",{class:"el-table__indent",style:{"padding-left":n.indent+"px"}})),"boolean"!=typeof n.expanded||n.noLazyChildren)o.push(e("span",{class:"el-table__placeholder"}));else{var s=["el-table__expand-icon",n.expanded?"el-table__expand-icon--expanded":""],a=["el-icon-arrow-right"];n.loading&&(a=["el-icon-loading"]),o.push(e("div",{class:s,on:{click:function(e){e.stopPropagation(),r.loadOrToggle(i)}}},[e("i",{class:a})]))}return o}(n,r),a={class:"cell",style:{}};return e.showOverflowTooltip&&(a.class+=" el-tooltip",a.style={width:(r.column.realWidth||r.column.width)-1+"px"}),n("div",a,[s,o])}),e},registerNormalWatchers:function(){var e=this,t={prop:"property",realAlign:"align",realHeaderAlign:"headerAlign",realWidth:"width"},i=["label","property","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"].reduce(function(e,t){return e[t]=t,e},t);Object.keys(i).forEach(function(i){var n=t[i];e.$watch(i,function(t){e.columnConfig[n]=t})})},registerComplexWatchers:function(){var e=this,t={realWidth:"width",realMinWidth:"minWidth"},i=["fixed"].reduce(function(e,t){return e[t]=t,e},t);Object.keys(i).forEach(function(i){var n=t[i];e.$watch(i,function(t){e.columnConfig[n]=t;var i="fixed"===n;e.owner.store.scheduleLayout(i)})})}},components:{ElCheckbox:oi.a},beforeCreate:function(){this.row={},this.column={},this.$index=0,this.columnId=""},created:function(){var e=this.columnOrTableParent;this.isSubColumn=this.owner!==e,this.columnId=(e.tableId||e.columnId)+"_column_"+hn++;var t=this.type||"default",i=""===this.sortable||this.sortable,n=cn({},sn[t],{id:this.columnId,type:t,property:this.prop||this.property,align:this.realAlign,headerAlign:this.realHeaderAlign,showOverflowTooltip:this.showOverflowTooltip||this.showTooltipWhenOverflow,filterable:this.filters||this.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,filterOpened:!1,sortable:i,index:this.index}),r=this.getPropsData(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);r=function(e,t){var i={},n=void 0;for(n in e)i[n]=e[n];for(n in t)if(wi(t,n)){var r=t[n];void 0!==r&&(i[n]=r)}return i}(n,r),r=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}(this.setColumnRenders,this.setColumnWidth,this.setColumnForcedProps)(r),this.columnConfig=r,this.registerNormalWatchers(),this.registerComplexWatchers()},mounted:function(){var e=this.owner,t=this.columnOrTableParent,i=this.isSubColumn?t.$el.children:t.$refs.hiddenColumns.children,n=this.getColumnElIndex(i,this.$el);e.store.commit("insertColumn",this.columnConfig,n,this.isSubColumn?t.columnConfig:null)},destroyed:function(){if(this.$parent){var e=this.$parent;this.owner.store.commit("removeColumn",this.columnConfig,this.isSubColumn?e.columnConfig:null)}},render:function(e){return e("div",this.$slots.default)},install:function(e){e.component(un.name,un)}},dn=un,fn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ranged?i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor el-range-editor el-input__inner",class:["el-date-editor--"+e.type,e.pickerSize?"el-range-editor--"+e.pickerSize:"",e.pickerDisabled?"is-disabled":"",e.pickerVisible?"is-active":""],on:{click:e.handleRangeClick,mouseenter:e.handleMouseEnter,mouseleave:function(t){e.showClose=!1},keydown:e.handleKeydown}},[i("i",{class:["el-input__icon","el-range__icon",e.triggerClass]}),i("input",e._b({staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:e.startPlaceholder,disabled:e.pickerDisabled,readonly:!e.editable||e.readonly,name:e.name&&e.name[0]},domProps:{value:e.displayValue&&e.displayValue[0]},on:{input:e.handleStartInput,change:e.handleStartChange,focus:e.handleFocus}},"input",e.firstInputId,!1)),e._t("range-separator",[i("span",{staticClass:"el-range-separator"},[e._v(e._s(e.rangeSeparator))])]),i("input",e._b({staticClass:"el-range-input",attrs:{autocomplete:"off",placeholder:e.endPlaceholder,disabled:e.pickerDisabled,readonly:!e.editable||e.readonly,name:e.name&&e.name[1]},domProps:{value:e.displayValue&&e.displayValue[1]},on:{input:e.handleEndInput,change:e.handleEndChange,focus:e.handleFocus}},"input",e.secondInputId,!1)),e.haveTrigger?i("i",{staticClass:"el-input__icon el-range__close-icon",class:[e.showClose?""+e.clearIcon:""],on:{click:e.handleClickIcon}}):e._e()],2):i("el-input",e._b({directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],ref:"reference",staticClass:"el-date-editor",class:"el-date-editor--"+e.type,attrs:{readonly:!e.editable||e.readonly||"dates"===e.type||"week"===e.type,disabled:e.pickerDisabled,size:e.pickerSize,name:e.name,placeholder:e.placeholder,value:e.displayValue,validateEvent:!1},on:{focus:e.handleFocus,input:function(t){return e.userInput=t},change:e.handleChange},nativeOn:{keydown:function(t){return e.handleKeydown(t)},mouseenter:function(t){return e.handleMouseEnter(t)},mouseleave:function(t){e.showClose=!1}}},"el-input",e.firstInputId,!1),[i("i",{staticClass:"el-input__icon",class:e.triggerClass,attrs:{slot:"prefix"},on:{click:e.handleFocus},slot:"prefix"}),e.haveTrigger?i("i",{staticClass:"el-input__icon",class:[e.showClose?""+e.clearIcon:""],attrs:{slot:"suffix"},on:{click:e.handleClickIcon},slot:"suffix"}):e._e()])};fn._withStripped=!0;var pn=i(0),mn={props:{appendToBody:P.a.props.appendToBody,offset:P.a.props.offset,boundariesPadding:P.a.props.boundariesPadding,arrowOffset:P.a.props.arrowOffset},methods:P.a.methods,data:function(){return $e()({visibleArrow:!0},P.a.data)},beforeDestroy:P.a.beforeDestroy},gn={date:"yyyy-MM-dd",month:"yyyy-MM",datetime:"yyyy-MM-dd HH:mm:ss",time:"HH:mm:ss",week:"yyyywWW",timerange:"HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss",year:"yyyy"},vn=["date","datetime","time","time-select","week","month","year","daterange","monthrange","timerange","datetimerange","dates"],bn=function(e,t){return"timestamp"===t?e.getTime():Object(pn.formatDate)(e,t)},_n=function(e,t){return"timestamp"===t?new Date(Number(e)):Object(pn.parseDate)(e,t)},yn=function(e,t){if(Array.isArray(e)&&2===e.length){var i=e[0],n=e[1];if(i&&n)return[bn(i,t),bn(n,t)]}return""},wn=function(e,t,i){if(Array.isArray(e)||(e=e.split(i)),2===e.length){var n=e[0],r=e[1];return[_n(n,t),_n(r,t)]}return[]},Cn={default:{formatter:function(e){return e?""+e:""},parser:function(e){return void 0===e||""===e?null:e}},week:{formatter:function(e,t){var i=Object(pn.getWeekNumber)(e),n=e.getMonth(),r=new Date(e);1===i&&11===n&&(r.setHours(0,0,0,0),r.setDate(r.getDate()+3-(r.getDay()+6)%7));var o=Object(pn.formatDate)(r,t);return o=/WW/.test(o)?o.replace(/WW/,i<10?"0"+i:i):o.replace(/W/,i)},parser:function(e,t){return Cn.date.parser(e,t)}},date:{formatter:bn,parser:_n},datetime:{formatter:bn,parser:_n},daterange:{formatter:yn,parser:wn},monthrange:{formatter:yn,parser:wn},datetimerange:{formatter:yn,parser:wn},timerange:{formatter:yn,parser:wn},time:{formatter:bn,parser:_n},month:{formatter:bn,parser:_n},year:{formatter:bn,parser:_n},number:{formatter:function(e){return e?""+e:""},parser:function(e){var t=Number(e);return isNaN(e)?null:t}},dates:{formatter:function(e,t){return e.map(function(e){return bn(e,t)})},parser:function(e,t){return("string"==typeof e?e.split(", "):e).map(function(e){return e instanceof Date?e:_n(e,t)})}}},Sn={left:"bottom-start",center:"bottom",right:"bottom-end"},xn=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"-";return e?(0,(Cn[i]||Cn.default).parser)(e,t||gn[i],n):null},kn=function(e,t,i){return e?(0,(Cn[i]||Cn.default).formatter)(e,t||gn[i]):null},Ln=function(e,t){var i=function(e,t){var i=e instanceof Date,n=t instanceof Date;return i&&n?e.getTime()===t.getTime():!i&&!n&&e===t},n=e instanceof Array,r=t instanceof Array;return n&&r?e.length===t.length&&e.every(function(e,n){return i(e,t[n])}):!n&&!r&&i(e,t)},Dn=function(e){return"string"==typeof e||e instanceof String},En=function(e){return null===e||void 0===e||Dn(e)||Array.isArray(e)&&2===e.length&&e.every(Dn)},Nn=r({mixins:[x.a,mn],inject:{elForm:{default:""},elFormItem:{default:""}},props:{size:String,format:String,valueFormat:String,readonly:Boolean,placeholder:String,startPlaceholder:String,endPlaceholder:String,prefixIcon:String,clearIcon:{type:String,default:"el-icon-circle-close"},name:{default:"",validator:En},disabled:Boolean,clearable:{type:Boolean,default:!0},id:{default:"",validator:En},popperClass:String,editable:{type:Boolean,default:!0},align:{type:String,default:"left"},value:{},defaultValue:{},defaultTime:{},rangeSeparator:{default:"-"},pickerOptions:{},unlinkPanels:Boolean,validateEvent:{type:Boolean,default:!0}},components:{ElInput:d.a},directives:{Clickoutside:M.a},data:function(){return{pickerVisible:!1,showClose:!1,userInput:null,valueOnOpen:null,unwatchPickerOptions:null}},watch:{pickerVisible:function(e){this.readonly||this.pickerDisabled||(e?(this.showPicker(),this.valueOnOpen=Array.isArray(this.value)?[].concat(this.value):this.value):(this.hidePicker(),this.emitChange(this.value),this.userInput=null,this.validateEvent&&this.dispatch("ElFormItem","el.form.blur"),this.$emit("blur",this),this.blur()))},parsedValue:{immediate:!0,handler:function(e){this.picker&&(this.picker.value=e)}},defaultValue:function(e){this.picker&&(this.picker.defaultValue=e)},value:function(e,t){Ln(e,t)||this.pickerVisible||!this.validateEvent||this.dispatch("ElFormItem","el.form.change",e)}},computed:{ranged:function(){return this.type.indexOf("range")>-1},reference:function(){var e=this.$refs.reference;return e.$el||e},refInput:function(){return this.reference?[].slice.call(this.reference.querySelectorAll("input")):[]},valueIsEmpty:function(){var e=this.value;if(Array.isArray(e)){for(var t=0,i=e.length;t<i;t++)if(e[t])return!1}else if(e)return!1;return!0},triggerClass:function(){return this.prefixIcon||(-1!==this.type.indexOf("time")?"el-icon-time":"el-icon-date")},selectionMode:function(){return"week"===this.type?"week":"month"===this.type?"month":"year"===this.type?"year":"dates"===this.type?"dates":"day"},haveTrigger:function(){return void 0!==this.showTrigger?this.showTrigger:-1!==vn.indexOf(this.type)},displayValue:function(){var e=kn(this.parsedValue,this.format,this.type,this.rangeSeparator);return Array.isArray(this.userInput)?[this.userInput[0]||e&&e[0]||"",this.userInput[1]||e&&e[1]||""]:null!==this.userInput?this.userInput:e?"dates"===this.type?e.join(", "):e:""},parsedValue:function(){return this.value?"time-select"===this.type?this.value:Object(pn.isDateObject)(this.value)||Array.isArray(this.value)&&this.value.every(pn.isDateObject)?this.value:this.valueFormat?xn(this.value,this.valueFormat,this.type,this.rangeSeparator)||this.value:Array.isArray(this.value)?this.value.map(function(e){return new Date(e)}):new Date(this.value):this.value},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},pickerSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},pickerDisabled:function(){return this.disabled||(this.elForm||{}).disabled},firstInputId:function(){var e={},t=void 0;return(t=this.ranged?this.id&&this.id[0]:this.id)&&(e.id=t),e},secondInputId:function(){var e={},t=void 0;return this.ranged&&(t=this.id&&this.id[1]),t&&(e.id=t),e}},created:function(){this.popperOptions={boundariesPadding:0,gpuAcceleration:!1},this.placement=Sn[this.align]||Sn.left,this.$on("fieldReset",this.handleFieldReset)},methods:{focus:function(){this.ranged?this.handleFocus():this.$refs.reference.focus()},blur:function(){this.refInput.forEach(function(e){return e.blur()})},parseValue:function(e){var t=Object(pn.isDateObject)(e)||Array.isArray(e)&&e.every(pn.isDateObject);return this.valueFormat&&!t&&xn(e,this.valueFormat,this.type,this.rangeSeparator)||e},formatToValue:function(e){var t=Object(pn.isDateObject)(e)||Array.isArray(e)&&e.every(pn.isDateObject);return this.valueFormat&&t?kn(e,this.valueFormat,this.type,this.rangeSeparator):e},parseString:function(e){var t=Array.isArray(e)?this.type:this.type.replace("range","");return xn(e,this.format,t)},formatToString:function(e){var t=Array.isArray(e)?this.type:this.type.replace("range","");return kn(e,this.format,t)},handleMouseEnter:function(){this.readonly||this.pickerDisabled||!this.valueIsEmpty&&this.clearable&&(this.showClose=!0)},handleChange:function(){if(this.userInput){var e=this.parseString(this.displayValue);e&&(this.picker.value=e,this.isValidValue(e)&&(this.emitInput(e),this.userInput=null))}""===this.userInput&&(this.emitInput(null),this.emitChange(null),this.userInput=null)},handleStartInput:function(e){this.userInput?this.userInput=[e.target.value,this.userInput[1]]:this.userInput=[e.target.value,null]},handleEndInput:function(e){this.userInput?this.userInput=[this.userInput[0],e.target.value]:this.userInput=[null,e.target.value]},handleStartChange:function(e){var t=this.parseString(this.userInput&&this.userInput[0]);if(t){this.userInput=[this.formatToString(t),this.displayValue[1]];var i=[t,this.picker.value&&this.picker.value[1]];this.picker.value=i,this.isValidValue(i)&&(this.emitInput(i),this.userInput=null)}},handleEndChange:function(e){var t=this.parseString(this.userInput&&this.userInput[1]);if(t){this.userInput=[this.displayValue[0],this.formatToString(t)];var i=[this.picker.value&&this.picker.value[0],t];this.picker.value=i,this.isValidValue(i)&&(this.emitInput(i),this.userInput=null)}},handleClickIcon:function(e){this.readonly||this.pickerDisabled||(this.showClose?(this.valueOnOpen=this.value,e.stopPropagation(),this.emitInput(null),this.emitChange(null),this.showClose=!1,this.picker&&"function"==typeof this.picker.handleClear&&this.picker.handleClear()):this.pickerVisible=!this.pickerVisible)},handleClose:function(){if(this.pickerVisible&&(this.pickerVisible=!1,"dates"===this.type)){var e=xn(this.valueOnOpen,this.valueFormat,this.type,this.rangeSeparator)||this.valueOnOpen;this.emitInput(e)}},handleFieldReset:function(e){this.userInput=""===e?null:e},handleFocus:function(){var e=this.type;-1===vn.indexOf(e)||this.pickerVisible||(this.pickerVisible=!0),this.$emit("focus",this)},handleKeydown:function(e){var t=this,i=e.keyCode;return 27===i?(this.pickerVisible=!1,void e.stopPropagation()):9!==i?13===i?((""===this.userInput||this.isValidValue(this.parseString(this.displayValue)))&&(this.handleChange(),this.pickerVisible=this.picker.visible=!1,this.blur()),void e.stopPropagation()):void(this.userInput?e.stopPropagation():this.picker&&this.picker.handleKeydown&&this.picker.handleKeydown(e)):void(this.ranged?setTimeout(function(){-1===t.refInput.indexOf(document.activeElement)&&(t.pickerVisible=!1,t.blur(),e.stopPropagation())},0):(this.handleChange(),this.pickerVisible=this.picker.visible=!1,this.blur(),e.stopPropagation()))},handleRangeClick:function(){var e=this.type;-1===vn.indexOf(e)||this.pickerVisible||(this.pickerVisible=!0),this.$emit("focus",this)},hidePicker:function(){this.picker&&(this.picker.resetView&&this.picker.resetView(),this.pickerVisible=this.picker.visible=!1,this.destroyPopper())},showPicker:function(){var e=this;this.$isServer||(this.picker||this.mountPicker(),this.pickerVisible=this.picker.visible=!0,this.updatePopper(),this.picker.value=this.parsedValue,this.picker.resetView&&this.picker.resetView(),this.$nextTick(function(){e.picker.adjustSpinners&&e.picker.adjustSpinners()}))},mountPicker:function(){var e=this;this.picker=new di.a(this.panel).$mount(),this.picker.defaultValue=this.defaultValue,this.picker.defaultTime=this.defaultTime,this.picker.popperClass=this.popperClass,this.popperElm=this.picker.$el,this.picker.width=this.reference.getBoundingClientRect().width,this.picker.showTime="datetime"===this.type||"datetimerange"===this.type,this.picker.selectionMode=this.selectionMode,this.picker.unlinkPanels=this.unlinkPanels,this.picker.arrowControl=this.arrowControl||this.timeArrowControl||!1,this.$watch("format",function(t){e.picker.format=t});var t=function(){var t=e.pickerOptions;if(t&&t.selectableRange){var i=t.selectableRange,n=Cn.datetimerange.parser,r=gn.timerange;i=Array.isArray(i)?i:[i],e.picker.selectableRange=i.map(function(t){return n(t,r,e.rangeSeparator)})}for(var o in t)t.hasOwnProperty(o)&&"selectableRange"!==o&&(e.picker[o]=t[o]);e.format&&(e.picker.format=e.format)};t(),this.unwatchPickerOptions=this.$watch("pickerOptions",function(){return t()},{deep:!0}),this.$el.appendChild(this.picker.$el),this.picker.resetView&&this.picker.resetView(),this.picker.$on("dodestroy",this.doDestroy),this.picker.$on("pick",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.userInput=null,e.pickerVisible=e.picker.visible=i,e.emitInput(t),e.picker.resetView&&e.picker.resetView()}),this.picker.$on("select-range",function(t,i,n){0!==e.refInput.length&&(n&&"min"!==n?"max"===n&&(e.refInput[1].setSelectionRange(t,i),e.refInput[1].focus()):(e.refInput[0].setSelectionRange(t,i),e.refInput[0].focus()))})},unmountPicker:function(){this.picker&&(this.picker.$destroy(),this.picker.$off(),"function"==typeof this.unwatchPickerOptions&&this.unwatchPickerOptions(),this.picker.$el.parentNode.removeChild(this.picker.$el))},emitChange:function(e){Ln(e,this.valueOnOpen)||(this.$emit("change",e),this.valueOnOpen=e,this.validateEvent&&this.dispatch("ElFormItem","el.form.change",e))},emitInput:function(e){var t=this.formatToValue(e);Ln(this.value,t)||this.$emit("input",t)},isValidValue:function(e){return this.picker||this.mountPicker(),!this.picker.isValidValue||e&&this.picker.isValidValue(e)}}},fn,[],!1,null,null,null);Nn.options.__file="packages/date-picker/src/picker.vue";var Tn=Nn.exports,On=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-enter":e.handleEnter,"after-leave":e.handleLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-picker el-popper",class:[{"has-sidebar":e.$slots.sidebar||e.shortcuts,"has-time":e.showTime},e.popperClass]},[i("div",{staticClass:"el-picker-panel__body-wrapper"},[e._t("sidebar"),e.shortcuts?i("div",{staticClass:"el-picker-panel__sidebar"},e._l(e.shortcuts,function(t,n){return i("button",{key:n,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(i){e.handleShortcutClick(t)}}},[e._v(e._s(t.text))])}),0):e._e(),i("div",{staticClass:"el-picker-panel__body"},[e.showTime?i("div",{staticClass:"el-date-picker__time-header"},[i("span",{staticClass:"el-date-picker__editor-wrap"},[i("el-input",{attrs:{placeholder:e.t("el.datepicker.selectDate"),value:e.visibleDate,size:"small"},on:{input:function(t){return e.userInputDate=t},change:e.handleVisibleDateChange}})],1),i("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleTimePickClose,expression:"handleTimePickClose"}],staticClass:"el-date-picker__editor-wrap"},[i("el-input",{ref:"input",attrs:{placeholder:e.t("el.datepicker.selectTime"),value:e.visibleTime,size:"small"},on:{focus:function(t){e.timePickerVisible=!0},input:function(t){return e.userInputTime=t},change:e.handleVisibleTimeChange}}),i("time-picker",{ref:"timepicker",attrs:{"time-arrow-control":e.arrowControl,visible:e.timePickerVisible},on:{pick:e.handleTimePick,mounted:e.proxyTimePickerDataProperties}})],1)]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:"time"!==e.currentView,expression:"currentView !== 'time'"}],staticClass:"el-date-picker__header",class:{"el-date-picker__header--bordered":"year"===e.currentView||"month"===e.currentView}},[i("button",{staticClass:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-d-arrow-left",attrs:{type:"button","aria-label":e.t("el.datepicker.prevYear")},on:{click:e.prevYear}}),i("button",{directives:[{name:"show",rawName:"v-show",value:"date"===e.currentView,expression:"currentView === 'date'"}],staticClass:"el-picker-panel__icon-btn el-date-picker__prev-btn el-icon-arrow-left",attrs:{type:"button","aria-label":e.t("el.datepicker.prevMonth")},on:{click:e.prevMonth}}),i("span",{staticClass:"el-date-picker__header-label",attrs:{role:"button"},on:{click:e.showYearPicker}},[e._v(e._s(e.yearLabel))]),i("span",{directives:[{name:"show",rawName:"v-show",value:"date"===e.currentView,expression:"currentView === 'date'"}],staticClass:"el-date-picker__header-label",class:{active:"month"===e.currentView},attrs:{role:"button"},on:{click:e.showMonthPicker}},[e._v(e._s(e.t("el.datepicker.month"+(e.month+1))))]),i("button",{staticClass:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-d-arrow-right",attrs:{type:"button","aria-label":e.t("el.datepicker.nextYear")},on:{click:e.nextYear}}),i("button",{directives:[{name:"show",rawName:"v-show",value:"date"===e.currentView,expression:"currentView === 'date'"}],staticClass:"el-picker-panel__icon-btn el-date-picker__next-btn el-icon-arrow-right",attrs:{type:"button","aria-label":e.t("el.datepicker.nextMonth")},on:{click:e.nextMonth}})]),i("div",{staticClass:"el-picker-panel__content"},[i("date-table",{directives:[{name:"show",rawName:"v-show",value:"date"===e.currentView,expression:"currentView === 'date'"}],attrs:{"selection-mode":e.selectionMode,"first-day-of-week":e.firstDayOfWeek,value:e.value,"default-value":e.defaultValue?new Date(e.defaultValue):null,date:e.date,"cell-class-name":e.cellClassName,"disabled-date":e.disabledDate},on:{pick:e.handleDatePick}}),i("year-table",{directives:[{name:"show",rawName:"v-show",value:"year"===e.currentView,expression:"currentView === 'year'"}],attrs:{value:e.value,"default-value":e.defaultValue?new Date(e.defaultValue):null,date:e.date,"disabled-date":e.disabledDate},on:{pick:e.handleYearPick}}),i("month-table",{directives:[{name:"show",rawName:"v-show",value:"month"===e.currentView,expression:"currentView === 'month'"}],attrs:{value:e.value,"default-value":e.defaultValue?new Date(e.defaultValue):null,date:e.date,"disabled-date":e.disabledDate},on:{pick:e.handleMonthPick}})],1)])],2),i("div",{directives:[{name:"show",rawName:"v-show",value:e.footerVisible&&"date"===e.currentView,expression:"footerVisible && currentView === 'date'"}],staticClass:"el-picker-panel__footer"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:"dates"!==e.selectionMode,expression:"selectionMode !== 'dates'"}],staticClass:"el-picker-panel__link-btn",attrs:{size:"mini",type:"text"},on:{click:e.changeToNow}},[e._v("\n        "+e._s(e.t("el.datepicker.now"))+"\n      ")]),i("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{plain:"",size:"mini"},on:{click:e.confirm}},[e._v("\n        "+e._s(e.t("el.datepicker.confirm"))+"\n      ")])],1)])])};On._withStripped=!0;var Mn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(t){e.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-time-panel el-popper",class:e.popperClass},[i("div",{staticClass:"el-time-panel__content",class:{"has-seconds":e.showSeconds}},[i("time-spinner",{ref:"spinner",attrs:{"arrow-control":e.useArrow,"show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,date:e.date},on:{change:e.handleChange,"select-range":e.setSelectionRange}})],1),i("div",{staticClass:"el-time-panel__footer"},[i("button",{staticClass:"el-time-panel__btn cancel",attrs:{type:"button"},on:{click:e.handleCancel}},[e._v(e._s(e.t("el.datepicker.cancel")))]),i("button",{staticClass:"el-time-panel__btn",class:{confirm:!e.disabled},attrs:{type:"button"},on:{click:function(t){e.handleConfirm()}}},[e._v(e._s(e.t("el.datepicker.confirm")))])])])])};Mn._withStripped=!0;var In=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-time-spinner",class:{"has-seconds":e.showSeconds}},[e.arrowControl?e._e():[i("el-scrollbar",{ref:"hours",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(t){e.emitSelectRange("hours")},mousemove:function(t){e.adjustCurrentSpinner("hours")}}},e._l(e.hoursList,function(t,n){return i("li",{key:n,staticClass:"el-time-spinner__item",class:{active:n===e.hours,disabled:t},on:{click:function(i){e.handleClick("hours",{value:n,disabled:t})}}},[e._v(e._s(("0"+(e.amPmMode?n%12||12:n)).slice(-2))+e._s(e.amPm(n)))])}),0),i("el-scrollbar",{ref:"minutes",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(t){e.emitSelectRange("minutes")},mousemove:function(t){e.adjustCurrentSpinner("minutes")}}},e._l(e.minutesList,function(t,n){return i("li",{key:n,staticClass:"el-time-spinner__item",class:{active:n===e.minutes,disabled:!t},on:{click:function(t){e.handleClick("minutes",{value:n,disabled:!1})}}},[e._v(e._s(("0"+n).slice(-2)))])}),0),i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:e.showSeconds,expression:"showSeconds"}],ref:"seconds",staticClass:"el-time-spinner__wrapper",attrs:{"wrap-style":"max-height: inherit;","view-class":"el-time-spinner__list",noresize:"",tag:"ul"},nativeOn:{mouseenter:function(t){e.emitSelectRange("seconds")},mousemove:function(t){e.adjustCurrentSpinner("seconds")}}},e._l(60,function(t,n){return i("li",{key:n,staticClass:"el-time-spinner__item",class:{active:n===e.seconds},on:{click:function(t){e.handleClick("seconds",{value:n,disabled:!1})}}},[e._v(e._s(("0"+n).slice(-2)))])}),0)],e.arrowControl?[i("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(t){e.emitSelectRange("hours")}}},[i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),i("ul",{ref:"hours",staticClass:"el-time-spinner__list"},e._l(e.arrowHourList,function(t,n){return i("li",{key:n,staticClass:"el-time-spinner__item",class:{active:t===e.hours,disabled:e.hoursList[t]}},[e._v(e._s(void 0===t?"":("0"+(e.amPmMode?t%12||12:t)).slice(-2)+e.amPm(t)))])}),0)]),i("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(t){e.emitSelectRange("minutes")}}},[i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),i("ul",{ref:"minutes",staticClass:"el-time-spinner__list"},e._l(e.arrowMinuteList,function(t,n){return i("li",{key:n,staticClass:"el-time-spinner__item",class:{active:t===e.minutes}},[e._v("\n          "+e._s(void 0===t?"":("0"+t).slice(-2))+"\n        ")])}),0)]),e.showSeconds?i("div",{staticClass:"el-time-spinner__wrapper is-arrow",on:{mouseenter:function(t){e.emitSelectRange("seconds")}}},[i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.decrease,expression:"decrease"}],staticClass:"el-time-spinner__arrow el-icon-arrow-up"}),i("i",{directives:[{name:"repeat-click",rawName:"v-repeat-click",value:e.increase,expression:"increase"}],staticClass:"el-time-spinner__arrow el-icon-arrow-down"}),i("ul",{ref:"seconds",staticClass:"el-time-spinner__list"},e._l(e.arrowSecondList,function(t,n){return i("li",{key:n,staticClass:"el-time-spinner__item",class:{active:t===e.seconds}},[e._v("\n          "+e._s(void 0===t?"":("0"+t).slice(-2))+"\n        ")])}),0)]):e._e()]:e._e()],2)};In._withStripped=!0;var An=r({components:{ElScrollbar:F.a},directives:{repeatClick:qe},props:{date:{},defaultValue:{},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""}},computed:{hours:function(){return this.date.getHours()},minutes:function(){return this.date.getMinutes()},seconds:function(){return this.date.getSeconds()},hoursList:function(){return Object(pn.getRangeHours)(this.selectableRange)},minutesList:function(){return Object(pn.getRangeMinutes)(this.selectableRange,this.hours)},arrowHourList:function(){var e=this.hours;return[e>0?e-1:void 0,e,e<23?e+1:void 0]},arrowMinuteList:function(){var e=this.minutes;return[e>0?e-1:void 0,e,e<59?e+1:void 0]},arrowSecondList:function(){var e=this.seconds;return[e>0?e-1:void 0,e,e<59?e+1:void 0]}},data:function(){return{selectableRange:[],currentScrollbar:null}},mounted:function(){var e=this;this.$nextTick(function(){!e.arrowControl&&e.bindScrollEvent()})},methods:{increase:function(){this.scrollDown(1)},decrease:function(){this.scrollDown(-1)},modifyDateField:function(e,t){switch(e){case"hours":this.$emit("change",Object(pn.modifyTime)(this.date,t,this.minutes,this.seconds));break;case"minutes":this.$emit("change",Object(pn.modifyTime)(this.date,this.hours,t,this.seconds));break;case"seconds":this.$emit("change",Object(pn.modifyTime)(this.date,this.hours,this.minutes,t))}},handleClick:function(e,t){var i=t.value;t.disabled||(this.modifyDateField(e,i),this.emitSelectRange(e),this.adjustSpinner(e,i))},emitSelectRange:function(e){"hours"===e?this.$emit("select-range",0,2):"minutes"===e?this.$emit("select-range",3,5):"seconds"===e&&this.$emit("select-range",6,8),this.currentScrollbar=e},bindScrollEvent:function(){var e=this,t=function(t){e.$refs[t].wrap.onscroll=function(i){e.handleScroll(t,i)}};t("hours"),t("minutes"),t("seconds")},handleScroll:function(e){var t=Math.min(Math.round((this.$refs[e].wrap.scrollTop-(.5*this.scrollBarHeight(e)-10)/this.typeItemHeight(e)+3)/this.typeItemHeight(e)),"hours"===e?23:59);this.modifyDateField(e,t)},adjustSpinners:function(){this.adjustSpinner("hours",this.hours),this.adjustSpinner("minutes",this.minutes),this.adjustSpinner("seconds",this.seconds)},adjustCurrentSpinner:function(e){this.adjustSpinner(e,this[e])},adjustSpinner:function(e,t){if(!this.arrowControl){var i=this.$refs[e].wrap;i&&(i.scrollTop=Math.max(0,t*this.typeItemHeight(e)))}},scrollDown:function(e){var t=this;this.currentScrollbar||this.emitSelectRange("hours");var i=this.currentScrollbar,n=this.hoursList,r=this[i];if("hours"===this.currentScrollbar){var o=Math.abs(e);e=e>0?1:-1;for(var s=n.length;s--&&o;)n[r=(r+e+n.length)%n.length]||o--;if(n[r])return}else r=(r+e+60)%60;this.modifyDateField(i,r),this.adjustSpinner(i,r),this.$nextTick(function(){return t.emitSelectRange(t.currentScrollbar)})},amPm:function(e){if(!("a"===this.amPmMode.toLowerCase()))return"";var t="A"===this.amPmMode,i=e<12?" am":" pm";return t&&(i=i.toUpperCase()),i},typeItemHeight:function(e){return this.$refs[e].$el.querySelector("li").offsetHeight},scrollBarHeight:function(e){return this.$refs[e].$el.offsetHeight}}},In,[],!1,null,null,null);An.options.__file="packages/date-picker/src/basic/time-spinner.vue";var Pn=An.exports,Rn=r({mixins:[p.a],components:{TimeSpinner:Pn},props:{visible:Boolean,timeArrowControl:Boolean},watch:{visible:function(e){var t=this;e?(this.oldValue=this.value,this.$nextTick(function(){return t.$refs.spinner.emitSelectRange("hours")})):this.needInitAdjust=!0},value:function(e){var t=this,i=void 0;e instanceof Date?i=Object(pn.limitTimeRange)(e,this.selectableRange,this.format):e||(i=this.defaultValue?new Date(this.defaultValue):new Date),this.date=i,this.visible&&this.needInitAdjust&&(this.$nextTick(function(e){return t.adjustSpinners()}),this.needInitAdjust=!1)},selectableRange:function(e){this.$refs.spinner.selectableRange=e},defaultValue:function(e){Object(pn.isDate)(this.value)||(this.date=e?new Date(e):new Date)}},data:function(){return{popperClass:"",format:"HH:mm:ss",value:"",defaultValue:null,date:new Date,oldValue:new Date,selectableRange:[],selectionRange:[0,2],disabled:!1,arrowControl:!1,needInitAdjust:!0}},computed:{showSeconds:function(){return-1!==(this.format||"").indexOf("ss")},useArrow:function(){return this.arrowControl||this.timeArrowControl||!1},amPmMode:function(){return-1!==(this.format||"").indexOf("A")?"A":-1!==(this.format||"").indexOf("a")?"a":""}},methods:{handleCancel:function(){this.$emit("pick",this.oldValue,!1)},handleChange:function(e){this.visible&&(this.date=Object(pn.clearMilliseconds)(e),this.isValidValue(this.date)&&this.$emit("pick",this.date,!0))},setSelectionRange:function(e,t){this.$emit("select-range",e,t),this.selectionRange=[e,t]},handleConfirm:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(!t){var i=Object(pn.clearMilliseconds)(Object(pn.limitTimeRange)(this.date,this.selectableRange,this.format));this.$emit("pick",i,e,t)}},handleKeydown:function(e){var t=e.keyCode,i={38:-1,40:1,37:-1,39:1};if(37===t||39===t){var n=i[t];return this.changeSelectionRange(n),void e.preventDefault()}if(38===t||40===t){var r=i[t];return this.$refs.spinner.scrollDown(r),void e.preventDefault()}},isValidValue:function(e){return Object(pn.timeWithinRange)(e,this.selectableRange,this.format)},adjustSpinners:function(){return this.$refs.spinner.adjustSpinners()},changeSelectionRange:function(e){var t=[0,3].concat(this.showSeconds?[6]:[]),i=["hours","minutes"].concat(this.showSeconds?["seconds"]:[]),n=(t.indexOf(this.selectionRange[0])+e+t.length)%t.length;this.$refs.spinner.emitSelectRange(i[n])}},mounted:function(){var e=this;this.$nextTick(function(){return e.handleConfirm(!0,!0)}),this.$emit("mounted")}},Mn,[],!1,null,null,null);Rn.options.__file="packages/date-picker/src/panel/time.vue";var Fn=Rn.exports,Vn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("table",{staticClass:"el-year-table",on:{click:e.handleYearTableClick}},[i("tbody",[i("tr",[i("td",{staticClass:"available",class:e.getCellStyle(e.startYear+0)},[i("a",{staticClass:"cell"},[e._v(e._s(e.startYear))])]),i("td",{staticClass:"available",class:e.getCellStyle(e.startYear+1)},[i("a",{staticClass:"cell"},[e._v(e._s(e.startYear+1))])]),i("td",{staticClass:"available",class:e.getCellStyle(e.startYear+2)},[i("a",{staticClass:"cell"},[e._v(e._s(e.startYear+2))])]),i("td",{staticClass:"available",class:e.getCellStyle(e.startYear+3)},[i("a",{staticClass:"cell"},[e._v(e._s(e.startYear+3))])])]),i("tr",[i("td",{staticClass:"available",class:e.getCellStyle(e.startYear+4)},[i("a",{staticClass:"cell"},[e._v(e._s(e.startYear+4))])]),i("td",{staticClass:"available",class:e.getCellStyle(e.startYear+5)},[i("a",{staticClass:"cell"},[e._v(e._s(e.startYear+5))])]),i("td",{staticClass:"available",class:e.getCellStyle(e.startYear+6)},[i("a",{staticClass:"cell"},[e._v(e._s(e.startYear+6))])]),i("td",{staticClass:"available",class:e.getCellStyle(e.startYear+7)},[i("a",{staticClass:"cell"},[e._v(e._s(e.startYear+7))])])]),i("tr",[i("td",{staticClass:"available",class:e.getCellStyle(e.startYear+8)},[i("a",{staticClass:"cell"},[e._v(e._s(e.startYear+8))])]),i("td",{staticClass:"available",class:e.getCellStyle(e.startYear+9)},[i("a",{staticClass:"cell"},[e._v(e._s(e.startYear+9))])]),i("td"),i("td")])])])};Vn._withStripped=!0;var Bn=r({props:{disabledDate:{},value:{},defaultValue:{validator:function(e){return null===e||e instanceof Date&&Object(pn.isDate)(e)}},date:{}},computed:{startYear:function(){return 10*Math.floor(this.date.getFullYear()/10)}},methods:{getCellStyle:function(e){var t={},i=new Date;return t.disabled="function"==typeof this.disabledDate&&function(e){var t=Object(pn.getDayCountOfYear)(e),i=new Date(e,0,1);return Object(pn.range)(t).map(function(e){return Object(pn.nextDate)(i,e)})}(e).every(this.disabledDate),t.current=Object(m.arrayFindIndex)(Object(m.coerceTruthyValueToArray)(this.value),function(t){return t.getFullYear()===e})>=0,t.today=i.getFullYear()===e,t.default=this.defaultValue&&this.defaultValue.getFullYear()===e,t},handleYearTableClick:function(e){var t=e.target;if("A"===t.tagName){if(Object(pe.hasClass)(t.parentNode,"disabled"))return;var i=t.textContent||t.innerText;this.$emit("pick",Number(i))}}}},Vn,[],!1,null,null,null);Bn.options.__file="packages/date-picker/src/basic/year-table.vue";var Wn=Bn.exports,$n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("table",{staticClass:"el-month-table",on:{click:e.handleMonthTableClick,mousemove:e.handleMouseMove}},[i("tbody",e._l(e.rows,function(t,n){return i("tr",{key:n},e._l(t,function(t,n){return i("td",{key:n,class:e.getCellStyle(t)},[i("div",[i("a",{staticClass:"cell"},[e._v(e._s(e.t("el.datepicker.months."+e.months[t.text])))])])])}),0)}),0)])};$n._withStripped=!0;var zn=function(e){return new Date(e.getFullYear(),e.getMonth())},Hn=function(e){return"number"==typeof e||"string"==typeof e?zn(new Date(e)).getTime():e instanceof Date?zn(e).getTime():NaN},jn=r({props:{disabledDate:{},value:{},selectionMode:{default:"month"},minDate:{},maxDate:{},defaultValue:{validator:function(e){return null===e||Object(pn.isDate)(e)||Array.isArray(e)&&e.every(pn.isDate)}},date:{},rangeState:{default:function(){return{endDate:null,selecting:!1}}}},mixins:[p.a],watch:{"rangeState.endDate":function(e){this.markRange(this.minDate,e)},minDate:function(e,t){Hn(e)!==Hn(t)&&this.markRange(this.minDate,this.maxDate)},maxDate:function(e,t){Hn(e)!==Hn(t)&&this.markRange(this.minDate,this.maxDate)}},data:function(){return{months:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],tableRows:[[],[],[]],lastRow:null,lastColumn:null}},methods:{cellMatchesDate:function(e,t){var i=new Date(t);return this.date.getFullYear()===i.getFullYear()&&Number(e.text)===i.getMonth()},getCellStyle:function(e){var t=this,i={},n=this.date.getFullYear(),r=new Date,o=e.text,s=this.defaultValue?Array.isArray(this.defaultValue)?this.defaultValue:[this.defaultValue]:[];return i.disabled="function"==typeof this.disabledDate&&function(e,t){var i=Object(pn.getDayCountOfMonth)(e,t),n=new Date(e,t,1);return Object(pn.range)(i).map(function(e){return Object(pn.nextDate)(n,e)})}(n,o).every(this.disabledDate),i.current=Object(m.arrayFindIndex)(Object(m.coerceTruthyValueToArray)(this.value),function(e){return e.getFullYear()===n&&e.getMonth()===o})>=0,i.today=r.getFullYear()===n&&r.getMonth()===o,i.default=s.some(function(i){return t.cellMatchesDate(e,i)}),e.inRange&&(i["in-range"]=!0,e.start&&(i["start-date"]=!0),e.end&&(i["end-date"]=!0)),i},getMonthOfCell:function(e){var t=this.date.getFullYear();return new Date(t,e,1)},markRange:function(e,t){e=Hn(e),t=Hn(t)||e;var i=[Math.min(e,t),Math.max(e,t)];e=i[0],t=i[1];for(var n=this.rows,r=0,o=n.length;r<o;r++)for(var s=n[r],a=0,l=s.length;a<l;a++){var c=s[a],h=4*r+a,u=new Date(this.date.getFullYear(),h).getTime();c.inRange=e&&u>=e&&u<=t,c.start=e&&u===e,c.end=t&&u===t}},handleMouseMove:function(e){if(this.rangeState.selecting){var t=e.target;if("A"===t.tagName&&(t=t.parentNode.parentNode),"DIV"===t.tagName&&(t=t.parentNode),"TD"===t.tagName){var i=t.parentNode.rowIndex,n=t.cellIndex;this.rows[i][n].disabled||i===this.lastRow&&n===this.lastColumn||(this.lastRow=i,this.lastColumn=n,this.$emit("changerange",{minDate:this.minDate,maxDate:this.maxDate,rangeState:{selecting:!0,endDate:this.getMonthOfCell(4*i+n)}}))}}},handleMonthTableClick:function(e){var t=e.target;if("A"===t.tagName&&(t=t.parentNode.parentNode),"DIV"===t.tagName&&(t=t.parentNode),"TD"===t.tagName&&!Object(pe.hasClass)(t,"disabled")){var i=t.cellIndex,n=4*t.parentNode.rowIndex+i,r=this.getMonthOfCell(n);"range"===this.selectionMode?this.rangeState.selecting?(r>=this.minDate?this.$emit("pick",{minDate:this.minDate,maxDate:r}):this.$emit("pick",{minDate:r,maxDate:this.minDate}),this.rangeState.selecting=!1):(this.$emit("pick",{minDate:r,maxDate:null}),this.rangeState.selecting=!0):this.$emit("pick",n)}}},computed:{rows:function(){for(var e=this,t=this.tableRows,i=this.disabledDate,n=[],r=Hn(new Date),o=0;o<3;o++)for(var s=t[o],a=function(t){var a=s[t];a||(a={row:o,column:t,type:"normal",inRange:!1,start:!1,end:!1}),a.type="normal";var l=4*o+t,c=new Date(e.date.getFullYear(),l).getTime();a.inRange=c>=Hn(e.minDate)&&c<=Hn(e.maxDate),a.start=e.minDate&&c===Hn(e.minDate),a.end=e.maxDate&&c===Hn(e.maxDate),c===r&&(a.type="today"),a.text=l;var h=new Date(c);a.disabled="function"==typeof i&&i(h),a.selected=Object(m.arrayFind)(n,function(e){return e.getTime()===h.getTime()}),e.$set(s,t,a)},l=0;l<4;l++)a(l);return t}}},$n,[],!1,null,null,null);jn.options.__file="packages/date-picker/src/basic/month-table.vue";var Un=jn.exports,Kn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("table",{staticClass:"el-date-table",class:{"is-week-mode":"week"===e.selectionMode},attrs:{cellspacing:"0",cellpadding:"0"},on:{click:e.handleClick,mousemove:e.handleMouseMove}},[i("tbody",[i("tr",[e.showWeekNumber?i("th",[e._v(e._s(e.t("el.datepicker.week")))]):e._e(),e._l(e.WEEKS,function(t,n){return i("th",{key:n},[e._v(e._s(e.t("el.datepicker.weeks."+t)))])})],2),e._l(e.rows,function(t,n){return i("tr",{key:n,staticClass:"el-date-table__row",class:{current:e.isWeekActive(t[1])}},e._l(t,function(t,n){return i("td",{key:n,class:e.getCellClasses(t)},[i("div",[i("span",[e._v("\n          "+e._s(t.text)+"\n        ")])])])}),0)})],2)])};Kn._withStripped=!0;var qn=["sun","mon","tue","wed","thu","fri","sat"],Gn=function(e){return"number"==typeof e||"string"==typeof e?Object(pn.clearTime)(new Date(e)).getTime():e instanceof Date?Object(pn.clearTime)(e).getTime():NaN},Yn=r({mixins:[p.a],props:{firstDayOfWeek:{default:7,type:Number,validator:function(e){return e>=1&&e<=7}},value:{},defaultValue:{validator:function(e){return null===e||Object(pn.isDate)(e)||Array.isArray(e)&&e.every(pn.isDate)}},date:{},selectionMode:{default:"day"},showWeekNumber:{type:Boolean,default:!1},disabledDate:{},cellClassName:{},minDate:{},maxDate:{},rangeState:{default:function(){return{endDate:null,selecting:!1}}}},computed:{offsetDay:function(){var e=this.firstDayOfWeek;return e>3?7-e:-e},WEEKS:function(){var e=this.firstDayOfWeek;return qn.concat(qn).slice(e,e+7)},year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()},startDate:function(){return Object(pn.getStartDateOfMonth)(this.year,this.month)},rows:function(){var e=this,t=new Date(this.year,this.month,1),i=Object(pn.getFirstDayOfMonth)(t),n=Object(pn.getDayCountOfMonth)(t.getFullYear(),t.getMonth()),r=Object(pn.getDayCountOfMonth)(t.getFullYear(),0===t.getMonth()?11:t.getMonth()-1);i=0===i?7:i;for(var o=this.offsetDay,s=this.tableRows,a=1,l=this.startDate,c=this.disabledDate,h=this.cellClassName,u="dates"===this.selectionMode?Object(m.coerceTruthyValueToArray)(this.value):[],d=Gn(new Date),f=0;f<6;f++){var p=s[f];this.showWeekNumber&&(p[0]||(p[0]={type:"week",text:Object(pn.getWeekNumber)(Object(pn.nextDate)(l,7*f+1))}));for(var g=function(t){var s=p[e.showWeekNumber?t+1:t];s||(s={row:f,column:t,type:"normal",inRange:!1,start:!1,end:!1}),s.type="normal";var g=7*f+t,v=Object(pn.nextDate)(l,g-o).getTime();if(s.inRange=v>=Gn(e.minDate)&&v<=Gn(e.maxDate),s.start=e.minDate&&v===Gn(e.minDate),s.end=e.maxDate&&v===Gn(e.maxDate),v===d&&(s.type="today"),f>=0&&f<=1){var b=i+o<0?7+i+o:i+o;t+7*f>=b?s.text=a++:(s.text=r-(b-t%7)+1+7*f,s.type="prev-month")}else a<=n?s.text=a++:(s.text=a++-n,s.type="next-month");var _=new Date(v);s.disabled="function"==typeof c&&c(_),s.selected=Object(m.arrayFind)(u,function(e){return e.getTime()===_.getTime()}),s.customClass="function"==typeof h&&h(_),e.$set(p,e.showWeekNumber?t+1:t,s)},v=0;v<7;v++)g(v);if("week"===this.selectionMode){var b=this.showWeekNumber?1:0,_=this.showWeekNumber?7:6,y=this.isWeekActive(p[b+1]);p[b].inRange=y,p[b].start=y,p[_].inRange=y,p[_].end=y}}return s}},watch:{"rangeState.endDate":function(e){this.markRange(this.minDate,e)},minDate:function(e,t){Gn(e)!==Gn(t)&&this.markRange(this.minDate,this.maxDate)},maxDate:function(e,t){Gn(e)!==Gn(t)&&this.markRange(this.minDate,this.maxDate)}},data:function(){return{tableRows:[[],[],[],[],[],[]],lastRow:null,lastColumn:null}},methods:{cellMatchesDate:function(e,t){var i=new Date(t);return this.year===i.getFullYear()&&this.month===i.getMonth()&&Number(e.text)===i.getDate()},getCellClasses:function(e){var t=this,i=this.selectionMode,n=this.defaultValue?Array.isArray(this.defaultValue)?this.defaultValue:[this.defaultValue]:[],r=[];return"normal"!==e.type&&"today"!==e.type||e.disabled?r.push(e.type):(r.push("available"),"today"===e.type&&r.push("today")),"normal"===e.type&&n.some(function(i){return t.cellMatchesDate(e,i)})&&r.push("default"),"day"!==i||"normal"!==e.type&&"today"!==e.type||!this.cellMatchesDate(e,this.value)||r.push("current"),!e.inRange||"normal"!==e.type&&"today"!==e.type&&"week"!==this.selectionMode||(r.push("in-range"),e.start&&r.push("start-date"),e.end&&r.push("end-date")),e.disabled&&r.push("disabled"),e.selected&&r.push("selected"),e.customClass&&r.push(e.customClass),r.join(" ")},getDateOfCell:function(e,t){var i=7*e+(t-(this.showWeekNumber?1:0))-this.offsetDay;return Object(pn.nextDate)(this.startDate,i)},isWeekActive:function(e){if("week"!==this.selectionMode)return!1;var t=new Date(this.year,this.month,1),i=t.getFullYear(),n=t.getMonth();if("prev-month"===e.type&&(t.setMonth(0===n?11:n-1),t.setFullYear(0===n?i-1:i)),"next-month"===e.type&&(t.setMonth(11===n?0:n+1),t.setFullYear(11===n?i+1:i)),t.setDate(parseInt(e.text,10)),Object(pn.isDate)(this.value)){var r=(this.value.getDay()-this.firstDayOfWeek+7)%7-1;return Object(pn.prevDate)(this.value,r).getTime()===t.getTime()}return!1},markRange:function(e,t){e=Gn(e),t=Gn(t)||e;var i=[Math.min(e,t),Math.max(e,t)];e=i[0],t=i[1];for(var n=this.startDate,r=this.rows,o=0,s=r.length;o<s;o++)for(var a=r[o],l=0,c=a.length;l<c;l++)if(!this.showWeekNumber||0!==l){var h=a[l],u=7*o+l+(this.showWeekNumber?-1:0),d=Object(pn.nextDate)(n,u-this.offsetDay).getTime();h.inRange=e&&d>=e&&d<=t,h.start=e&&d===e,h.end=t&&d===t}},handleMouseMove:function(e){if(this.rangeState.selecting){var t=e.target;if("SPAN"===t.tagName&&(t=t.parentNode.parentNode),"DIV"===t.tagName&&(t=t.parentNode),"TD"===t.tagName){var i=t.parentNode.rowIndex-1,n=t.cellIndex;this.rows[i][n].disabled||i===this.lastRow&&n===this.lastColumn||(this.lastRow=i,this.lastColumn=n,this.$emit("changerange",{minDate:this.minDate,maxDate:this.maxDate,rangeState:{selecting:!0,endDate:this.getDateOfCell(i,n)}}))}}},handleClick:function(e){var t=e.target;if("SPAN"===t.tagName&&(t=t.parentNode.parentNode),"DIV"===t.tagName&&(t=t.parentNode),"TD"===t.tagName){var i=t.parentNode.rowIndex-1,n="week"===this.selectionMode?1:t.cellIndex,r=this.rows[i][n];if(!r.disabled&&"week"!==r.type){var o,s,a,l=this.getDateOfCell(i,n);if("range"===this.selectionMode)this.rangeState.selecting?(l>=this.minDate?this.$emit("pick",{minDate:this.minDate,maxDate:l}):this.$emit("pick",{minDate:l,maxDate:this.minDate}),this.rangeState.selecting=!1):(this.$emit("pick",{minDate:l,maxDate:null}),this.rangeState.selecting=!0);else if("day"===this.selectionMode)this.$emit("pick",l);else if("week"===this.selectionMode){var c=Object(pn.getWeekNumber)(l),h=l.getFullYear()+"w"+c;this.$emit("pick",{year:l.getFullYear(),week:c,value:h,date:l})}else if("dates"===this.selectionMode){var u=this.value||[],d=r.selected?(o=u,(a="function"==typeof(s=function(e){return e.getTime()===l.getTime()})?Object(m.arrayFindIndex)(o,s):o.indexOf(s))>=0?[].concat(o.slice(0,a),o.slice(a+1)):o):[].concat(u,[l]);this.$emit("pick",d)}}}}}},Kn,[],!1,null,null,null);Yn.options.__file="packages/date-picker/src/basic/date-table.vue";var Xn=Yn.exports,Zn=r({mixins:[p.a],directives:{Clickoutside:M.a},watch:{showTime:function(e){var t=this;e&&this.$nextTick(function(e){var i=t.$refs.input.$el;i&&(t.pickerWidth=i.getBoundingClientRect().width+10)})},value:function(e){"dates"===this.selectionMode&&this.value||(Object(pn.isDate)(e)?this.date=new Date(e):this.date=this.getDefaultValue())},defaultValue:function(e){Object(pn.isDate)(this.value)||(this.date=e?new Date(e):new Date)},timePickerVisible:function(e){var t=this;e&&this.$nextTick(function(){return t.$refs.timepicker.adjustSpinners()})},selectionMode:function(e){"month"===e?"year"===this.currentView&&"month"===this.currentView||(this.currentView="month"):"dates"===e&&(this.currentView="date")}},methods:{proxyTimePickerDataProperties:function(){var e,t=this,i=function(e){t.$refs.timepicker.value=e},n=function(e){t.$refs.timepicker.date=e},r=function(e){t.$refs.timepicker.selectableRange=e};this.$watch("value",i),this.$watch("date",n),this.$watch("selectableRange",r),e=this.timeFormat,t.$refs.timepicker.format=e,i(this.value),n(this.date),r(this.selectableRange)},handleClear:function(){this.date=this.getDefaultValue(),this.$emit("pick",null)},emit:function(e){for(var t=this,i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];if(e)if(Array.isArray(e)){var o=e.map(function(e){return t.showTime?Object(pn.clearMilliseconds)(e):Object(pn.clearTime)(e)});this.$emit.apply(this,["pick",o].concat(n))}else this.$emit.apply(this,["pick",this.showTime?Object(pn.clearMilliseconds)(e):Object(pn.clearTime)(e)].concat(n));else this.$emit.apply(this,["pick",e].concat(n));this.userInputDate=null,this.userInputTime=null},showMonthPicker:function(){this.currentView="month"},showYearPicker:function(){this.currentView="year"},prevMonth:function(){this.date=Object(pn.prevMonth)(this.date)},nextMonth:function(){this.date=Object(pn.nextMonth)(this.date)},prevYear:function(){"year"===this.currentView?this.date=Object(pn.prevYear)(this.date,10):this.date=Object(pn.prevYear)(this.date)},nextYear:function(){"year"===this.currentView?this.date=Object(pn.nextYear)(this.date,10):this.date=Object(pn.nextYear)(this.date)},handleShortcutClick:function(e){e.onClick&&e.onClick(this)},handleTimePick:function(e,t,i){if(Object(pn.isDate)(e)){var n=this.value?Object(pn.modifyTime)(this.value,e.getHours(),e.getMinutes(),e.getSeconds()):Object(pn.modifyWithTimeString)(this.getDefaultValue(),this.defaultTime);this.date=n,this.emit(this.date,!0)}else this.emit(e,!0);i||(this.timePickerVisible=t)},handleTimePickClose:function(){this.timePickerVisible=!1},handleMonthPick:function(e){"month"===this.selectionMode?(this.date=Object(pn.modifyDate)(this.date,this.year,e,1),this.emit(this.date)):(this.date=Object(pn.changeYearMonthAndClampDate)(this.date,this.year,e),this.currentView="date")},handleDatePick:function(e){if("day"===this.selectionMode){var t=this.value?Object(pn.modifyDate)(this.value,e.getFullYear(),e.getMonth(),e.getDate()):Object(pn.modifyWithTimeString)(e,this.defaultTime);this.checkDateWithinRange(t)||(t=Object(pn.modifyDate)(this.selectableRange[0][0],e.getFullYear(),e.getMonth(),e.getDate())),this.date=t,this.emit(this.date,this.showTime)}else"week"===this.selectionMode?this.emit(e.date):"dates"===this.selectionMode&&this.emit(e,!0)},handleYearPick:function(e){"year"===this.selectionMode?(this.date=Object(pn.modifyDate)(this.date,e,0,1),this.emit(this.date)):(this.date=Object(pn.changeYearMonthAndClampDate)(this.date,e,this.month),this.currentView="month")},changeToNow:function(){this.disabledDate&&this.disabledDate(new Date)||!this.checkDateWithinRange(new Date)||(this.date=new Date,this.emit(this.date))},confirm:function(){if("dates"===this.selectionMode)this.emit(this.value);else{var e=this.value?this.value:Object(pn.modifyWithTimeString)(this.getDefaultValue(),this.defaultTime);this.date=new Date(e),this.emit(e)}},resetView:function(){"month"===this.selectionMode?this.currentView="month":"year"===this.selectionMode?this.currentView="year":this.currentView="date"},handleEnter:function(){document.body.addEventListener("keydown",this.handleKeydown)},handleLeave:function(){this.$emit("dodestroy"),document.body.removeEventListener("keydown",this.handleKeydown)},handleKeydown:function(e){var t=e.keyCode;this.visible&&!this.timePickerVisible&&(-1!==[38,40,37,39].indexOf(t)&&(this.handleKeyControl(t),e.stopPropagation(),e.preventDefault()),13===t&&null===this.userInputDate&&null===this.userInputTime&&this.emit(this.date,!1))},handleKeyControl:function(e){for(var t={year:{38:-4,40:4,37:-1,39:1,offset:function(e,t){return e.setFullYear(e.getFullYear()+t)}},month:{38:-4,40:4,37:-1,39:1,offset:function(e,t){return e.setMonth(e.getMonth()+t)}},week:{38:-1,40:1,37:-1,39:1,offset:function(e,t){return e.setDate(e.getDate()+7*t)}},day:{38:-7,40:7,37:-1,39:1,offset:function(e,t){return e.setDate(e.getDate()+t)}}},i=this.selectionMode,n=this.date.getTime(),r=new Date(this.date.getTime());Math.abs(n-r.getTime())<=31536e6;){var o=t[i];if(o.offset(r,o[e]),"function"!=typeof this.disabledDate||!this.disabledDate(r)){this.date=r,this.$emit("pick",r,!0);break}}},handleVisibleTimeChange:function(e){var t=Object(pn.parseDate)(e,this.timeFormat);t&&this.checkDateWithinRange(t)&&(this.date=Object(pn.modifyDate)(t,this.year,this.month,this.monthDate),this.userInputTime=null,this.$refs.timepicker.value=this.date,this.timePickerVisible=!1,this.emit(this.date,!0))},handleVisibleDateChange:function(e){var t=Object(pn.parseDate)(e,this.dateFormat);if(t){if("function"==typeof this.disabledDate&&this.disabledDate(t))return;this.date=Object(pn.modifyTime)(t,this.date.getHours(),this.date.getMinutes(),this.date.getSeconds()),this.userInputDate=null,this.resetView(),this.emit(this.date,!0)}},isValidValue:function(e){return e&&!isNaN(e)&&("function"!=typeof this.disabledDate||!this.disabledDate(e))&&this.checkDateWithinRange(e)},getDefaultValue:function(){return this.defaultValue?new Date(this.defaultValue):new Date},checkDateWithinRange:function(e){return!(this.selectableRange.length>0)||Object(pn.timeWithinRange)(e,this.selectableRange,this.format||"HH:mm:ss")}},components:{TimePicker:Fn,YearTable:Wn,MonthTable:Un,DateTable:Xn,ElInput:d.a,ElButton:K.a},data:function(){return{popperClass:"",date:new Date,value:"",defaultValue:null,defaultTime:null,showTime:!1,selectionMode:"day",shortcuts:"",visible:!1,currentView:"date",disabledDate:"",cellClassName:"",selectableRange:[],firstDayOfWeek:7,showWeekNumber:!1,timePickerVisible:!1,format:"",arrowControl:!1,userInputDate:null,userInputTime:null}},computed:{year:function(){return this.date.getFullYear()},month:function(){return this.date.getMonth()},week:function(){return Object(pn.getWeekNumber)(this.date)},monthDate:function(){return this.date.getDate()},footerVisible:function(){return this.showTime||"dates"===this.selectionMode},visibleTime:function(){return null!==this.userInputTime?this.userInputTime:Object(pn.formatDate)(this.value||this.defaultValue,this.timeFormat)},visibleDate:function(){return null!==this.userInputDate?this.userInputDate:Object(pn.formatDate)(this.value||this.defaultValue,this.dateFormat)},yearLabel:function(){var e=this.t("el.datepicker.year");if("year"===this.currentView){var t=10*Math.floor(this.year/10);return e?t+" "+e+" - "+(t+9)+" "+e:t+" - "+(t+9)}return this.year+" "+e},timeFormat:function(){return this.format?Object(pn.extractTimeFormat)(this.format):"HH:mm:ss"},dateFormat:function(){return this.format?Object(pn.extractDateFormat)(this.format):"yyyy-MM-dd"}}},On,[],!1,null,null,null);Zn.options.__file="packages/date-picker/src/panel/date.vue";var Qn=Zn.exports,Jn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(t){e.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-range-picker el-popper",class:[{"has-sidebar":e.$slots.sidebar||e.shortcuts,"has-time":e.showTime},e.popperClass]},[i("div",{staticClass:"el-picker-panel__body-wrapper"},[e._t("sidebar"),e.shortcuts?i("div",{staticClass:"el-picker-panel__sidebar"},e._l(e.shortcuts,function(t,n){return i("button",{key:n,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(i){e.handleShortcutClick(t)}}},[e._v(e._s(t.text))])}),0):e._e(),i("div",{staticClass:"el-picker-panel__body"},[e.showTime?i("div",{staticClass:"el-date-range-picker__time-header"},[i("span",{staticClass:"el-date-range-picker__editors-wrap"},[i("span",{staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{ref:"minInput",staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.startDate"),value:e.minVisibleDate},on:{input:function(t){return e.handleDateInput(t,"min")},change:function(t){return e.handleDateChange(t,"min")}}})],1),i("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleMinTimeClose,expression:"handleMinTimeClose"}],staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.startTime"),value:e.minVisibleTime},on:{focus:function(t){e.minTimePickerVisible=!0},input:function(t){return e.handleTimeInput(t,"min")},change:function(t){return e.handleTimeChange(t,"min")}}}),i("time-picker",{ref:"minTimePicker",attrs:{"time-arrow-control":e.arrowControl,visible:e.minTimePickerVisible},on:{pick:e.handleMinTimePick,mounted:function(t){e.$refs.minTimePicker.format=e.timeFormat}}})],1)]),i("span",{staticClass:"el-icon-arrow-right"}),i("span",{staticClass:"el-date-range-picker__editors-wrap is-right"},[i("span",{staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.endDate"),value:e.maxVisibleDate,readonly:!e.minDate},on:{input:function(t){return e.handleDateInput(t,"max")},change:function(t){return e.handleDateChange(t,"max")}}})],1),i("span",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleMaxTimeClose,expression:"handleMaxTimeClose"}],staticClass:"el-date-range-picker__time-picker-wrap"},[i("el-input",{staticClass:"el-date-range-picker__editor",attrs:{size:"small",disabled:e.rangeState.selecting,placeholder:e.t("el.datepicker.endTime"),value:e.maxVisibleTime,readonly:!e.minDate},on:{focus:function(t){e.minDate&&(e.maxTimePickerVisible=!0)},input:function(t){return e.handleTimeInput(t,"max")},change:function(t){return e.handleTimeChange(t,"max")}}}),i("time-picker",{ref:"maxTimePicker",attrs:{"time-arrow-control":e.arrowControl,visible:e.maxTimePickerVisible},on:{pick:e.handleMaxTimePick,mounted:function(t){e.$refs.maxTimePicker.format=e.timeFormat}}})],1)])]):e._e(),i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-left"},[i("div",{staticClass:"el-date-range-picker__header"},[i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",attrs:{type:"button"},on:{click:e.leftPrevYear}}),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-left",attrs:{type:"button"},on:{click:e.leftPrevMonth}}),e.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",class:{"is-disabled":!e.enableYearArrow},attrs:{type:"button",disabled:!e.enableYearArrow},on:{click:e.leftNextYear}}):e._e(),e.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-right",class:{"is-disabled":!e.enableMonthArrow},attrs:{type:"button",disabled:!e.enableMonthArrow},on:{click:e.leftNextMonth}}):e._e(),i("div",[e._v(e._s(e.leftLabel))])]),i("date-table",{attrs:{"selection-mode":"range",date:e.leftDate,"default-value":e.defaultValue,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,"cell-class-name":e.cellClassName,"first-day-of-week":e.firstDayOfWeek},on:{changerange:e.handleChangeRange,pick:e.handleRangePick}})],1),i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-right"},[i("div",{staticClass:"el-date-range-picker__header"},[e.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",class:{"is-disabled":!e.enableYearArrow},attrs:{type:"button",disabled:!e.enableYearArrow},on:{click:e.rightPrevYear}}):e._e(),e.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-left",class:{"is-disabled":!e.enableMonthArrow},attrs:{type:"button",disabled:!e.enableMonthArrow},on:{click:e.rightPrevMonth}}):e._e(),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",attrs:{type:"button"},on:{click:e.rightNextYear}}),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-arrow-right",attrs:{type:"button"},on:{click:e.rightNextMonth}}),i("div",[e._v(e._s(e.rightLabel))])]),i("date-table",{attrs:{"selection-mode":"range",date:e.rightDate,"default-value":e.defaultValue,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate,"cell-class-name":e.cellClassName,"first-day-of-week":e.firstDayOfWeek},on:{changerange:e.handleChangeRange,pick:e.handleRangePick}})],1)])],2),e.showTime?i("div",{staticClass:"el-picker-panel__footer"},[i("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{size:"mini",type:"text"},on:{click:e.handleClear}},[e._v("\n        "+e._s(e.t("el.datepicker.clear"))+"\n      ")]),i("el-button",{staticClass:"el-picker-panel__link-btn",attrs:{plain:"",size:"mini",disabled:e.btnDisabled},on:{click:function(t){e.handleConfirm(!1)}}},[e._v("\n        "+e._s(e.t("el.datepicker.confirm"))+"\n      ")])],1):e._e()])])};Jn._withStripped=!0;var er=function(e){return Array.isArray(e)?[new Date(e[0]),new Date(e[1])]:e?[new Date(e),Object(pn.nextDate)(new Date(e),1)]:[new Date,Object(pn.nextDate)(new Date,1)]},tr=r({mixins:[p.a],directives:{Clickoutside:M.a},computed:{btnDisabled:function(){return!(this.minDate&&this.maxDate&&!this.selecting&&this.isValidValue([this.minDate,this.maxDate]))},leftLabel:function(){return this.leftDate.getFullYear()+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+(this.leftDate.getMonth()+1))},rightLabel:function(){return this.rightDate.getFullYear()+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+(this.rightDate.getMonth()+1))},leftYear:function(){return this.leftDate.getFullYear()},leftMonth:function(){return this.leftDate.getMonth()},leftMonthDate:function(){return this.leftDate.getDate()},rightYear:function(){return this.rightDate.getFullYear()},rightMonth:function(){return this.rightDate.getMonth()},rightMonthDate:function(){return this.rightDate.getDate()},minVisibleDate:function(){return null!==this.dateUserInput.min?this.dateUserInput.min:this.minDate?Object(pn.formatDate)(this.minDate,this.dateFormat):""},maxVisibleDate:function(){return null!==this.dateUserInput.max?this.dateUserInput.max:this.maxDate||this.minDate?Object(pn.formatDate)(this.maxDate||this.minDate,this.dateFormat):""},minVisibleTime:function(){return null!==this.timeUserInput.min?this.timeUserInput.min:this.minDate?Object(pn.formatDate)(this.minDate,this.timeFormat):""},maxVisibleTime:function(){return null!==this.timeUserInput.max?this.timeUserInput.max:this.maxDate||this.minDate?Object(pn.formatDate)(this.maxDate||this.minDate,this.timeFormat):""},timeFormat:function(){return this.format?Object(pn.extractTimeFormat)(this.format):"HH:mm:ss"},dateFormat:function(){return this.format?Object(pn.extractDateFormat)(this.format):"yyyy-MM-dd"},enableMonthArrow:function(){var e=(this.leftMonth+1)%12,t=this.leftMonth+1>=12?1:0;return this.unlinkPanels&&new Date(this.leftYear+t,e)<new Date(this.rightYear,this.rightMonth)},enableYearArrow:function(){return this.unlinkPanels&&12*this.rightYear+this.rightMonth-(12*this.leftYear+this.leftMonth+1)>=12}},data:function(){return{popperClass:"",value:[],defaultValue:null,defaultTime:null,minDate:"",maxDate:"",leftDate:new Date,rightDate:Object(pn.nextMonth)(new Date),rangeState:{endDate:null,selecting:!1,row:null,column:null},showTime:!1,shortcuts:"",visible:"",disabledDate:"",cellClassName:"",firstDayOfWeek:7,minTimePickerVisible:!1,maxTimePickerVisible:!1,format:"",arrowControl:!1,unlinkPanels:!1,dateUserInput:{min:null,max:null},timeUserInput:{min:null,max:null}}},watch:{minDate:function(e){var t=this;this.dateUserInput.min=null,this.timeUserInput.min=null,this.$nextTick(function(){if(t.$refs.maxTimePicker&&t.maxDate&&t.maxDate<t.minDate){t.$refs.maxTimePicker.selectableRange=[[Object(pn.parseDate)(Object(pn.formatDate)(t.minDate,"HH:mm:ss"),"HH:mm:ss"),Object(pn.parseDate)("23:59:59","HH:mm:ss")]]}}),e&&this.$refs.minTimePicker&&(this.$refs.minTimePicker.date=e,this.$refs.minTimePicker.value=e)},maxDate:function(e){this.dateUserInput.max=null,this.timeUserInput.max=null,e&&this.$refs.maxTimePicker&&(this.$refs.maxTimePicker.date=e,this.$refs.maxTimePicker.value=e)},minTimePickerVisible:function(e){var t=this;e&&this.$nextTick(function(){t.$refs.minTimePicker.date=t.minDate,t.$refs.minTimePicker.value=t.minDate,t.$refs.minTimePicker.adjustSpinners()})},maxTimePickerVisible:function(e){var t=this;e&&this.$nextTick(function(){t.$refs.maxTimePicker.date=t.maxDate,t.$refs.maxTimePicker.value=t.maxDate,t.$refs.maxTimePicker.adjustSpinners()})},value:function(e){if(e){if(Array.isArray(e))if(this.minDate=Object(pn.isDate)(e[0])?new Date(e[0]):null,this.maxDate=Object(pn.isDate)(e[1])?new Date(e[1]):null,this.minDate)if(this.leftDate=this.minDate,this.unlinkPanels&&this.maxDate){var t=this.minDate.getFullYear(),i=this.minDate.getMonth(),n=this.maxDate.getFullYear(),r=this.maxDate.getMonth();this.rightDate=t===n&&i===r?Object(pn.nextMonth)(this.maxDate):this.maxDate}else this.rightDate=Object(pn.nextMonth)(this.leftDate);else this.leftDate=er(this.defaultValue)[0],this.rightDate=Object(pn.nextMonth)(this.leftDate)}else this.minDate=null,this.maxDate=null},defaultValue:function(e){if(!Array.isArray(this.value)){var t=er(e),i=t[0],n=t[1];this.leftDate=i,this.rightDate=e&&e[1]&&this.unlinkPanels?n:Object(pn.nextMonth)(this.leftDate)}}},methods:{handleClear:function(){this.minDate=null,this.maxDate=null,this.leftDate=er(this.defaultValue)[0],this.rightDate=Object(pn.nextMonth)(this.leftDate),this.$emit("pick",null)},handleChangeRange:function(e){this.minDate=e.minDate,this.maxDate=e.maxDate,this.rangeState=e.rangeState},handleDateInput:function(e,t){if(this.dateUserInput[t]=e,e.length===this.dateFormat.length){var i=Object(pn.parseDate)(e,this.dateFormat);if(i){if("function"==typeof this.disabledDate&&this.disabledDate(new Date(i)))return;"min"===t?(this.minDate=Object(pn.modifyDate)(this.minDate||new Date,i.getFullYear(),i.getMonth(),i.getDate()),this.leftDate=new Date(i),this.unlinkPanels||(this.rightDate=Object(pn.nextMonth)(this.leftDate))):(this.maxDate=Object(pn.modifyDate)(this.maxDate||new Date,i.getFullYear(),i.getMonth(),i.getDate()),this.rightDate=new Date(i),this.unlinkPanels||(this.leftDate=Object(pn.prevMonth)(i)))}}},handleDateChange:function(e,t){var i=Object(pn.parseDate)(e,this.dateFormat);i&&("min"===t?(this.minDate=Object(pn.modifyDate)(this.minDate,i.getFullYear(),i.getMonth(),i.getDate()),this.minDate>this.maxDate&&(this.maxDate=this.minDate)):(this.maxDate=Object(pn.modifyDate)(this.maxDate,i.getFullYear(),i.getMonth(),i.getDate()),this.maxDate<this.minDate&&(this.minDate=this.maxDate)))},handleTimeInput:function(e,t){var i=this;if(this.timeUserInput[t]=e,e.length===this.timeFormat.length){var n=Object(pn.parseDate)(e,this.timeFormat);n&&("min"===t?(this.minDate=Object(pn.modifyTime)(this.minDate,n.getHours(),n.getMinutes(),n.getSeconds()),this.$nextTick(function(e){return i.$refs.minTimePicker.adjustSpinners()})):(this.maxDate=Object(pn.modifyTime)(this.maxDate,n.getHours(),n.getMinutes(),n.getSeconds()),this.$nextTick(function(e){return i.$refs.maxTimePicker.adjustSpinners()})))}},handleTimeChange:function(e,t){var i=Object(pn.parseDate)(e,this.timeFormat);i&&("min"===t?(this.minDate=Object(pn.modifyTime)(this.minDate,i.getHours(),i.getMinutes(),i.getSeconds()),this.minDate>this.maxDate&&(this.maxDate=this.minDate),this.$refs.minTimePicker.value=this.minDate,this.minTimePickerVisible=!1):(this.maxDate=Object(pn.modifyTime)(this.maxDate,i.getHours(),i.getMinutes(),i.getSeconds()),this.maxDate<this.minDate&&(this.minDate=this.maxDate),this.$refs.maxTimePicker.value=this.minDate,this.maxTimePickerVisible=!1))},handleRangePick:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.defaultTime||[],r=Object(pn.modifyWithTimeString)(e.minDate,n[0]),o=Object(pn.modifyWithTimeString)(e.maxDate,n[1]);this.maxDate===o&&this.minDate===r||(this.onPick&&this.onPick(e),this.maxDate=o,this.minDate=r,setTimeout(function(){t.maxDate=o,t.minDate=r},10),i&&!this.showTime&&this.handleConfirm())},handleShortcutClick:function(e){e.onClick&&e.onClick(this)},handleMinTimePick:function(e,t,i){this.minDate=this.minDate||new Date,e&&(this.minDate=Object(pn.modifyTime)(this.minDate,e.getHours(),e.getMinutes(),e.getSeconds())),i||(this.minTimePickerVisible=t),(!this.maxDate||this.maxDate&&this.maxDate.getTime()<this.minDate.getTime())&&(this.maxDate=new Date(this.minDate))},handleMinTimeClose:function(){this.minTimePickerVisible=!1},handleMaxTimePick:function(e,t,i){this.maxDate&&e&&(this.maxDate=Object(pn.modifyTime)(this.maxDate,e.getHours(),e.getMinutes(),e.getSeconds())),i||(this.maxTimePickerVisible=t),this.maxDate&&this.minDate&&this.minDate.getTime()>this.maxDate.getTime()&&(this.minDate=new Date(this.maxDate))},handleMaxTimeClose:function(){this.maxTimePickerVisible=!1},leftPrevYear:function(){this.leftDate=Object(pn.prevYear)(this.leftDate),this.unlinkPanels||(this.rightDate=Object(pn.nextMonth)(this.leftDate))},leftPrevMonth:function(){this.leftDate=Object(pn.prevMonth)(this.leftDate),this.unlinkPanels||(this.rightDate=Object(pn.nextMonth)(this.leftDate))},rightNextYear:function(){this.unlinkPanels?this.rightDate=Object(pn.nextYear)(this.rightDate):(this.leftDate=Object(pn.nextYear)(this.leftDate),this.rightDate=Object(pn.nextMonth)(this.leftDate))},rightNextMonth:function(){this.unlinkPanels?this.rightDate=Object(pn.nextMonth)(this.rightDate):(this.leftDate=Object(pn.nextMonth)(this.leftDate),this.rightDate=Object(pn.nextMonth)(this.leftDate))},leftNextYear:function(){this.leftDate=Object(pn.nextYear)(this.leftDate)},leftNextMonth:function(){this.leftDate=Object(pn.nextMonth)(this.leftDate)},rightPrevYear:function(){this.rightDate=Object(pn.prevYear)(this.rightDate)},rightPrevMonth:function(){this.rightDate=Object(pn.prevMonth)(this.rightDate)},handleConfirm:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isValidValue([this.minDate,this.maxDate])&&this.$emit("pick",[this.minDate,this.maxDate],e)},isValidValue:function(e){return Array.isArray(e)&&e&&e[0]&&e[1]&&Object(pn.isDate)(e[0])&&Object(pn.isDate)(e[1])&&e[0].getTime()<=e[1].getTime()&&("function"!=typeof this.disabledDate||!this.disabledDate(e[0])&&!this.disabledDate(e[1]))},resetView:function(){this.minDate&&null==this.maxDate&&(this.rangeState.selecting=!1),this.minDate=this.value&&Object(pn.isDate)(this.value[0])?new Date(this.value[0]):null,this.maxDate=this.value&&Object(pn.isDate)(this.value[0])?new Date(this.value[1]):null}},components:{TimePicker:Fn,DateTable:Xn,ElInput:d.a,ElButton:K.a}},Jn,[],!1,null,null,null);tr.options.__file="packages/date-picker/src/panel/date-range.vue";var ir=tr.exports,nr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(t){e.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-picker-panel el-date-range-picker el-popper",class:[{"has-sidebar":e.$slots.sidebar||e.shortcuts},e.popperClass]},[i("div",{staticClass:"el-picker-panel__body-wrapper"},[e._t("sidebar"),e.shortcuts?i("div",{staticClass:"el-picker-panel__sidebar"},e._l(e.shortcuts,function(t,n){return i("button",{key:n,staticClass:"el-picker-panel__shortcut",attrs:{type:"button"},on:{click:function(i){e.handleShortcutClick(t)}}},[e._v(e._s(t.text))])}),0):e._e(),i("div",{staticClass:"el-picker-panel__body"},[i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-left"},[i("div",{staticClass:"el-date-range-picker__header"},[i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",attrs:{type:"button"},on:{click:e.leftPrevYear}}),e.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",class:{"is-disabled":!e.enableYearArrow},attrs:{type:"button",disabled:!e.enableYearArrow},on:{click:e.leftNextYear}}):e._e(),i("div",[e._v(e._s(e.leftLabel))])]),i("month-table",{attrs:{"selection-mode":"range",date:e.leftDate,"default-value":e.defaultValue,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate},on:{changerange:e.handleChangeRange,pick:e.handleRangePick}})],1),i("div",{staticClass:"el-picker-panel__content el-date-range-picker__content is-right"},[i("div",{staticClass:"el-date-range-picker__header"},[e.unlinkPanels?i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-left",class:{"is-disabled":!e.enableYearArrow},attrs:{type:"button",disabled:!e.enableYearArrow},on:{click:e.rightPrevYear}}):e._e(),i("button",{staticClass:"el-picker-panel__icon-btn el-icon-d-arrow-right",attrs:{type:"button"},on:{click:e.rightNextYear}}),i("div",[e._v(e._s(e.rightLabel))])]),i("month-table",{attrs:{"selection-mode":"range",date:e.rightDate,"default-value":e.defaultValue,"min-date":e.minDate,"max-date":e.maxDate,"range-state":e.rangeState,"disabled-date":e.disabledDate},on:{changerange:e.handleChangeRange,pick:e.handleRangePick}})],1)])],2)])])};nr._withStripped=!0;var rr=function(e){return Array.isArray(e)?[new Date(e[0]),new Date(e[1])]:e?[new Date(e),Object(pn.nextMonth)(new Date(e))]:[new Date,Object(pn.nextMonth)(new Date)]},or=r({mixins:[p.a],directives:{Clickoutside:M.a},computed:{btnDisabled:function(){return!(this.minDate&&this.maxDate&&!this.selecting&&this.isValidValue([this.minDate,this.maxDate]))},leftLabel:function(){return this.leftDate.getFullYear()+" "+this.t("el.datepicker.year")},rightLabel:function(){return this.rightDate.getFullYear()+" "+this.t("el.datepicker.year")},leftYear:function(){return this.leftDate.getFullYear()},rightYear:function(){return this.rightDate.getFullYear()===this.leftDate.getFullYear()?this.leftDate.getFullYear()+1:this.rightDate.getFullYear()},enableYearArrow:function(){return this.unlinkPanels&&this.rightYear>this.leftYear+1}},data:function(){return{popperClass:"",value:[],defaultValue:null,defaultTime:null,minDate:"",maxDate:"",leftDate:new Date,rightDate:Object(pn.nextYear)(new Date),rangeState:{endDate:null,selecting:!1,row:null,column:null},shortcuts:"",visible:"",disabledDate:"",format:"",arrowControl:!1,unlinkPanels:!1}},watch:{value:function(e){if(e){if(Array.isArray(e))if(this.minDate=Object(pn.isDate)(e[0])?new Date(e[0]):null,this.maxDate=Object(pn.isDate)(e[1])?new Date(e[1]):null,this.minDate)if(this.leftDate=this.minDate,this.unlinkPanels&&this.maxDate){var t=this.minDate.getFullYear(),i=this.maxDate.getFullYear();this.rightDate=t===i?Object(pn.nextYear)(this.maxDate):this.maxDate}else this.rightDate=Object(pn.nextYear)(this.leftDate);else this.leftDate=rr(this.defaultValue)[0],this.rightDate=Object(pn.nextYear)(this.leftDate)}else this.minDate=null,this.maxDate=null},defaultValue:function(e){if(!Array.isArray(this.value)){var t=rr(e),i=t[0],n=t[1];this.leftDate=i,this.rightDate=e&&e[1]&&i.getFullYear()!==n.getFullYear()&&this.unlinkPanels?n:Object(pn.nextYear)(this.leftDate)}}},methods:{handleClear:function(){this.minDate=null,this.maxDate=null,this.leftDate=rr(this.defaultValue)[0],this.rightDate=Object(pn.nextYear)(this.leftDate),this.$emit("pick",null)},handleChangeRange:function(e){this.minDate=e.minDate,this.maxDate=e.maxDate,this.rangeState=e.rangeState},handleRangePick:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.defaultTime||[],r=Object(pn.modifyWithTimeString)(e.minDate,n[0]),o=Object(pn.modifyWithTimeString)(e.maxDate,n[1]);this.maxDate===o&&this.minDate===r||(this.onPick&&this.onPick(e),this.maxDate=o,this.minDate=r,setTimeout(function(){t.maxDate=o,t.minDate=r},10),i&&this.handleConfirm())},handleShortcutClick:function(e){e.onClick&&e.onClick(this)},leftPrevYear:function(){this.leftDate=Object(pn.prevYear)(this.leftDate),this.unlinkPanels||(this.rightDate=Object(pn.prevYear)(this.rightDate))},rightNextYear:function(){this.unlinkPanels||(this.leftDate=Object(pn.nextYear)(this.leftDate)),this.rightDate=Object(pn.nextYear)(this.rightDate)},leftNextYear:function(){this.leftDate=Object(pn.nextYear)(this.leftDate)},rightPrevYear:function(){this.rightDate=Object(pn.prevYear)(this.rightDate)},handleConfirm:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isValidValue([this.minDate,this.maxDate])&&this.$emit("pick",[this.minDate,this.maxDate],e)},isValidValue:function(e){return Array.isArray(e)&&e&&e[0]&&e[1]&&Object(pn.isDate)(e[0])&&Object(pn.isDate)(e[1])&&e[0].getTime()<=e[1].getTime()&&("function"!=typeof this.disabledDate||!this.disabledDate(e[0])&&!this.disabledDate(e[1]))},resetView:function(){this.minDate=this.value&&Object(pn.isDate)(this.value[0])?new Date(this.value[0]):null,this.maxDate=this.value&&Object(pn.isDate)(this.value[0])?new Date(this.value[1]):null}},components:{MonthTable:Un,ElInput:d.a,ElButton:K.a}},nr,[],!1,null,null,null);or.options.__file="packages/date-picker/src/panel/month-range.vue";var sr=or.exports,ar=function(e){return"daterange"===e||"datetimerange"===e?ir:"monthrange"===e?sr:Qn},lr={mixins:[Tn],name:"ElDatePicker",props:{type:{type:String,default:"date"},timeArrowControl:Boolean},watch:{type:function(e){this.picker?(this.unmountPicker(),this.panel=ar(e),this.mountPicker()):this.panel=ar(e)}},created:function(){this.panel=ar(this.type)},install:function(e){e.component(lr.name,lr)}},cr=lr,hr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":e.handleMenuEnter,"after-leave":function(t){e.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],ref:"popper",staticClass:"el-picker-panel time-select el-popper",class:e.popperClass,style:{width:e.width+"px"}},[i("el-scrollbar",{attrs:{noresize:"","wrap-class":"el-picker-panel__content"}},e._l(e.items,function(t){return i("div",{key:t.value,staticClass:"time-select-item",class:{selected:e.value===t.value,disabled:t.disabled,default:t.value===e.defaultValue},attrs:{disabled:t.disabled},on:{click:function(i){e.handleClick(t)}}},[e._v(e._s(t.value))])}),0)],1)])};hr._withStripped=!0;var ur=function(e){var t=(e||"").split(":");return t.length>=2?{hours:parseInt(t[0],10),minutes:parseInt(t[1],10)}:null},dr=function(e,t){var i=ur(e),n=ur(t),r=i.minutes+60*i.hours,o=n.minutes+60*n.hours;return r===o?0:r>o?1:-1},fr=function(e,t){var i=ur(e),n=ur(t),r={hours:i.hours,minutes:i.minutes};return r.minutes+=n.minutes,r.hours+=n.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,function(e){return(e.hours<10?"0"+e.hours:e.hours)+":"+(e.minutes<10?"0"+e.minutes:e.minutes)}(r)},pr=r({components:{ElScrollbar:F.a},watch:{value:function(e){var t=this;e&&this.$nextTick(function(){return t.scrollToOption()})}},methods:{handleClick:function(e){e.disabled||this.$emit("pick",e.value)},handleClear:function(){this.$emit("pick",null)},scrollToOption:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".selected",t=this.$refs.popper.querySelector(".el-picker-panel__content");Wt()(t,t.querySelector(e))},handleMenuEnter:function(){var e=this,t=-1!==this.items.map(function(e){return e.value}).indexOf(this.value),i=-1!==this.items.map(function(e){return e.value}).indexOf(this.defaultValue),n=(t?".selected":i&&".default")||".time-select-item:not(.disabled)";this.$nextTick(function(){return e.scrollToOption(n)})},scrollDown:function(e){for(var t=this.items,i=t.length,n=t.length,r=t.map(function(e){return e.value}).indexOf(this.value);n--;)if(!t[r=(r+e+i)%i].disabled)return void this.$emit("pick",t[r].value,!0)},isValidValue:function(e){return-1!==this.items.filter(function(e){return!e.disabled}).map(function(e){return e.value}).indexOf(e)},handleKeydown:function(e){var t=e.keyCode;if(38===t||40===t){var i={40:1,38:-1}[t.toString()];return this.scrollDown(i),void e.stopPropagation()}}},data:function(){return{popperClass:"",start:"09:00",end:"18:00",step:"00:30",value:"",defaultValue:"",visible:!1,minTime:"",maxTime:"",width:0}},computed:{items:function(){var e=this.start,t=this.end,i=this.step,n=[];if(e&&t&&i)for(var r=e;dr(r,t)<=0;)n.push({value:r,disabled:dr(r,this.minTime||"-1:-1")<=0||dr(r,this.maxTime||"100:100")>=0}),r=fr(r,i);return n}}},hr,[],!1,null,null,null);pr.options.__file="packages/date-picker/src/panel/time-select.vue";var mr=pr.exports,gr={mixins:[Tn],name:"ElTimeSelect",componentName:"ElTimeSelect",props:{type:{type:String,default:"time-select"}},beforeCreate:function(){this.panel=mr},install:function(e){e.component(gr.name,gr)}},vr=gr,br=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":function(t){e.$emit("dodestroy")}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-time-range-picker el-picker-panel el-popper",class:e.popperClass},[i("div",{staticClass:"el-time-range-picker__content"},[i("div",{staticClass:"el-time-range-picker__cell"},[i("div",{staticClass:"el-time-range-picker__header"},[e._v(e._s(e.t("el.datepicker.startTime")))]),i("div",{staticClass:"el-time-range-picker__body el-time-panel__content",class:{"has-seconds":e.showSeconds,"is-arrow":e.arrowControl}},[i("time-spinner",{ref:"minSpinner",attrs:{"show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,"arrow-control":e.arrowControl,date:e.minDate},on:{change:e.handleMinChange,"select-range":e.setMinSelectionRange}})],1)]),i("div",{staticClass:"el-time-range-picker__cell"},[i("div",{staticClass:"el-time-range-picker__header"},[e._v(e._s(e.t("el.datepicker.endTime")))]),i("div",{staticClass:"el-time-range-picker__body el-time-panel__content",class:{"has-seconds":e.showSeconds,"is-arrow":e.arrowControl}},[i("time-spinner",{ref:"maxSpinner",attrs:{"show-seconds":e.showSeconds,"am-pm-mode":e.amPmMode,"arrow-control":e.arrowControl,date:e.maxDate},on:{change:e.handleMaxChange,"select-range":e.setMaxSelectionRange}})],1)])]),i("div",{staticClass:"el-time-panel__footer"},[i("button",{staticClass:"el-time-panel__btn cancel",attrs:{type:"button"},on:{click:function(t){e.handleCancel()}}},[e._v(e._s(e.t("el.datepicker.cancel")))]),i("button",{staticClass:"el-time-panel__btn confirm",attrs:{type:"button",disabled:e.btnDisabled},on:{click:function(t){e.handleConfirm()}}},[e._v(e._s(e.t("el.datepicker.confirm")))])])])])};br._withStripped=!0;var _r=Object(pn.parseDate)("00:00:00","HH:mm:ss"),yr=Object(pn.parseDate)("23:59:59","HH:mm:ss"),wr=function(e){return Object(pn.modifyDate)(yr,e.getFullYear(),e.getMonth(),e.getDate())},Cr=function(e,t){return new Date(Math.min(e.getTime()+t,wr(e).getTime()))},Sr=r({mixins:[p.a],components:{TimeSpinner:Pn},computed:{showSeconds:function(){return-1!==(this.format||"").indexOf("ss")},offset:function(){return this.showSeconds?11:8},spinner:function(){return this.selectionRange[0]<this.offset?this.$refs.minSpinner:this.$refs.maxSpinner},btnDisabled:function(){return this.minDate.getTime()>this.maxDate.getTime()},amPmMode:function(){return-1!==(this.format||"").indexOf("A")?"A":-1!==(this.format||"").indexOf("a")?"a":""}},data:function(){return{popperClass:"",minDate:new Date,maxDate:new Date,value:[],oldValue:[new Date,new Date],defaultValue:null,format:"HH:mm:ss",visible:!1,selectionRange:[0,2],arrowControl:!1}},watch:{value:function(e){Array.isArray(e)?(this.minDate=new Date(e[0]),this.maxDate=new Date(e[1])):Array.isArray(this.defaultValue)?(this.minDate=new Date(this.defaultValue[0]),this.maxDate=new Date(this.defaultValue[1])):this.defaultValue?(this.minDate=new Date(this.defaultValue),this.maxDate=Cr(new Date(this.defaultValue),36e5)):(this.minDate=new Date,this.maxDate=Cr(new Date,36e5))},visible:function(e){var t=this;e&&(this.oldValue=this.value,this.$nextTick(function(){return t.$refs.minSpinner.emitSelectRange("hours")}))}},methods:{handleClear:function(){this.$emit("pick",null)},handleCancel:function(){this.$emit("pick",this.oldValue)},handleMinChange:function(e){this.minDate=Object(pn.clearMilliseconds)(e),this.handleChange()},handleMaxChange:function(e){this.maxDate=Object(pn.clearMilliseconds)(e),this.handleChange()},handleChange:function(){var e;this.isValidValue([this.minDate,this.maxDate])&&(this.$refs.minSpinner.selectableRange=[[(e=this.minDate,Object(pn.modifyDate)(_r,e.getFullYear(),e.getMonth(),e.getDate())),this.maxDate]],this.$refs.maxSpinner.selectableRange=[[this.minDate,wr(this.maxDate)]],this.$emit("pick",[this.minDate,this.maxDate],!0))},setMinSelectionRange:function(e,t){this.$emit("select-range",e,t,"min"),this.selectionRange=[e,t]},setMaxSelectionRange:function(e,t){this.$emit("select-range",e,t,"max"),this.selectionRange=[e+this.offset,t+this.offset]},handleConfirm:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.$refs.minSpinner.selectableRange,i=this.$refs.maxSpinner.selectableRange;this.minDate=Object(pn.limitTimeRange)(this.minDate,t,this.format),this.maxDate=Object(pn.limitTimeRange)(this.maxDate,i,this.format),this.$emit("pick",[this.minDate,this.maxDate],e)},adjustSpinners:function(){this.$refs.minSpinner.adjustSpinners(),this.$refs.maxSpinner.adjustSpinners()},changeSelectionRange:function(e){var t=this.showSeconds?[0,3,6,11,14,17]:[0,3,8,11],i=["hours","minutes"].concat(this.showSeconds?["seconds"]:[]),n=(t.indexOf(this.selectionRange[0])+e+t.length)%t.length,r=t.length/2;n<r?this.$refs.minSpinner.emitSelectRange(i[n]):this.$refs.maxSpinner.emitSelectRange(i[n-r])},isValidValue:function(e){return Array.isArray(e)&&Object(pn.timeWithinRange)(this.minDate,this.$refs.minSpinner.selectableRange)&&Object(pn.timeWithinRange)(this.maxDate,this.$refs.maxSpinner.selectableRange)},handleKeydown:function(e){var t=e.keyCode,i={38:-1,40:1,37:-1,39:1};if(37===t||39===t){var n=i[t];return this.changeSelectionRange(n),void e.preventDefault()}if(38===t||40===t){var r=i[t];return this.spinner.scrollDown(r),void e.preventDefault()}}}},br,[],!1,null,null,null);Sr.options.__file="packages/date-picker/src/panel/time-range.vue";var xr=Sr.exports,kr={mixins:[Tn],name:"ElTimePicker",props:{isRange:Boolean,arrowControl:Boolean},data:function(){return{type:""}},watch:{isRange:function(e){this.picker?(this.unmountPicker(),this.type=e?"timerange":"time",this.panel=e?xr:Fn,this.mountPicker()):(this.type=e?"timerange":"time",this.panel=e?xr:Fn)}},created:function(){this.type=this.isRange?"timerange":"time",this.panel=this.isRange?xr:Fn},install:function(e){e.component(kr.name,kr)}},Lr=kr,Dr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("transition",{attrs:{name:e.transition},on:{"after-enter":e.handleAfterEnter,"after-leave":e.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.disabled&&e.showPopper,expression:"!disabled && showPopper"}],ref:"popper",staticClass:"el-popover el-popper",class:[e.popperClass,e.content&&"el-popover--plain"],style:{width:e.width+"px"},attrs:{role:"tooltip",id:e.tooltipId,"aria-hidden":e.disabled||!e.showPopper?"true":"false"}},[e.title?i("div",{staticClass:"el-popover__title",domProps:{textContent:e._s(e.title)}}):e._e(),e._t("default",[e._v(e._s(e.content))])],2)]),i("span",{ref:"wrapper",staticClass:"el-popover__reference-wrapper"},[e._t("reference")],2)],1)};Dr._withStripped=!0;var Er=r({name:"ElPopover",mixins:[P.a],props:{trigger:{type:String,default:"click",validator:function(e){return["click","focus","hover","manual"].indexOf(e)>-1}},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:200},title:String,disabled:Boolean,content:String,reference:{},popperClass:String,width:{},visibleArrow:{default:!0},arrowOffset:{type:Number,default:0},transition:{type:String,default:"fade-in-linear"},tabindex:{type:Number,default:0}},computed:{tooltipId:function(){return"el-popover-"+Object(m.generateId)()}},watch:{showPopper:function(e){this.disabled||(e?this.$emit("show"):this.$emit("hide"))}},mounted:function(){var e=this,t=this.referenceElm=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!t&&this.$refs.wrapper.children&&(t=this.referenceElm=this.$refs.wrapper.children[0]),t&&(Object(pe.addClass)(t,"el-popover__reference"),t.setAttribute("aria-describedby",this.tooltipId),t.setAttribute("tabindex",this.tabindex),i.setAttribute("tabindex",0),"click"!==this.trigger&&(Object(pe.on)(t,"focusin",function(){e.handleFocus();var i=t.__vue__;i&&"function"==typeof i.focus&&i.focus()}),Object(pe.on)(i,"focusin",this.handleFocus),Object(pe.on)(t,"focusout",this.handleBlur),Object(pe.on)(i,"focusout",this.handleBlur)),Object(pe.on)(t,"keydown",this.handleKeydown),Object(pe.on)(t,"click",this.handleClick)),"click"===this.trigger?(Object(pe.on)(t,"click",this.doToggle),Object(pe.on)(document,"click",this.handleDocumentClick)):"hover"===this.trigger?(Object(pe.on)(t,"mouseenter",this.handleMouseEnter),Object(pe.on)(i,"mouseenter",this.handleMouseEnter),Object(pe.on)(t,"mouseleave",this.handleMouseLeave),Object(pe.on)(i,"mouseleave",this.handleMouseLeave)):"focus"===this.trigger&&(this.tabindex<0&&console.warn("[Element Warn][Popover]a negative taindex means that the element cannot be focused by tab key"),t.querySelector("input, textarea")?(Object(pe.on)(t,"focusin",this.doShow),Object(pe.on)(t,"focusout",this.doClose)):(Object(pe.on)(t,"mousedown",this.doShow),Object(pe.on)(t,"mouseup",this.doClose)))},beforeDestroy:function(){this.cleanup()},deactivated:function(){this.cleanup()},methods:{doToggle:function(){this.showPopper=!this.showPopper},doShow:function(){this.showPopper=!0},doClose:function(){this.showPopper=!1},handleFocus:function(){Object(pe.addClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!0)},handleClick:function(){Object(pe.removeClass)(this.referenceElm,"focusing")},handleBlur:function(){Object(pe.removeClass)(this.referenceElm,"focusing"),"click"!==this.trigger&&"focus"!==this.trigger||(this.showPopper=!1)},handleMouseEnter:function(){var e=this;clearTimeout(this._timer),this.openDelay?this._timer=setTimeout(function(){e.showPopper=!0},this.openDelay):this.showPopper=!0},handleKeydown:function(e){27===e.keyCode&&"manual"!==this.trigger&&this.doClose()},handleMouseLeave:function(){var e=this;clearTimeout(this._timer),this.closeDelay?this._timer=setTimeout(function(){e.showPopper=!1},this.closeDelay):this.showPopper=!1},handleDocumentClick:function(e){var t=this.reference||this.$refs.reference,i=this.popper||this.$refs.popper;!t&&this.$refs.wrapper.children&&(t=this.referenceElm=this.$refs.wrapper.children[0]),this.$el&&t&&!this.$el.contains(e.target)&&!t.contains(e.target)&&i&&!i.contains(e.target)&&(this.showPopper=!1)},handleAfterEnter:function(){this.$emit("after-enter")},handleAfterLeave:function(){this.$emit("after-leave"),this.doDestroy()},cleanup:function(){(this.openDelay||this.closeDelay)&&clearTimeout(this._timer)}},destroyed:function(){var e=this.reference;Object(pe.off)(e,"click",this.doToggle),Object(pe.off)(e,"mouseup",this.doClose),Object(pe.off)(e,"mousedown",this.doShow),Object(pe.off)(e,"focusin",this.doShow),Object(pe.off)(e,"focusout",this.doClose),Object(pe.off)(e,"mousedown",this.doShow),Object(pe.off)(e,"mouseup",this.doClose),Object(pe.off)(e,"mouseleave",this.handleMouseLeave),Object(pe.off)(e,"mouseenter",this.handleMouseEnter),Object(pe.off)(document,"click",this.handleDocumentClick)}},Dr,[],!1,null,null,null);Er.options.__file="packages/popover/src/main.vue";var Nr=Er.exports,Tr=function(e,t,i){var n=t.expression?t.value:t.arg,r=i.context.$refs[n];r&&(Array.isArray(r)?r[0].$refs.reference=e:r.$refs.reference=e)},Or={bind:function(e,t,i){Tr(e,t,i)},inserted:function(e,t,i){Tr(e,t,i)}};di.a.directive("popover",Or),Nr.install=function(e){e.directive("popover",Or),e.component(Nr.name,Nr)},Nr.directive=Or;var Mr=Nr,Ir={name:"ElTooltip",mixins:[P.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function(){return{tooltipId:"el-tooltip-"+Object(m.generateId)(),timeoutPending:null,focusing:!1}},beforeCreate:function(){var e=this;this.$isServer||(this.popperVM=new di.a({data:{node:""},render:function(e){return this.node}}).$mount(),this.debounceClose=T()(200,function(){return e.handleClosePopper()}))},render:function(e){var t=this;this.popperVM&&(this.popperVM.node=e("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[e("div",{on:{mouseleave:function(){t.setExpectedState(!1),t.debounceClose()},mouseenter:function(){t.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var i=this.getFirstElement();if(!i)return null;var n=i.data=i.data||{};return n.staticClass=this.addTooltipClass(n.staticClass),i},mounted:function(){var e=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(pe.on)(this.referenceElm,"mouseenter",this.show),Object(pe.on)(this.referenceElm,"mouseleave",this.hide),Object(pe.on)(this.referenceElm,"focus",function(){if(e.$slots.default&&e.$slots.default.length){var t=e.$slots.default[0].componentInstance;t&&t.focus?t.focus():e.handleFocus()}else e.handleFocus()}),Object(pe.on)(this.referenceElm,"blur",this.handleBlur),Object(pe.on)(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick(function(){e.value&&e.updatePopper()})},watch:{focusing:function(e){e?Object(pe.addClass)(this.referenceElm,"focusing"):Object(pe.removeClass)(this.referenceElm,"focusing")}},methods:{show:function(){this.setExpectedState(!0),this.handleShowPopper()},hide:function(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function(){this.focusing=!0,this.show()},handleBlur:function(){this.focusing=!1,this.hide()},removeFocusing:function(){this.focusing=!1},addTooltipClass:function(e){return e?"el-tooltip "+e.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function(){var e=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.showPopper=!0},this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout(function(){e.showPopper=!1},this.hideAfter)))},handleClosePopper:function(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function(e){!1===e&&clearTimeout(this.timeoutPending),this.expectedState=e},getFirstElement:function(){var e=this.$slots.default;if(!Array.isArray(e))return null;for(var t=null,i=0;i<e.length;i++)e[i]&&e[i].tag&&(t=e[i]);return t}},beforeDestroy:function(){this.popperVM&&this.popperVM.$destroy()},destroyed:function(){var e=this.referenceElm;1===e.nodeType&&(Object(pe.off)(e,"mouseenter",this.show),Object(pe.off)(e,"mouseleave",this.hide),Object(pe.off)(e,"focus",this.handleFocus),Object(pe.off)(e,"blur",this.handleBlur),Object(pe.off)(e,"click",this.removeFocusing))},install:function(e){e.component(Ir.name,Ir)}},Ar=Ir,Pr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"msgbox-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-message-box__wrapper",attrs:{tabindex:"-1",role:"dialog","aria-modal":"true","aria-label":e.title||"dialog"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[i("div",{staticClass:"el-message-box",class:[e.customClass,e.center&&"el-message-box--center"]},[null!==e.title?i("div",{staticClass:"el-message-box__header"},[i("div",{staticClass:"el-message-box__title"},[e.icon&&e.center?i("div",{class:["el-message-box__status",e.icon]}):e._e(),i("span",[e._v(e._s(e.title))])]),e.showClose?i("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.handleAction(e.distinguishCancelAndClose?"close":"cancel")},keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction(e.distinguishCancelAndClose?"close":"cancel")}}},[i("i",{staticClass:"el-message-box__close el-icon-close"})]):e._e()]):e._e(),i("div",{staticClass:"el-message-box__content"},[i("div",{staticClass:"el-message-box__container"},[e.icon&&!e.center&&""!==e.message?i("div",{class:["el-message-box__status",e.icon]}):e._e(),""!==e.message?i("div",{staticClass:"el-message-box__message"},[e._t("default",[e.dangerouslyUseHTMLString?i("p",{domProps:{innerHTML:e._s(e.message)}}):i("p",[e._v(e._s(e.message))])])],2):e._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showInput,expression:"showInput"}],staticClass:"el-message-box__input"},[i("el-input",{ref:"input",attrs:{type:e.inputType,placeholder:e.inputPlaceholder},nativeOn:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleInputEnter(t):null}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),i("div",{staticClass:"el-message-box__errormsg",style:{visibility:e.editorErrorMessage?"visible":"hidden"}},[e._v(e._s(e.editorErrorMessage))])],1)]),i("div",{staticClass:"el-message-box__btns"},[e.showCancelButton?i("el-button",{class:[e.cancelButtonClasses],attrs:{loading:e.cancelButtonLoading,round:e.roundButton,size:"small"},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction("cancel")}},nativeOn:{click:function(t){e.handleAction("cancel")}}},[e._v("\n          "+e._s(e.cancelButtonText||e.t("el.messagebox.cancel"))+"\n        ")]):e._e(),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showConfirmButton,expression:"showConfirmButton"}],ref:"confirm",class:[e.confirmButtonClasses],attrs:{loading:e.confirmButtonLoading,round:e.roundButton,size:"small"},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction("confirm")}},nativeOn:{click:function(t){e.handleAction("confirm")}}},[e._v("\n          "+e._s(e.confirmButtonText||e.t("el.messagebox.confirm"))+"\n        ")])],1)])])])};Pr._withStripped=!0;var Rr=i(39),Fr=i.n(Rr),Vr=void 0,Br={success:"success",info:"info",warning:"warning",error:"error"},Wr=r({mixins:[y.a,p.a],props:{modal:{default:!0},lockScroll:{default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},closeOnHashChange:{default:!0},center:{default:!1,type:Boolean},roundButton:{default:!1,type:Boolean}},components:{ElInput:d.a,ElButton:K.a},computed:{icon:function(){var e=this.type;return this.iconClass||(e&&Br[e]?"el-icon-"+Br[e]:"")},confirmButtonClasses:function(){return"el-button--primary "+this.confirmButtonClass},cancelButtonClasses:function(){return""+this.cancelButtonClass}},methods:{getSafeClose:function(){var e=this,t=this.uid;return function(){e.$nextTick(function(){t===e.uid&&e.doClose()})}},doClose:function(){var e=this;this.visible&&(this.visible=!1,this._closing=!0,this.onClose&&this.onClose(),Vr.closeDialog(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose(),setTimeout(function(){e.action&&e.callback(e.action,e)}))},handleWrapperClick:function(){this.closeOnClickModal&&this.handleAction(this.distinguishCancelAndClose?"close":"cancel")},handleInputEnter:function(){if("textarea"!==this.inputType)return this.handleAction("confirm")},handleAction:function(e){("prompt"!==this.$type||"confirm"!==e||this.validate())&&(this.action=e,"function"==typeof this.beforeClose?(this.close=this.getSafeClose(),this.beforeClose(e,this,this.close)):this.doClose())},validate:function(){if("prompt"===this.$type){var e=this.inputPattern;if(e&&!e.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||Object(Ft.t)("el.messagebox.error"),Object(pe.addClass)(this.getInputElement(),"invalid"),!1;var t=this.inputValidator;if("function"==typeof t){var i=t(this.inputValue);if(!1===i)return this.editorErrorMessage=this.inputErrorMessage||Object(Ft.t)("el.messagebox.error"),Object(pe.addClass)(this.getInputElement(),"invalid"),!1;if("string"==typeof i)return this.editorErrorMessage=i,Object(pe.addClass)(this.getInputElement(),"invalid"),!1}}return this.editorErrorMessage="",Object(pe.removeClass)(this.getInputElement(),"invalid"),!0},getFirstFocus:function(){var e=this.$el.querySelector(".el-message-box__btns .el-button"),t=this.$el.querySelector(".el-message-box__btns .el-message-box__title");return e||t},getInputElement:function(){var e=this.$refs.input.$refs;return e.input||e.textarea},handleClose:function(){this.handleAction("close")}},watch:{inputValue:{immediate:!0,handler:function(e){var t=this;this.$nextTick(function(i){"prompt"===t.$type&&null!==e&&t.validate()})}},visible:function(e){var t=this;e&&(this.uid++,"alert"!==this.$type&&"confirm"!==this.$type||this.$nextTick(function(){t.$refs.confirm.$el.focus()}),this.focusAfterClosed=document.activeElement,Vr=new Fr.a(this.$el,this.focusAfterClosed,this.getFirstFocus())),"prompt"===this.$type&&(e?setTimeout(function(){t.$refs.input&&t.$refs.input.$el&&t.getInputElement().focus()},500):(this.editorErrorMessage="",Object(pe.removeClass)(this.getInputElement(),"invalid")))}},mounted:function(){var e=this;this.$nextTick(function(){e.closeOnHashChange&&window.addEventListener("hashchange",e.close)})},beforeDestroy:function(){this.closeOnHashChange&&window.removeEventListener("hashchange",this.close),setTimeout(function(){Vr.closeDialog()})},data:function(){return{uid:1,title:void 0,message:"",type:"",iconClass:"",customClass:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,action:"",confirmButtonText:"",cancelButtonText:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null,dangerouslyUseHTMLString:!1,focusAfterClosed:null,isOnComposition:!1,distinguishCancelAndClose:!1}}},Pr,[],!1,null,null,null);Wr.options.__file="packages/message-box/src/main.vue";var $r=Wr.exports,zr=i(23),Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jr={title:null,message:"",type:"",iconClass:"",showInput:!1,showClose:!0,modalFade:!0,lockScroll:!0,closeOnClickModal:!0,closeOnPressEscape:!0,closeOnHashChange:!0,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"",cancelButtonText:"",confirmButtonClass:"",cancelButtonClass:"",customClass:"",beforeClose:null,dangerouslyUseHTMLString:!1,center:!1,roundButton:!1,distinguishCancelAndClose:!1},Ur=di.a.extend($r),Kr=void 0,qr=void 0,Gr=[],Yr=function(e){if(Kr){var t=Kr.callback;"function"==typeof t&&(qr.showInput?t(qr.inputValue,e):t(e)),Kr.resolve&&("confirm"===e?qr.showInput?Kr.resolve({value:qr.inputValue,action:e}):Kr.resolve(e):!Kr.reject||"cancel"!==e&&"close"!==e||Kr.reject(e))}},Xr=function e(){if(qr||((qr=new Ur({el:document.createElement("div")})).callback=Yr),qr.action="",(!qr.visible||qr.closeTimer)&&Gr.length>0){var t=(Kr=Gr.shift()).options;for(var i in t)t.hasOwnProperty(i)&&(qr[i]=t[i]);void 0===t.callback&&(qr.callback=Yr);var n=qr.callback;qr.callback=function(t,i){n(t,i),e()},Object(zr.isVNode)(qr.message)?(qr.$slots.default=[qr.message],qr.message=null):delete qr.$slots.default,["modal","showClose","closeOnClickModal","closeOnPressEscape","closeOnHashChange"].forEach(function(e){void 0===qr[e]&&(qr[e]=!0)}),document.body.appendChild(qr.$el),di.a.nextTick(function(){qr.visible=!0})}},Zr=function e(t,i){if(!di.a.prototype.$isServer){if("string"==typeof t||Object(zr.isVNode)(t)?(t={message:t},"string"==typeof arguments[1]&&(t.title=arguments[1])):t.callback&&!i&&(i=t.callback),"undefined"!=typeof Promise)return new Promise(function(n,r){Gr.push({options:$e()({},jr,e.defaults,t),callback:i,resolve:n,reject:r}),Xr()});Gr.push({options:$e()({},jr,e.defaults,t),callback:i}),Xr()}};Zr.setDefaults=function(e){Zr.defaults=e},Zr.alert=function(e,t,i){return"object"===(void 0===t?"undefined":Hr(t))?(i=t,t=""):void 0===t&&(t=""),Zr($e()({title:t,message:e,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},i))},Zr.confirm=function(e,t,i){return"object"===(void 0===t?"undefined":Hr(t))?(i=t,t=""):void 0===t&&(t=""),Zr($e()({title:t,message:e,$type:"confirm",showCancelButton:!0},i))},Zr.prompt=function(e,t,i){return"object"===(void 0===t?"undefined":Hr(t))?(i=t,t=""):void 0===t&&(t=""),Zr($e()({title:t,message:e,showCancelButton:!0,showInput:!0,$type:"prompt"},i))},Zr.close=function(){qr.doClose(),qr.visible=!1,Gr=[],Kr=null};var Qr=Zr,Jr=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-breadcrumb",attrs:{"aria-label":"Breadcrumb",role:"navigation"}},[this._t("default")],2)};Jr._withStripped=!0;var eo=r({name:"ElBreadcrumb",props:{separator:{type:String,default:"/"},separatorClass:{type:String,default:""}},provide:function(){return{elBreadcrumb:this}},mounted:function(){var e=this.$el.querySelectorAll(".el-breadcrumb__item");e.length&&e[e.length-1].setAttribute("aria-current","page")}},Jr,[],!1,null,null,null);eo.options.__file="packages/breadcrumb/src/breadcrumb.vue";var to=eo.exports;to.install=function(e){e.component(to.name,to)};var io=to,no=function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"el-breadcrumb__item"},[t("span",{ref:"link",class:["el-breadcrumb__inner",this.to?"is-link":""],attrs:{role:"link"}},[this._t("default")],2),this.separatorClass?t("i",{staticClass:"el-breadcrumb__separator",class:this.separatorClass}):t("span",{staticClass:"el-breadcrumb__separator",attrs:{role:"presentation"}},[this._v(this._s(this.separator))])])};no._withStripped=!0;var ro=r({name:"ElBreadcrumbItem",props:{to:{},replace:Boolean},data:function(){return{separator:"",separatorClass:""}},inject:["elBreadcrumb"],mounted:function(){var e=this;this.separator=this.elBreadcrumb.separator,this.separatorClass=this.elBreadcrumb.separatorClass;var t=this.$refs.link;t.setAttribute("role","link"),t.addEventListener("click",function(t){var i=e.to,n=e.$router;i&&n&&(e.replace?n.replace(i):n.push(i))})}},no,[],!1,null,null,null);ro.options.__file="packages/breadcrumb/src/breadcrumb-item.vue";var oo=ro.exports;oo.install=function(e){e.component(oo.name,oo)};var so=oo,ao=function(){var e=this.$createElement;return(this._self._c||e)("form",{staticClass:"el-form",class:[this.labelPosition?"el-form--label-"+this.labelPosition:"",{"el-form--inline":this.inline}]},[this._t("default")],2)};ao._withStripped=!0;var lo=r({name:"ElForm",componentName:"ElForm",provide:function(){return{elForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{rules:function(){this.fields.forEach(function(e){e.removeValidateEvents(),e.addValidateEvents()}),this.validateOnRuleChange&&this.validate(function(){})}},computed:{autoLabelWidth:function(){if(!this.potentialLabelWidthArr.length)return 0;var e=Math.max.apply(Math,this.potentialLabelWidthArr);return e?e+"px":""}},data:function(){return{fields:[],potentialLabelWidthArr:[]}},created:function(){var e=this;this.$on("el.form.addField",function(t){t&&e.fields.push(t)}),this.$on("el.form.removeField",function(t){t.prop&&e.fields.splice(e.fields.indexOf(t),1)})},methods:{resetFields:function(){this.model?this.fields.forEach(function(e){e.resetField()}):console.warn("[Element Warn][Form]model is required for resetFields to work.")},clearValidate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(e.length?"string"==typeof e?this.fields.filter(function(t){return e===t.prop}):this.fields.filter(function(t){return e.indexOf(t.prop)>-1}):this.fields).forEach(function(e){e.clearValidate()})},validate:function(e){var t=this;if(this.model){var i=void 0;"function"!=typeof e&&window.Promise&&(i=new window.Promise(function(t,i){e=function(e){e?t(e):i(e)}}));var n=!0,r=0;0===this.fields.length&&e&&e(!0);var o={};return this.fields.forEach(function(i){i.validate("",function(i,s){i&&(n=!1),o=$e()({},o,s),"function"==typeof e&&++r===t.fields.length&&e(n,o)})}),i||void 0}console.warn("[Element Warn][Form]model is required for validate to work!")},validateField:function(e,t){e=[].concat(e);var i=this.fields.filter(function(t){return-1!==e.indexOf(t.prop)});i.length?i.forEach(function(e){e.validate("",t)}):console.warn("[Element Warn]please pass correct props!")},getLabelWidthIndex:function(e){var t=this.potentialLabelWidthArr.indexOf(e);if(-1===t)throw new Error("[ElementForm]unpected width ",e);return t},registerLabelWidth:function(e,t){if(e&&t){var i=this.getLabelWidthIndex(t);this.potentialLabelWidthArr.splice(i,1,e)}else e&&this.potentialLabelWidthArr.push(e)},deregisterLabelWidth:function(e){var t=this.getLabelWidthIndex(e);this.potentialLabelWidthArr.splice(t,1)}}},ao,[],!1,null,null,null);lo.options.__file="packages/form/src/form.vue";var co=lo.exports;co.install=function(e){e.component(co.name,co)};var ho=co,uo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":e.elForm&&e.elForm.statusIcon,"is-error":"error"===e.validateState,"is-validating":"validating"===e.validateState,"is-success":"success"===e.validateState,"is-required":e.isRequired||e.required,"is-no-asterisk":e.elForm&&e.elForm.hideRequiredAsterisk},e.sizeClass?"el-form-item--"+e.sizeClass:""]},[i("label-wrap",{attrs:{"is-auto-width":e.labelStyle&&"auto"===e.labelStyle.width,"update-all":"auto"===e.form.labelWidth}},[e.label||e.$slots.label?i("label",{staticClass:"el-form-item__label",style:e.labelStyle,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label+e.form.labelSuffix))])],2):e._e()]),i("div",{staticClass:"el-form-item__content",style:e.contentStyle},[e._t("default"),i("transition",{attrs:{name:"el-zoom-in-top"}},["error"===e.validateState&&e.showMessage&&e.form.showMessage?e._t("error",[i("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof e.inlineMessage?e.inlineMessage:e.elForm&&e.elForm.inlineMessage||!1}},[e._v("\n          "+e._s(e.validateMessage)+"\n        ")])],{error:e.validateMessage}):e._e()],2)],2)],1)};uo._withStripped=!0;var fo=i(40),po=i.n(fo),mo=r({props:{isAutoWidth:Boolean,updateAll:Boolean},inject:["elForm","elFormItem"],render:function(){var e=arguments[0],t=this.$slots.default;if(!t)return null;if(this.isAutoWidth){var i=this.elForm.autoLabelWidth,n={};if(i&&"auto"!==i){var r=parseInt(i,10)-this.computedWidth;r&&(n.marginLeft=r+"px")}return e("div",{class:"el-form-item__label-wrap",style:n},[t])}return t[0]},methods:{getLabelWidth:function(){if(this.$el&&this.$el.firstElementChild){var e=window.getComputedStyle(this.$el.firstElementChild).width;return Math.ceil(parseFloat(e))}return 0},updateLabelWidth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update";this.$slots.default&&this.isAutoWidth&&this.$el.firstElementChild&&("update"===e?this.computedWidth=this.getLabelWidth():"remove"===e&&this.elForm.deregisterLabelWidth(this.computedWidth))}},watch:{computedWidth:function(e,t){this.updateAll&&(this.elForm.registerLabelWidth(e,t),this.elFormItem.updateComputedLabelWidth(e))}},data:function(){return{computedWidth:0}},mounted:function(){this.updateLabelWidth("update")},updated:function(){this.updateLabelWidth("update")},beforeDestroy:function(){this.updateLabelWidth("remove")}},void 0,void 0,!1,null,null,null);mo.options.__file="packages/form/src/label-wrap.vue";var go=mo.exports,vo=r({name:"ElFormItem",componentName:"ElFormItem",mixins:[x.a],provide:function(){return{elFormItem:this}},inject:["elForm"],props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},components:{LabelWrap:go},watch:{error:{immediate:!0,handler:function(e){this.validateMessage=e,this.validateState=e?"error":""}},validateStatus:function(e){this.validateState=e}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var e={};if("top"===this.form.labelPosition)return e;var t=this.labelWidth||this.form.labelWidth;return t&&(e.width=t),e},contentStyle:function(){var e={},t=this.label;if("top"===this.form.labelPosition||this.form.inline)return e;if(!t&&!this.labelWidth&&this.isNested)return e;var i=this.labelWidth||this.form.labelWidth;return"auto"===i?"auto"===this.labelWidth?e.marginLeft=this.computedLabelWidth:"auto"===this.form.labelWidth&&(e.marginLeft=this.elForm.autoLabelWidth):e.marginLeft=i,e},form:function(){for(var e=this.$parent,t=e.$options.componentName;"ElForm"!==t;)"ElFormItem"===t&&(this.isNested=!0),t=(e=e.$parent).$options.componentName;return e},fieldValue:function(){var e=this.form.model;if(e&&this.prop){var t=this.prop;return-1!==t.indexOf(":")&&(t=t.replace(/:/,".")),Object(m.getPropByPath)(e,t,!0).v}},isRequired:function(){var e=this.getRules(),t=!1;return e&&e.length&&e.every(function(e){return!e.required||(t=!0,!1)}),t},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.elFormItemSize||(this.$ELEMENT||{}).size}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,computedLabelWidth:""}},methods:{validate:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.noop;this.validateDisabled=!1;var n=this.getFilteredRule(e);if((!n||0===n.length)&&void 0===this.required)return i(),!0;this.validateState="validating";var r={};n&&n.length>0&&n.forEach(function(e){delete e.trigger}),r[this.prop]=n;var o=new po.a(r),s={};s[this.prop]=this.fieldValue,o.validate(s,{firstFields:!0},function(e,n){t.validateState=e?"error":"success",t.validateMessage=e?e[0].message:"",i(t.validateMessage,n),t.elForm&&t.elForm.$emit("validate",t.prop,!e,t.validateMessage||null)})},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){var e=this;this.validateState="",this.validateMessage="";var t=this.form.model,i=this.fieldValue,n=this.prop;-1!==n.indexOf(":")&&(n=n.replace(/:/,"."));var r=Object(m.getPropByPath)(t,n,!0);this.validateDisabled=!0,Array.isArray(i)?r.o[r.k]=[].concat(this.initialValue):r.o[r.k]=this.initialValue,this.$nextTick(function(){e.validateDisabled=!1}),this.broadcast("ElTimeSelect","fieldReset",this.initialValue)},getRules:function(){var e=this.form.rules,t=this.rules,i=void 0!==this.required?{required:!!this.required}:[],n=Object(m.getPropByPath)(e,this.prop||"");return e=e?n.o[this.prop||""]||n.v:[],[].concat(t||e||[]).concat(i)},getFilteredRule:function(e){return this.getRules().filter(function(t){return!t.trigger||""===e||(Array.isArray(t.trigger)?t.trigger.indexOf(e)>-1:t.trigger===e)}).map(function(e){return $e()({},e)})},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")},updateComputedLabelWidth:function(e){this.computedLabelWidth=e?e+"px":""},addValidateEvents:function(){(this.getRules().length||void 0!==this.required)&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))},removeValidateEvents:function(){this.$off()}},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var e=this.fieldValue;Array.isArray(e)&&(e=[].concat(e)),Object.defineProperty(this,"initialValue",{value:e}),this.addValidateEvents()}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}},uo,[],!1,null,null,null);vo.options.__file="packages/form/src/form-item.vue";var bo=vo.exports;bo.install=function(e){e.component(bo.name,bo)};var _o=bo,yo=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-tabs__active-bar",class:"is-"+this.rootTabs.tabPosition,style:this.barStyle})};yo._withStripped=!0;var wo=r({name:"TabBar",props:{tabs:Array},inject:["rootTabs"],computed:{barStyle:{get:function(){var e=this,t={},i=0,n=0,r=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height",o="width"===r?"x":"y",s=function(e){return e.toLowerCase().replace(/( |^)[a-z]/g,function(e){return e.toUpperCase()})};this.tabs.every(function(t,o){var a=Object(m.arrayFind)(e.$parent.$refs.tabs||[],function(e){return e.id.replace("tab-","")===t.paneName});if(!a)return!1;if(t.active){n=a["client"+s(r)];var l=window.getComputedStyle(a);return"width"===r&&e.tabs.length>1&&(n-=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight)),"width"===r&&(i+=parseFloat(l.paddingLeft)),!1}return i+=a["client"+s(r)],!0});var a="translate"+s(o)+"("+i+"px)";return t[r]=n+"px",t.transform=a,t.msTransform=a,t.webkitTransform=a,t}}}},yo,[],!1,null,null,null);function Co(){}wo.options.__file="packages/tabs/src/tab-bar.vue";var So=function(e){return e.toLowerCase().replace(/( |^)[a-z]/g,function(e){return e.toUpperCase()})},xo=r({name:"TabNav",components:{TabBar:wo.exports},inject:["rootTabs"],props:{panes:Array,currentName:String,editable:Boolean,onTabClick:{type:Function,default:Co},onTabRemove:{type:Function,default:Co},type:String,stretch:Boolean},data:function(){return{scrollable:!1,navOffset:0,isFocus:!1,focusable:!0}},computed:{navStyle:function(){return{transform:"translate"+(-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"X":"Y")+"(-"+this.navOffset+"px)"}},sizeName:function(){return-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height"}},methods:{scrollPrev:function(){var e=this.$refs.navScroll["offset"+So(this.sizeName)],t=this.navOffset;if(t){var i=t>e?t-e:0;this.navOffset=i}},scrollNext:function(){var e=this.$refs.nav["offset"+So(this.sizeName)],t=this.$refs.navScroll["offset"+So(this.sizeName)],i=this.navOffset;if(!(e-i<=t)){var n=e-i>2*t?i+t:e-t;this.navOffset=n}},scrollToActiveTab:function(){if(this.scrollable){var e=this.$refs.nav,t=this.$el.querySelector(".is-active");if(t){var i=this.$refs.navScroll,n=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition),r=t.getBoundingClientRect(),o=i.getBoundingClientRect(),s=n?e.offsetWidth-o.width:e.offsetHeight-o.height,a=this.navOffset,l=a;n?(r.left<o.left&&(l=a-(o.left-r.left)),r.right>o.right&&(l=a+r.right-o.right)):(r.top<o.top&&(l=a-(o.top-r.top)),r.bottom>o.bottom&&(l=a+(r.bottom-o.bottom))),l=Math.max(l,0),this.navOffset=Math.min(l,s)}}},update:function(){if(this.$refs.nav){var e=this.sizeName,t=this.$refs.nav["offset"+So(e)],i=this.$refs.navScroll["offset"+So(e)],n=this.navOffset;if(i<t){var r=this.navOffset;this.scrollable=this.scrollable||{},this.scrollable.prev=r,this.scrollable.next=r+i<t,t-r<i&&(this.navOffset=t-i)}else this.scrollable=!1,n>0&&(this.navOffset=0)}},changeTab:function(e){var t=e.keyCode,i=void 0,n=void 0,r=void 0;-1!==[37,38,39,40].indexOf(t)&&(r=e.currentTarget.querySelectorAll("[role=tab]"),n=Array.prototype.indexOf.call(r,e.target),r[i=37===t||38===t?0===n?r.length-1:n-1:n<r.length-1?n+1:0].focus(),r[i].click(),this.setFocus())},setFocus:function(){this.focusable&&(this.isFocus=!0)},removeFocus:function(){this.isFocus=!1},visibilityChangeHandler:function(){var e=this,t=document.visibilityState;"hidden"===t?this.focusable=!1:"visible"===t&&setTimeout(function(){e.focusable=!0},50)},windowBlurHandler:function(){this.focusable=!1},windowFocusHandler:function(){var e=this;setTimeout(function(){e.focusable=!0},50)}},updated:function(){this.update()},render:function(e){var t=this,i=this.type,n=this.panes,r=this.editable,o=this.stretch,s=this.onTabClick,a=this.onTabRemove,l=this.navStyle,c=this.scrollable,h=this.scrollNext,u=this.scrollPrev,d=this.changeTab,f=this.setFocus,p=this.removeFocus,m=c?[e("span",{class:["el-tabs__nav-prev",c.prev?"":"is-disabled"],on:{click:u}},[e("i",{class:"el-icon-arrow-left"})]),e("span",{class:["el-tabs__nav-next",c.next?"":"is-disabled"],on:{click:h}},[e("i",{class:"el-icon-arrow-right"})])]:null,g=this._l(n,function(i,n){var o,l=i.name||i.index||n,c=i.isClosable||r;i.index=""+n;var h=c?e("span",{class:"el-icon-close",on:{click:function(e){a(i,e)}}}):null,u=i.$slots.label||i.label,d=i.active?0:-1;return e("div",{class:(o={"el-tabs__item":!0},o["is-"+t.rootTabs.tabPosition]=!0,o["is-active"]=i.active,o["is-disabled"]=i.disabled,o["is-closable"]=c,o["is-focus"]=t.isFocus,o),attrs:{id:"tab-"+l,"aria-controls":"pane-"+l,role:"tab","aria-selected":i.active,tabindex:d},key:"tab-"+l,ref:"tabs",refInFor:!0,on:{focus:function(){f()},blur:function(){p()},click:function(e){p(),s(i,l,e)},keydown:function(e){!c||46!==e.keyCode&&8!==e.keyCode||a(i,e)}}},[u,h])});return e("div",{class:["el-tabs__nav-wrap",c?"is-scrollable":"","is-"+this.rootTabs.tabPosition]},[m,e("div",{class:["el-tabs__nav-scroll"],ref:"navScroll"},[e("div",{class:["el-tabs__nav","is-"+this.rootTabs.tabPosition,o&&-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"is-stretch":""],ref:"nav",style:l,attrs:{role:"tablist"},on:{keydown:d}},[i?null:e("tab-bar",{attrs:{tabs:n}}),g])])])},mounted:function(){var e=this;Object(Rt.addResizeListener)(this.$el,this.update),document.addEventListener("visibilitychange",this.visibilityChangeHandler),window.addEventListener("blur",this.windowBlurHandler),window.addEventListener("focus",this.windowFocusHandler),setTimeout(function(){e.scrollToActiveTab()},0)},beforeDestroy:function(){this.$el&&this.update&&Object(Rt.removeResizeListener)(this.$el,this.update),document.removeEventListener("visibilitychange",this.visibilityChangeHandler),window.removeEventListener("blur",this.windowBlurHandler),window.removeEventListener("focus",this.windowFocusHandler)}},void 0,void 0,!1,null,null,null);xo.options.__file="packages/tabs/src/tab-nav.vue";var ko=r({name:"ElTabs",components:{TabNav:xo.exports},props:{type:String,activeName:String,closable:Boolean,addable:Boolean,value:{},editable:Boolean,tabPosition:{type:String,default:"top"},beforeLeave:Function,stretch:Boolean},provide:function(){return{rootTabs:this}},data:function(){return{currentName:this.value||this.activeName,panes:[]}},watch:{activeName:function(e){this.setCurrentName(e)},value:function(e){this.setCurrentName(e)},currentName:function(e){var t=this;this.$refs.nav&&this.$nextTick(function(){t.$refs.nav.$nextTick(function(e){t.$refs.nav.scrollToActiveTab()})})}},methods:{calcPaneInstances:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$slots.default){var i=this.$slots.default.filter(function(e){return e.tag&&e.componentOptions&&"ElTabPane"===e.componentOptions.Ctor.options.name}).map(function(e){return e.componentInstance}),n=!(i.length===this.panes.length&&i.every(function(t,i){return t===e.panes[i]}));(t||n)&&(this.panes=i)}else 0!==this.panes.length&&(this.panes=[])},handleTabClick:function(e,t,i){e.disabled||(this.setCurrentName(t),this.$emit("tab-click",e,i))},handleTabRemove:function(e,t){e.disabled||(t.stopPropagation(),this.$emit("edit",e.name,"remove"),this.$emit("tab-remove",e.name))},handleTabAdd:function(){this.$emit("edit",null,"add"),this.$emit("tab-add")},setCurrentName:function(e){var t=this,i=function(){t.currentName=e,t.$emit("input",e)};if(this.currentName!==e&&this.beforeLeave){var n=this.beforeLeave(e,this.currentName);n&&n.then?n.then(function(){i(),t.$refs.nav&&t.$refs.nav.removeFocus()},function(){}):!1!==n&&i()}else i()}},render:function(e){var t,i=this.type,n=this.handleTabClick,r=this.handleTabRemove,o=this.handleTabAdd,s=this.currentName,a=this.panes,l=this.editable,c=this.addable,h=this.tabPosition,u=this.stretch,d=e("div",{class:["el-tabs__header","is-"+h]},[l||c?e("span",{class:"el-tabs__new-tab",on:{click:o,keydown:function(e){13===e.keyCode&&o()}},attrs:{tabindex:"0"}},[e("i",{class:"el-icon-plus"})]):null,e("tab-nav",{props:{currentName:s,onTabClick:n,onTabRemove:r,editable:l,type:i,panes:a,stretch:u},ref:"nav"})]),f=e("div",{class:"el-tabs__content"},[this.$slots.default]);return e("div",{class:(t={"el-tabs":!0,"el-tabs--card":"card"===i},t["el-tabs--"+h]=!0,t["el-tabs--border-card"]="border-card"===i,t)},["bottom"!==h?[d,f]:[f,d]])},created:function(){this.currentName||this.setCurrentName("0"),this.$on("tab-nav-update",this.calcPaneInstances.bind(null,!0))},mounted:function(){this.calcPaneInstances()},updated:function(){this.calcPaneInstances()}},void 0,void 0,!1,null,null,null);ko.options.__file="packages/tabs/src/tabs.vue";var Lo=ko.exports;Lo.install=function(e){e.component(Lo.name,Lo)};var Do=Lo,Eo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return!e.lazy||e.loaded||e.active?i("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],staticClass:"el-tab-pane",attrs:{role:"tabpanel","aria-hidden":!e.active,id:"pane-"+e.paneName,"aria-labelledby":"tab-"+e.paneName}},[e._t("default")],2):e._e()};Eo._withStripped=!0;var No=r({name:"ElTabPane",componentName:"ElTabPane",props:{label:String,labelContent:Function,name:String,closable:Boolean,disabled:Boolean,lazy:Boolean},data:function(){return{index:null,loaded:!1}},computed:{isClosable:function(){return this.closable||this.$parent.closable},active:function(){var e=this.$parent.currentName===(this.name||this.index);return e&&(this.loaded=!0),e},paneName:function(){return this.name||this.index}},updated:function(){this.$parent.$emit("tab-nav-update")}},Eo,[],!1,null,null,null);No.options.__file="packages/tabs/src/tab-pane.vue";var To=No.exports;To.install=function(e){e.component(To.name,To)};var Oo=To,Mo=r({name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function(e){return-1!==["dark","light","plain"].indexOf(e)}}},methods:{handleClose:function(e){e.stopPropagation(),this.$emit("close",e)},handleClick:function(e){this.$emit("click",e)}},computed:{tagSize:function(){return this.size||(this.$ELEMENT||{}).size}},render:function(e){var t=this.type,i=this.tagSize,n=this.hit,r=this.effect,o=e("span",{class:["el-tag",t?"el-tag--"+t:"",i?"el-tag--"+i:"",r?"el-tag--"+r:"",n&&"is-hit"],style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&e("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?o:e("transition",{attrs:{name:"el-zoom-in-center"}},[o])}},void 0,void 0,!1,null,null,null);Mo.options.__file="packages/tag/src/tag.vue";var Io=Mo.exports;Io.install=function(e){e.component(Io.name,Io)};var Ao=Io,Po=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-tree",class:{"el-tree--highlight-current":e.highlightCurrent,"is-dragging":!!e.dragState.draggingNode,"is-drop-not-allow":!e.dragState.allowDrop,"is-drop-inner":"inner"===e.dragState.dropType},attrs:{role:"tree"}},[e._l(e.root.childNodes,function(t){return i("el-tree-node",{key:e.getNodeKey(t),attrs:{node:t,props:e.props,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent},on:{"node-expand":e.handleNodeExpand}})}),e.isEmpty?i("div",{staticClass:"el-tree__empty-block"},[i("span",{staticClass:"el-tree__empty-text"},[e._v(e._s(e.emptyText))])]):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.dragState.showDropIndicator,expression:"dragState.showDropIndicator"}],ref:"dropIndicator",staticClass:"el-tree__drop-indicator"})],2)};Po._withStripped=!0;var Ro="$treeNodeId",Fo=function(e,t){t&&!t[Ro]&&Object.defineProperty(t,Ro,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Vo=function(e,t){return e?t[e]:t[Ro]},Bo=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var Wo=function(e){for(var t=!0,i=!0,n=!0,r=0,o=e.length;r<o;r++){var s=e[r];(!0!==s.checked||s.indeterminate)&&(t=!1,s.disabled||(n=!1)),(!1!==s.checked||s.indeterminate)&&(i=!1)}return{all:t,none:i,allWithoutDisable:n,half:!t&&!i}},$o=function e(t){if(0!==t.childNodes.length){var i=Wo(t.childNodes),n=i.all,r=i.none,o=i.half;n?(t.checked=!0,t.indeterminate=!1):o?(t.checked=!1,t.indeterminate=!0):r&&(t.checked=!1,t.indeterminate=!1);var s=t.parent;s&&0!==s.level&&(t.store.checkStrictly||e(s))}},zo=function(e,t){var i=e.store.props,n=e.data||{},r=i[t];if("function"==typeof r)return r(n,e);if("string"==typeof r)return n[r];if(void 0===r){var o=n[t];return void 0===o?"":o}},Ho=0,jo=function(){function e(t){for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=Ho++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,t)t.hasOwnProperty(i)&&(this[i]=t[i]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1);var n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);var r=n.props;if(r&&void 0!==r.isLeaf){var o=zo(this,"isLeaf");"boolean"==typeof o&&(this.isLeafByUser=o)}if(!0!==n.lazy&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&this.expand(),Array.isArray(this.data)||Fo(this,this.data),this.data){var s=n.defaultExpandedKeys,a=n.key;a&&s&&-1!==s.indexOf(this.key)&&this.expand(null,n.autoExpandParent),a&&void 0!==n.currentNodeKey&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState()}}return e.prototype.setData=function(e){Array.isArray(e)||Fo(this,e),this.data=e,this.childNodes=[];for(var t=void 0,i=0,n=(t=0===this.level&&this.data instanceof Array?this.data:zo(this,"children")||[]).length;i<n;i++)this.insertChild({data:t[i]})},e.prototype.contains=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function i(n){for(var r=n.childNodes||[],o=!1,s=0,a=r.length;s<a;s++){var l=r[s];if(l===e||t&&i(l)){o=!0;break}}return o}(this)},e.prototype.remove=function(){var e=this.parent;e&&e.removeChild(this)},e.prototype.insertChild=function(t,i,n){if(!t)throw new Error("insertChild error: child is required.");if(!(t instanceof e)){if(!n){var r=this.getChildren(!0);-1===r.indexOf(t.data)&&(void 0===i||i<0?r.push(t.data):r.splice(i,0,t.data))}$e()(t,{parent:this,store:this.store}),t=new e(t)}t.level=this.level+1,void 0===i||i<0?this.childNodes.push(t):this.childNodes.splice(i,0,t),this.updateLeafState()},e.prototype.insertBefore=function(e,t){var i=void 0;t&&(i=this.childNodes.indexOf(t)),this.insertChild(e,i)},e.prototype.insertAfter=function(e,t){var i=void 0;t&&-1!==(i=this.childNodes.indexOf(t))&&(i+=1),this.insertChild(e,i)},e.prototype.removeChild=function(e){var t=this.getChildren()||[],i=t.indexOf(e.data);i>-1&&t.splice(i,1);var n=this.childNodes.indexOf(e);n>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(n,1)),this.updateLeafState()},e.prototype.removeChildByData=function(e){for(var t=null,i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===e){t=this.childNodes[i];break}t&&this.removeChild(t)},e.prototype.expand=function(e,t){var i=this,n=function(){if(t)for(var n=i.parent;n.level>0;)n.expanded=!0,n=n.parent;i.expanded=!0,e&&e()};this.shouldLoadData()?this.loadData(function(e){e instanceof Array&&(i.checked?i.setChecked(!0,!0):i.store.checkStrictly||$o(i),n())}):n()},e.prototype.doCreateChildren=function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach(function(e){t.insertChild($e()({data:e},i),void 0,!0)})},e.prototype.collapse=function(){this.expanded=!1},e.prototype.shouldLoadData=function(){return!0===this.store.lazy&&this.store.load&&!this.loaded},e.prototype.updateLeafState=function(){if(!0!==this.store.lazy||!0===this.loaded||void 0===this.isLeafByUser){var e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}else this.isLeaf=this.isLeafByUser},e.prototype.setChecked=function(e,t,i,n){var r=this;if(this.indeterminate="half"===e,this.checked=!0===e,!this.store.checkStrictly){if(!this.shouldLoadData()||this.store.checkDescendants){var o=Wo(this.childNodes),s=o.all,a=o.allWithoutDisable;this.isLeaf||s||!a||(this.checked=!1,e=!1);var l=function(){if(t){for(var i=r.childNodes,o=0,s=i.length;o<s;o++){var a=i[o];n=n||!1!==e;var l=a.disabled?a.checked:n;a.setChecked(l,t,!0,n)}var c=Wo(i),h=c.half,u=c.all;u||(r.checked=u,r.indeterminate=h)}};if(this.shouldLoadData())return void this.loadData(function(){l(),$o(r)},{checked:!1!==e});l()}var c=this.parent;c&&0!==c.level&&(i||$o(c))}},e.prototype.getChildren=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.level)return this.data;var t=this.data;if(!t)return null;var i=this.store.props,n="children";return i&&(n=i.children||"children"),void 0===t[n]&&(t[n]=null),e&&!t[n]&&(t[n]=[]),t[n]},e.prototype.updateChildren=function(){var e=this,t=this.getChildren()||[],i=this.childNodes.map(function(e){return e.data}),n={},r=[];t.forEach(function(e,t){var o=e[Ro];!!o&&Object(m.arrayFindIndex)(i,function(e){return e[Ro]===o})>=0?n[o]={index:t,data:e}:r.push({index:t,data:e})}),this.store.lazy||i.forEach(function(t){n[t[Ro]]||e.removeChildByData(t)}),r.forEach(function(t){var i=t.index,n=t.data;e.insertChild({data:n},i)}),this.updateLeafState()},e.prototype.loadData=function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(i).length)e&&e.call(this);else{this.loading=!0;this.store.load(this,function(n){t.loaded=!0,t.loading=!1,t.childNodes=[],t.doCreateChildren(n,i),t.updateLeafState(),e&&e.call(t,n)})}},Bo(e,[{key:"label",get:function(){return zo(this,"label")}},{key:"key",get:function(){var e=this.store.key;return this.data?this.data[e]:null}},{key:"disabled",get:function(){return zo(this,"disabled")}},{key:"nextSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}},{key:"previousSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}}]),e}(),Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Ko=function(){function e(t){var i=this;for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.currentNode=null,this.currentNodeKey=null,t)t.hasOwnProperty(n)&&(this[n]=t[n]);(this.nodesMap={},this.root=new jo({data:this.data,store:this}),this.lazy&&this.load)?(0,this.load)(this.root,function(e){i.root.doCreateChildren(e),i._initDefaultCheckedNodes()}):this._initDefaultCheckedNodes()}return e.prototype.filter=function(e){var t=this.filterNodeMethod,i=this.lazy;!function n(r){var o=r.root?r.root.childNodes:r.childNodes;if(o.forEach(function(i){i.visible=t.call(i,e,i.data,i),n(i)}),!r.visible&&o.length){var s;s=!o.some(function(e){return e.visible}),r.root?r.root.visible=!1===s:r.visible=!1===s}e&&(!r.visible||r.isLeaf||i||r.expand())}(this)},e.prototype.setData=function(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()},e.prototype.getNode=function(e){if(e instanceof jo)return e;var t="object"!==(void 0===e?"undefined":Uo(e))?e:Vo(this.key,e);return this.nodesMap[t]||null},e.prototype.insertBefore=function(e,t){var i=this.getNode(t);i.parent.insertBefore({data:e},i)},e.prototype.insertAfter=function(e,t){var i=this.getNode(t);i.parent.insertAfter({data:e},i)},e.prototype.remove=function(e){var t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))},e.prototype.append=function(e,t){var i=t?this.getNode(t):this.root;i&&i.insertChild({data:e})},e.prototype._initDefaultCheckedNodes=function(){var e=this,t=this.defaultCheckedKeys||[],i=this.nodesMap;t.forEach(function(t){var n=i[t];n&&n.setChecked(!0,!e.checkStrictly)})},e.prototype._initDefaultCheckedNode=function(e){-1!==(this.defaultCheckedKeys||[]).indexOf(e.key)&&e.setChecked(!0,!this.checkStrictly)},e.prototype.setDefaultCheckedKey=function(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())},e.prototype.registerNode=function(e){this.key&&e&&e.data&&(void 0!==e.key&&(this.nodesMap[e.key]=e))},e.prototype.deregisterNode=function(e){var t=this;this.key&&e&&e.data&&(e.childNodes.forEach(function(e){t.deregisterNode(e)}),delete this.nodesMap[e.key])},e.prototype.getCheckedNodes=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[];return function n(r){(r.root?r.root.childNodes:r.childNodes).forEach(function(r){(r.checked||t&&r.indeterminate)&&(!e||e&&r.isLeaf)&&i.push(r.data),n(r)})}(this),i},e.prototype.getCheckedKeys=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getCheckedNodes(t).map(function(t){return(t||{})[e.key]})},e.prototype.getHalfCheckedNodes=function(){var e=[];return function t(i){(i.root?i.root.childNodes:i.childNodes).forEach(function(i){i.indeterminate&&e.push(i.data),t(i)})}(this),e},e.prototype.getHalfCheckedKeys=function(){var e=this;return this.getHalfCheckedNodes().map(function(t){return(t||{})[e.key]})},e.prototype._getAllNodes=function(){var e=[],t=this.nodesMap;for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e},e.prototype.updateChildren=function(e,t){var i=this.nodesMap[e];if(i){for(var n=i.childNodes,r=n.length-1;r>=0;r--){var o=n[r];this.remove(o.data)}for(var s=0,a=t.length;s<a;s++){var l=t[s];this.append(l,i.data)}}},e.prototype._setCheckedKeys=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments[2],n=this._getAllNodes().sort(function(e,t){return t.level-e.level}),r=Object.create(null),o=Object.keys(i);n.forEach(function(e){return e.setChecked(!1,!1)});for(var s=0,a=n.length;s<a;s++){var l=n[s],c=l.data[e].toString();if(o.indexOf(c)>-1){for(var h=l.parent;h&&h.level>0;)r[h.data[e]]=!0,h=h.parent;l.isLeaf||this.checkStrictly?l.setChecked(!0,!1):(l.setChecked(!0,!0),t&&function(){l.setChecked(!1,!1);!function e(t){t.childNodes.forEach(function(t){t.isLeaf||t.setChecked(!1,!1),e(t)})}(l)}())}else l.checked&&!r[c]&&l.setChecked(!1,!1)}},e.prototype.setCheckedNodes=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.key,n={};e.forEach(function(e){n[(e||{})[i]]=!0}),this._setCheckedKeys(i,t,n)},e.prototype.setCheckedKeys=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.defaultCheckedKeys=e;var i=this.key,n={};e.forEach(function(e){n[e]=!0}),this._setCheckedKeys(i,t,n)},e.prototype.setDefaultExpandedKeys=function(e){var t=this;e=e||[],this.defaultExpandedKeys=e,e.forEach(function(e){var i=t.getNode(e);i&&i.expand(null,t.autoExpandParent)})},e.prototype.setChecked=function(e,t,i){var n=this.getNode(e);n&&n.setChecked(!!t,i)},e.prototype.getCurrentNode=function(){return this.currentNode},e.prototype.setCurrentNode=function(e){var t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0},e.prototype.setUserCurrentNode=function(e){var t=e[this.key],i=this.nodesMap[t];this.setCurrentNode(i)},e.prototype.setCurrentNodeKey=function(e){if(null===e||void 0===e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);var t=this.getNode(e);t&&this.setCurrentNode(t)},e}(),qo=function(){var e=this,t=this,i=t.$createElement,n=t._self._c||i;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.node.visible,expression:"node.visible"}],ref:"node",staticClass:"el-tree-node",class:{"is-expanded":t.expanded,"is-current":t.node.isCurrent,"is-hidden":!t.node.visible,"is-focusable":!t.node.disabled,"is-checked":!t.node.disabled&&t.node.checked},attrs:{role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.draggable},on:{click:function(e){return e.stopPropagation(),t.handleClick(e)},contextmenu:function(t){return e.handleContextMenu(t)},dragstart:function(e){return e.stopPropagation(),t.handleDragStart(e)},dragover:function(e){return e.stopPropagation(),t.handleDragOver(e)},dragend:function(e){return e.stopPropagation(),t.handleDragEnd(e)},drop:function(e){return e.stopPropagation(),t.handleDrop(e)}}},[n("div",{staticClass:"el-tree-node__content",style:{"padding-left":(t.node.level-1)*t.tree.indent+"px"}},[n("span",{class:[{"is-leaf":t.node.isLeaf,expanded:!t.node.isLeaf&&t.expanded},"el-tree-node__expand-icon",t.tree.iconClass?t.tree.iconClass:"el-icon-caret-right"],on:{click:function(e){return e.stopPropagation(),t.handleExpandIconClick(e)}}}),t.showCheckbox?n("el-checkbox",{attrs:{indeterminate:t.node.indeterminate,disabled:!!t.node.disabled},on:{change:t.handleCheckChange},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:t.node.checked,callback:function(e){t.$set(t.node,"checked",e)},expression:"node.checked"}}):t._e(),t.node.loading?n("span",{staticClass:"el-tree-node__loading-icon el-icon-loading"}):t._e(),n("node-content",{attrs:{node:t.node}})],1),n("el-collapse-transition",[!t.renderAfterExpand||t.childNodeRendered?n("div",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"expanded"}],staticClass:"el-tree-node__children",attrs:{role:"group","aria-expanded":t.expanded}},t._l(t.node.childNodes,function(e){return n("el-tree-node",{key:t.getNodeKey(e),attrs:{"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:e},on:{"node-expand":t.handleChildNodeExpand}})}),1):t._e()])],1)};qo._withStripped=!0;var Go=r({name:"ElTreeNode",componentName:"ElTreeNode",mixins:[x.a],props:{node:{default:function(){return{}}},props:{},renderContent:Function,renderAfterExpand:{type:Boolean,default:!0},showCheckbox:{type:Boolean,default:!1}},components:{ElCollapseTransition:_e.a,ElCheckbox:oi.a,NodeContent:{props:{node:{required:!0}},render:function(e){var t=this.$parent,i=t.tree,n=this.node,r=n.data,o=n.store;return t.renderContent?t.renderContent.call(t._renderProxy,e,{_self:i.$vnode.context,node:n,data:r,store:o}):i.$scopedSlots.default?i.$scopedSlots.default({node:n,data:r}):e("span",{class:"el-tree-node__label"},[n.label])}}},data:function(){return{tree:null,expanded:!1,childNodeRendered:!1,oldChecked:null,oldIndeterminate:null}},watch:{"node.indeterminate":function(e){this.handleSelectChange(this.node.checked,e)},"node.checked":function(e){this.handleSelectChange(e,this.node.indeterminate)},"node.expanded":function(e){var t=this;this.$nextTick(function(){return t.expanded=e}),e&&(this.childNodeRendered=!0)}},methods:{getNodeKey:function(e){return Vo(this.tree.nodeKey,e.data)},handleSelectChange:function(e,t){this.oldChecked!==e&&this.oldIndeterminate!==t&&this.tree.$emit("check-change",this.node.data,e,t),this.oldChecked=e,this.indeterminate=t},handleClick:function(){var e=this.tree.store;e.setCurrentNode(this.node),this.tree.$emit("current-change",e.currentNode?e.currentNode.data:null,e.currentNode),this.tree.currentNode=this,this.tree.expandOnClickNode&&this.handleExpandIconClick(),this.tree.checkOnClickNode&&!this.node.disabled&&this.handleCheckChange(null,{target:{checked:!this.node.checked}}),this.tree.$emit("node-click",this.node.data,this.node,this)},handleContextMenu:function(e){this.tree._events["node-contextmenu"]&&this.tree._events["node-contextmenu"].length>0&&(e.stopPropagation(),e.preventDefault()),this.tree.$emit("node-contextmenu",e,this.node.data,this.node,this)},handleExpandIconClick:function(){this.node.isLeaf||(this.expanded?(this.tree.$emit("node-collapse",this.node.data,this.node,this),this.node.collapse()):(this.node.expand(),this.$emit("node-expand",this.node.data,this.node,this)))},handleCheckChange:function(e,t){var i=this;this.node.setChecked(t.target.checked,!this.tree.checkStrictly),this.$nextTick(function(){var e=i.tree.store;i.tree.$emit("check",i.node.data,{checkedNodes:e.getCheckedNodes(),checkedKeys:e.getCheckedKeys(),halfCheckedNodes:e.getHalfCheckedNodes(),halfCheckedKeys:e.getHalfCheckedKeys()})})},handleChildNodeExpand:function(e,t,i){this.broadcast("ElTreeNode","tree-node-expand",t),this.tree.$emit("node-expand",e,t,i)},handleDragStart:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-start",e,this)},handleDragOver:function(e){this.tree.draggable&&(this.tree.$emit("tree-node-drag-over",e,this),e.preventDefault())},handleDrop:function(e){e.preventDefault()},handleDragEnd:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-end",e,this)}},created:function(){var e=this,t=this.$parent;t.isTree?this.tree=t:this.tree=t.tree;var i=this.tree;i||console.warn("Can not find node's tree.");var n=(i.props||{}).children||"children";this.$watch("node.data."+n,function(){e.node.updateChildren()}),this.node.expanded&&(this.expanded=!0,this.childNodeRendered=!0),this.tree.accordion&&this.$on("tree-node-expand",function(t){e.node!==t&&e.node.collapse()})}},qo,[],!1,null,null,null);Go.options.__file="packages/tree/src/tree-node.vue";var Yo=Go.exports,Xo=r({name:"ElTree",mixins:[x.a],components:{ElTreeNode:Yo},data:function(){return{store:null,root:null,currentNode:null,treeItems:null,checkboxItems:[],dragState:{showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0}}},props:{data:{type:Array},emptyText:{type:String,default:function(){return Object(Ft.t)("el.tree.emptyText")}},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{default:function(){return{children:"children",label:"label",disabled:"disabled"}}},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String},computed:{children:{set:function(e){this.data=e},get:function(){return this.data}},treeItemArray:function(){return Array.prototype.slice.call(this.treeItems)},isEmpty:function(){var e=this.root.childNodes;return!e||0===e.length||e.every(function(e){return!e.visible})}},watch:{defaultCheckedKeys:function(e){this.store.setDefaultCheckedKey(e)},defaultExpandedKeys:function(e){this.store.defaultExpandedKeys=e,this.store.setDefaultExpandedKeys(e)},data:function(e){this.store.setData(e)},checkboxItems:function(e){Array.prototype.forEach.call(e,function(e){e.setAttribute("tabindex",-1)})},checkStrictly:function(e){this.store.checkStrictly=e}},methods:{filter:function(e){if(!this.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");this.store.filter(e)},getNodeKey:function(e){return Vo(this.nodeKey,e.data)},getNodePath:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");var t=this.store.getNode(e);if(!t)return[];for(var i=[t.data],n=t.parent;n&&n!==this.root;)i.push(n.data),n=n.parent;return i.reverse()},getCheckedNodes:function(e,t){return this.store.getCheckedNodes(e,t)},getCheckedKeys:function(e){return this.store.getCheckedKeys(e)},getCurrentNode:function(){var e=this.store.getCurrentNode();return e?e.data:null},getCurrentKey:function(){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");var e=this.getCurrentNode();return e?e[this.nodeKey]:null},setCheckedNodes:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedNodes(e,t)},setCheckedKeys:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");this.store.setCheckedKeys(e,t)},setChecked:function(e,t,i){this.store.setChecked(e,t,i)},getHalfCheckedNodes:function(){return this.store.getHalfCheckedNodes()},getHalfCheckedKeys:function(){return this.store.getHalfCheckedKeys()},setCurrentNode:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");this.store.setUserCurrentNode(e)},setCurrentKey:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");this.store.setCurrentNodeKey(e)},getNode:function(e){return this.store.getNode(e)},remove:function(e){this.store.remove(e)},append:function(e,t){this.store.append(e,t)},insertBefore:function(e,t){this.store.insertBefore(e,t)},insertAfter:function(e,t){this.store.insertAfter(e,t)},handleNodeExpand:function(e,t,i){this.broadcast("ElTreeNode","tree-node-expand",t),this.$emit("node-expand",e,t,i)},updateKeyChildren:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");this.store.updateChildren(e,t)},initTabIndex:function(){this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]");var e=this.$el.querySelectorAll(".is-checked[role=treeitem]");e.length?e[0].setAttribute("tabindex",0):this.treeItems[0]&&this.treeItems[0].setAttribute("tabindex",0)},handleKeydown:function(e){var t=e.target;if(-1!==t.className.indexOf("el-tree-node")){var i=e.keyCode;this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]");var n=this.treeItemArray.indexOf(t),r=void 0;[38,40].indexOf(i)>-1&&(e.preventDefault(),r=38===i?0!==n?n-1:0:n<this.treeItemArray.length-1?n+1:0,this.treeItemArray[r].focus()),[37,39].indexOf(i)>-1&&(e.preventDefault(),t.click());var o=t.querySelector('[type="checkbox"]');[13,32].indexOf(i)>-1&&o&&(e.preventDefault(),o.click())}}},created:function(){var e=this;this.isTree=!0,this.store=new Ko({key:this.nodeKey,data:this.data,lazy:this.lazy,props:this.props,load:this.load,currentNodeKey:this.currentNodeKey,checkStrictly:this.checkStrictly,checkDescendants:this.checkDescendants,defaultCheckedKeys:this.defaultCheckedKeys,defaultExpandedKeys:this.defaultExpandedKeys,autoExpandParent:this.autoExpandParent,defaultExpandAll:this.defaultExpandAll,filterNodeMethod:this.filterNodeMethod}),this.root=this.store.root;var t=this.dragState;this.$on("tree-node-drag-start",function(i,n){if("function"==typeof e.allowDrag&&!e.allowDrag(n.node))return i.preventDefault(),!1;i.dataTransfer.effectAllowed="move";try{i.dataTransfer.setData("text/plain","")}catch(e){}t.draggingNode=n,e.$emit("node-drag-start",n.node,i)}),this.$on("tree-node-drag-over",function(i,n){var r=function(e,t){for(var i=e;i&&"BODY"!==i.tagName;){if(i.__vue__&&i.__vue__.$options.name===t)return i.__vue__;i=i.parentNode}return null}(i.target,"ElTreeNode"),o=t.dropNode;o&&o!==r&&Object(pe.removeClass)(o.$el,"is-drop-inner");var s=t.draggingNode;if(s&&r){var a=!0,l=!0,c=!0,h=!0;"function"==typeof e.allowDrop&&(a=e.allowDrop(s.node,r.node,"prev"),h=l=e.allowDrop(s.node,r.node,"inner"),c=e.allowDrop(s.node,r.node,"next")),i.dataTransfer.dropEffect=l?"move":"none",(a||l||c)&&o!==r&&(o&&e.$emit("node-drag-leave",s.node,o.node,i),e.$emit("node-drag-enter",s.node,r.node,i)),(a||l||c)&&(t.dropNode=r),r.node.nextSibling===s.node&&(c=!1),r.node.previousSibling===s.node&&(a=!1),r.node.contains(s.node,!1)&&(l=!1),(s.node===r.node||s.node.contains(r.node))&&(a=!1,l=!1,c=!1);var u=r.$el.getBoundingClientRect(),d=e.$el.getBoundingClientRect(),f=void 0,p=a?l?.25:c?.45:1:-1,m=c?l?.75:a?.55:0:1,g=-9999,v=i.clientY-u.top;f=v<u.height*p?"before":v>u.height*m?"after":l?"inner":"none";var b=r.$el.querySelector(".el-tree-node__expand-icon").getBoundingClientRect(),_=e.$refs.dropIndicator;"before"===f?g=b.top-d.top:"after"===f&&(g=b.bottom-d.top),_.style.top=g+"px",_.style.left=b.right-d.left+"px","inner"===f?Object(pe.addClass)(r.$el,"is-drop-inner"):Object(pe.removeClass)(r.$el,"is-drop-inner"),t.showDropIndicator="before"===f||"after"===f,t.allowDrop=t.showDropIndicator||h,t.dropType=f,e.$emit("node-drag-over",s.node,r.node,i)}}),this.$on("tree-node-drag-end",function(i){var n=t.draggingNode,r=t.dropType,o=t.dropNode;if(i.preventDefault(),i.dataTransfer.dropEffect="move",n&&o){var s={data:n.node.data};"none"!==r&&n.node.remove(),"before"===r?o.node.parent.insertBefore(s,o.node):"after"===r?o.node.parent.insertAfter(s,o.node):"inner"===r&&o.node.insertChild(s),"none"!==r&&e.store.registerNode(s),Object(pe.removeClass)(o.$el,"is-drop-inner"),e.$emit("node-drag-end",n.node,o.node,r,i),"none"!==r&&e.$emit("node-drop",n.node,o.node,r,i)}n&&!o&&e.$emit("node-drag-end",n.node,null,r,i),t.showDropIndicator=!1,t.draggingNode=null,t.dropNode=null,t.allowDrop=!0})},mounted:function(){this.initTabIndex(),this.$el.addEventListener("keydown",this.handleKeydown)},updated:function(){this.treeItems=this.$el.querySelectorAll("[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]")}},Po,[],!1,null,null,null);Xo.options.__file="packages/tree/src/tree.vue";var Zo=Xo.exports;Zo.install=function(e){e.component(Zo.name,Zo)};var Qo=Zo,Jo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-alert-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-alert",class:[e.typeClass,e.center?"is-center":"","is-"+e.effect],attrs:{role:"alert"}},[e.showIcon?i("i",{staticClass:"el-alert__icon",class:[e.iconClass,e.isBigIcon]}):e._e(),i("div",{staticClass:"el-alert__content"},[e.title||e.$slots.title?i("span",{staticClass:"el-alert__title",class:[e.isBoldTitle]},[e._t("title",[e._v(e._s(e.title))])],2):e._e(),e.$slots.default&&!e.description?i("p",{staticClass:"el-alert__description"},[e._t("default")],2):e._e(),e.description&&!e.$slots.default?i("p",{staticClass:"el-alert__description"},[e._v(e._s(e.description))]):e._e(),i("i",{directives:[{name:"show",rawName:"v-show",value:e.closable,expression:"closable"}],staticClass:"el-alert__closebtn",class:{"is-customed":""!==e.closeText,"el-icon-close":""===e.closeText},on:{click:function(t){e.close()}}},[e._v(e._s(e.closeText))])])])])};Jo._withStripped=!0;var es={success:"el-icon-success",warning:"el-icon-warning",error:"el-icon-error"},ts=r({name:"ElAlert",props:{title:{type:String,default:""},description:{type:String,default:""},type:{type:String,default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,default:"light",validator:function(e){return-1!==["light","dark"].indexOf(e)}}},data:function(){return{visible:!0}},methods:{close:function(){this.visible=!1,this.$emit("close")}},computed:{typeClass:function(){return"el-alert--"+this.type},iconClass:function(){return es[this.type]||"el-icon-info"},isBigIcon:function(){return this.description||this.$slots.default?"is-big":""},isBoldTitle:function(){return this.description||this.$slots.default?"is-bold":""}}},Jo,[],!1,null,null,null);ts.options.__file="packages/alert/src/main.vue";var is=ts.exports;is.install=function(e){e.component(is.name,is)};var ns=is,rs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-notification-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["el-notification",e.customClass,e.horizontalClass],style:e.positionStyle,attrs:{role:"alert"},on:{mouseenter:function(t){e.clearTimer()},mouseleave:function(t){e.startTimer()},click:e.click}},[e.type||e.iconClass?i("i",{staticClass:"el-notification__icon",class:[e.typeClass,e.iconClass]}):e._e(),i("div",{staticClass:"el-notification__group",class:{"is-with-icon":e.typeClass||e.iconClass}},[i("h2",{staticClass:"el-notification__title",domProps:{textContent:e._s(e.title)}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.message,expression:"message"}],staticClass:"el-notification__content"},[e._t("default",[e.dangerouslyUseHTMLString?i("p",{domProps:{innerHTML:e._s(e.message)}}):i("p",[e._v(e._s(e.message))])])],2),e.showClose?i("div",{staticClass:"el-notification__closeBtn el-icon-close",on:{click:function(t){return t.stopPropagation(),e.close(t)}}}):e._e()])])])};rs._withStripped=!0;var os={success:"success",info:"info",warning:"warning",error:"error"},ss=r({data:function(){return{visible:!1,title:"",message:"",duration:4500,type:"",showClose:!0,customClass:"",iconClass:"",onClose:null,onClick:null,closed:!1,verticalOffset:0,timer:null,dangerouslyUseHTMLString:!1,position:"top-right"}},computed:{typeClass:function(){return this.type&&os[this.type]?"el-icon-"+os[this.type]:""},horizontalClass:function(){return this.position.indexOf("right")>-1?"right":"left"},verticalProperty:function(){return/^top-/.test(this.position)?"top":"bottom"},positionStyle:function(){var e;return(e={})[this.verticalProperty]=this.verticalOffset+"px",e}},watch:{closed:function(e){e&&(this.visible=!1,this.$el.addEventListener("transitionend",this.destroyElement))}},methods:{destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},click:function(){"function"==typeof this.onClick&&this.onClick()},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose()},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;this.duration>0&&(this.timer=setTimeout(function(){e.closed||e.close()},this.duration))},keydown:function(e){46===e.keyCode||8===e.keyCode?this.clearTimer():27===e.keyCode?this.closed||this.close():this.startTimer()}},mounted:function(){var e=this;this.duration>0&&(this.timer=setTimeout(function(){e.closed||e.close()},this.duration)),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},rs,[],!1,null,null,null);ss.options.__file="packages/notification/src/main.vue";var as=ss.exports,ls=di.a.extend(as),cs=void 0,hs=[],us=1,ds=function e(t){if(!di.a.prototype.$isServer){var i=(t=$e()({},t)).onClose,n="notification_"+us++,r=t.position||"top-right";t.onClose=function(){e.close(n,i)},cs=new ls({data:t}),Object(zr.isVNode)(t.message)&&(cs.$slots.default=[t.message],t.message="REPLACED_BY_VNODE"),cs.id=n,cs.$mount(),document.body.appendChild(cs.$el),cs.visible=!0,cs.dom=cs.$el,cs.dom.style.zIndex=_.PopupManager.nextZIndex();var o=t.offset||0;return hs.filter(function(e){return e.position===r}).forEach(function(e){o+=e.$el.offsetHeight+16}),o+=16,cs.verticalOffset=o,hs.push(cs),cs}};["success","warning","info","error"].forEach(function(e){ds[e]=function(t){return("string"==typeof t||Object(zr.isVNode)(t))&&(t={message:t}),t.type=e,ds(t)}}),ds.close=function(e,t){var i=-1,n=hs.length,r=hs.filter(function(t,n){return t.id===e&&(i=n,!0)})[0];if(r&&("function"==typeof t&&t(r),hs.splice(i,1),!(n<=1)))for(var o=r.position,s=r.dom.offsetHeight,a=i;a<n-1;a++)hs[a].position===o&&(hs[a].dom.style[r.verticalProperty]=parseInt(hs[a].dom.style[r.verticalProperty],10)-s-16+"px")},ds.closeAll=function(){for(var e=hs.length-1;e>=0;e--)hs[e].close()};var fs=ds,ps=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-slider",class:{"is-vertical":e.vertical,"el-slider--with-input":e.showInput},attrs:{role:"slider","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":e.sliderDisabled}},[e.showInput&&!e.range?i("el-input-number",{ref:"input",staticClass:"el-slider__input",attrs:{step:e.step,disabled:e.sliderDisabled,controls:e.showInputControls,min:e.min,max:e.max,debounce:e.debounce,size:e.inputSize},on:{change:e.emitChange},model:{value:e.firstValue,callback:function(t){e.firstValue=t},expression:"firstValue"}}):e._e(),i("div",{ref:"slider",staticClass:"el-slider__runway",class:{"show-input":e.showInput,disabled:e.sliderDisabled},style:e.runwayStyle,on:{click:e.onSliderClick}},[i("div",{staticClass:"el-slider__bar",style:e.barStyle}),i("slider-button",{ref:"button1",attrs:{vertical:e.vertical,"tooltip-class":e.tooltipClass},model:{value:e.firstValue,callback:function(t){e.firstValue=t},expression:"firstValue"}}),e.range?i("slider-button",{ref:"button2",attrs:{vertical:e.vertical,"tooltip-class":e.tooltipClass},model:{value:e.secondValue,callback:function(t){e.secondValue=t},expression:"secondValue"}}):e._e(),e._l(e.stops,function(t,n){return e.showStops?i("div",{key:n,staticClass:"el-slider__stop",style:e.getStopStyle(t)}):e._e()}),e.markList.length>0?[i("div",e._l(e.markList,function(t,n){return i("div",{key:n,staticClass:"el-slider__stop el-slider__marks-stop",style:e.getStopStyle(t.position)})}),0),i("div",{staticClass:"el-slider__marks"},e._l(e.markList,function(t,n){return i("slider-marker",{key:n,style:e.getStopStyle(t.position),attrs:{mark:t.mark}})}),1)]:e._e()],2)],1)};ps._withStripped=!0;var ms=i(41),gs=i.n(ms),vs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"button",staticClass:"el-slider__button-wrapper",class:{hover:e.hovering,dragging:e.dragging},style:e.wrapperStyle,attrs:{tabindex:"0"},on:{mouseenter:e.handleMouseEnter,mouseleave:e.handleMouseLeave,mousedown:e.onButtonDown,touchstart:e.onButtonDown,focus:e.handleMouseEnter,blur:e.handleMouseLeave,keydown:[function(t){return"button"in t||!e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?"button"in t&&0!==t.button?null:e.onLeftKeyDown(t):null},function(t){return"button"in t||!e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])?"button"in t&&2!==t.button?null:e.onRightKeyDown(t):null},function(t){return"button"in t||!e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?(t.preventDefault(),e.onLeftKeyDown(t)):null},function(t){return"button"in t||!e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?(t.preventDefault(),e.onRightKeyDown(t)):null}]}},[i("el-tooltip",{ref:"tooltip",attrs:{placement:"top","popper-class":e.tooltipClass,disabled:!e.showTooltip}},[i("span",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.formatValue))]),i("div",{staticClass:"el-slider__button",class:{hover:e.hovering,dragging:e.dragging}})])],1)};vs._withStripped=!0;var bs=r({name:"ElSliderButton",components:{ElTooltip:De.a},props:{value:{type:Number,default:0},vertical:{type:Boolean,default:!1},tooltipClass:String},data:function(){return{hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:null,oldValue:this.value}},computed:{disabled:function(){return this.$parent.sliderDisabled},max:function(){return this.$parent.max},min:function(){return this.$parent.min},step:function(){return this.$parent.step},showTooltip:function(){return this.$parent.showTooltip},precision:function(){return this.$parent.precision},currentPosition:function(){return(this.value-this.min)/(this.max-this.min)*100+"%"},enableFormat:function(){return this.$parent.formatTooltip instanceof Function},formatValue:function(){return this.enableFormat&&this.$parent.formatTooltip(this.value)||this.value},wrapperStyle:function(){return this.vertical?{bottom:this.currentPosition}:{left:this.currentPosition}}},watch:{dragging:function(e){this.$parent.dragging=e}},methods:{displayTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!0)},hideTooltip:function(){this.$refs.tooltip&&(this.$refs.tooltip.showPopper=!1)},handleMouseEnter:function(){this.hovering=!0,this.displayTooltip()},handleMouseLeave:function(){this.hovering=!1,this.hideTooltip()},onButtonDown:function(e){this.disabled||(e.preventDefault(),this.onDragStart(e),window.addEventListener("mousemove",this.onDragging),window.addEventListener("touchmove",this.onDragging),window.addEventListener("mouseup",this.onDragEnd),window.addEventListener("touchend",this.onDragEnd),window.addEventListener("contextmenu",this.onDragEnd))},onLeftKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)-this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onRightKeyDown:function(){this.disabled||(this.newPosition=parseFloat(this.currentPosition)+this.step/(this.max-this.min)*100,this.setPosition(this.newPosition),this.$parent.emitChange())},onDragStart:function(e){this.dragging=!0,this.isClick=!0,"touchstart"===e.type&&(e.clientY=e.touches[0].clientY,e.clientX=e.touches[0].clientX),this.vertical?this.startY=e.clientY:this.startX=e.clientX,this.startPosition=parseFloat(this.currentPosition),this.newPosition=this.startPosition},onDragging:function(e){if(this.dragging){this.isClick=!1,this.displayTooltip(),this.$parent.resetSize();var t=0;"touchmove"===e.type&&(e.clientY=e.touches[0].clientY,e.clientX=e.touches[0].clientX),this.vertical?(this.currentY=e.clientY,t=(this.startY-this.currentY)/this.$parent.sliderSize*100):(this.currentX=e.clientX,t=(this.currentX-this.startX)/this.$parent.sliderSize*100),this.newPosition=this.startPosition+t,this.setPosition(this.newPosition)}},onDragEnd:function(){var e=this;this.dragging&&(setTimeout(function(){e.dragging=!1,e.hideTooltip(),e.isClick||(e.setPosition(e.newPosition),e.$parent.emitChange())},0),window.removeEventListener("mousemove",this.onDragging),window.removeEventListener("touchmove",this.onDragging),window.removeEventListener("mouseup",this.onDragEnd),window.removeEventListener("touchend",this.onDragEnd),window.removeEventListener("contextmenu",this.onDragEnd))},setPosition:function(e){var t=this;if(null!==e&&!isNaN(e)){e<0?e=0:e>100&&(e=100);var i=100/((this.max-this.min)/this.step),n=Math.round(e/i)*i*(this.max-this.min)*.01+this.min;n=parseFloat(n.toFixed(this.precision)),this.$emit("input",n),this.$nextTick(function(){t.displayTooltip(),t.$refs.tooltip&&t.$refs.tooltip.updatePopper()}),this.dragging||this.value===this.oldValue||(this.oldValue=this.value)}}}},vs,[],!1,null,null,null);bs.options.__file="packages/slider/src/button.vue";var _s=bs.exports,ys={name:"ElMarker",props:{mark:{type:[String,Object]}},render:function(){var e=arguments[0],t="string"==typeof this.mark?this.mark:this.mark.label;return e("div",{class:"el-slider__marks-text",style:this.mark.style||{}},[t])}},ws=r({name:"ElSlider",mixins:[x.a],inject:{elForm:{default:""}},props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},value:{type:[Number,Array],default:0},showInput:{type:Boolean,default:!1},showInputControls:{type:Boolean,default:!0},inputSize:{type:String,default:"small"},showStops:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},formatTooltip:Function,disabled:{type:Boolean,default:!1},range:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},height:{type:String},debounce:{type:Number,default:300},label:{type:String},tooltipClass:String,marks:Object},components:{ElInputNumber:gs.a,SliderButton:_s,SliderMarker:ys},data:function(){return{firstValue:null,secondValue:null,oldValue:null,dragging:!1,sliderSize:1}},watch:{value:function(e,t){this.dragging||Array.isArray(e)&&Array.isArray(t)&&e.every(function(e,i){return e===t[i]})||this.setValues()},dragging:function(e){e||this.setValues()},firstValue:function(e){this.range?this.$emit("input",[this.minValue,this.maxValue]):this.$emit("input",e)},secondValue:function(){this.range&&this.$emit("input",[this.minValue,this.maxValue])},min:function(){this.setValues()},max:function(){this.setValues()}},methods:{valueChanged:function(){var e=this;return this.range?![this.minValue,this.maxValue].every(function(t,i){return t===e.oldValue[i]}):this.value!==this.oldValue},setValues:function(){if(this.min>this.max)console.error("[Element Error][Slider]min should not be greater than max.");else{var e=this.value;this.range&&Array.isArray(e)?e[1]<this.min?this.$emit("input",[this.min,this.min]):e[0]>this.max?this.$emit("input",[this.max,this.max]):e[0]<this.min?this.$emit("input",[this.min,e[1]]):e[1]>this.max?this.$emit("input",[e[0],this.max]):(this.firstValue=e[0],this.secondValue=e[1],this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",[this.minValue,this.maxValue]),this.oldValue=e.slice())):this.range||"number"!=typeof e||isNaN(e)||(e<this.min?this.$emit("input",this.min):e>this.max?this.$emit("input",this.max):(this.firstValue=e,this.valueChanged()&&(this.dispatch("ElFormItem","el.form.change",e),this.oldValue=e)))}},setPosition:function(e){var t=this.min+e*(this.max-this.min)/100;if(this.range){var i=void 0;i=Math.abs(this.minValue-t)<Math.abs(this.maxValue-t)?this.firstValue<this.secondValue?"button1":"button2":this.firstValue>this.secondValue?"button1":"button2",this.$refs[i].setPosition(e)}else this.$refs.button1.setPosition(e)},onSliderClick:function(e){if(!this.sliderDisabled&&!this.dragging){if(this.resetSize(),this.vertical){var t=this.$refs.slider.getBoundingClientRect().bottom;this.setPosition((t-e.clientY)/this.sliderSize*100)}else{var i=this.$refs.slider.getBoundingClientRect().left;this.setPosition((e.clientX-i)/this.sliderSize*100)}this.emitChange()}},resetSize:function(){this.$refs.slider&&(this.sliderSize=this.$refs.slider["client"+(this.vertical?"Height":"Width")])},emitChange:function(){var e=this;this.$nextTick(function(){e.$emit("change",e.range?[e.minValue,e.maxValue]:e.value)})},getStopStyle:function(e){return this.vertical?{bottom:e+"%"}:{left:e+"%"}}},computed:{stops:function(){var e=this;if(!this.showStops||this.min>this.max)return[];if(0===this.step)return[];for(var t=(this.max-this.min)/this.step,i=100*this.step/(this.max-this.min),n=[],r=1;r<t;r++)n.push(r*i);return this.range?n.filter(function(t){return t<100*(e.minValue-e.min)/(e.max-e.min)||t>100*(e.maxValue-e.min)/(e.max-e.min)}):n.filter(function(t){return t>100*(e.firstValue-e.min)/(e.max-e.min)})},markList:function(){var e=this;return this.marks?Object.keys(this.marks).map(parseFloat).sort(function(e,t){return e-t}).filter(function(t){return t<=e.max&&t>=e.min}).map(function(t){return{point:t,position:100*(t-e.min)/(e.max-e.min),mark:e.marks[t]}}):[]},minValue:function(){return Math.min(this.firstValue,this.secondValue)},maxValue:function(){return Math.max(this.firstValue,this.secondValue)},barSize:function(){return this.range?100*(this.maxValue-this.minValue)/(this.max-this.min)+"%":100*(this.firstValue-this.min)/(this.max-this.min)+"%"},barStart:function(){return this.range?100*(this.minValue-this.min)/(this.max-this.min)+"%":"0%"},precision:function(){var e=[this.min,this.max,this.step].map(function(e){var t=(""+e).split(".")[1];return t?t.length:0});return Math.max.apply(null,e)},runwayStyle:function(){return this.vertical?{height:this.height}:{}},barStyle:function(){return this.vertical?{height:this.barSize,bottom:this.barStart}:{width:this.barSize,left:this.barStart}},sliderDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},mounted:function(){var e=void 0;this.range?(Array.isArray(this.value)?(this.firstValue=Math.max(this.min,this.value[0]),this.secondValue=Math.min(this.max,this.value[1])):(this.firstValue=this.min,this.secondValue=this.max),this.oldValue=[this.firstValue,this.secondValue],e=this.firstValue+"-"+this.secondValue):("number"!=typeof this.value||isNaN(this.value)?this.firstValue=this.min:this.firstValue=Math.min(this.max,Math.max(this.min,this.value)),this.oldValue=this.firstValue,e=this.firstValue),this.$el.setAttribute("aria-valuetext",e),this.$el.setAttribute("aria-label",this.label?this.label:"slider between "+this.min+" and "+this.max),this.resetSize(),window.addEventListener("resize",this.resetSize)},beforeDestroy:function(){window.removeEventListener("resize",this.resetSize)}},ps,[],!1,null,null,null);ws.options.__file="packages/slider/src/main.vue";var Cs=ws.exports;Cs.install=function(e){e.component(Cs.name,Cs)};var Ss=Cs,xs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":e.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[e.customClass,{"is-fullscreen":e.fullscreen}],style:{backgroundColor:e.background||""}},[i("div",{staticClass:"el-loading-spinner"},[e.spinner?i("i",{class:e.spinner}):i("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[i("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),e.text?i("p",{staticClass:"el-loading-text"},[e._v(e._s(e.text))]):e._e()])])])};xs._withStripped=!0;var ks=r({data:function(){return{text:null,spinner:null,background:null,fullscreen:!0,visible:!1,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(e){this.text=e}}},xs,[],!1,null,null,null);ks.options.__file="packages/loading/src/loading.vue";var Ls=ks.exports,Ds=i(33),Es=i.n(Ds),Ns=di.a.extend(Ls),Ts={install:function(e){if(!e.prototype.$isServer){var t=function(t,n){n.value?e.nextTick(function(){n.modifiers.fullscreen?(t.originalPosition=Object(pe.getStyle)(document.body,"position"),t.originalOverflow=Object(pe.getStyle)(document.body,"overflow"),t.maskStyle.zIndex=_.PopupManager.nextZIndex(),Object(pe.addClass)(t.mask,"is-fullscreen"),i(document.body,t,n)):(Object(pe.removeClass)(t.mask,"is-fullscreen"),n.modifiers.body?(t.originalPosition=Object(pe.getStyle)(document.body,"position"),["top","left"].forEach(function(e){var i="top"===e?"scrollTop":"scrollLeft";t.maskStyle[e]=t.getBoundingClientRect()[e]+document.body[i]+document.documentElement[i]-parseInt(Object(pe.getStyle)(document.body,"margin-"+e),10)+"px"}),["height","width"].forEach(function(e){t.maskStyle[e]=t.getBoundingClientRect()[e]+"px"}),i(document.body,t,n)):(t.originalPosition=Object(pe.getStyle)(t,"position"),i(t,t,n)))}):(Es()(t.instance,function(e){if(t.instance.hiding){t.domVisible=!1;var i=n.modifiers.fullscreen||n.modifiers.body?document.body:t;Object(pe.removeClass)(i,"el-loading-parent--relative"),Object(pe.removeClass)(i,"el-loading-parent--hidden"),t.instance.hiding=!1}},300,!0),t.instance.visible=!1,t.instance.hiding=!0)},i=function(t,i,n){i.domVisible||"none"===Object(pe.getStyle)(i,"display")||"hidden"===Object(pe.getStyle)(i,"visibility")?i.domVisible&&!0===i.instance.hiding&&(i.instance.visible=!0,i.instance.hiding=!1):(Object.keys(i.maskStyle).forEach(function(e){i.mask.style[e]=i.maskStyle[e]}),"absolute"!==i.originalPosition&&"fixed"!==i.originalPosition&&Object(pe.addClass)(t,"el-loading-parent--relative"),n.modifiers.fullscreen&&n.modifiers.lock&&Object(pe.addClass)(t,"el-loading-parent--hidden"),i.domVisible=!0,t.appendChild(i.mask),e.nextTick(function(){i.instance.hiding?i.instance.$emit("after-leave"):i.instance.visible=!0}),i.domInserted=!0)};e.directive("loading",{bind:function(e,i,n){var r=e.getAttribute("element-loading-text"),o=e.getAttribute("element-loading-spinner"),s=e.getAttribute("element-loading-background"),a=e.getAttribute("element-loading-custom-class"),l=n.context,c=new Ns({el:document.createElement("div"),data:{text:l&&l[r]||r,spinner:l&&l[o]||o,background:l&&l[s]||s,customClass:l&&l[a]||a,fullscreen:!!i.modifiers.fullscreen}});e.instance=c,e.mask=c.$el,e.maskStyle={},i.value&&t(e,i)},update:function(e,i){e.instance.setText(e.getAttribute("element-loading-text")),i.oldValue!==i.value&&t(e,i)},unbind:function(e,i){e.domInserted&&(e.mask&&e.mask.parentNode&&e.mask.parentNode.removeChild(e.mask),t(e,{value:!1,modifiers:i.modifiers})),e.instance&&e.instance.$destroy()}})}}},Os=Ts,Ms=di.a.extend(Ls),Is={text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},As=void 0;Ms.prototype.originalPosition="",Ms.prototype.originalOverflow="",Ms.prototype.close=function(){var e=this;this.fullscreen&&(As=void 0),Es()(this,function(t){var i=e.fullscreen||e.body?document.body:e.target;Object(pe.removeClass)(i,"el-loading-parent--relative"),Object(pe.removeClass)(i,"el-loading-parent--hidden"),e.$el&&e.$el.parentNode&&e.$el.parentNode.removeChild(e.$el),e.$destroy()},300),this.visible=!1};var Ps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!di.a.prototype.$isServer){if("string"==typeof(e=$e()({},Is,e)).target&&(e.target=document.querySelector(e.target)),e.target=e.target||document.body,e.target!==document.body?e.fullscreen=!1:e.body=!0,e.fullscreen&&As)return As;var t=e.body?document.body:e.target,i=new Ms({el:document.createElement("div"),data:e});return function(e,t,i){var n={};e.fullscreen?(i.originalPosition=Object(pe.getStyle)(document.body,"position"),i.originalOverflow=Object(pe.getStyle)(document.body,"overflow"),n.zIndex=_.PopupManager.nextZIndex()):e.body?(i.originalPosition=Object(pe.getStyle)(document.body,"position"),["top","left"].forEach(function(t){var i="top"===t?"scrollTop":"scrollLeft";n[t]=e.target.getBoundingClientRect()[t]+document.body[i]+document.documentElement[i]+"px"}),["height","width"].forEach(function(t){n[t]=e.target.getBoundingClientRect()[t]+"px"})):i.originalPosition=Object(pe.getStyle)(t,"position"),Object.keys(n).forEach(function(e){i.$el.style[e]=n[e]})}(e,t,i),"absolute"!==i.originalPosition&&"fixed"!==i.originalPosition&&Object(pe.addClass)(t,"el-loading-parent--relative"),e.fullscreen&&e.lock&&Object(pe.addClass)(t,"el-loading-parent--hidden"),t.appendChild(i.$el),di.a.nextTick(function(){i.visible=!0}),e.fullscreen&&(As=i),i}},Rs={install:function(e){e.use(Os),e.prototype.$loading=Ps},directive:Os,service:Ps},Fs=function(){var e=this.$createElement;return(this._self._c||e)("i",{class:"el-icon-"+this.name})};Fs._withStripped=!0;var Vs=r({name:"ElIcon",props:{name:String}},Fs,[],!1,null,null,null);Vs.options.__file="packages/icon/src/icon.vue";var Bs=Vs.exports;Bs.install=function(e){e.component(Bs.name,Bs)};var Ws=Bs,$s={name:"ElRow",componentName:"ElRow",props:{tag:{type:String,default:"div"},gutter:Number,type:String,justify:{type:String,default:"start"},align:{type:String,default:"top"}},computed:{style:function(){var e={};return this.gutter&&(e.marginLeft="-"+this.gutter/2+"px",e.marginRight=e.marginLeft),e}},render:function(e){return e(this.tag,{class:["el-row","start"!==this.justify?"is-justify-"+this.justify:"","top"!==this.align?"is-align-"+this.align:"",{"el-row--flex":"flex"===this.type}],style:this.style},this.$slots.default)},install:function(e){e.component($s.name,$s)}},zs=$s,Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js={name:"ElCol",props:{span:{type:Number,default:24},tag:{type:String,default:"div"},offset:Number,pull:Number,push:Number,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},computed:{gutter:function(){for(var e=this.$parent;e&&"ElRow"!==e.$options.componentName;)e=e.$parent;return e?e.gutter:0}},render:function(e){var t=this,i=[],n={};return this.gutter&&(n.paddingLeft=this.gutter/2+"px",n.paddingRight=n.paddingLeft),["span","offset","pull","push"].forEach(function(e){(t[e]||0===t[e])&&i.push("span"!==e?"el-col-"+e+"-"+t[e]:"el-col-"+t[e])}),["xs","sm","md","lg","xl"].forEach(function(e){if("number"==typeof t[e])i.push("el-col-"+e+"-"+t[e]);else if("object"===Hs(t[e])){var n=t[e];Object.keys(n).forEach(function(t){i.push("span"!==t?"el-col-"+e+"-"+t+"-"+n[t]:"el-col-"+e+"-"+n[t])})}}),e(this.tag,{class:["el-col",i],style:n},this.$slots.default)},install:function(e){e.component(js.name,js)}},Us=js,Ks=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition-group",{class:["el-upload-list","el-upload-list--"+e.listType,{"is-disabled":e.disabled}],attrs:{tag:"ul",name:"el-list"}},e._l(e.files,function(t){return i("li",{key:t.uid,class:["el-upload-list__item","is-"+t.status,e.focusing?"focusing":""],attrs:{tabindex:"0"},on:{keydown:function(i){if(!("button"in i)&&e._k(i.keyCode,"delete",[8,46],i.key,["Backspace","Delete","Del"]))return null;!e.disabled&&e.$emit("remove",t)},focus:function(t){e.focusing=!0},blur:function(t){e.focusing=!1},click:function(t){e.focusing=!1}}},[e._t("default",["uploading"!==t.status&&["picture-card","picture"].indexOf(e.listType)>-1?i("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t.url,alt:""}}):e._e(),i("a",{staticClass:"el-upload-list__item-name",on:{click:function(i){e.handleClick(t)}}},[i("i",{staticClass:"el-icon-document"}),e._v(e._s(t.name)+"\n      ")]),i("label",{staticClass:"el-upload-list__item-status-label"},[i("i",{class:{"el-icon-upload-success":!0,"el-icon-circle-check":"text"===e.listType,"el-icon-check":["picture-card","picture"].indexOf(e.listType)>-1}})]),e.disabled?e._e():i("i",{staticClass:"el-icon-close",on:{click:function(i){e.$emit("remove",t)}}}),e.disabled?e._e():i("i",{staticClass:"el-icon-close-tip"},[e._v(e._s(e.t("el.upload.deleteTip")))]),"uploading"===t.status?i("el-progress",{attrs:{type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:e.parsePercentage(t.percentage)}}):e._e(),"picture-card"===e.listType?i("span",{staticClass:"el-upload-list__item-actions"},[e.handlePreview&&"picture-card"===e.listType?i("span",{staticClass:"el-upload-list__item-preview",on:{click:function(i){e.handlePreview(t)}}},[i("i",{staticClass:"el-icon-zoom-in"})]):e._e(),e.disabled?e._e():i("span",{staticClass:"el-upload-list__item-delete",on:{click:function(i){e.$emit("remove",t)}}},[i("i",{staticClass:"el-icon-delete"})])]):e._e()],{file:t})],2)}),0)};Ks._withStripped=!0;var qs=i(34),Gs=i.n(qs),Ys=r({name:"ElUploadList",mixins:[p.a],data:function(){return{focusing:!1}},components:{ElProgress:Gs.a},props:{files:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},handlePreview:Function,listType:String},methods:{parsePercentage:function(e){return parseInt(e,10)},handleClick:function(e){this.handlePreview&&this.handlePreview(e)}}},Ks,[],!1,null,null,null);Ys.options.__file="packages/upload/src/upload-list.vue";var Xs=Ys.exports,Zs=i(24),Qs=i.n(Zs);var Js=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"el-upload-dragger",class:{"is-dragover":e.dragover},on:{drop:function(t){return t.preventDefault(),e.onDrop(t)},dragover:function(t){return t.preventDefault(),e.onDragover(t)},dragleave:function(t){t.preventDefault(),e.dragover=!1}}},[e._t("default")],2)};Js._withStripped=!0;var ea=r({name:"ElUploadDrag",props:{disabled:Boolean},inject:{uploader:{default:""}},data:function(){return{dragover:!1}},methods:{onDragover:function(){this.disabled||(this.dragover=!0)},onDrop:function(e){if(!this.disabled&&this.uploader){var t=this.uploader.accept;this.dragover=!1,t?this.$emit("file",[].slice.call(e.dataTransfer.files).filter(function(e){var i=e.type,n=e.name,r=n.indexOf(".")>-1?"."+n.split(".").pop():"",o=i.replace(/\/.*$/,"");return t.split(",").map(function(e){return e.trim()}).filter(function(e){return e}).some(function(e){return/\..+$/.test(e)?r===e:/\/\*$/.test(e)?o===e.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(e)&&i===e})})):this.$emit("file",e.dataTransfer.files)}}}},Js,[],!1,null,null,null);ea.options.__file="packages/upload/src/upload-dragger.vue";var ta=r({inject:["uploader"],components:{UploadDragger:ea.exports},props:{type:String,action:{type:String,required:!0},name:{type:String,default:"file"},data:Object,headers:Object,withCredentials:Boolean,multiple:Boolean,accept:String,onStart:Function,onProgress:Function,onSuccess:Function,onError:Function,beforeUpload:Function,drag:Boolean,onPreview:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},fileList:Array,autoUpload:Boolean,listType:String,httpRequest:{type:Function,default:function(e){if("undefined"!=typeof XMLHttpRequest){var t=new XMLHttpRequest,i=e.action;t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).forEach(function(t){n.append(t,e.data[t])}),n.append(e.filename,e.file,e.file.name),t.onerror=function(t){e.onError(t)},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(function(e,t,i){var n=void 0;n=i.response?""+(i.response.error||i.response):i.responseText?""+i.responseText:"fail to post "+e+" "+i.status;var r=new Error(n);return r.status=i.status,r.method="post",r.url=e,r}(i,0,t));e.onSuccess(function(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}(t))},t.open("post",i,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var r=e.headers||{};for(var o in r)r.hasOwnProperty(o)&&null!==r[o]&&t.setRequestHeader(o,r[o]);return t.send(n),t}}},disabled:Boolean,limit:Number,onExceed:Function},data:function(){return{mouseover:!1,reqs:{}}},methods:{isImage:function(e){return-1!==e.indexOf("image")},handleChange:function(e){var t=e.target.files;t&&this.uploadFiles(t)},uploadFiles:function(e){var t=this;if(this.limit&&this.fileList.length+e.length>this.limit)this.onExceed&&this.onExceed(e,this.fileList);else{var i=Array.prototype.slice.call(e);this.multiple||(i=i.slice(0,1)),0!==i.length&&i.forEach(function(e){t.onStart(e),t.autoUpload&&t.upload(e)})}},upload:function(e){var t=this;if(this.$refs.input.value=null,!this.beforeUpload)return this.post(e);var i=this.beforeUpload(e);i&&i.then?i.then(function(i){var n=Object.prototype.toString.call(i);if("[object File]"===n||"[object Blob]"===n){for(var r in"[object Blob]"===n&&(i=new File([i],e.name,{type:e.type})),e)e.hasOwnProperty(r)&&(i[r]=e[r]);t.post(i)}else t.post(e)},function(){t.onRemove(null,e)}):!1!==i?this.post(e):this.onRemove(null,e)},abort:function(e){var t=this.reqs;if(e){var i=e;e.uid&&(i=e.uid),t[i]&&t[i].abort()}else Object.keys(t).forEach(function(e){t[e]&&t[e].abort(),delete t[e]})},post:function(e){var t=this,i=e.uid,n={headers:this.headers,withCredentials:this.withCredentials,file:e,data:this.data,filename:this.name,action:this.action,onProgress:function(i){t.onProgress(i,e)},onSuccess:function(n){t.onSuccess(n,e),delete t.reqs[i]},onError:function(n){t.onError(n,e),delete t.reqs[i]}},r=this.httpRequest(n);this.reqs[i]=r,r&&r.then&&r.then(n.onSuccess,n.onError)},handleClick:function(){this.disabled||(this.$refs.input.value=null,this.$refs.input.click())},handleKeydown:function(e){e.target===e.currentTarget&&(13!==e.keyCode&&32!==e.keyCode||this.handleClick())}},render:function(e){var t=this.handleClick,i=this.drag,n=this.name,r=this.handleChange,o=this.multiple,s=this.accept,a=this.listType,l=this.uploadFiles,c=this.disabled,h={class:{"el-upload":!0},on:{click:t,keydown:this.handleKeydown}};return h.class["el-upload--"+a]=!0,e("div",Qs()([h,{attrs:{tabindex:"0"}}]),[i?e("upload-dragger",{attrs:{disabled:c},on:{file:l}},[this.$slots.default]):this.$slots.default,e("input",{class:"el-upload__input",attrs:{type:"file",name:n,multiple:o,accept:s},ref:"input",on:{change:r}})])}},void 0,void 0,!1,null,null,null);ta.options.__file="packages/upload/src/upload.vue";var ia=ta.exports;function na(){}var ra=r({name:"ElUpload",mixins:[C.a],components:{ElProgress:Gs.a,UploadList:Xs,Upload:ia},provide:function(){return{uploader:this}},inject:{elForm:{default:""}},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},data:Object,multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,dragger:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:String,type:{type:String,default:"select"},beforeUpload:Function,beforeRemove:Function,onRemove:{type:Function,default:na},onChange:{type:Function,default:na},onPreview:{type:Function},onSuccess:{type:Function,default:na},onProgress:{type:Function,default:na},onError:{type:Function,default:na},fileList:{type:Array,default:function(){return[]}},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:Function,disabled:Boolean,limit:Number,onExceed:{type:Function,default:na}},data:function(){return{uploadFiles:[],dragOver:!1,draging:!1,tempIndex:1}},computed:{uploadDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{listType:function(e){"picture-card"!==e&&"picture"!==e||(this.uploadFiles=this.uploadFiles.map(function(e){if(!e.url&&e.raw)try{e.url=URL.createObjectURL(e.raw)}catch(e){console.error("[Element Error][Upload]",e)}return e}))},fileList:{immediate:!0,handler:function(e){var t=this;this.uploadFiles=e.map(function(e){return e.uid=e.uid||Date.now()+t.tempIndex++,e.status=e.status||"success",e})}}},methods:{handleStart:function(e){e.uid=Date.now()+this.tempIndex++;var t={status:"ready",name:e.name,size:e.size,percentage:0,uid:e.uid,raw:e};if("picture-card"===this.listType||"picture"===this.listType)try{t.url=URL.createObjectURL(e)}catch(e){return void console.error("[Element Error][Upload]",e)}this.uploadFiles.push(t),this.onChange(t,this.uploadFiles)},handleProgress:function(e,t){var i=this.getFile(t);this.onProgress(e,i,this.uploadFiles),i.status="uploading",i.percentage=e.percent||0},handleSuccess:function(e,t){var i=this.getFile(t);i&&(i.status="success",i.response=e,this.onSuccess(e,i,this.uploadFiles),this.onChange(i,this.uploadFiles))},handleError:function(e,t){var i=this.getFile(t),n=this.uploadFiles;i.status="fail",n.splice(n.indexOf(i),1),this.onError(e,i,this.uploadFiles),this.onChange(i,this.uploadFiles)},handleRemove:function(e,t){var i=this;t&&(e=this.getFile(t));var n=function(){i.abort(e);var t=i.uploadFiles;t.splice(t.indexOf(e),1),i.onRemove(e,t)};if(this.beforeRemove){if("function"==typeof this.beforeRemove){var r=this.beforeRemove(e,this.uploadFiles);r&&r.then?r.then(function(){n()},na):!1!==r&&n()}}else n()},getFile:function(e){var t=void 0;return this.uploadFiles.every(function(i){return!(t=e.uid===i.uid?i:null)}),t},abort:function(e){this.$refs["upload-inner"].abort(e)},clearFiles:function(){this.uploadFiles=[]},submit:function(){var e=this;this.uploadFiles.filter(function(e){return"ready"===e.status}).forEach(function(t){e.$refs["upload-inner"].upload(t.raw)})},getMigratingConfig:function(){return{props:{"default-file-list":"default-file-list is renamed to file-list.","show-upload-list":"show-upload-list is renamed to show-file-list.","thumbnail-mode":"thumbnail-mode has been deprecated, you can implement the same effect according to this case: http://element.eleme.io/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan"}}}},beforeDestroy:function(){this.uploadFiles.forEach(function(e){e.url&&0===e.url.indexOf("blob:")&&URL.revokeObjectURL(e.url)})},render:function(e){var t=this,i=void 0;this.showFileList&&(i=e(Xs,{attrs:{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,handlePreview:this.onPreview},on:{remove:this.handleRemove}},[function(e){if(t.$scopedSlots.file)return t.$scopedSlots.file({file:e.file})}]));var n=e("upload",{props:{type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest},ref:"upload-inner"},[this.$slots.trigger||this.$slots.default]);return e("div",["picture-card"===this.listType?i:"",this.$slots.trigger?[n,this.$slots.default]:n,this.$slots.tip,"picture-card"!==this.listType?i:""])}},void 0,void 0,!1,null,null,null);ra.options.__file="packages/upload/src/index.vue";var oa=ra.exports;oa.install=function(e){e.component(oa.name,oa)};var sa=oa,aa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-progress",class:["el-progress--"+e.type,e.status?"is-"+e.status:"",{"el-progress--without-text":!e.showText,"el-progress--text-inside":e.textInside}],attrs:{role:"progressbar","aria-valuenow":e.percentage,"aria-valuemin":"0","aria-valuemax":"100"}},["line"===e.type?i("div",{staticClass:"el-progress-bar"},[i("div",{staticClass:"el-progress-bar__outer",style:{height:e.strokeWidth+"px"}},[i("div",{staticClass:"el-progress-bar__inner",style:e.barStyle},[e.showText&&e.textInside?i("div",{staticClass:"el-progress-bar__innerText"},[e._v(e._s(e.content))]):e._e()])])]):i("div",{staticClass:"el-progress-circle",style:{height:e.width+"px",width:e.width+"px"}},[i("svg",{attrs:{viewBox:"0 0 100 100"}},[i("path",{staticClass:"el-progress-circle__track",style:e.trailPathStyle,attrs:{d:e.trackPath,stroke:"#e5e9f2","stroke-width":e.relativeStrokeWidth,fill:"none"}}),i("path",{staticClass:"el-progress-circle__path",style:e.circlePathStyle,attrs:{d:e.trackPath,stroke:e.stroke,fill:"none","stroke-linecap":e.strokeLinecap,"stroke-width":e.percentage?e.relativeStrokeWidth:0}})])]),e.showText&&!e.textInside?i("div",{staticClass:"el-progress__text",style:{fontSize:e.progressTextSize+"px"}},[e.status?i("i",{class:e.iconClass}):[e._v(e._s(e.content))]],2):e._e()])};aa._withStripped=!0;var la=r({name:"ElProgress",props:{type:{type:String,default:"line",validator:function(e){return["line","circle","dashboard"].indexOf(e)>-1}},percentage:{type:Number,default:0,required:!0,validator:function(e){return e>=0&&e<=100}},status:{type:String,validator:function(e){return["success","exception","warning"].indexOf(e)>-1}},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},format:Function},computed:{barStyle:function(){var e={};return e.width=this.percentage+"%",e.backgroundColor=this.getCurrentColor(this.percentage),e},relativeStrokeWidth:function(){return(this.strokeWidth/this.width*100).toFixed(1)},radius:function(){return"circle"===this.type||"dashboard"===this.type?parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10):0},trackPath:function(){var e=this.radius,t="dashboard"===this.type;return"\n        M 50 50\n        m 0 "+(t?"":"-")+e+"\n        a "+e+" "+e+" 0 1 1 0 "+(t?"-":"")+2*e+"\n        a "+e+" "+e+" 0 1 1 0 "+(t?"":"-")+2*e+"\n        "},perimeter:function(){return 2*Math.PI*this.radius},rate:function(){return"dashboard"===this.type?.75:1},strokeDashoffset:function(){return-1*this.perimeter*(1-this.rate)/2+"px"},trailPathStyle:function(){return{strokeDasharray:this.perimeter*this.rate+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset}},circlePathStyle:function(){return{strokeDasharray:this.perimeter*this.rate*(this.percentage/100)+"px, "+this.perimeter+"px",strokeDashoffset:this.strokeDashoffset,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease"}},stroke:function(){var e=void 0;if(this.color)e=this.getCurrentColor(this.percentage);else switch(this.status){case"success":e="#13ce66";break;case"exception":e="#ff4949";break;case"warning":e="#e6a23c";break;default:e="#20a0ff"}return e},iconClass:function(){return"warning"===this.status?"el-icon-warning":"line"===this.type?"success"===this.status?"el-icon-circle-check":"el-icon-circle-close":"success"===this.status?"el-icon-check":"el-icon-close"},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2},content:function(){return"function"==typeof this.format?this.format(this.percentage)||"":this.percentage+"%"}},methods:{getCurrentColor:function(e){return"function"==typeof this.color?this.color(e):"string"==typeof this.color?this.color:this.getLevelColor(e)},getLevelColor:function(e){for(var t=this.getColorArray().sort(function(e,t){return e.percentage-t.percentage}),i=0;i<t.length;i++)if(t[i].percentage>e)return t[i].color;return t[t.length-1].color},getColorArray:function(){var e=this.color,t=100/e.length;return e.map(function(e,i){return"string"==typeof e?{color:e,percentage:(i+1)*t}:e})}}},aa,[],!1,null,null,null);la.options.__file="packages/progress/src/progress.vue";var ca=la.exports;ca.install=function(e){e.component(ca.name,ca)};var ha=ca,ua=function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"el-spinner"},[t("svg",{staticClass:"el-spinner-inner",style:{width:this.radius/2+"px",height:this.radius/2+"px"},attrs:{viewBox:"0 0 50 50"}},[t("circle",{staticClass:"path",attrs:{cx:"25",cy:"25",r:"20",fill:"none",stroke:this.strokeColor,"stroke-width":this.strokeWidth}})])])};ua._withStripped=!0;var da=r({name:"ElSpinner",props:{type:String,radius:{type:Number,default:100},strokeWidth:{type:Number,default:5},strokeColor:{type:String,default:"#efefef"}}},ua,[],!1,null,null,null);da.options.__file="packages/spinner/src/spinner.vue";var fa=da.exports;fa.install=function(e){e.component(fa.name,fa)};var pa=fa,ma=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-message-fade"},on:{"after-leave":e.handleAfterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],class:["el-message",e.type&&!e.iconClass?"el-message--"+e.type:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass],style:e.positionStyle,attrs:{role:"alert"},on:{mouseenter:e.clearTimer,mouseleave:e.startTimer}},[e.iconClass?i("i",{class:e.iconClass}):i("i",{class:e.typeClass}),e._t("default",[e.dangerouslyUseHTMLString?i("p",{staticClass:"el-message__content",domProps:{innerHTML:e._s(e.message)}}):i("p",{staticClass:"el-message__content"},[e._v(e._s(e.message))])]),e.showClose?i("i",{staticClass:"el-message__closeBtn el-icon-close",on:{click:e.close}}):e._e()],2)])};ma._withStripped=!0;var ga={success:"success",info:"info",warning:"warning",error:"error"},va=r({data:function(){return{visible:!1,message:"",duration:3e3,type:"info",iconClass:"",customClass:"",onClose:null,showClose:!1,closed:!1,verticalOffset:20,timer:null,dangerouslyUseHTMLString:!1,center:!1}},computed:{typeClass:function(){return this.type&&!this.iconClass?"el-message__icon el-icon-"+ga[this.type]:""},positionStyle:function(){return{top:this.verticalOffset+"px"}}},watch:{closed:function(e){e&&(this.visible=!1)}},methods:{handleAfterLeave:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"==typeof this.onClose&&this.onClose(this)},clearTimer:function(){clearTimeout(this.timer)},startTimer:function(){var e=this;this.duration>0&&(this.timer=setTimeout(function(){e.closed||e.close()},this.duration))},keydown:function(e){27===e.keyCode&&(this.closed||this.close())}},mounted:function(){this.startTimer(),document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},ma,[],!1,null,null,null);va.options.__file="packages/message/src/main.vue";var ba=va.exports,_a=di.a.extend(ba),ya=void 0,wa=[],Ca=1,Sa=function e(t){if(!di.a.prototype.$isServer){"string"==typeof(t=t||{})&&(t={message:t});var i=t.onClose,n="message_"+Ca++;t.onClose=function(){e.close(n,i)},(ya=new _a({data:t})).id=n,Object(zr.isVNode)(ya.message)&&(ya.$slots.default=[ya.message],ya.message=null),ya.$mount(),document.body.appendChild(ya.$el);var r=t.offset||20;return wa.forEach(function(e){r+=e.$el.offsetHeight+16}),ya.verticalOffset=r,ya.visible=!0,ya.$el.style.zIndex=_.PopupManager.nextZIndex(),wa.push(ya),ya}};["success","warning","info","error"].forEach(function(e){Sa[e]=function(t){return"string"==typeof t&&(t={message:t}),t.type=e,Sa(t)}}),Sa.close=function(e,t){for(var i=wa.length,n=-1,r=void 0,o=0;o<i;o++)if(e===wa[o].id){r=wa[o].$el.offsetHeight,n=o,"function"==typeof t&&t(wa[o]),wa.splice(o,1);break}if(!(i<=1||-1===n||n>wa.length-1))for(var s=n;s<i-1;s++){var a=wa[s].$el;a.style.top=parseInt(a.style.top,10)-r-16+"px"}},Sa.closeAll=function(){for(var e=wa.length-1;e>=0;e--)wa[e].close()};var xa=Sa,ka=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-badge"},[e._t("default"),i("transition",{attrs:{name:"el-zoom-in-center"}},[i("sup",{directives:[{name:"show",rawName:"v-show",value:!e.hidden&&(e.content||0===e.content||e.isDot),expression:"!hidden && (content || content === 0 || isDot)"}],staticClass:"el-badge__content",class:["el-badge__content--"+e.type,{"is-fixed":e.$slots.default,"is-dot":e.isDot}],domProps:{textContent:e._s(e.content)}})])],2)};ka._withStripped=!0;var La=r({name:"ElBadge",props:{value:[String,Number],max:Number,isDot:Boolean,hidden:Boolean,type:{type:String,validator:function(e){return["primary","success","warning","info","danger"].indexOf(e)>-1}}},computed:{content:function(){if(!this.isDot){var e=this.value,t=this.max;return"number"==typeof e&&"number"==typeof t&&t<e?t+"+":e}}}},ka,[],!1,null,null,null);La.options.__file="packages/badge/src/main.vue";var Da=La.exports;Da.install=function(e){e.component(Da.name,Da)};var Ea=Da,Na=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-card",class:e.shadow?"is-"+e.shadow+"-shadow":"is-always-shadow"},[e.$slots.header||e.header?i("div",{staticClass:"el-card__header"},[e._t("header",[e._v(e._s(e.header))])],2):e._e(),i("div",{staticClass:"el-card__body",style:e.bodyStyle},[e._t("default")],2)])};Na._withStripped=!0;var Ta=r({name:"ElCard",props:{header:{},bodyStyle:{},shadow:{type:String}}},Na,[],!1,null,null,null);Ta.options.__file="packages/card/src/main.vue";var Oa=Ta.exports;Oa.install=function(e){e.component(Oa.name,Oa)};var Ma=Oa,Ia=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-rate",attrs:{role:"slider","aria-valuenow":e.currentValue,"aria-valuetext":e.text,"aria-valuemin":"0","aria-valuemax":e.max,tabindex:"0"},on:{keydown:e.handleKey}},[e._l(e.max,function(t,n){return i("span",{key:n,staticClass:"el-rate__item",style:{cursor:e.rateDisabled?"auto":"pointer"},on:{mousemove:function(i){e.setCurrentValue(t,i)},mouseleave:e.resetCurrentValue,click:function(i){e.selectValue(t)}}},[i("i",{staticClass:"el-rate__icon",class:[e.classes[t-1],{hover:e.hoverIndex===t}],style:e.getIconStyle(t)},[e.showDecimalIcon(t)?i("i",{staticClass:"el-rate__decimal",class:e.decimalIconClass,style:e.decimalStyle}):e._e()])])}),e.showText||e.showScore?i("span",{staticClass:"el-rate__text",style:{color:e.textColor}},[e._v(e._s(e.text))]):e._e()],2)};Ia._withStripped=!0;var Aa=i(18),Pa=r({name:"ElRate",mixins:[C.a],inject:{elForm:{default:""}},data:function(){return{pointerAtLeftHalf:!0,currentValue:this.value,hoverIndex:-1}},props:{value:{type:Number,default:0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:[Array,Object],default:function(){return["#F7BA2A","#F7BA2A","#F7BA2A"]}},voidColor:{type:String,default:"#C6D1DE"},disabledVoidColor:{type:String,default:"#EFF2F7"},iconClasses:{type:[Array,Object],default:function(){return["el-icon-star-on","el-icon-star-on","el-icon-star-on"]}},voidIconClass:{type:String,default:"el-icon-star-off"},disabledVoidIconClass:{type:String,default:"el-icon-star-on"},disabled:{type:Boolean,default:!1},allowHalf:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},showScore:{type:Boolean,default:!1},textColor:{type:String,default:"#1f2d3d"},texts:{type:Array,default:function(){return["极差","失望","一般","满意","惊喜"]}},scoreTemplate:{type:String,default:"{value}"}},computed:{text:function(){var e="";return this.showScore?e=this.scoreTemplate.replace(/\{\s*value\s*\}/,this.rateDisabled?this.value:this.currentValue):this.showText&&(e=this.texts[Math.ceil(this.currentValue)-1]),e},decimalStyle:function(){var e="";return this.rateDisabled?e=this.valueDecimal+"%":this.allowHalf&&(e="50%"),{color:this.activeColor,width:e}},valueDecimal:function(){return 100*this.value-100*Math.floor(this.value)},classMap:function(){var e;return Array.isArray(this.iconClasses)?((e={})[this.lowThreshold]=this.iconClasses[0],e[this.highThreshold]={value:this.iconClasses[1],excluded:!0},e[this.max]=this.iconClasses[2],e):this.iconClasses},decimalIconClass:function(){return this.getValueFromMap(this.value,this.classMap)},voidClass:function(){return this.rateDisabled?this.disabledVoidIconClass:this.voidIconClass},activeClass:function(){return this.getValueFromMap(this.currentValue,this.classMap)},colorMap:function(){var e;return Array.isArray(this.colors)?((e={})[this.lowThreshold]=this.colors[0],e[this.highThreshold]={value:this.colors[1],excluded:!0},e[this.max]=this.colors[2],e):this.colors},activeColor:function(){return this.getValueFromMap(this.currentValue,this.colorMap)},classes:function(){var e=[],t=0,i=this.currentValue;for(this.allowHalf&&this.currentValue!==Math.floor(this.currentValue)&&i--;t<i;t++)e.push(this.activeClass);for(;t<this.max;t++)e.push(this.voidClass);return e},rateDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{value:function(e){this.currentValue=e,this.pointerAtLeftHalf=this.value!==Math.floor(this.value)}},methods:{getMigratingConfig:function(){return{props:{"text-template":"text-template is renamed to score-template."}}},getValueFromMap:function(e,t){var i=Object.keys(t).filter(function(i){var n=t[i];return!!Object(Aa.isObject)(n)&&n.excluded?e<i:e<=i}).sort(function(e,t){return e-t}),n=t[i[0]];return Object(Aa.isObject)(n)?n.value:n||""},showDecimalIcon:function(e){var t=this.rateDisabled&&this.valueDecimal>0&&e-1<this.value&&e>this.value,i=this.allowHalf&&this.pointerAtLeftHalf&&e-.5<=this.currentValue&&e>this.currentValue;return t||i},getIconStyle:function(e){var t=this.rateDisabled?this.disabledVoidColor:this.voidColor;return{color:e<=this.currentValue?this.activeColor:t}},selectValue:function(e){this.rateDisabled||(this.allowHalf&&this.pointerAtLeftHalf?(this.$emit("input",this.currentValue),this.$emit("change",this.currentValue)):(this.$emit("input",e),this.$emit("change",e)))},handleKey:function(e){if(!this.rateDisabled){var t=this.currentValue,i=e.keyCode;38===i||39===i?(this.allowHalf?t+=.5:t+=1,e.stopPropagation(),e.preventDefault()):37!==i&&40!==i||(this.allowHalf?t-=.5:t-=1,e.stopPropagation(),e.preventDefault()),t=(t=t<0?0:t)>this.max?this.max:t,this.$emit("input",t),this.$emit("change",t)}},setCurrentValue:function(e,t){if(!this.rateDisabled){if(this.allowHalf){var i=t.target;Object(pe.hasClass)(i,"el-rate__item")&&(i=i.querySelector(".el-rate__icon")),Object(pe.hasClass)(i,"el-rate__decimal")&&(i=i.parentNode),this.pointerAtLeftHalf=2*t.offsetX<=i.clientWidth,this.currentValue=this.pointerAtLeftHalf?e-.5:e}else this.currentValue=e;this.hoverIndex=e}},resetCurrentValue:function(){this.rateDisabled||(this.allowHalf&&(this.pointerAtLeftHalf=this.value!==Math.floor(this.value)),this.currentValue=this.value,this.hoverIndex=-1)}},created:function(){this.value||this.$emit("input",0)}},Ia,[],!1,null,null,null);Pa.options.__file="packages/rate/src/main.vue";var Ra=Pa.exports;Ra.install=function(e){e.component(Ra.name,Ra)};var Fa=Ra,Va=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-steps",class:[!this.simple&&"el-steps--"+this.direction,this.simple&&"el-steps--simple"]},[this._t("default")],2)};Va._withStripped=!0;var Ba=r({name:"ElSteps",mixins:[C.a],props:{space:[Number,String],active:Number,direction:{type:String,default:"horizontal"},alignCenter:Boolean,simple:Boolean,finishStatus:{type:String,default:"finish"},processStatus:{type:String,default:"process"}},data:function(){return{steps:[],stepOffset:0}},methods:{getMigratingConfig:function(){return{props:{center:"center is removed."}}}},watch:{active:function(e,t){this.$emit("change",e,t)},steps:function(e){e.forEach(function(e,t){e.index=t})}}},Va,[],!1,null,null,null);Ba.options.__file="packages/steps/src/steps.vue";var Wa=Ba.exports;Wa.install=function(e){e.component(Wa.name,Wa)};var $a=Wa,za=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-step",class:[!e.isSimple&&"is-"+e.$parent.direction,e.isSimple&&"is-simple",e.isLast&&!e.space&&!e.isCenter&&"is-flex",e.isCenter&&!e.isVertical&&!e.isSimple&&"is-center"],style:e.style},[i("div",{staticClass:"el-step__head",class:"is-"+e.currentStatus},[i("div",{staticClass:"el-step__line",style:e.isLast?"":{marginRight:e.$parent.stepOffset+"px"}},[i("i",{staticClass:"el-step__line-inner",style:e.lineStyle})]),i("div",{staticClass:"el-step__icon",class:"is-"+(e.icon?"icon":"text")},["success"!==e.currentStatus&&"error"!==e.currentStatus?e._t("icon",[e.icon?i("i",{staticClass:"el-step__icon-inner",class:[e.icon]}):e._e(),e.icon||e.isSimple?e._e():i("div",{staticClass:"el-step__icon-inner"},[e._v(e._s(e.index+1))])]):i("i",{staticClass:"el-step__icon-inner is-status",class:["el-icon-"+("success"===e.currentStatus?"check":"close")]})],2)]),i("div",{staticClass:"el-step__main"},[i("div",{ref:"title",staticClass:"el-step__title",class:["is-"+e.currentStatus]},[e._t("title",[e._v(e._s(e.title))])],2),e.isSimple?i("div",{staticClass:"el-step__arrow"}):i("div",{staticClass:"el-step__description",class:["is-"+e.currentStatus]},[e._t("description",[e._v(e._s(e.description))])],2)])])};za._withStripped=!0;var Ha=r({name:"ElStep",props:{title:String,icon:String,description:String,status:String},data:function(){return{index:-1,lineStyle:{},internalStatus:""}},beforeCreate:function(){this.$parent.steps.push(this)},beforeDestroy:function(){var e=this.$parent.steps,t=e.indexOf(this);t>=0&&e.splice(t,1)},computed:{currentStatus:function(){return this.status||this.internalStatus},prevStatus:function(){var e=this.$parent.steps[this.index-1];return e?e.currentStatus:"wait"},isCenter:function(){return this.$parent.alignCenter},isVertical:function(){return"vertical"===this.$parent.direction},isSimple:function(){return this.$parent.simple},isLast:function(){var e=this.$parent;return e.steps[e.steps.length-1]===this},stepsCount:function(){return this.$parent.steps.length},space:function(){var e=this.isSimple,t=this.$parent.space;return e?"":t},style:function(){var e={},t=this.$parent.steps.length,i="number"==typeof this.space?this.space+"px":this.space?this.space:100/(t-(this.isCenter?0:1))+"%";return e.flexBasis=i,this.isVertical?e:(this.isLast?e.maxWidth=100/this.stepsCount+"%":e.marginRight=-this.$parent.stepOffset+"px",e)}},methods:{updateStatus:function(e){var t=this.$parent.$children[this.index-1];e>this.index?this.internalStatus=this.$parent.finishStatus:e===this.index&&"error"!==this.prevStatus?this.internalStatus=this.$parent.processStatus:this.internalStatus="wait",t&&t.calcProgress(this.internalStatus)},calcProgress:function(e){var t=100,i={};i.transitionDelay=150*this.index+"ms",e===this.$parent.processStatus?(this.currentStatus,t=0):"wait"===e&&(t=0,i.transitionDelay=-150*this.index+"ms"),i.borderWidth=t&&!this.isSimple?"1px":0,"vertical"===this.$parent.direction?i.height=t+"%":i.width=t+"%",this.lineStyle=i}},mounted:function(){var e=this,t=this.$watch("index",function(i){e.$watch("$parent.active",e.updateStatus,{immediate:!0}),e.$watch("$parent.processStatus",function(){var t=e.$parent.active;e.updateStatus(t)},{immediate:!0}),t()})}},za,[],!1,null,null,null);Ha.options.__file="packages/steps/src/step.vue";var ja=Ha.exports;ja.install=function(e){e.component(ja.name,ja)};var Ua=ja,Ka=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:e.carouselClasses,on:{mouseenter:function(t){return t.stopPropagation(),e.handleMouseEnter(t)},mouseleave:function(t){return t.stopPropagation(),e.handleMouseLeave(t)}}},[i("div",{staticClass:"el-carousel__container",style:{height:e.height}},[e.arrowDisplay?i("transition",{attrs:{name:"carousel-arrow-left"}},[i("button",{directives:[{name:"show",rawName:"v-show",value:("always"===e.arrow||e.hover)&&(e.loop||e.activeIndex>0),expression:"(arrow === 'always' || hover) && (loop || activeIndex > 0)"}],staticClass:"el-carousel__arrow el-carousel__arrow--left",attrs:{type:"button"},on:{mouseenter:function(t){e.handleButtonEnter("left")},mouseleave:e.handleButtonLeave,click:function(t){t.stopPropagation(),e.throttledArrowClick(e.activeIndex-1)}}},[i("i",{staticClass:"el-icon-arrow-left"})])]):e._e(),e.arrowDisplay?i("transition",{attrs:{name:"carousel-arrow-right"}},[i("button",{directives:[{name:"show",rawName:"v-show",value:("always"===e.arrow||e.hover)&&(e.loop||e.activeIndex<e.items.length-1),expression:"(arrow === 'always' || hover) && (loop || activeIndex < items.length - 1)"}],staticClass:"el-carousel__arrow el-carousel__arrow--right",attrs:{type:"button"},on:{mouseenter:function(t){e.handleButtonEnter("right")},mouseleave:e.handleButtonLeave,click:function(t){t.stopPropagation(),e.throttledArrowClick(e.activeIndex+1)}}},[i("i",{staticClass:"el-icon-arrow-right"})])]):e._e(),e._t("default")],2),"none"!==e.indicatorPosition?i("ul",{class:e.indicatorsClasses},e._l(e.items,function(t,n){return i("li",{key:n,class:["el-carousel__indicator","el-carousel__indicator--"+e.direction,{"is-active":n===e.activeIndex}],on:{mouseenter:function(t){e.throttledIndicatorHover(n)},click:function(t){t.stopPropagation(),e.handleIndicatorClick(n)}}},[i("button",{staticClass:"el-carousel__button"},[e.hasLabel?i("span",[e._v(e._s(t.label))]):e._e()])])}),0):e._e()])};Ka._withStripped=!0;var qa=i(25),Ga=i.n(qa),Ya=r({name:"ElCarousel",props:{initialIndex:{type:Number,default:0},height:String,trigger:{type:String,default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:String,indicator:{type:Boolean,default:!0},arrow:{type:String,default:"hover"},type:String,loop:{type:Boolean,default:!0},direction:{type:String,default:"horizontal",validator:function(e){return-1!==["horizontal","vertical"].indexOf(e)}}},data:function(){return{items:[],activeIndex:-1,containerWidth:0,timer:null,hover:!1}},computed:{arrowDisplay:function(){return"never"!==this.arrow&&"vertical"!==this.direction},hasLabel:function(){return this.items.some(function(e){return e.label.toString().length>0})},carouselClasses:function(){var e=["el-carousel","el-carousel--"+this.direction];return"card"===this.type&&e.push("el-carousel--card"),e},indicatorsClasses:function(){var e=["el-carousel__indicators","el-carousel__indicators--"+this.direction];return this.hasLabel&&e.push("el-carousel__indicators--labels"),"outside"!==this.indicatorPosition&&"card"!==this.type||e.push("el-carousel__indicators--outside"),e}},watch:{items:function(e){e.length>0&&this.setActiveItem(this.initialIndex)},activeIndex:function(e,t){this.resetItemPosition(t),t>-1&&this.$emit("change",e,t)},autoplay:function(e){e?this.startTimer():this.pauseTimer()},loop:function(){this.setActiveItem(this.activeIndex)}},methods:{handleMouseEnter:function(){this.hover=!0,this.pauseTimer()},handleMouseLeave:function(){this.hover=!1,this.startTimer()},itemInStage:function(e,t){var i=this.items.length;return t===i-1&&e.inStage&&this.items[0].active||e.inStage&&this.items[t+1]&&this.items[t+1].active?"left":!!(0===t&&e.inStage&&this.items[i-1].active||e.inStage&&this.items[t-1]&&this.items[t-1].active)&&"right"},handleButtonEnter:function(e){var t=this;"vertical"!==this.direction&&this.items.forEach(function(i,n){e===t.itemInStage(i,n)&&(i.hover=!0)})},handleButtonLeave:function(){"vertical"!==this.direction&&this.items.forEach(function(e){e.hover=!1})},updateItems:function(){this.items=this.$children.filter(function(e){return"ElCarouselItem"===e.$options.name})},resetItemPosition:function(e){var t=this;this.items.forEach(function(i,n){i.translateItem(n,t.activeIndex,e)})},playSlides:function(){this.activeIndex<this.items.length-1?this.activeIndex++:this.loop&&(this.activeIndex=0)},pauseTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},startTimer:function(){this.interval<=0||!this.autoplay||this.timer||(this.timer=setInterval(this.playSlides,this.interval))},setActiveItem:function(e){if("string"==typeof e){var t=this.items.filter(function(t){return t.name===e});t.length>0&&(e=this.items.indexOf(t[0]))}if(e=Number(e),isNaN(e)||e!==Math.floor(e))console.warn("[Element Warn][Carousel]index must be an integer.");else{var i=this.items.length,n=this.activeIndex;this.activeIndex=e<0?this.loop?i-1:0:e>=i?this.loop?0:i-1:e,n===this.activeIndex&&this.resetItemPosition(n)}},prev:function(){this.setActiveItem(this.activeIndex-1)},next:function(){this.setActiveItem(this.activeIndex+1)},handleIndicatorClick:function(e){this.activeIndex=e},handleIndicatorHover:function(e){"hover"===this.trigger&&e!==this.activeIndex&&(this.activeIndex=e)}},created:function(){var e=this;this.throttledArrowClick=Ga()(300,!0,function(t){e.setActiveItem(t)}),this.throttledIndicatorHover=Ga()(300,function(t){e.handleIndicatorHover(t)})},mounted:function(){var e=this;this.updateItems(),this.$nextTick(function(){Object(Rt.addResizeListener)(e.$el,e.resetItemPosition),e.initialIndex<e.items.length&&e.initialIndex>=0&&(e.activeIndex=e.initialIndex),e.startTimer()})},beforeDestroy:function(){this.$el&&Object(Rt.removeResizeListener)(this.$el,this.resetItemPosition),this.pauseTimer()}},Ka,[],!1,null,null,null);Ya.options.__file="packages/carousel/src/main.vue";var Xa=Ya.exports;Xa.install=function(e){e.component(Xa.name,Xa)};var Za=Xa,Qa={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};var Ja={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function(){return Qa[this.vertical?"vertical":"horizontal"]},wrap:function(){return this.$parent.wrap}},render:function(e){var t=this.size,i=this.move,n=this.bar;return e("div",{class:["el-scrollbar__bar","is-"+n.key],on:{mousedown:this.clickTrackHandler}},[e("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:function(e){var t=e.move,i=e.size,n=e.bar,r={},o="translate"+n.axis+"("+t+"%)";return r[n.size]=i,r.transform=o,r.msTransform=o,r.webkitTransform=o,r}({size:t,move:i,bar:n})})])},methods:{clickThumbHandler:function(e){e.ctrlKey||2===e.button||(this.startDrag(e),this[this.bar.axis]=e.currentTarget[this.bar.offset]-(e[this.bar.client]-e.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function(e){var t=100*(Math.abs(e.target.getBoundingClientRect()[this.bar.direction]-e[this.bar.client])-this.$refs.thumb[this.bar.offset]/2)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=t*this.wrap[this.bar.scrollSize]/100},startDrag:function(e){e.stopImmediatePropagation(),this.cursorDown=!0,Object(pe.on)(document,"mousemove",this.mouseMoveDocumentHandler),Object(pe.on)(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function(e){if(!1!==this.cursorDown){var t=this[this.bar.axis];if(t){var i=100*(-1*(this.$el.getBoundingClientRect()[this.bar.direction]-e[this.bar.client])-(this.$refs.thumb[this.bar.offset]-t))/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=i*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function(e){this.cursorDown=!1,this[this.bar.axis]=0,Object(pe.off)(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function(){Object(pe.off)(document,"mouseup",this.mouseUpDocumentHandler)}},el={name:"ElScrollbar",components:{Bar:Ja},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function(){return this.$refs.wrap}},render:function(e){var t=Pi()(),i=this.wrapStyle;if(t){var n="-"+t+"px",r="margin-bottom: "+n+"; margin-right: "+n+";";Array.isArray(this.wrapStyle)?(i=Object(m.toObject)(this.wrapStyle)).marginRight=i.marginBottom=n:"string"==typeof this.wrapStyle?i+=r:i=r}var o=e(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),s=e("div",{ref:"wrap",style:i,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",t?"":"el-scrollbar__wrap--hidden-default"]},[[o]]);return e("div",{class:"el-scrollbar"},this.native?[e("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:i},[[o]])]:[s,e(Ja,{attrs:{move:this.moveX,size:this.sizeWidth}}),e(Ja,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})])},methods:{handleScroll:function(){var e=this.wrap;this.moveY=100*e.scrollTop/e.clientHeight,this.moveX=100*e.scrollLeft/e.clientWidth},update:function(){var e,t,i=this.wrap;i&&(e=100*i.clientHeight/i.scrollHeight,t=100*i.clientWidth/i.scrollWidth,this.sizeHeight=e<100?e+"%":"",this.sizeWidth=t<100?t+"%":"")}},mounted:function(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(Rt.addResizeListener)(this.$refs.resize,this.update))},beforeDestroy:function(){this.native||!this.noresize&&Object(Rt.removeResizeListener)(this.$refs.resize,this.update)},install:function(e){e.component(el.name,el)}},tl=el,il=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.ready,expression:"ready"}],staticClass:"el-carousel__item",class:{"is-active":e.active,"el-carousel__item--card":"card"===e.$parent.type,"is-in-stage":e.inStage,"is-hover":e.hover,"is-animating":e.animating},style:e.itemStyle,on:{click:e.handleItemClick}},["card"===e.$parent.type?i("div",{directives:[{name:"show",rawName:"v-show",value:!e.active,expression:"!active"}],staticClass:"el-carousel__mask"}):e._e(),e._t("default")],2)};il._withStripped=!0;var nl=r({name:"ElCarouselItem",props:{name:String,label:{type:[String,Number],default:""}},data:function(){return{hover:!1,translate:0,scale:1,active:!1,ready:!1,inStage:!1,animating:!1}},methods:{processIndex:function(e,t,i){return 0===t&&e===i-1?-1:t===i-1&&0===e?i:e<t-1&&t-e>=i/2?i+1:e>t+1&&e-t>=i/2?-2:e},calcCardTranslate:function(e,t){var i=this.$parent.$el.offsetWidth;return this.inStage?i*(1.17*(e-t)+1)/4:e<t?-1.83*i/4:3.83*i/4},calcTranslate:function(e,t,i){return this.$parent.$el[i?"offsetHeight":"offsetWidth"]*(e-t)},translateItem:function(e,t,i){var n=this.$parent.type,r=this.parentDirection,o=this.$parent.items.length;if("card"!==n&&void 0!==i&&(this.animating=e===t||e===i),e!==t&&o>2&&this.$parent.loop&&(e=this.processIndex(e,t,o)),"card"===n)"vertical"===r&&console.warn("[Element Warn][Carousel]vertical direction is not supported in card mode"),this.inStage=Math.round(Math.abs(e-t))<=1,this.active=e===t,this.translate=this.calcCardTranslate(e,t),this.scale=this.active?1:.83;else{this.active=e===t;var s="vertical"===r;this.translate=this.calcTranslate(e,t,s)}this.ready=!0},handleItemClick:function(){var e=this.$parent;if(e&&"card"===e.type){var t=e.items.indexOf(this);e.setActiveItem(t)}}},computed:{parentDirection:function(){return this.$parent.direction},itemStyle:function(){var e={transform:("vertical"===this.parentDirection?"translateY":"translateX")+"("+this.translate+"px) scale("+this.scale+")"};return Object(m.autoprefixer)(e)}},created:function(){this.$parent&&this.$parent.updateItems()},destroyed:function(){this.$parent&&this.$parent.updateItems()}},il,[],!1,null,null,null);nl.options.__file="packages/carousel/src/item.vue";var rl=nl.exports;rl.install=function(e){e.component(rl.name,rl)};var ol=rl,sl=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"el-collapse",attrs:{role:"tablist","aria-multiselectable":"true"}},[this._t("default")],2)};sl._withStripped=!0;var al=r({name:"ElCollapse",componentName:"ElCollapse",props:{accordion:Boolean,value:{type:[Array,String,Number],default:function(){return[]}}},data:function(){return{activeNames:[].concat(this.value)}},provide:function(){return{collapse:this}},watch:{value:function(e){this.activeNames=[].concat(e)}},methods:{setActiveNames:function(e){e=[].concat(e);var t=this.accordion?e[0]:e;this.activeNames=e,this.$emit("input",t),this.$emit("change",t)},handleItemClick:function(e){if(this.accordion)this.setActiveNames(!this.activeNames[0]&&0!==this.activeNames[0]||this.activeNames[0]!==e.name?e.name:"");else{var t=this.activeNames.slice(0),i=t.indexOf(e.name);i>-1?t.splice(i,1):t.push(e.name),this.setActiveNames(t)}}},created:function(){this.$on("item-click",this.handleItemClick)}},sl,[],!1,null,null,null);al.options.__file="packages/collapse/src/collapse.vue";var ll=al.exports;ll.install=function(e){e.component(ll.name,ll)};var cl=ll,hl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-collapse-item",class:{"is-active":e.isActive,"is-disabled":e.disabled}},[i("div",{attrs:{role:"tab","aria-expanded":e.isActive,"aria-controls":"el-collapse-content-"+e.id,"aria-describedby":"el-collapse-content-"+e.id}},[i("div",{staticClass:"el-collapse-item__header",class:{focusing:e.focusing,"is-active":e.isActive},attrs:{role:"button",id:"el-collapse-head-"+e.id,tabindex:e.disabled?void 0:0},on:{click:e.handleHeaderClick,keyup:function(t){return"button"in t||!e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.stopPropagation(),e.handleEnterClick(t)):null},focus:e.handleFocus,blur:function(t){e.focusing=!1}}},[e._t("title",[e._v(e._s(e.title))]),i("i",{staticClass:"el-collapse-item__arrow el-icon-arrow-right",class:{"is-active":e.isActive}})],2)]),i("el-collapse-transition",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"el-collapse-item__wrap",attrs:{role:"tabpanel","aria-hidden":!e.isActive,"aria-labelledby":"el-collapse-head-"+e.id,id:"el-collapse-content-"+e.id}},[i("div",{staticClass:"el-collapse-item__content"},[e._t("default")],2)])])],1)};hl._withStripped=!0;var ul=r({name:"ElCollapseItem",componentName:"ElCollapseItem",mixins:[x.a],components:{ElCollapseTransition:_e.a},data:function(){return{contentWrapStyle:{height:"auto",display:"block"},contentHeight:0,focusing:!1,isClick:!1,id:Object(m.generateId)()}},inject:["collapse"],props:{title:String,name:{type:[String,Number],default:function(){return this._uid}},disabled:Boolean},computed:{isActive:function(){return this.collapse.activeNames.indexOf(this.name)>-1}},methods:{handleFocus:function(){var e=this;setTimeout(function(){e.isClick?e.isClick=!1:e.focusing=!0},50)},handleHeaderClick:function(){this.disabled||(this.dispatch("ElCollapse","item-click",this),this.focusing=!1,this.isClick=!0)},handleEnterClick:function(){this.dispatch("ElCollapse","item-click",this)}}},hl,[],!1,null,null,null);ul.options.__file="packages/collapse/src/collapse-item.vue";var dl=ul.exports;dl.install=function(e){e.component(dl.name,dl)};var fl=dl,pl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:function(){return e.toggleDropDownVisible(!1)},expression:"() => toggleDropDownVisible(false)"}],ref:"reference",class:["el-cascader",e.realSize&&"el-cascader--"+e.realSize,{"is-disabled":e.isDisabled}],on:{mouseenter:function(t){e.inputHover=!0},mouseleave:function(t){e.inputHover=!1},click:function(){return e.toggleDropDownVisible(!e.readonly||void 0)},keydown:e.handleKeyDown}},[i("el-input",{ref:"input",class:{"is-focus":e.dropDownVisible},attrs:{size:e.realSize,placeholder:e.placeholder,readonly:e.readonly,disabled:e.isDisabled,"validate-event":!1},on:{focus:e.handleFocus,blur:e.handleBlur,input:e.handleInput},model:{value:e.multiple?e.presentText:e.inputValue,callback:function(t){e.multiple?e.presentText:e.inputValue=t},expression:"multiple ? presentText : inputValue"}},[i("template",{slot:"suffix"},[e.clearBtnVisible?i("i",{key:"clear",staticClass:"el-input__icon el-icon-circle-close",on:{click:function(t){return t.stopPropagation(),e.handleClear(t)}}}):i("i",{key:"arrow-down",class:["el-input__icon","el-icon-arrow-down",e.dropDownVisible&&"is-reverse"],on:{click:function(t){t.stopPropagation(),e.toggleDropDownVisible()}}})])],2),e.multiple?i("div",{staticClass:"el-cascader__tags"},[e._l(e.presentTags,function(t,n){return i("el-tag",{key:t.key,attrs:{type:"info",size:e.tagSize,hit:t.hitState,closable:t.closable,"disable-transitions":""},on:{close:function(t){e.deleteTag(n)}}},[i("span",[e._v(e._s(t.text))])])}),e.filterable&&!e.isDisabled?i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.inputValue,expression:"inputValue",modifiers:{trim:!0}}],staticClass:"el-cascader__search-input",attrs:{type:"text",placeholder:e.presentTags.length?"":e.placeholder},domProps:{value:e.inputValue},on:{input:[function(t){t.target.composing||(e.inputValue=t.target.value.trim())},function(t){return e.handleInput(e.inputValue,t)}],click:function(t){t.stopPropagation(),e.toggleDropDownVisible(!0)},keydown:function(t){return"button"in t||!e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?e.handleDelete(t):null},blur:function(t){e.$forceUpdate()}}}):e._e()],2):e._e(),i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":e.handleDropdownLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.dropDownVisible,expression:"dropDownVisible"}],ref:"popper",class:["el-popper","el-cascader__dropdown",e.popperClass]},[i("el-cascader-panel",{directives:[{name:"show",rawName:"v-show",value:!e.filtering,expression:"!filtering"}],ref:"panel",attrs:{options:e.options,props:e.config,border:!1,"render-label":e.$scopedSlots.default},on:{"expand-change":e.handleExpandChange,close:function(t){e.toggleDropDownVisible(!1)}},model:{value:e.checkedValue,callback:function(t){e.checkedValue=t},expression:"checkedValue"}}),e.filterable?i("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:e.filtering,expression:"filtering"}],ref:"suggestionPanel",staticClass:"el-cascader__suggestion-panel",attrs:{tag:"ul","view-class":"el-cascader__suggestion-list"},nativeOn:{keydown:function(t){return e.handleSuggestionKeyDown(t)}}},[e.suggestions.length?e._l(e.suggestions,function(t,n){return i("li",{key:t.uid,class:["el-cascader__suggestion-item",t.checked&&"is-checked"],attrs:{tabindex:-1},on:{click:function(t){e.handleSuggestionClick(n)}}},[i("span",[e._v(e._s(t.text))]),t.checked?i("i",{staticClass:"el-icon-check"}):e._e()])}):e._t("empty",[i("li",{staticClass:"el-cascader__empty-text"},[e._v(e._s(e.t("el.cascader.noMatch")))])])],2):e._e()],1)])],1)};pl._withStripped=!0;var ml=i(42),gl=i.n(ml),vl=i(28),bl=i.n(vl),_l=bl.a.keys,yl={expandTrigger:{newProp:"expandTrigger",type:String},changeOnSelect:{newProp:"checkStrictly",type:Boolean},hoverThreshold:{newProp:"hoverThreshold",type:Number}},wl={props:{placement:{type:String,default:"bottom-start"},appendToBody:P.a.props.appendToBody,visibleArrow:{type:Boolean,default:!0},arrowOffset:P.a.props.arrowOffset,offset:P.a.props.offset,boundariesPadding:P.a.props.boundariesPadding,popperOptions:P.a.props.popperOptions},methods:P.a.methods,data:P.a.data,beforeDestroy:P.a.beforeDestroy},Cl={medium:36,small:32,mini:28},Sl=r({name:"ElCascader",directives:{Clickoutside:M.a},mixins:[wl,x.a,p.a,C.a],inject:{elForm:{default:""},elFormItem:{default:""}},components:{ElInput:d.a,ElTag:Pt.a,ElScrollbar:F.a,ElCascaderPanel:gl.a},props:{value:{},options:Array,props:Object,size:String,placeholder:{type:String,default:function(){return Object(Ft.t)("el.cascader.placeholder")}},disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:Function,separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,debounce:{type:Number,default:300},beforeFilter:{type:Function,default:function(){return function(){}}},popperClass:String},data:function(){return{dropDownVisible:!1,checkedValue:this.value||null,inputHover:!1,inputValue:null,presentText:null,presentTags:[],checkedNodes:[],filtering:!1,suggestions:[],inputInitialHeight:0,pressDeleteCount:0}},computed:{realSize:function(){var e=(this.elFormItem||{}).elFormItemSize;return this.size||e||(this.$ELEMENT||{}).size},tagSize:function(){return["small","mini"].indexOf(this.realSize)>-1?"mini":"small"},isDisabled:function(){return this.disabled||(this.elForm||{}).disabled},config:function(){var e=this.props||{},t=this.$attrs;return Object.keys(yl).forEach(function(i){var n=yl[i],r=n.newProp,o=n.type,s=t[i]||t[Object(m.kebabCase)(i)];Object(ze.isDef)(i)&&!Object(ze.isDef)(e[r])&&(o===Boolean&&""===s&&(s=!0),e[r]=s)}),e},multiple:function(){return this.config.multiple},leafOnly:function(){return!this.config.checkStrictly},readonly:function(){return!this.filterable||this.multiple},clearBtnVisible:function(){return!(!this.clearable||this.isDisabled||this.filtering||!this.inputHover)&&(this.multiple?!!this.checkedNodes.filter(function(e){return!e.isDisabled}).length:!!this.presentText)},panel:function(){return this.$refs.panel}},watch:{disabled:function(){this.computePresentContent()},value:function(e){Object(m.isEqual)(e,this.checkedValue)||(this.checkedValue=e,this.computePresentContent())},checkedValue:function(e){var t=this.value,i=this.dropDownVisible,n=this.config,r=n.checkStrictly,o=n.multiple;Object(m.isEqual)(e,t)&&!Object(Aa.isUndefined)(t)||(this.computePresentContent(),o||r||!i||this.toggleDropDownVisible(!1),this.$emit("input",e),this.$emit("change",e),this.dispatch("ElFormItem","el.form.change",[e]))},options:{handler:function(){this.$nextTick(this.computePresentContent)},deep:!0},presentText:function(e){this.inputValue=e},presentTags:function(e,t){this.multiple&&(e.length||t.length)&&this.$nextTick(this.updateStyle)},filtering:function(e){this.$nextTick(this.updatePopper)}},mounted:function(){var e=this,t=this.$refs.input;t&&t.$el&&(this.inputInitialHeight=t.$el.offsetHeight||Cl[this.realSize]||40),Object(m.isEmpty)(this.value)||this.computePresentContent(),this.filterHandler=T()(this.debounce,function(){var t=e.inputValue;if(t){var i=e.beforeFilter(t);i&&i.then?i.then(e.getSuggestions):!1!==i?e.getSuggestions():e.filtering=!1}else e.filtering=!1}),Object(Rt.addResizeListener)(this.$el,this.updateStyle)},beforeDestroy:function(){Object(Rt.removeResizeListener)(this.$el,this.updateStyle)},methods:{getMigratingConfig:function(){return{props:{"expand-trigger":"expand-trigger is removed, use `props.expandTrigger` instead.","change-on-select":"change-on-select is removed, use `props.checkStrictly` instead.","hover-threshold":"hover-threshold is removed, use `props.hoverThreshold` instead"},events:{"active-item-change":"active-item-change is renamed to expand-change"}}},toggleDropDownVisible:function(e){var t=this;if(!this.isDisabled){var i=this.dropDownVisible,n=this.$refs.input;(e=Object(ze.isDef)(e)?e:!i)!==i&&(this.dropDownVisible=e,e&&this.$nextTick(function(){t.updatePopper(),t.panel.scrollIntoView()}),n.$refs.input.setAttribute("aria-expanded",e),this.$emit("visible-change",e))}},handleDropdownLeave:function(){this.filtering=!1,this.inputValue=this.presentText},handleKeyDown:function(e){switch(e.keyCode){case _l.enter:this.toggleDropDownVisible();break;case _l.down:this.toggleDropDownVisible(!0),this.focusFirstNode(),e.preventDefault();break;case _l.esc:case _l.tab:this.toggleDropDownVisible(!1)}},handleFocus:function(e){this.$emit("focus",e)},handleBlur:function(e){this.$emit("blur",e)},handleInput:function(e,t){!this.dropDownVisible&&this.toggleDropDownVisible(!0),t&&t.isComposing||(e?this.filterHandler():this.filtering=!1)},handleClear:function(){this.presentText="",this.panel.clearCheckedNodes()},handleExpandChange:function(e){this.$nextTick(this.updatePopper.bind(this)),this.$emit("expand-change",e),this.$emit("active-item-change",e)},focusFirstNode:function(){var e=this;this.$nextTick(function(){var t=e.filtering,i=e.$refs,n=i.popper,r=i.suggestionPanel,o=null;t&&r?o=r.$el.querySelector(".el-cascader__suggestion-item"):o=n.querySelector(".el-cascader-menu").querySelector('.el-cascader-node[tabindex="-1"]');o&&(o.focus(),!t&&o.click())})},computePresentContent:function(){var e=this;this.$nextTick(function(){e.config.multiple?(e.computePresentTags(),e.presentText=e.presentTags.length?" ":null):e.computePresentText()})},computePresentText:function(){var e=this.checkedValue,t=this.config;if(!Object(m.isEmpty)(e)){var i=this.panel.getNodeByValue(e);if(i&&(t.checkStrictly||i.isLeaf))return void(this.presentText=i.getText(this.showAllLevels,this.separator))}this.presentText=null},computePresentTags:function(){var e=this.isDisabled,t=this.leafOnly,i=this.showAllLevels,n=this.separator,r=this.collapseTags,o=this.getCheckedNodes(t),s=[],a=function(t){return{node:t,key:t.uid,text:t.getText(i,n),hitState:!1,closable:!e&&!t.isDisabled}};if(o.length){var l=o[0],c=o.slice(1),h=c.length;s.push(a(l)),h&&(r?s.push({key:-1,text:"+ "+h,closable:!1}):c.forEach(function(e){return s.push(a(e))}))}this.checkedNodes=o,this.presentTags=s},getSuggestions:function(){var e=this,t=this.filterMethod;Object(Aa.isFunction)(t)||(t=function(e,t){return e.text.includes(t)});var i=this.panel.getFlattedNodes(this.leafOnly).filter(function(i){return!i.isDisabled&&(i.text=i.getText(e.showAllLevels,e.separator)||"",t(i,e.inputValue))});this.multiple?this.presentTags.forEach(function(e){e.hitState=!1}):i.forEach(function(t){t.checked=Object(m.isEqual)(e.checkedValue,t.getValueByOption())}),this.filtering=!0,this.suggestions=i,this.$nextTick(this.updatePopper)},handleSuggestionKeyDown:function(e){var t=e.keyCode,i=e.target;switch(t){case _l.enter:i.click();break;case _l.up:var n=i.previousElementSibling;n&&n.focus();break;case _l.down:var r=i.nextElementSibling;r&&r.focus();break;case _l.esc:case _l.tab:this.toggleDropDownVisible(!1)}},handleDelete:function(){var e=this.inputValue,t=this.pressDeleteCount,i=this.presentTags,n=i.length-1,r=i[n];this.pressDeleteCount=e?0:t+1,r&&this.pressDeleteCount&&(r.hitState?this.deleteTag(n):r.hitState=!0)},handleSuggestionClick:function(e){var t=this.multiple,i=this.suggestions[e];if(t){var n=i.checked;i.doCheck(!n),this.panel.calculateMultiCheckedValue()}else this.checkedValue=i.getValueByOption(),this.toggleDropDownVisible(!1)},deleteTag:function(e){var t=this.checkedValue,i=t[e];this.checkedValue=t.filter(function(t,i){return i!==e}),this.$emit("remove-tag",i)},updateStyle:function(){var e=this.$el,t=this.inputInitialHeight;if(!this.$isServer&&e){var i=this.$refs.suggestionPanel,n=e.querySelector(".el-input__inner");if(n){var r=e.querySelector(".el-cascader__tags"),o=null;if(i&&(o=i.$el))o.querySelector(".el-cascader__suggestion-list").style.minWidth=n.offsetWidth+"px";if(r){var s=r.offsetHeight,a=Math.max(s+6,t)+"px";n.style.height=a,this.updatePopper()}}}},getCheckedNodes:function(e){return this.panel.getCheckedNodes(e)}}},pl,[],!1,null,null,null);Sl.options.__file="packages/cascader/src/cascader.vue";var xl=Sl.exports;xl.install=function(e){e.component(xl.name,xl)};var kl=xl,Ll=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.hide,expression:"hide"}],class:["el-color-picker",e.colorDisabled?"is-disabled":"",e.colorSize?"el-color-picker--"+e.colorSize:""]},[e.colorDisabled?i("div",{staticClass:"el-color-picker__mask"}):e._e(),i("div",{staticClass:"el-color-picker__trigger",on:{click:e.handleTrigger}},[i("span",{staticClass:"el-color-picker__color",class:{"is-alpha":e.showAlpha}},[i("span",{staticClass:"el-color-picker__color-inner",style:{backgroundColor:e.displayedColor}}),e.value||e.showPanelColor?e._e():i("span",{staticClass:"el-color-picker__empty el-icon-close"})]),i("span",{directives:[{name:"show",rawName:"v-show",value:e.value||e.showPanelColor,expression:"value || showPanelColor"}],staticClass:"el-color-picker__icon el-icon-arrow-down"})]),i("picker-dropdown",{ref:"dropdown",class:["el-color-picker__panel",e.popperClass||""],attrs:{color:e.color,"show-alpha":e.showAlpha,predefine:e.predefine},on:{pick:e.confirmValue,clear:e.clearValue},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}})],1)};Ll._withStripped=!0;var Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var El=function(e,t,i){return[e,t*i/((e=(2-t)*i)<1?e:2-e)||0,e/2]},Nl=function(e,t){var i;"string"==typeof(i=e)&&-1!==i.indexOf(".")&&1===parseFloat(i)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!==e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)},Tl={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Ol={A:10,B:11,C:12,D:13,E:14,F:15},Ml=function(e){return 2===e.length?16*(Ol[e[0].toUpperCase()]||+e[0])+(Ol[e[1].toUpperCase()]||+e[1]):Ol[e[1].toUpperCase()]||+e[1]},Il=function(e,t,i){e=Nl(e,255),t=Nl(t,255),i=Nl(i,255);var n,r=Math.max(e,t,i),o=Math.min(e,t,i),s=void 0,a=r,l=r-o;if(n=0===r?0:l/r,r===o)s=0;else{switch(r){case e:s=(t-i)/l+(t<i?6:0);break;case t:s=(i-e)/l+2;break;case i:s=(e-t)/l+4}s/=6}return{h:360*s,s:100*n,v:100*a}},Al=function(e,t,i){e=6*Nl(e,360),t=Nl(t,100),i=Nl(i,100);var n=Math.floor(e),r=e-n,o=i*(1-t),s=i*(1-r*t),a=i*(1-(1-r)*t),l=n%6,c=[i,s,o,o,a,i][l],h=[a,i,i,s,o,o][l],u=[o,o,a,i,i,s][l];return{r:Math.round(255*c),g:Math.round(255*h),b:Math.round(255*u)}},Pl=function(){function e(t){for(var i in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="",t=t||{})t.hasOwnProperty(i)&&(this[i]=t[i]);this.doOnChange()}return e.prototype.set=function(e,t){if(1!==arguments.length||"object"!==(void 0===e?"undefined":Dl(e)))this["_"+e]=t,this.doOnChange();else for(var i in e)e.hasOwnProperty(i)&&this.set(i,e[i])},e.prototype.get=function(e){return this["_"+e]},e.prototype.toRgb=function(){return Al(this._hue,this._saturation,this._value)},e.prototype.fromString=function(e){var t=this;if(!e)return this._hue=0,this._saturation=100,this._value=100,void this.doOnChange();var i=function(e,i,n){t._hue=Math.max(0,Math.min(360,e)),t._saturation=Math.max(0,Math.min(100,i)),t._value=Math.max(0,Math.min(100,n)),t.doOnChange()};if(-1!==e.indexOf("hsl")){var n=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(function(e){return""!==e}).map(function(e,t){return t>2?parseFloat(e):parseInt(e,10)});if(4===n.length?this._alpha=Math.floor(100*parseFloat(n[3])):3===n.length&&(this._alpha=100),n.length>=3){var r=function(e,t,i){i/=100;var n=t/=100,r=Math.max(i,.01);return t*=(i*=2)<=1?i:2-i,n*=r<=1?r:2-r,{h:e,s:100*(0===i?2*n/(r+n):2*t/(i+t)),v:(i+t)/2*100}}(n[0],n[1],n[2]);i(r.h,r.s,r.v)}}else if(-1!==e.indexOf("hsv")){var o=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(function(e){return""!==e}).map(function(e,t){return t>2?parseFloat(e):parseInt(e,10)});4===o.length?this._alpha=Math.floor(100*parseFloat(o[3])):3===o.length&&(this._alpha=100),o.length>=3&&i(o[0],o[1],o[2])}else if(-1!==e.indexOf("rgb")){var s=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(function(e){return""!==e}).map(function(e,t){return t>2?parseFloat(e):parseInt(e,10)});if(4===s.length?this._alpha=Math.floor(100*parseFloat(s[3])):3===s.length&&(this._alpha=100),s.length>=3){var a=Il(s[0],s[1],s[2]);i(a.h,a.s,a.v)}}else if(-1!==e.indexOf("#")){var l=e.replace("#","").trim();if(!/^(?:[0-9a-fA-F]{3}){1,2}$/.test(l))return;var c=void 0,h=void 0,u=void 0;3===l.length?(c=Ml(l[0]+l[0]),h=Ml(l[1]+l[1]),u=Ml(l[2]+l[2])):6!==l.length&&8!==l.length||(c=Ml(l.substring(0,2)),h=Ml(l.substring(2,4)),u=Ml(l.substring(4,6))),8===l.length?this._alpha=Math.floor(Ml(l.substring(6))/255*100):3!==l.length&&6!==l.length||(this._alpha=100);var d=Il(c,h,u);i(d.h,d.s,d.v)}},e.prototype.compare=function(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1},e.prototype.doOnChange=function(){var e=this._hue,t=this._saturation,i=this._value,n=this._alpha,r=this.format;if(this.enableAlpha)switch(r){case"hsl":var o=El(e,t/100,i/100);this.value="hsla("+e+", "+Math.round(100*o[1])+"%, "+Math.round(100*o[2])+"%, "+n/100+")";break;case"hsv":this.value="hsva("+e+", "+Math.round(t)+"%, "+Math.round(i)+"%, "+n/100+")";break;default:var s=Al(e,t,i),a=s.r,l=s.g,c=s.b;this.value="rgba("+a+", "+l+", "+c+", "+n/100+")"}else switch(r){case"hsl":var h=El(e,t/100,i/100);this.value="hsl("+e+", "+Math.round(100*h[1])+"%, "+Math.round(100*h[2])+"%)";break;case"hsv":this.value="hsv("+e+", "+Math.round(t)+"%, "+Math.round(i)+"%)";break;case"rgb":var u=Al(e,t,i),d=u.r,f=u.g,p=u.b;this.value="rgb("+d+", "+f+", "+p+")";break;default:this.value=function(e){var t=e.r,i=e.g,n=e.b,r=function(e){e=Math.min(Math.round(e),255);var t=Math.floor(e/16),i=e%16;return""+(Tl[t]||t)+(Tl[i]||i)};return isNaN(t)||isNaN(i)||isNaN(n)?"":"#"+r(t)+r(i)+r(n)}(Al(e,t,i))}},e}(),Rl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":e.doDestroy}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-color-dropdown"},[i("div",{staticClass:"el-color-dropdown__main-wrapper"},[i("hue-slider",{ref:"hue",staticStyle:{float:"right"},attrs:{color:e.color,vertical:""}}),i("sv-panel",{ref:"sl",attrs:{color:e.color}})],1),e.showAlpha?i("alpha-slider",{ref:"alpha",attrs:{color:e.color}}):e._e(),e.predefine?i("predefine",{attrs:{color:e.color,colors:e.predefine}}):e._e(),i("div",{staticClass:"el-color-dropdown__btns"},[i("span",{staticClass:"el-color-dropdown__value"},[i("el-input",{attrs:{"validate-event":!1,size:"mini"},on:{blur:e.handleConfirm},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleConfirm(t):null}},model:{value:e.customInput,callback:function(t){e.customInput=t},expression:"customInput"}})],1),i("el-button",{staticClass:"el-color-dropdown__link-btn",attrs:{size:"mini",type:"text"},on:{click:function(t){e.$emit("clear")}}},[e._v("\n        "+e._s(e.t("el.colorpicker.clear"))+"\n      ")]),i("el-button",{staticClass:"el-color-dropdown__btn",attrs:{plain:"",size:"mini"},on:{click:e.confirmValue}},[e._v("\n        "+e._s(e.t("el.colorpicker.confirm"))+"\n      ")])],1)],1)])};Rl._withStripped=!0;var Fl=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"el-color-svpanel",style:{backgroundColor:this.background}},[t("div",{staticClass:"el-color-svpanel__white"}),t("div",{staticClass:"el-color-svpanel__black"}),t("div",{staticClass:"el-color-svpanel__cursor",style:{top:this.cursorTop+"px",left:this.cursorLeft+"px"}},[t("div")])])};Fl._withStripped=!0;var Vl=!1,Bl=function(e,t){if(!di.a.prototype.$isServer){var i=function(e){t.drag&&t.drag(e)},n=function e(n){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e),document.onselectstart=null,document.ondragstart=null,Vl=!1,t.end&&t.end(n)};e.addEventListener("mousedown",function(e){Vl||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},document.addEventListener("mousemove",i),document.addEventListener("mouseup",n),Vl=!0,t.start&&t.start(e))})}},Wl=r({name:"el-sl-panel",props:{color:{required:!0}},computed:{colorValue:function(){return{hue:this.color.get("hue"),value:this.color.get("value")}}},watch:{colorValue:function(){this.update()}},methods:{update:function(){var e=this.color.get("saturation"),t=this.color.get("value"),i=this.$el,n=i.clientWidth,r=i.clientHeight;this.cursorLeft=e*n/100,this.cursorTop=(100-t)*r/100,this.background="hsl("+this.color.get("hue")+", 100%, 50%)"},handleDrag:function(e){var t=this.$el.getBoundingClientRect(),i=e.clientX-t.left,n=e.clientY-t.top;i=Math.max(0,i),i=Math.min(i,t.width),n=Math.max(0,n),n=Math.min(n,t.height),this.cursorLeft=i,this.cursorTop=n,this.color.set({saturation:i/t.width*100,value:100-n/t.height*100})}},mounted:function(){var e=this;Bl(this.$el,{drag:function(t){e.handleDrag(t)},end:function(t){e.handleDrag(t)}}),this.update()},data:function(){return{cursorTop:0,cursorLeft:0,background:"hsl(0, 100%, 50%)"}}},Fl,[],!1,null,null,null);Wl.options.__file="packages/color-picker/src/components/sv-panel.vue";var $l=Wl.exports,zl=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"el-color-hue-slider",class:{"is-vertical":this.vertical}},[t("div",{ref:"bar",staticClass:"el-color-hue-slider__bar",on:{click:this.handleClick}}),t("div",{ref:"thumb",staticClass:"el-color-hue-slider__thumb",style:{left:this.thumbLeft+"px",top:this.thumbTop+"px"}})])};zl._withStripped=!0;var Hl=r({name:"el-color-hue-slider",props:{color:{required:!0},vertical:Boolean},data:function(){return{thumbLeft:0,thumbTop:0}},computed:{hueValue:function(){return this.color.get("hue")}},watch:{hueValue:function(){this.update()}},methods:{handleClick:function(e){var t=this.$refs.thumb;e.target!==t&&this.handleDrag(e)},handleDrag:function(e){var t=this.$el.getBoundingClientRect(),i=this.$refs.thumb,n=void 0;if(this.vertical){var r=e.clientY-t.top;r=Math.min(r,t.height-i.offsetHeight/2),r=Math.max(i.offsetHeight/2,r),n=Math.round((r-i.offsetHeight/2)/(t.height-i.offsetHeight)*360)}else{var o=e.clientX-t.left;o=Math.min(o,t.width-i.offsetWidth/2),o=Math.max(i.offsetWidth/2,o),n=Math.round((o-i.offsetWidth/2)/(t.width-i.offsetWidth)*360)}this.color.set("hue",n)},getThumbLeft:function(){if(this.vertical)return 0;var e=this.$el,t=this.color.get("hue");if(!e)return 0;var i=this.$refs.thumb;return Math.round(t*(e.offsetWidth-i.offsetWidth/2)/360)},getThumbTop:function(){if(!this.vertical)return 0;var e=this.$el,t=this.color.get("hue");if(!e)return 0;var i=this.$refs.thumb;return Math.round(t*(e.offsetHeight-i.offsetHeight/2)/360)},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop()}},mounted:function(){var e=this,t=this.$refs,i=t.bar,n=t.thumb,r={drag:function(t){e.handleDrag(t)},end:function(t){e.handleDrag(t)}};Bl(i,r),Bl(n,r),this.update()}},zl,[],!1,null,null,null);Hl.options.__file="packages/color-picker/src/components/hue-slider.vue";var jl=Hl.exports,Ul=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"el-color-alpha-slider",class:{"is-vertical":this.vertical}},[t("div",{ref:"bar",staticClass:"el-color-alpha-slider__bar",style:{background:this.background},on:{click:this.handleClick}}),t("div",{ref:"thumb",staticClass:"el-color-alpha-slider__thumb",style:{left:this.thumbLeft+"px",top:this.thumbTop+"px"}})])};Ul._withStripped=!0;var Kl=r({name:"el-color-alpha-slider",props:{color:{required:!0},vertical:Boolean},watch:{"color._alpha":function(){this.update()},"color.value":function(){this.update()}},methods:{handleClick:function(e){var t=this.$refs.thumb;e.target!==t&&this.handleDrag(e)},handleDrag:function(e){var t=this.$el.getBoundingClientRect(),i=this.$refs.thumb;if(this.vertical){var n=e.clientY-t.top;n=Math.max(i.offsetHeight/2,n),n=Math.min(n,t.height-i.offsetHeight/2),this.color.set("alpha",Math.round((n-i.offsetHeight/2)/(t.height-i.offsetHeight)*100))}else{var r=e.clientX-t.left;r=Math.max(i.offsetWidth/2,r),r=Math.min(r,t.width-i.offsetWidth/2),this.color.set("alpha",Math.round((r-i.offsetWidth/2)/(t.width-i.offsetWidth)*100))}},getThumbLeft:function(){if(this.vertical)return 0;var e=this.$el,t=this.color._alpha;if(!e)return 0;var i=this.$refs.thumb;return Math.round(t*(e.offsetWidth-i.offsetWidth/2)/100)},getThumbTop:function(){if(!this.vertical)return 0;var e=this.$el,t=this.color._alpha;if(!e)return 0;var i=this.$refs.thumb;return Math.round(t*(e.offsetHeight-i.offsetHeight/2)/100)},getBackground:function(){if(this.color&&this.color.value){var e=this.color.toRgb(),t=e.r,i=e.g,n=e.b;return"linear-gradient(to right, rgba("+t+", "+i+", "+n+", 0) 0%, rgba("+t+", "+i+", "+n+", 1) 100%)"}return null},update:function(){this.thumbLeft=this.getThumbLeft(),this.thumbTop=this.getThumbTop(),this.background=this.getBackground()}},data:function(){return{thumbLeft:0,thumbTop:0,background:null}},mounted:function(){var e=this,t=this.$refs,i=t.bar,n=t.thumb,r={drag:function(t){e.handleDrag(t)},end:function(t){e.handleDrag(t)}};Bl(i,r),Bl(n,r),this.update()}},Ul,[],!1,null,null,null);Kl.options.__file="packages/color-picker/src/components/alpha-slider.vue";var ql=Kl.exports,Gl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-color-predefine"},[i("div",{staticClass:"el-color-predefine__colors"},e._l(e.rgbaColors,function(t,n){return i("div",{key:e.colors[n],staticClass:"el-color-predefine__color-selector",class:{selected:t.selected,"is-alpha":t._alpha<100},on:{click:function(t){e.handleSelect(n)}}},[i("div",{style:{"background-color":t.value}})])}),0)])};Gl._withStripped=!0;var Yl=r({props:{colors:{type:Array,required:!0},color:{required:!0}},data:function(){return{rgbaColors:this.parseColors(this.colors,this.color)}},methods:{handleSelect:function(e){this.color.fromString(this.colors[e])},parseColors:function(e,t){return e.map(function(e){var i=new Pl;return i.enableAlpha=!0,i.format="rgba",i.fromString(e),i.selected=i.value===t.value,i})}},watch:{"$parent.currentColor":function(e){var t=new Pl;t.fromString(e),this.rgbaColors.forEach(function(e){e.selected=t.compare(e)})},colors:function(e){this.rgbaColors=this.parseColors(e,this.color)},color:function(e){this.rgbaColors=this.parseColors(this.colors,e)}}},Gl,[],!1,null,null,null);Yl.options.__file="packages/color-picker/src/components/predefine.vue";var Xl=Yl.exports,Zl=r({name:"el-color-picker-dropdown",mixins:[P.a,p.a],components:{SvPanel:$l,HueSlider:jl,AlphaSlider:ql,ElInput:d.a,ElButton:K.a,Predefine:Xl},props:{color:{required:!0},showAlpha:Boolean,predefine:Array},data:function(){return{customInput:""}},computed:{currentColor:function(){var e=this.$parent;return e.value||e.showPanelColor?e.color.value:""}},methods:{confirmValue:function(){this.$emit("pick")},handleConfirm:function(){this.color.fromString(this.customInput)}},mounted:function(){this.$parent.popperElm=this.popperElm=this.$el,this.referenceElm=this.$parent.$el},watch:{showPopper:function(e){var t=this;!0===e&&this.$nextTick(function(){var e=t.$refs,i=e.sl,n=e.hue,r=e.alpha;i&&i.update(),n&&n.update(),r&&r.update()})},currentColor:{immediate:!0,handler:function(e){this.customInput=e}}}},Rl,[],!1,null,null,null);Zl.options.__file="packages/color-picker/src/components/picker-dropdown.vue";var Ql=Zl.exports,Jl=r({name:"ElColorPicker",mixins:[x.a],props:{value:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:String,popperClass:String,predefine:Array},inject:{elForm:{default:""},elFormItem:{default:""}},directives:{Clickoutside:M.a},computed:{displayedColor:function(){return this.value||this.showPanelColor?this.displayedRgb(this.color,this.showAlpha):"transparent"},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},colorSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},colorDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{value:function(e){e?e&&e!==this.color.value&&this.color.fromString(e):this.showPanelColor=!1},color:{deep:!0,handler:function(){this.showPanelColor=!0}},displayedColor:function(e){if(this.showPicker){var t=new Pl({enableAlpha:this.showAlpha,format:this.colorFormat});t.fromString(this.value),e!==this.displayedRgb(t,this.showAlpha)&&this.$emit("active-change",e)}}},methods:{handleTrigger:function(){this.colorDisabled||(this.showPicker=!this.showPicker)},confirmValue:function(){var e=this.color.value;this.$emit("input",e),this.$emit("change",e),this.dispatch("ElFormItem","el.form.change",e),this.showPicker=!1},clearValue:function(){this.$emit("input",null),this.$emit("change",null),null!==this.value&&this.dispatch("ElFormItem","el.form.change",null),this.showPanelColor=!1,this.showPicker=!1,this.resetColor()},hide:function(){this.showPicker=!1,this.resetColor()},resetColor:function(){var e=this;this.$nextTick(function(t){e.value?e.color.fromString(e.value):e.showPanelColor=!1})},displayedRgb:function(e,t){if(!(e instanceof Pl))throw Error("color should be instance of Color Class");var i=e.toRgb(),n=i.r,r=i.g,o=i.b;return t?"rgba("+n+", "+r+", "+o+", "+e.get("alpha")/100+")":"rgb("+n+", "+r+", "+o+")"}},mounted:function(){var e=this.value;e&&this.color.fromString(e),this.popperElm=this.$refs.dropdown.$el},data:function(){return{color:new Pl({enableAlpha:this.showAlpha,format:this.colorFormat}),showPicker:!1,showPanelColor:!1}},components:{PickerDropdown:Ql}},Ll,[],!1,null,null,null);Jl.options.__file="packages/color-picker/src/main.vue";var ec=Jl.exports;ec.install=function(e){e.component(ec.name,ec)};var tc=ec,ic=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-transfer"},[i("transfer-panel",e._b({ref:"leftPanel",attrs:{data:e.sourceData,title:e.titles[0]||e.t("el.transfer.titles.0"),"default-checked":e.leftDefaultChecked,placeholder:e.filterPlaceholder||e.t("el.transfer.filterPlaceholder")},on:{"checked-change":e.onSourceCheckedChange}},"transfer-panel",e.$props,!1),[e._t("left-footer")],2),i("div",{staticClass:"el-transfer__buttons"},[i("el-button",{class:["el-transfer__button",e.hasButtonTexts?"is-with-texts":""],attrs:{type:"primary",disabled:0===e.rightChecked.length},nativeOn:{click:function(t){return e.addToLeft(t)}}},[i("i",{staticClass:"el-icon-arrow-left"}),void 0!==e.buttonTexts[0]?i("span",[e._v(e._s(e.buttonTexts[0]))]):e._e()]),i("el-button",{class:["el-transfer__button",e.hasButtonTexts?"is-with-texts":""],attrs:{type:"primary",disabled:0===e.leftChecked.length},nativeOn:{click:function(t){return e.addToRight(t)}}},[void 0!==e.buttonTexts[1]?i("span",[e._v(e._s(e.buttonTexts[1]))]):e._e(),i("i",{staticClass:"el-icon-arrow-right"})])],1),i("transfer-panel",e._b({ref:"rightPanel",attrs:{data:e.targetData,title:e.titles[1]||e.t("el.transfer.titles.1"),"default-checked":e.rightDefaultChecked,placeholder:e.filterPlaceholder||e.t("el.transfer.filterPlaceholder")},on:{"checked-change":e.onTargetCheckedChange}},"transfer-panel",e.$props,!1),[e._t("right-footer")],2)],1)};ic._withStripped=!0;var nc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-transfer-panel"},[i("p",{staticClass:"el-transfer-panel__header"},[i("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleAllCheckedChange},model:{value:e.allChecked,callback:function(t){e.allChecked=t},expression:"allChecked"}},[e._v("\n      "+e._s(e.title)+"\n      "),i("span",[e._v(e._s(e.checkedSummary))])])],1),i("div",{class:["el-transfer-panel__body",e.hasFooter?"is-with-footer":""]},[e.filterable?i("el-input",{staticClass:"el-transfer-panel__filter",attrs:{size:"small",placeholder:e.placeholder},nativeOn:{mouseenter:function(t){e.inputHover=!0},mouseleave:function(t){e.inputHover=!1}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}},[i("i",{class:["el-input__icon","el-icon-"+e.inputIcon],attrs:{slot:"prefix"},on:{click:e.clearQuery},slot:"prefix"})]):e._e(),i("el-checkbox-group",{directives:[{name:"show",rawName:"v-show",value:!e.hasNoMatch&&e.data.length>0,expression:"!hasNoMatch && data.length > 0"}],staticClass:"el-transfer-panel__list",class:{"is-filterable":e.filterable},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},e._l(e.filteredData,function(t){return i("el-checkbox",{key:t[e.keyProp],staticClass:"el-transfer-panel__item",attrs:{label:t[e.keyProp],disabled:t[e.disabledProp]}},[i("option-content",{attrs:{option:t}})],1)}),1),i("p",{directives:[{name:"show",rawName:"v-show",value:e.hasNoMatch,expression:"hasNoMatch"}],staticClass:"el-transfer-panel__empty"},[e._v(e._s(e.t("el.transfer.noMatch")))]),i("p",{directives:[{name:"show",rawName:"v-show",value:0===e.data.length&&!e.hasNoMatch,expression:"data.length === 0 && !hasNoMatch"}],staticClass:"el-transfer-panel__empty"},[e._v(e._s(e.t("el.transfer.noData")))])],1),e.hasFooter?i("p",{staticClass:"el-transfer-panel__footer"},[e._t("default")],2):e._e()])};nc._withStripped=!0;var rc=r({mixins:[p.a],name:"ElTransferPanel",componentName:"ElTransferPanel",components:{ElCheckboxGroup:Ki.a,ElCheckbox:oi.a,ElInput:d.a,OptionContent:{props:{option:Object},render:function(e){var t=function e(t){return"ElTransferPanel"===t.$options.componentName?t:t.$parent?e(t.$parent):t}(this),i=t.$parent||t;return t.renderContent?t.renderContent(e,this.option):i.$scopedSlots.default?i.$scopedSlots.default({option:this.option}):e("span",[this.option[t.labelProp]||this.option[t.keyProp]])}}},props:{data:{type:Array,default:function(){return[]}},renderContent:Function,placeholder:String,title:String,filterable:Boolean,format:Object,filterMethod:Function,defaultChecked:Array,props:Object},data:function(){return{checked:[],allChecked:!1,query:"",inputHover:!1,checkChangeByUser:!0}},watch:{checked:function(e,t){if(this.updateAllChecked(),this.checkChangeByUser){var i=e.concat(t).filter(function(i){return-1===e.indexOf(i)||-1===t.indexOf(i)});this.$emit("checked-change",e,i)}else this.$emit("checked-change",e),this.checkChangeByUser=!0},data:function(){var e=this,t=[],i=this.filteredData.map(function(t){return t[e.keyProp]});this.checked.forEach(function(e){i.indexOf(e)>-1&&t.push(e)}),this.checkChangeByUser=!1,this.checked=t},checkableData:function(){this.updateAllChecked()},defaultChecked:{immediate:!0,handler:function(e,t){var i=this;if(!t||e.length!==t.length||!e.every(function(e){return t.indexOf(e)>-1})){var n=[],r=this.checkableData.map(function(e){return e[i.keyProp]});e.forEach(function(e){r.indexOf(e)>-1&&n.push(e)}),this.checkChangeByUser=!1,this.checked=n}}}},computed:{filteredData:function(){var e=this;return this.data.filter(function(t){return"function"==typeof e.filterMethod?e.filterMethod(e.query,t):(t[e.labelProp]||t[e.keyProp].toString()).toLowerCase().indexOf(e.query.toLowerCase())>-1})},checkableData:function(){var e=this;return this.filteredData.filter(function(t){return!t[e.disabledProp]})},checkedSummary:function(){var e=this.checked.length,t=this.data.length,i=this.format,n=i.noChecked,r=i.hasChecked;return n&&r?e>0?r.replace(/\${checked}/g,e).replace(/\${total}/g,t):n.replace(/\${total}/g,t):e+"/"+t},isIndeterminate:function(){var e=this.checked.length;return e>0&&e<this.checkableData.length},hasNoMatch:function(){return this.query.length>0&&0===this.filteredData.length},inputIcon:function(){return this.query.length>0&&this.inputHover?"circle-close":"search"},labelProp:function(){return this.props.label||"label"},keyProp:function(){return this.props.key||"key"},disabledProp:function(){return this.props.disabled||"disabled"},hasFooter:function(){return!!this.$slots.default}},methods:{updateAllChecked:function(){var e=this,t=this.checkableData.map(function(t){return t[e.keyProp]});this.allChecked=t.length>0&&t.every(function(t){return e.checked.indexOf(t)>-1})},handleAllCheckedChange:function(e){var t=this;this.checked=e?this.checkableData.map(function(e){return e[t.keyProp]}):[]},clearQuery:function(){"circle-close"===this.inputIcon&&(this.query="")}}},nc,[],!1,null,null,null);rc.options.__file="packages/transfer/src/transfer-panel.vue";var oc=rc.exports,sc=r({name:"ElTransfer",mixins:[x.a,p.a,C.a],components:{TransferPanel:oc,ElButton:K.a},props:{data:{type:Array,default:function(){return[]}},titles:{type:Array,default:function(){return[]}},buttonTexts:{type:Array,default:function(){return[]}},filterPlaceholder:{type:String,default:""},filterMethod:Function,leftDefaultChecked:{type:Array,default:function(){return[]}},rightDefaultChecked:{type:Array,default:function(){return[]}},renderContent:Function,value:{type:Array,default:function(){return[]}},format:{type:Object,default:function(){return{}}},filterable:Boolean,props:{type:Object,default:function(){return{label:"label",key:"key",disabled:"disabled"}}},targetOrder:{type:String,default:"original"}},data:function(){return{leftChecked:[],rightChecked:[]}},computed:{dataObj:function(){var e=this.props.key;return this.data.reduce(function(t,i){return(t[i[e]]=i)&&t},{})},sourceData:function(){var e=this;return this.data.filter(function(t){return-1===e.value.indexOf(t[e.props.key])})},targetData:function(){var e=this;return"original"===this.targetOrder?this.data.filter(function(t){return e.value.indexOf(t[e.props.key])>-1}):this.value.reduce(function(t,i){var n=e.dataObj[i];return n&&t.push(n),t},[])},hasButtonTexts:function(){return 2===this.buttonTexts.length}},watch:{value:function(e){this.dispatch("ElFormItem","el.form.change",e)}},methods:{getMigratingConfig:function(){return{props:{"footer-format":"footer-format is renamed to format."}}},onSourceCheckedChange:function(e,t){this.leftChecked=e,void 0!==t&&this.$emit("left-check-change",e,t)},onTargetCheckedChange:function(e,t){this.rightChecked=e,void 0!==t&&this.$emit("right-check-change",e,t)},addToLeft:function(){var e=this.value.slice();this.rightChecked.forEach(function(t){var i=e.indexOf(t);i>-1&&e.splice(i,1)}),this.$emit("input",e),this.$emit("change",e,"left",this.rightChecked)},addToRight:function(){var e=this,t=this.value.slice(),i=[],n=this.props.key;this.data.forEach(function(t){var r=t[n];e.leftChecked.indexOf(r)>-1&&-1===e.value.indexOf(r)&&i.push(r)}),t="unshift"===this.targetOrder?i.concat(t):t.concat(i),this.$emit("input",t),this.$emit("change",t,"right",this.leftChecked)},clearQuery:function(e){"left"===e?this.$refs.leftPanel.query="":"right"===e&&(this.$refs.rightPanel.query="")}}},ic,[],!1,null,null,null);sc.options.__file="packages/transfer/src/main.vue";var ac=sc.exports;ac.install=function(e){e.component(ac.name,ac)};var lc=ac,cc=function(){var e=this.$createElement;return(this._self._c||e)("section",{staticClass:"el-container",class:{"is-vertical":this.isVertical}},[this._t("default")],2)};cc._withStripped=!0;var hc=r({name:"ElContainer",componentName:"ElContainer",props:{direction:String},computed:{isVertical:function(){return"vertical"===this.direction||"horizontal"!==this.direction&&(!(!this.$slots||!this.$slots.default)&&this.$slots.default.some(function(e){var t=e.componentOptions&&e.componentOptions.tag;return"el-header"===t||"el-footer"===t}))}}},cc,[],!1,null,null,null);hc.options.__file="packages/container/src/main.vue";var uc=hc.exports;uc.install=function(e){e.component(uc.name,uc)};var dc=uc,fc=function(){var e=this.$createElement;return(this._self._c||e)("header",{staticClass:"el-header",style:{height:this.height}},[this._t("default")],2)};fc._withStripped=!0;var pc=r({name:"ElHeader",componentName:"ElHeader",props:{height:{type:String,default:"60px"}}},fc,[],!1,null,null,null);pc.options.__file="packages/header/src/main.vue";var mc=pc.exports;mc.install=function(e){e.component(mc.name,mc)};var gc=mc,vc=function(){var e=this.$createElement;return(this._self._c||e)("aside",{staticClass:"el-aside",style:{width:this.width}},[this._t("default")],2)};vc._withStripped=!0;var bc=r({name:"ElAside",componentName:"ElAside",props:{width:{type:String,default:"300px"}}},vc,[],!1,null,null,null);bc.options.__file="packages/aside/src/main.vue";var _c=bc.exports;_c.install=function(e){e.component(_c.name,_c)};var yc=_c,wc=function(){var e=this.$createElement;return(this._self._c||e)("main",{staticClass:"el-main"},[this._t("default")],2)};wc._withStripped=!0;var Cc=r({name:"ElMain",componentName:"ElMain"},wc,[],!1,null,null,null);Cc.options.__file="packages/main/src/main.vue";var Sc=Cc.exports;Sc.install=function(e){e.component(Sc.name,Sc)};var xc=Sc,kc=function(){var e=this.$createElement;return(this._self._c||e)("footer",{staticClass:"el-footer",style:{height:this.height}},[this._t("default")],2)};kc._withStripped=!0;var Lc=r({name:"ElFooter",componentName:"ElFooter",props:{height:{type:String,default:"60px"}}},kc,[],!1,null,null,null);Lc.options.__file="packages/footer/src/main.vue";var Dc=Lc.exports;Dc.install=function(e){e.component(Dc.name,Dc)};var Ec=Dc,Nc=r({name:"ElTimeline",props:{reverse:{type:Boolean,default:!1}},provide:function(){return{timeline:this}},render:function(){var e=arguments[0],t=this.reverse,i={"el-timeline":!0,"is-reverse":t},n=this.$slots.default||[];return t&&(n=n.reverse()),e("ul",{class:i},[n])}},void 0,void 0,!1,null,null,null);Nc.options.__file="packages/timeline/src/main.vue";var Tc=Nc.exports;Tc.install=function(e){e.component(Tc.name,Tc)};var Oc=Tc,Mc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"el-timeline-item"},[i("div",{staticClass:"el-timeline-item__tail"}),e.$slots.dot?e._e():i("div",{staticClass:"el-timeline-item__node",class:["el-timeline-item__node--"+(e.size||""),"el-timeline-item__node--"+(e.type||"")],style:{backgroundColor:e.color}},[e.icon?i("i",{staticClass:"el-timeline-item__icon",class:e.icon}):e._e()]),e.$slots.dot?i("div",{staticClass:"el-timeline-item__dot"},[e._t("dot")],2):e._e(),i("div",{staticClass:"el-timeline-item__wrapper"},[e.hideTimestamp||"top"!==e.placement?e._e():i("div",{staticClass:"el-timeline-item__timestamp is-top"},[e._v("\n      "+e._s(e.timestamp)+"\n    ")]),i("div",{staticClass:"el-timeline-item__content"},[e._t("default")],2),e.hideTimestamp||"bottom"!==e.placement?e._e():i("div",{staticClass:"el-timeline-item__timestamp is-bottom"},[e._v("\n      "+e._s(e.timestamp)+"\n    ")])])])};Mc._withStripped=!0;var Ic=r({name:"ElTimelineItem",inject:["timeline"],props:{timestamp:String,hideTimestamp:{type:Boolean,default:!1},placement:{type:String,default:"bottom"},type:String,color:String,size:{type:String,default:"normal"},icon:String}},Mc,[],!1,null,null,null);Ic.options.__file="packages/timeline/src/item.vue";var Ac=Ic.exports;Ac.install=function(e){e.component(Ac.name,Ac)};var Pc=Ac,Rc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",e._b({class:["el-link",e.type?"el-link--"+e.type:"",e.disabled&&"is-disabled",e.underline&&!e.disabled&&"is-underline"],attrs:{href:e.disabled?null:e.href},on:{click:e.handleClick}},"a",e.$attrs,!1),[e.icon?i("i",{class:e.icon}):e._e(),e.$slots.default?i("span",{staticClass:"el-link--inner"},[e._t("default")],2):e._e(),e.$slots.icon?[e.$slots.icon?e._t("icon"):e._e()]:e._e()],2)};Rc._withStripped=!0;var Fc=r({name:"ElLink",props:{type:{type:String,default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:String,icon:String},methods:{handleClick:function(e){this.disabled||this.href||this.$emit("click",e)}}},Rc,[],!1,null,null,null);Fc.options.__file="packages/link/src/main.vue";var Vc=Fc.exports;Vc.install=function(e){e.component(Vc.name,Vc)};var Bc=Vc,Wc=function(e,t){var i=t._c;return i("div",t._g(t._b({class:[t.data.staticClass,"el-divider","el-divider--"+t.props.direction]},"div",t.data.attrs,!1),t.listeners),[t.slots().default&&"vertical"!==t.props.direction?i("div",{class:["el-divider__text","is-"+t.props.contentPosition]},[t._t("default")],2):t._e()])};Wc._withStripped=!0;var $c=r({name:"ElDivider",props:{direction:{type:String,default:"horizontal",validator:function(e){return-1!==["horizontal","vertical"].indexOf(e)}},contentPosition:{type:String,default:"center",validator:function(e){return-1!==["left","center","right"].indexOf(e)}}}},Wc,[],!0,null,null,null);$c.options.__file="packages/divider/src/main.vue";var zc=$c.exports;zc.install=function(e){e.component(zc.name,zc)};var Hc=zc,jc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-image"},[e.loading?e._t("placeholder",[i("div",{staticClass:"el-image__placeholder"})]):e.error?e._t("error",[i("div",{staticClass:"el-image__error"},[e._v(e._s(e.t("el.image.error")))])]):i("img",e._g(e._b({staticClass:"el-image__inner",class:{"el-image__inner--center":e.alignCenter,"el-image__preview":e.preview},style:e.imageStyle,attrs:{src:e.src},on:{click:e.clickHandler}},"img",e.$attrs,!1),e.$listeners)),e.preview?[e.showViewer?i("image-viewer",{attrs:{"z-index":e.zIndex,"initial-index":e.imageIndex,"on-close":e.closeViewer,"url-list":e.previewSrcList}}):e._e()]:e._e()],2)};jc._withStripped=!0;var Uc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"viewer-fade"}},[i("div",{ref:"el-image-viewer__wrapper",staticClass:"el-image-viewer__wrapper",style:{"z-index":e.zIndex},attrs:{tabindex:"-1"}},[i("div",{staticClass:"el-image-viewer__mask"}),i("span",{staticClass:"el-image-viewer__btn el-image-viewer__close",on:{click:e.hide}},[i("i",{staticClass:"el-icon-circle-close"})]),e.isSingle?e._e():[i("span",{staticClass:"el-image-viewer__btn el-image-viewer__prev",class:{"is-disabled":!e.infinite&&e.isFirst},on:{click:e.prev}},[i("i",{staticClass:"el-icon-arrow-left"})]),i("span",{staticClass:"el-image-viewer__btn el-image-viewer__next",class:{"is-disabled":!e.infinite&&e.isLast},on:{click:e.next}},[i("i",{staticClass:"el-icon-arrow-right"})])],i("div",{staticClass:"el-image-viewer__btn el-image-viewer__actions"},[i("div",{staticClass:"el-image-viewer__actions__inner"},[i("i",{staticClass:"el-icon-zoom-out",on:{click:function(t){e.handleActions("zoomOut")}}}),i("i",{staticClass:"el-icon-zoom-in",on:{click:function(t){e.handleActions("zoomIn")}}}),i("i",{staticClass:"el-image-viewer__actions__divider"}),i("i",{class:e.mode.icon,on:{click:e.toggleMode}}),i("i",{staticClass:"el-image-viewer__actions__divider"}),i("i",{staticClass:"el-icon-refresh-left",on:{click:function(t){e.handleActions("anticlocelise")}}}),i("i",{staticClass:"el-icon-refresh-right",on:{click:function(t){e.handleActions("clocelise")}}})])]),i("div",{staticClass:"el-image-viewer__canvas"},e._l(e.urlList,function(t,n){return n===e.index?i("img",{key:t,ref:"img",refInFor:!0,staticClass:"el-image-viewer__img",style:e.imgStyle,attrs:{src:e.currentImg},on:{load:e.handleImgLoad,error:e.handleImgError,mousedown:e.handleMouseDown}}):e._e()}),0)],2)])};Uc._withStripped=!0;var Kc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},qc={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},Gc=Object(m.isFirefox)()?"DOMMouseScroll":"mousewheel",Yc=r({name:"elImageViewer",props:{urlList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:function(){}},onClose:{type:Function,default:function(){}},initialIndex:{type:Number,default:0}},data:function(){return{index:this.initialIndex,isShow:!1,infinite:!0,loading:!1,mode:qc.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},computed:{isSingle:function(){return this.urlList.length<=1},isFirst:function(){return 0===this.index},isLast:function(){return this.index===this.urlList.length-1},currentImg:function(){return this.urlList[this.index]},imgStyle:function(){var e=this.transform,t=e.scale,i=e.deg,n=e.offsetX,r=e.offsetY,o={transform:"scale("+t+") rotate("+i+"deg)",transition:e.enableTransition?"transform .3s":"","margin-left":n+"px","margin-top":r+"px"};return this.mode===qc.CONTAIN&&(o.maxWidth=o.maxHeight="100%"),o}},watch:{index:{handler:function(e){this.reset(),this.onSwitch(e)}},currentImg:function(e){var t=this;this.$nextTick(function(e){t.$refs.img[0].complete||(t.loading=!0)})}},methods:{hide:function(){this.deviceSupportUninstall(),this.onClose()},deviceSupportInstall:function(){var e=this;this._keyDownHandler=Object(m.rafThrottle)(function(t){switch(t.keyCode){case 27:e.hide();break;case 32:e.toggleMode();break;case 37:e.prev();break;case 38:e.handleActions("zoomIn");break;case 39:e.next();break;case 40:e.handleActions("zoomOut")}}),this._mouseWheelHandler=Object(m.rafThrottle)(function(t){(t.wheelDelta?t.wheelDelta:-t.detail)>0?e.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):e.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})}),Object(pe.on)(document,"keydown",this._keyDownHandler),Object(pe.on)(document,Gc,this._mouseWheelHandler)},deviceSupportUninstall:function(){Object(pe.off)(document,"keydown",this._keyDownHandler),Object(pe.off)(document,Gc,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad:function(e){this.loading=!1},handleImgError:function(e){this.loading=!1,e.target.alt="加载失败"},handleMouseDown:function(e){var t=this;if(!this.loading&&0===e.button){var i=this.transform,n=i.offsetX,r=i.offsetY,o=e.pageX,s=e.pageY;this._dragHandler=Object(m.rafThrottle)(function(e){t.transform.offsetX=n+e.pageX-o,t.transform.offsetY=r+e.pageY-s}),Object(pe.on)(document,"mousemove",this._dragHandler),Object(pe.on)(document,"mouseup",function(e){Object(pe.off)(document,"mousemove",t._dragHandler)}),e.preventDefault()}},reset:function(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode:function(){if(!this.loading){var e=Object.keys(qc),t=(Object.values(qc).indexOf(this.mode)+1)%e.length;this.mode=qc[e[t]],this.reset()}},prev:function(){if(!this.isFirst||this.infinite){var e=this.urlList.length;this.index=(this.index-1+e)%e}},next:function(){if(!this.isLast||this.infinite){var e=this.urlList.length;this.index=(this.index+1)%e}},handleActions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.loading){var i=Kc({zoomRate:.2,rotateDeg:90,enableTransition:!0},t),n=i.zoomRate,r=i.rotateDeg,o=i.enableTransition,s=this.transform;switch(e){case"zoomOut":s.scale>.2&&(s.scale=parseFloat((s.scale-n).toFixed(3)));break;case"zoomIn":s.scale=parseFloat((s.scale+n).toFixed(3));break;case"clocelise":s.deg+=r;break;case"anticlocelise":s.deg-=r}s.enableTransition=o}}},mounted:function(){this.deviceSupportInstall(),this.$refs["el-image-viewer__wrapper"].focus()}},Uc,[],!1,null,null,null);Yc.options.__file="packages/image/src/image-viewer.vue";var Xc=Yc.exports,Zc=function(){return void 0!==document.documentElement.style.objectFit},Qc="none",Jc="contain",eh="cover",th="fill",ih="scale-down",nh="",rh=r({name:"ElImage",mixins:[p.a],inheritAttrs:!1,components:{ImageViewer:Xc},props:{src:String,fit:String,lazy:Boolean,scrollContainer:{},previewSrcList:{type:Array,default:function(){return[]}},zIndex:{type:Number,default:2e3}},data:function(){return{loading:!0,error:!1,show:!this.lazy,imageWidth:0,imageHeight:0,showViewer:!1}},computed:{imageStyle:function(){var e=this.fit;return!this.$isServer&&e?Zc()?{"object-fit":e}:this.getImageStyle(e):{}},alignCenter:function(){return!this.$isServer&&!Zc()&&this.fit!==th},preview:function(){var e=this.previewSrcList;return Array.isArray(e)&&e.length>0},imageIndex:function(){var e=0,t=this.previewSrcList.indexOf(this.src);return t>=0&&(e=t),e}},watch:{src:function(e){this.show&&this.loadImage()},show:function(e){e&&this.loadImage()}},mounted:function(){this.lazy?this.addLazyLoadListener():this.loadImage()},beforeDestroy:function(){this.lazy&&this.removeLazyLoadListener()},methods:{loadImage:function(){var e=this;if(!this.$isServer){this.loading=!0,this.error=!1;var t=new Image;t.onload=function(i){return e.handleLoad(i,t)},t.onerror=this.handleError.bind(this),Object.keys(this.$attrs).forEach(function(i){var n=e.$attrs[i];t.setAttribute(i,n)}),t.src=this.src}},handleLoad:function(e,t){this.imageWidth=t.width,this.imageHeight=t.height,this.loading=!1,this.error=!1},handleError:function(e){this.loading=!1,this.error=!0,this.$emit("error",e)},handleLazyLoad:function(){Object(pe.isInContainer)(this.$el,this._scrollContainer)&&(this.show=!0,this.removeLazyLoadListener())},addLazyLoadListener:function(){if(!this.$isServer){var e=this.scrollContainer,t=null;(t=Object(Aa.isHtmlElement)(e)?e:Object(Aa.isString)(e)?document.querySelector(e):Object(pe.getScrollContainer)(this.$el))&&(this._scrollContainer=t,this._lazyLoadHandler=Ga()(200,this.handleLazyLoad),Object(pe.on)(t,"scroll",this._lazyLoadHandler),this.handleLazyLoad())}},removeLazyLoadListener:function(){var e=this._scrollContainer,t=this._lazyLoadHandler;!this.$isServer&&e&&t&&(Object(pe.off)(e,"scroll",t),this._scrollContainer=null,this._lazyLoadHandler=null)},getImageStyle:function(e){var t=this.imageWidth,i=this.imageHeight,n=this.$el,r=n.clientWidth,o=n.clientHeight;if(!(t&&i&&r&&o))return{};var s=t/i<1;e===ih&&(e=t<r&&i<o?Qc:Jc);switch(e){case Qc:return{width:"auto",height:"auto"};case Jc:return s?{width:"auto"}:{height:"auto"};case eh:return s?{height:"auto"}:{width:"auto"};default:return{}}},clickHandler:function(){this.preview&&(nh=document.body.style.overflow,document.body.style.overflow="hidden",this.showViewer=!0)},closeViewer:function(){document.body.style.overflow=nh,this.showViewer=!1}}},jc,[],!1,null,null,null);rh.options.__file="packages/image/src/main.vue";var oh=rh.exports;oh.install=function(e){e.component(oh.name,oh)};var sh=oh,ah=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-calendar"},[i("div",{staticClass:"el-calendar__header"},[i("div",{staticClass:"el-calendar__title"},[e._v("\n      "+e._s(e.i18nDate)+"\n    ")]),0===e.validatedRange.length?i("div",{staticClass:"el-calendar__button-group"},[i("el-button-group",[i("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(t){e.selectDate("prev-month")}}},[e._v("\n          "+e._s(e.t("el.datepicker.prevMonth"))+"\n        ")]),i("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(t){e.selectDate("today")}}},[e._v("\n          "+e._s(e.t("el.datepicker.today"))+"\n        ")]),i("el-button",{attrs:{type:"plain",size:"mini"},on:{click:function(t){e.selectDate("next-month")}}},[e._v("\n          "+e._s(e.t("el.datepicker.nextMonth"))+"\n        ")])],1)],1):e._e()]),0===e.validatedRange.length?i("div",{key:"no-range",staticClass:"el-calendar__body"},[i("date-table",{attrs:{date:e.date,"selected-day":e.realSelectedDay,"first-day-of-week":e.realFirstDayOfWeek},on:{pick:e.pickDay}})],1):i("div",{key:"has-range",staticClass:"el-calendar__body"},e._l(e.validatedRange,function(t,n){return i("date-table",{key:n,attrs:{date:t[0],"selected-day":e.realSelectedDay,range:t,"hide-header":0!==n,"first-day-of-week":e.realFirstDayOfWeek},on:{pick:e.pickDay}})}),1)])};ah._withStripped=!0;var lh=i(20),ch=i.n(lh),hh=r({props:{selectedDay:String,range:{type:Array,validator:function(e){if(!e||!e.length)return!0;var t=e[0],i=e[1];return Object(pn.validateRangeInOneMonth)(t,i)}},date:Date,hideHeader:Boolean,firstDayOfWeek:Number},inject:["elCalendar"],data:function(){return{WEEK_DAYS:Object(pn.getI18nSettings)().dayNames}},methods:{toNestedArr:function(e){return Object(pn.range)(e.length/7).map(function(t,i){var n=7*i;return e.slice(n,n+7)})},getFormateDate:function(e,t){if(!e||-1===["prev","current","next"].indexOf(t))throw new Error("invalid day or type");var i=this.curMonthDatePrefix;return"prev"===t?i=this.prevMonthDatePrefix:"next"===t&&(i=this.nextMonthDatePrefix),i+"-"+(e=("00"+e).slice(-2))},getCellClass:function(e){var t=e.text,i=e.type,n=[i];if("current"===i){var r=this.getFormateDate(t,i);r===this.selectedDay&&n.push("is-selected"),r===this.formatedToday&&n.push("is-today")}return n},pickDay:function(e){var t=e.text,i=e.type,n=this.getFormateDate(t,i);this.$emit("pick",n)},cellRenderProxy:function(e){var t=e.text,i=e.type,n=this.$createElement,r=this.elCalendar.$scopedSlots.dateCell;if(!r)return n("span",[t]);var o=this.getFormateDate(t,i);return r({date:new Date(o),data:{isSelected:this.selectedDay===o,type:i+"-month",day:o}})}},computed:{prevMonthDatePrefix:function(){var e=new Date(this.date.getTime());return e.setDate(0),ch.a.format(e,"yyyy-MM")},curMonthDatePrefix:function(){return ch.a.format(this.date,"yyyy-MM")},nextMonthDatePrefix:function(){var e=new Date(this.date.getFullYear(),this.date.getMonth()+1,1);return ch.a.format(e,"yyyy-MM")},formatedToday:function(){return this.elCalendar.formatedToday},isInRange:function(){return this.range&&this.range.length},rows:function(){var e=[];if(this.isInRange){var t=this.range,i=t[0],n=t[1],r=Object(pn.range)(n.getDate()-i.getDate()+1).map(function(e,t){return{text:i.getDate()+t,type:"current"}}),o=r.length%7;o=0===o?0:7-o;var s=Object(pn.range)(o).map(function(e,t){return{text:t+1,type:"next"}});e=r.concat(s)}else{var a=this.date,l=Object(pn.getFirstDayOfMonth)(a);l=0===l?7:l;var c="number"==typeof this.firstDayOfWeek?this.firstDayOfWeek:1,h=Object(pn.getPrevMonthLastDays)(a,l-c).map(function(e){return{text:e,type:"prev"}}),u=Object(pn.getMonthDays)(a).map(function(e){return{text:e,type:"current"}});e=[].concat(h,u);var d=Object(pn.range)(42-e.length).map(function(e,t){return{text:t+1,type:"next"}});e=e.concat(d)}return this.toNestedArr(e)},weekDays:function(){var e=this.firstDayOfWeek,t=this.WEEK_DAYS;return"number"!=typeof e||0===e?t.slice():t.slice(e).concat(t.slice(0,e))}},render:function(){var e=this,t=arguments[0],i=this.hideHeader?null:t("thead",[this.weekDays.map(function(e){return t("th",{key:e},[e])})]);return t("table",{class:{"el-calendar-table":!0,"is-range":this.isInRange},attrs:{cellspacing:"0",cellpadding:"0"}},[i,t("tbody",[this.rows.map(function(i,n){return t("tr",{class:{"el-calendar-table__row":!0,"el-calendar-table__row--hide-border":0===n&&e.hideHeader},key:n},[i.map(function(i,n){return t("td",{key:n,class:e.getCellClass(i),on:{click:e.pickDay.bind(e,i)}},[t("div",{class:"el-calendar-day"},[e.cellRenderProxy(i)])])})])})])])}},void 0,void 0,!1,null,null,null);hh.options.__file="packages/calendar/src/date-table.vue";var uh=hh.exports,dh=["prev-month","today","next-month"],fh=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ph=r({name:"ElCalendar",mixins:[p.a],components:{DateTable:uh,ElButton:K.a,ElButtonGroup:G.a},props:{value:[Date,String,Number],range:{type:Array,validator:function(e){return!Array.isArray(e)||2===e.length&&e.every(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date})}},firstDayOfWeek:{type:Number,default:1}},provide:function(){return{elCalendar:this}},methods:{pickDay:function(e){this.realSelectedDay=e},selectDate:function(e){if(-1===dh.indexOf(e))throw new Error("invalid type "+e);var t="";(t="prev-month"===e?this.prevMonthDatePrefix+"-01":"next-month"===e?this.nextMonthDatePrefix+"-01":this.formatedToday)!==this.formatedDate&&this.pickDay(t)},toDate:function(e){if(!e)throw new Error("invalid val");return e instanceof Date?e:new Date(e)},rangeValidator:function(e,t){var i=this.realFirstDayOfWeek,n=t?i:0===i?6:i-1,r=(t?"start":"end")+" of range should be "+fh[n]+".";return e.getDay()===n||(console.warn("[ElementCalendar]",r,"Invalid range will be ignored."),!1)}},computed:{prevMonthDatePrefix:function(){var e=new Date(this.date.getTime());return e.setDate(0),ch.a.format(e,"yyyy-MM")},curMonthDatePrefix:function(){return ch.a.format(this.date,"yyyy-MM")},nextMonthDatePrefix:function(){var e=new Date(this.date.getFullYear(),this.date.getMonth()+1,1);return ch.a.format(e,"yyyy-MM")},formatedDate:function(){return ch.a.format(this.date,"yyyy-MM-dd")},i18nDate:function(){var e=this.date.getFullYear(),t=this.date.getMonth()+1;return e+" "+this.t("el.datepicker.year")+" "+this.t("el.datepicker.month"+t)},formatedToday:function(){return ch.a.format(this.now,"yyyy-MM-dd")},realSelectedDay:{get:function(){return this.value?this.formatedDate:this.selectedDay},set:function(e){this.selectedDay=e;var t=new Date(e);this.$emit("input",t)}},date:function(){if(this.value)return this.toDate(this.value);if(this.realSelectedDay){var e=this.selectedDay.split("-");return new Date(e[0],e[1]-1,e[2])}return this.validatedRange.length?this.validatedRange[0][0]:this.now},validatedRange:function(){var e=this,t=this.range;if(!t)return[];if(2===(t=t.reduce(function(t,i,n){var r=e.toDate(i);return e.rangeValidator(r,0===n)&&(t=t.concat(r)),t},[])).length){var i=t,n=i[0],r=i[1];if(n>r)return console.warn("[ElementCalendar]end time should be greater than start time"),[];if(Object(pn.validateRangeInOneMonth)(n,r))return[[n,r]];var o=[],s=new Date(n.getFullYear(),n.getMonth()+1,1),a=this.toDate(s.getTime()-864e5);if(!Object(pn.validateRangeInOneMonth)(s,r))return console.warn("[ElementCalendar]start time and end time interval must not exceed two months"),[];o.push([n,a]);var l=this.realFirstDayOfWeek,c=s.getDay(),h=0;return c!==l&&(h=0===l?7-c:(h=l-c)>0?h:7+h),(s=this.toDate(s.getTime()+864e5*h)).getDate()<r.getDate()&&o.push([s,r]),o}return[]},realFirstDayOfWeek:function(){return this.firstDayOfWeek<1||this.firstDayOfWeek>6?0:Math.floor(this.firstDayOfWeek)}},data:function(){return{selectedDay:"",now:new Date}}},ah,[],!1,null,null,null);ph.options.__file="packages/calendar/src/main.vue";var mh=ph.exports;mh.install=function(e){e.component(mh.name,mh)};var gh=mh,vh=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-fade-in"}},[e.visible?i("div",{staticClass:"el-backtop",style:{right:e.styleRight,bottom:e.styleBottom},on:{click:function(t){return t.stopPropagation(),e.handleClick(t)}}},[e._t("default",[i("el-icon",{attrs:{name:"caret-top"}})])],2):e._e()])};vh._withStripped=!0;var bh=function(e){return Math.pow(e,3)},_h=r({name:"ElBacktop",props:{visibilityHeight:{type:Number,default:200},target:[String],right:{type:Number,default:40},bottom:{type:Number,default:40}},data:function(){return{el:null,container:null,visible:!1}},computed:{styleBottom:function(){return this.bottom+"px"},styleRight:function(){return this.right+"px"}},mounted:function(){this.init(),this.throttledScrollHandler=Ga()(300,this.onScroll),this.container.addEventListener("scroll",this.throttledScrollHandler)},methods:{init:function(){if(this.container=document,this.el=document.documentElement,this.target){if(this.el=document.querySelector(this.target),!this.el)throw new Error("target is not existed: "+this.target);this.container=this.el}},onScroll:function(){var e=this.el.scrollTop;this.visible=e>=this.visibilityHeight},handleClick:function(e){this.scrollToTop(),this.$emit("click",e)},scrollToTop:function(){var e=this.el,t=Date.now(),i=e.scrollTop,n=window.requestAnimationFrame||function(e){return setTimeout(e,16)};n(function r(){var o,s=(Date.now()-t)/500;s<1?(e.scrollTop=i*(1-((o=s)<.5?bh(2*o)/2:1-bh(2*(1-o))/2)),n(r)):e.scrollTop=0})}},beforeDestroy:function(){this.container.removeEventListener("scroll",this.throttledScrollHandler)}},vh,[],!1,null,null,null);_h.options.__file="packages/backtop/src/main.vue";var yh=_h.exports;yh.install=function(e){e.component(yh.name,yh)};var wh=yh,Ch=function(e,t){return e===window||e===document?document.documentElement[t]:e[t]},Sh=function(e){return Ch(e,"offsetHeight")},xh="ElInfiniteScroll",kh={delay:{type:Number,default:200},distance:{type:Number,default:0},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},Lh=function(e,t){return Object(Aa.isHtmlElement)(e)?(i=kh,Object.keys(i||{}).map(function(e){return[e,i[e]]})).reduce(function(i,n){var r=n[0],o=n[1],s=o.type,a=o.default,l=e.getAttribute("infinite-scroll-"+r);switch(l=Object(Aa.isUndefined)(t[l])?l:t[l],s){case Number:l=Number(l),l=Number.isNaN(l)?a:l;break;case Boolean:l=Object(Aa.isDefined)(l)?"false"!==l&&Boolean(l):a;break;default:l=s(l)}return i[r]=l,i},{}):{};var i},Dh=function(e){return e.getBoundingClientRect().top},Eh=function(e){var t=this[xh],i=t.el,n=t.vm,r=t.container,o=t.observer,s=Lh(i,n),a=s.distance;if(!s.disabled){var l=r.getBoundingClientRect();if(l.width||l.height){var c=!1;if(r===i){var h=r.scrollTop+function(e){return Ch(e,"clientHeight")}(r);c=r.scrollHeight-h<=a}else{c=Sh(i)+Dh(i)-Dh(r)-Sh(r)+Number.parseFloat(function(e,t){if(e===window&&(e=document.documentElement),1!==e.nodeType)return[];var i=window.getComputedStyle(e,null);return t?i[t]:i}(r,"borderBottomWidth"))<=a}c&&Object(Aa.isFunction)(e)?e.call(n):o&&(o.disconnect(),this[xh].observer=null)}}},Nh={name:"InfiniteScroll",inserted:function(e,t,i){var n=t.value,r=i.context,o=Object(pe.getScrollContainer)(e,!0),s=Lh(e,r),a=s.delay,l=s.immediate,c=T()(a,Eh.bind(e,n));(e[xh]={el:e,vm:r,container:o,onScroll:c},o)&&(o.addEventListener("scroll",c),l&&((e[xh].observer=new MutationObserver(c)).observe(o,{childList:!0,subtree:!0}),c()))},unbind:function(e){var t=e[xh],i=t.container,n=t.onScroll;i&&i.removeEventListener("scroll",n)},install:function(e){e.directive(Nh.name,Nh)}},Th=Nh,Oh=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-page-header"},[i("div",{staticClass:"el-page-header__left",on:{click:function(t){e.$emit("back")}}},[i("i",{staticClass:"el-icon-back"}),i("div",{staticClass:"el-page-header__title"},[e._t("title",[e._v(e._s(e.title))])],2)]),i("div",{staticClass:"el-page-header__content"},[e._t("content",[e._v(e._s(e.content))])],2)])};Oh._withStripped=!0;var Mh=r({name:"ElPageHeader",props:{title:{type:String,default:function(){return Object(Ft.t)("el.pageHeader.title")}},content:String}},Oh,[],!1,null,null,null);Mh.options.__file="packages/page-header/src/main.vue";var Ih=Mh.exports;Ih.install=function(e){e.component(Ih.name,Ih)};var Ah=Ih,Ph=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["el-cascader-panel",this.border&&"is-bordered"],on:{keydown:this.handleKeyDown}},this._l(this.menus,function(e,i){return t("cascader-menu",{key:i,ref:"menu",refInFor:!0,attrs:{index:i,nodes:e}})}),1)};Ph._withStripped=!0;var Rh=i(43),Fh=i.n(Rh),Vh=function(e){return e.stopPropagation()},Bh=r({inject:["panel"],components:{ElCheckbox:oi.a,ElRadio:Fh.a},props:{node:{required:!0},nodeId:String},computed:{config:function(){return this.panel.config},isLeaf:function(){return this.node.isLeaf},isDisabled:function(){return this.node.isDisabled},checkedValue:function(){return this.panel.checkedValue},isChecked:function(){return this.node.isSameNode(this.checkedValue)},inActivePath:function(){return this.isInPath(this.panel.activePath)},inCheckedPath:function(){var e=this;return!!this.config.checkStrictly&&this.panel.checkedNodePaths.some(function(t){return e.isInPath(t)})},value:function(){return this.node.getValueByOption()}},methods:{handleExpand:function(){var e=this,t=this.panel,i=this.node,n=this.isDisabled,r=this.config,o=r.multiple;!r.checkStrictly&&n||i.loading||(r.lazy&&!i.loaded?t.lazyLoad(i,function(){var t=e.isLeaf;if(t||e.handleExpand(),o){var n=!!t&&i.checked;e.handleMultiCheckChange(n)}}):t.handleExpand(i))},handleCheckChange:function(){var e=this.panel,t=this.value,i=this.node;e.handleCheckChange(t),e.handleExpand(i)},handleMultiCheckChange:function(e){this.node.doCheck(e),this.panel.calculateMultiCheckedValue()},isInPath:function(e){var t=this.node;return(e[t.level-1]||{}).uid===t.uid},renderPrefix:function(e){var t=this.isLeaf,i=this.isChecked,n=this.config,r=n.checkStrictly;return n.multiple?this.renderCheckbox(e):r?this.renderRadio(e):t&&i?this.renderCheckIcon(e):null},renderPostfix:function(e){var t=this.node,i=this.isLeaf;return t.loading?this.renderLoadingIcon(e):i?null:this.renderExpandIcon(e)},renderCheckbox:function(e){var t=this.node,i=this.config,n=this.isDisabled,r={on:{change:this.handleMultiCheckChange},nativeOn:{}};return i.checkStrictly&&(r.nativeOn.click=Vh),e("el-checkbox",Qs()([{attrs:{value:t.checked,indeterminate:t.indeterminate,disabled:n}},r]))},renderRadio:function(e){var t=this.checkedValue,i=this.value,n=this.isDisabled;return Object(m.isEqual)(i,t)&&(i=t),e("el-radio",{attrs:{value:t,label:i,disabled:n},on:{change:this.handleCheckChange},nativeOn:{click:Vh}},[e("span")])},renderCheckIcon:function(e){return e("i",{class:"el-icon-check el-cascader-node__prefix"})},renderLoadingIcon:function(e){return e("i",{class:"el-icon-loading el-cascader-node__postfix"})},renderExpandIcon:function(e){return e("i",{class:"el-icon-arrow-right el-cascader-node__postfix"})},renderContent:function(e){var t=this.panel,i=this.node,n=t.renderLabelFn;return e("span",{class:"el-cascader-node__label"},[(n?n({node:i,data:i.data}):null)||i.label])}},render:function(e){var t=this,i=this.inActivePath,n=this.inCheckedPath,r=this.isChecked,o=this.isLeaf,s=this.isDisabled,a=this.config,l=this.nodeId,c=a.expandTrigger,h=a.checkStrictly,u=a.multiple,d=!h&&s,f={on:{}};return"click"===c?f.on.click=this.handleExpand:(f.on.mouseenter=function(e){t.handleExpand(),t.$emit("expand",e)},f.on.focus=function(e){t.handleExpand(),t.$emit("expand",e)}),!o||s||h||u||(f.on.click=this.handleCheckChange),e("li",Qs()([{attrs:{role:"menuitem",id:l,"aria-expanded":i,tabindex:d?null:-1},class:{"el-cascader-node":!0,"is-selectable":h,"in-active-path":i,"in-checked-path":n,"is-active":r,"is-disabled":d}},f]),[this.renderPrefix(e),this.renderContent(e),this.renderPostfix(e)])}},void 0,void 0,!1,null,null,null);Bh.options.__file="packages/cascader-panel/src/cascader-node.vue";var Wh=Bh.exports,$h=r({name:"ElCascaderMenu",mixins:[p.a],inject:["panel"],components:{ElScrollbar:F.a,CascaderNode:Wh},props:{nodes:{type:Array,required:!0},index:Number},data:function(){return{activeNode:null,hoverTimer:null,id:Object(m.generateId)()}},computed:{isEmpty:function(){return!this.nodes.length},menuId:function(){return"cascader-menu-"+this.id+"-"+this.index}},methods:{handleExpand:function(e){this.activeNode=e.target},handleMouseMove:function(e){var t=this.activeNode,i=this.hoverTimer,n=this.$refs.hoverZone;if(t&&n)if(t.contains(e.target)){clearTimeout(i);var r=this.$el.getBoundingClientRect().left,o=e.clientX-r,s=this.$el,a=s.offsetWidth,l=s.offsetHeight,c=t.offsetTop,h=c+t.offsetHeight;n.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'+o+" "+c+" L"+a+" 0 V"+c+' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M'+o+" "+h+" L"+a+" "+l+" V"+h+' Z" />\n        '}else i||(this.hoverTimer=setTimeout(this.clearHoverZone,this.panel.config.hoverThreshold))},clearHoverZone:function(){var e=this.$refs.hoverZone;e&&(e.innerHTML="")},renderEmptyText:function(e){return e("div",{class:"el-cascader-menu__empty-text"},[this.t("el.cascader.noData")])},renderNodeList:function(e){var t=this.menuId,i=this.panel.isHoverMenu,n={on:{}};i&&(n.on.expand=this.handleExpand);var r=this.nodes.map(function(i,r){var o=i.hasChildren;return e("cascader-node",Qs()([{key:i.uid,attrs:{node:i,"node-id":t+"-"+r,"aria-haspopup":o,"aria-owns":o?t:null}},n]))});return[].concat(r,[i?e("svg",{ref:"hoverZone",class:"el-cascader-menu__hover-zone"}):null])}},render:function(e){var t=this.isEmpty,i=this.menuId,n={nativeOn:{}};return this.panel.isHoverMenu&&(n.nativeOn.mousemove=this.handleMouseMove),e("el-scrollbar",Qs()([{attrs:{tag:"ul",role:"menu",id:i,"wrap-class":"el-cascader-menu__wrap","view-class":{"el-cascader-menu__list":!0,"is-empty":t}},class:"el-cascader-menu"},n]),[t?this.renderEmptyText(e):this.renderNodeList(e)])}},void 0,void 0,!1,null,null,null);$h.options.__file="packages/cascader-panel/src/cascader-menu.vue";var zh=$h.exports,Hh=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var jh=0,Uh=function(){function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.config=i,this.parent=n||null,this.level=this.parent?this.parent.level+1:1,this.uid=jh++,this.initState(),this.initChildren()}return e.prototype.initState=function(){var e=this.config,t=e.value,i=e.label;this.value=this.data[t],this.label=this.data[i],this.pathNodes=this.calculatePathNodes(),this.path=this.pathNodes.map(function(e){return e.value}),this.pathLabels=this.pathNodes.map(function(e){return e.label}),this.loading=!1,this.loaded=!1},e.prototype.initChildren=function(){var t=this,i=this.config,n=i.children,r=this.data[n];this.hasChildren=Array.isArray(r),this.children=(r||[]).map(function(n){return new e(n,i,t)})},e.prototype.calculatePathNodes=function(){for(var e=[this],t=this.parent;t;)e.unshift(t),t=t.parent;return e},e.prototype.getPath=function(){return this.path},e.prototype.getValue=function(){return this.value},e.prototype.getValueByOption=function(){return this.config.emitPath?this.getPath():this.getValue()},e.prototype.getText=function(e,t){return e?this.pathLabels.join(t):this.label},e.prototype.isSameNode=function(e){var t=this.getValueByOption();return this.config.multiple&&Array.isArray(e)?e.some(function(e){return Object(m.isEqual)(e,t)}):Object(m.isEqual)(e,t)},e.prototype.broadcast=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var r="onParent"+Object(m.capitalize)(e);this.children.forEach(function(t){t&&(t.broadcast.apply(t,[e].concat(i)),t[r]&&t[r].apply(t,i))})},e.prototype.emit=function(e){var t=this.parent,i="onChild"+Object(m.capitalize)(e);if(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t[i]&&t[i].apply(t,r),t.emit.apply(t,[e].concat(r))}},e.prototype.onParentCheck=function(e){this.isDisabled||this.setCheckState(e)},e.prototype.onChildCheck=function(){var e=this.children.filter(function(e){return!e.isDisabled}),t=!!e.length&&e.every(function(e){return e.checked});this.setCheckState(t)},e.prototype.setCheckState=function(e){var t=this.children.length,i=this.children.reduce(function(e,t){return e+(t.checked?1:t.indeterminate?.5:0)},0);this.checked=e,this.indeterminate=i!==t&&i>0},e.prototype.syncCheckState=function(e){var t=this.getValueByOption(),i=this.isSameNode(e,t);this.doCheck(i)},e.prototype.doCheck=function(e){this.checked!==e&&(this.config.checkStrictly?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check")))},Hh(e,[{key:"isDisabled",get:function(){var e=this.data,t=this.parent,i=this.config,n=i.disabled,r=i.checkStrictly;return e[n]||!r&&t&&t.isDisabled}},{key:"isLeaf",get:function(){var e=this.data,t=this.loaded,i=this.hasChildren,n=this.children,r=this.config,o=r.lazy,s=r.leaf;if(o){var a=Object(ze.isDef)(e[s])?e[s]:!!t&&!n.length;return this.hasChildren=!a,a}return!i}}]),e}();var Kh=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=i,this.initNodes(t)}return e.prototype.initNodes=function(e){var t=this;e=Object(m.coerceTruthyValueToArray)(e),this.nodes=e.map(function(e){return new Uh(e,t.config)}),this.flattedNodes=this.getFlattedNodes(!1,!1),this.leafNodes=this.getFlattedNodes(!0,!1)},e.prototype.appendNode=function(e,t){var i=new Uh(e,this.config,t);(t?t.children:this.nodes).push(i)},e.prototype.appendNodes=function(e,t){var i=this;(e=Object(m.coerceTruthyValueToArray)(e)).forEach(function(e){return i.appendNode(e,t)})},e.prototype.getNodes=function(){return this.nodes},e.prototype.getFlattedNodes=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e?this.leafNodes:this.flattedNodes;return t?i:function e(t,i){return t.reduce(function(t,n){return n.isLeaf?t.push(n):(!i&&t.push(n),t=t.concat(e(n.children,i))),t},[])}(this.nodes,e)},e.prototype.getNodeByValue=function(e){if(e){var t=this.getFlattedNodes(!1,!this.config.lazy).filter(function(t){return Object(m.valueEquals)(t.path,e)||t.value===e});return t&&t.length?t[0]:null}return null},e}(),qh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},Gh=bl.a.keys,Yh={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:m.noop,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Xh=function(e){return!e.getAttribute("aria-owns")},Zh=function(e,t){var i=e.parentNode;if(i){var n=i.querySelectorAll('.el-cascader-node[tabindex="-1"]');return n[Array.prototype.indexOf.call(n,e)+t]||null}return null},Qh=function(e,t){if(e){var i=e.id.split("-");return Number(i[i.length-2])}},Jh=function(e){e&&(e.focus(),!Xh(e)&&e.click())},eu=r({name:"ElCascaderPanel",components:{CascaderMenu:zh},props:{value:{},options:Array,props:Object,border:{type:Boolean,default:!0},renderLabel:Function},provide:function(){return{panel:this}},data:function(){return{checkedValue:null,checkedNodePaths:[],store:[],menus:[],activePath:[],loadCount:0}},computed:{config:function(){return $e()(qh({},Yh),this.props||{})},multiple:function(){return this.config.multiple},checkStrictly:function(){return this.config.checkStrictly},leafOnly:function(){return!this.checkStrictly},isHoverMenu:function(){return"hover"===this.config.expandTrigger},renderLabelFn:function(){return this.renderLabel||this.$scopedSlots.default}},watch:{options:{handler:function(){this.initStore()},immediate:!0,deep:!0},value:function(){this.syncCheckedValue(),this.checkStrictly&&this.calculateCheckedNodePaths()},checkedValue:function(e){Object(m.isEqual)(e,this.value)||(this.checkStrictly&&this.calculateCheckedNodePaths(),this.$emit("input",e),this.$emit("change",e))}},mounted:function(){Object(m.isEmpty)(this.value)||this.syncCheckedValue()},methods:{initStore:function(){var e=this.config,t=this.options;e.lazy&&Object(m.isEmpty)(t)?this.lazyLoad():(this.store=new Kh(t,e),this.menus=[this.store.getNodes()],this.syncMenuState())},syncCheckedValue:function(){var e=this.value,t=this.checkedValue;Object(m.isEqual)(e,t)||(this.checkedValue=e,this.syncMenuState())},syncMenuState:function(){var e=this.multiple,t=this.checkStrictly;this.syncActivePath(),e&&this.syncMultiCheckState(),t&&this.calculateCheckedNodePaths(),this.$nextTick(this.scrollIntoView)},syncMultiCheckState:function(){var e=this;this.getFlattedNodes(this.leafOnly).forEach(function(t){t.syncCheckState(e.checkedValue)})},syncActivePath:function(){var e=this,t=this.store,i=this.multiple,n=this.activePath,r=this.checkedValue;if(Object(m.isEmpty)(n))if(Object(m.isEmpty)(r))this.activePath=[],this.menus=[t.getNodes()];else{var o=i?r[0]:r,s=((this.getNodeByValue(o)||{}).pathNodes||[]).slice(0,-1);this.expandNodes(s)}else{var a=n.map(function(t){return e.getNodeByValue(t.getValue())});this.expandNodes(a)}},expandNodes:function(e){var t=this;e.forEach(function(e){return t.handleExpand(e,!0)})},calculateCheckedNodePaths:function(){var e=this,t=this.checkedValue,i=this.multiple?Object(m.coerceTruthyValueToArray)(t):[t];this.checkedNodePaths=i.map(function(t){var i=e.getNodeByValue(t);return i?i.pathNodes:[]})},handleKeyDown:function(e){var t=e.target;switch(e.keyCode){case Gh.up:var i=Zh(t,-1);Jh(i);break;case Gh.down:var n=Zh(t,1);Jh(n);break;case Gh.left:var r=this.$refs.menu[Qh(t)-1];if(r){var o=r.$el.querySelector('.el-cascader-node[aria-expanded="true"]');Jh(o)}break;case Gh.right:var s=this.$refs.menu[Qh(t)+1];if(s){var a=s.$el.querySelector('.el-cascader-node[tabindex="-1"]');Jh(a)}break;case Gh.enter:!function(e){if(e){var t=e.querySelector("input");t?t.click():Xh(e)&&e.click()}}(t);break;case Gh.esc:case Gh.tab:this.$emit("close");break;default:return}},handleExpand:function(e,t){var i=this.activePath,n=e.level,r=i.slice(0,n-1),o=this.menus.slice(0,n);if(e.isLeaf||(r.push(e),o.push(e.children)),this.activePath=r,this.menus=o,!t){var s=r.map(function(e){return e.getValue()}),a=i.map(function(e){return e.getValue()});Object(m.valueEquals)(s,a)||(this.$emit("active-item-change",s),this.$emit("expand-change",s))}},handleCheckChange:function(e){this.checkedValue=e},lazyLoad:function(e,t){var i=this,n=this.config;e||(e=e||{root:!0,level:0},this.store=new Kh([],n),this.menus=[this.store.getNodes()]),e.loading=!0;n.lazyLoad(e,function(n){var r=e.root?null:e;if(n&&n.length&&i.store.appendNodes(n,r),e.loading=!1,e.loaded=!0,Array.isArray(i.checkedValue)){var o=i.checkedValue[i.loadCount++],s=i.config.value,a=i.config.leaf;if(Array.isArray(n)&&n.filter(function(e){return e[s]===o}).length>0){var l=i.store.getNodeByValue(o);l.data[a]||i.lazyLoad(l,function(){i.handleExpand(l)}),i.loadCount===i.checkedValue.length&&i.$parent.computePresentText()}}t&&t(n)})},calculateMultiCheckedValue:function(){this.checkedValue=this.getCheckedNodes(this.leafOnly).map(function(e){return e.getValueByOption()})},scrollIntoView:function(){this.$isServer||(this.$refs.menu||[]).forEach(function(e){var t=e.$el;if(t){var i=t.querySelector(".el-scrollbar__wrap"),n=t.querySelector(".el-cascader-node.is-active")||t.querySelector(".el-cascader-node.in-active-path");Wt()(i,n)}})},getNodeByValue:function(e){return this.store.getNodeByValue(e)},getFlattedNodes:function(e){var t=!this.config.lazy;return this.store.getFlattedNodes(e,t)},getCheckedNodes:function(e){var t=this.checkedValue;return this.multiple?this.getFlattedNodes(e).filter(function(e){return e.checked}):Object(m.isEmpty)(t)?[]:[this.getNodeByValue(t)]},clearCheckedNodes:function(){var e=this.config,t=this.leafOnly,i=e.multiple,n=e.emitPath;i?(this.getCheckedNodes(t).filter(function(e){return!e.isDisabled}).forEach(function(e){return e.doCheck(!1)}),this.calculateMultiCheckedValue()):this.checkedValue=n?[]:null}}},Ph,[],!1,null,null,null);eu.options.__file="packages/cascader-panel/src/cascader-panel.vue";var tu=eu.exports;tu.install=function(e){e.component(tu.name,tu)};var iu=tu,nu=r({name:"ElAvatar",props:{size:{type:[Number,String],validator:function(e){return"string"==typeof e?["large","medium","small"].includes(e):"number"==typeof e}},shape:{type:String,default:"circle",validator:function(e){return["circle","square"].includes(e)}},icon:String,src:String,alt:String,srcSet:String,error:Function,fit:{type:String,default:"cover"}},data:function(){return{isImageExist:!0}},computed:{avatarClass:function(){var e=this.size,t=this.icon,i=this.shape,n=["el-avatar"];return e&&"string"==typeof e&&n.push("el-avatar--"+e),t&&n.push("el-avatar--icon"),i&&n.push("el-avatar--"+i),n.join(" ")}},methods:{handleError:function(){var e=this.error;!1!==(e?e():void 0)&&(this.isImageExist=!1)},renderAvatar:function(){var e=this.$createElement,t=this.icon,i=this.src,n=this.alt,r=this.isImageExist,o=this.srcSet,s=this.fit;return r&&i?e("img",{attrs:{src:i,alt:n,srcSet:o},on:{error:this.handleError},style:{"object-fit":s}}):t?e("i",{class:t}):this.$slots.default}},render:function(){var e=arguments[0],t=this.avatarClass,i=this.size;return e("span",{class:t,style:"number"==typeof i?{height:i+"px",width:i+"px",lineHeight:i+"px"}:{}},[this.renderAvatar()])}},void 0,void 0,!1,null,null,null);nu.options.__file="packages/avatar/src/main.vue";var ru=nu.exports;ru.install=function(e){e.component(ru.name,ru)};var ou=ru,su=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"el-drawer-fade"},on:{"after-enter":e.afterEnter,"after-leave":e.afterLeave}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-drawer__wrapper",attrs:{tabindex:"-1"}},[i("div",{staticClass:"el-drawer__container",class:e.visible&&"el-drawer__open",attrs:{role:"document",tabindex:"-1"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[i("div",{ref:"drawer",staticClass:"el-drawer",class:[e.direction,e.customClass],style:e.isHorizontal?"width: "+e.size:"height: "+e.size,attrs:{"aria-modal":"true","aria-labelledby":"el-drawer__title","aria-label":e.title,role:"dialog",tabindex:"-1"}},[e.withHeader?i("header",{staticClass:"el-drawer__header",attrs:{id:"el-drawer__title"}},[e._t("title",[i("span",{attrs:{role:"heading",tabindex:"0",title:e.title}},[e._v(e._s(e.title))])]),e.showClose?i("button",{staticClass:"el-drawer__close-btn",attrs:{"aria-label":"close "+(e.title||"drawer"),type:"button"},on:{click:e.closeDrawer}},[i("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):e._e()],2):e._e(),e.rendered?i("section",{staticClass:"el-drawer__body"},[e._t("default")],2):e._e()])])])])};su._withStripped=!0;var au=r({name:"ElDrawer",mixins:[y.a,x.a],props:{appendToBody:{type:Boolean,default:!1},beforeClose:{type:Function},customClass:{type:String,default:""},closeOnPressEscape:{type:Boolean,default:!0},destroyOnClose:{type:Boolean,default:!1},modal:{type:Boolean,default:!0},direction:{type:String,default:"rtl",validator:function(e){return-1!==["ltr","rtl","ttb","btt"].indexOf(e)}},modalAppendToBody:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},size:{type:String,default:"30%"},title:{type:String,default:""},visible:{type:Boolean},wrapperClosable:{type:Boolean,default:!0},withHeader:{type:Boolean,default:!0}},computed:{isHorizontal:function(){return"rtl"===this.direction||"ltr"===this.direction}},data:function(){return{closed:!1,prevActiveElement:null}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.appendToBody&&document.body.appendChild(this.$el),this.prevActiveElement=document.activeElement,this.$nextTick(function(){bl.a.focusFirstDescendant(t.$refs.drawer)})):(this.closed||this.$emit("close"),this.$nextTick(function(){t.prevActiveElement&&t.prevActiveElement.focus()}))}},methods:{afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),!0===this.destroyOnClose&&(this.rendered=!1),this.closed=!0)},handleWrapperClick:function(){this.wrapperClosable&&this.closeDrawer()},closeDrawer:function(){"function"==typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},handleClose:function(){this.closeDrawer()}},mounted:function(){this.visible&&(this.rendered=!0,this.open())},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},su,[],!1,null,null,null);au.options.__file="packages/drawer/src/main.vue";var lu=au.exports;lu.install=function(e){e.component(lu.name,lu)};var cu=lu,hu=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-popover",e._b({attrs:{trigger:"click"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},"el-popover",e.$attrs,!1),[i("div",{staticClass:"el-popconfirm"},[i("p",{staticClass:"el-popconfirm__main"},[e.hideIcon?e._e():i("i",{staticClass:"el-popconfirm__icon",class:e.icon,style:{color:e.iconColor}}),e._v("\n      "+e._s(e.title)+"\n    ")]),i("div",{staticClass:"el-popconfirm__action"},[i("el-button",{attrs:{size:"mini",type:e.cancelButtonType},on:{click:e.cancel}},[e._v("\n        "+e._s(e.cancelButtonText)+"\n      ")]),i("el-button",{attrs:{size:"mini",type:e.confirmButtonType},on:{click:e.confirm}},[e._v("\n        "+e._s(e.confirmButtonText)+"\n      ")])],1)]),e._t("reference",null,{slot:"reference"})],2)};hu._withStripped=!0;var uu=i(44),du=i.n(uu),fu=r({name:"ElPopconfirm",props:{title:{type:String},confirmButtonText:{type:String,default:Object(Ft.t)("el.popconfirm.confirmButtonText")},cancelButtonText:{type:String,default:Object(Ft.t)("el.popconfirm.cancelButtonText")},confirmButtonType:{type:String,default:"primary"},cancelButtonType:{type:String,default:"text"},icon:{type:String,default:"el-icon-question"},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1}},components:{ElPopover:du.a,ElButton:K.a},data:function(){return{visible:!1}},methods:{confirm:function(){this.visible=!1,this.$emit("confirm")},cancel:function(){this.visible=!1,this.$emit("cancel")}}},hu,[],!1,null,null,null);fu.options.__file="packages/popconfirm/src/main.vue";var pu=fu.exports;pu.install=function(e){e.component(pu.name,pu)};var mu=pu,gu=[v,D,j,Z,te,oe,ve,xe,Te,Ae,Ue,Xe,et,ot,ct,ft,vt,wt,kt,Ht,jt,Gt,Qt,ii,on,dn,cr,vr,Lr,Mr,Ar,io,so,ho,_o,Do,Oo,Ao,Qo,ns,Ss,Ws,zs,Us,sa,ha,pa,Ea,Ma,Fa,$a,Ua,Za,tl,ol,cl,fl,kl,tc,lc,dc,gc,yc,xc,Ec,Oc,Pc,Bc,Hc,sh,gh,wh,Ah,iu,ou,cu,mu,_e.a],vu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Vt.a.use(t.locale),Vt.a.i18n(t.i18n),gu.forEach(function(t){e.component(t.name,t)}),e.use(Th),e.use(Rs.directive),e.prototype.$ELEMENT={size:t.size||"",zIndex:t.zIndex||2e3},e.prototype.$loading=Rs.service,e.prototype.$msgbox=Qr,e.prototype.$alert=Qr.alert,e.prototype.$confirm=Qr.confirm,e.prototype.$prompt=Qr.prompt,e.prototype.$notify=fs,e.prototype.$message=xa};"undefined"!=typeof window&&window.Vue&&vu(window.Vue);t.default={version:"2.14.1",locale:Vt.a.use,i18n:Vt.a.i18n,install:vu,CollapseTransition:_e.a,Loading:Rs,Pagination:v,Dialog:D,Autocomplete:j,Dropdown:Z,DropdownMenu:te,DropdownItem:oe,Menu:ve,Submenu:xe,MenuItem:Te,MenuItemGroup:Ae,Input:Ue,InputNumber:Xe,Radio:et,RadioGroup:ot,RadioButton:ct,Checkbox:ft,CheckboxButton:vt,CheckboxGroup:wt,Switch:kt,Select:Ht,Option:jt,OptionGroup:Gt,Button:Qt,ButtonGroup:ii,Table:on,TableColumn:dn,DatePicker:cr,TimeSelect:vr,TimePicker:Lr,Popover:Mr,Tooltip:Ar,MessageBox:Qr,Breadcrumb:io,BreadcrumbItem:so,Form:ho,FormItem:_o,Tabs:Do,TabPane:Oo,Tag:Ao,Tree:Qo,Alert:ns,Notification:fs,Slider:Ss,Icon:Ws,Row:zs,Col:Us,Upload:sa,Progress:ha,Spinner:pa,Message:xa,Badge:Ea,Card:Ma,Rate:Fa,Steps:$a,Step:Ua,Carousel:Za,Scrollbar:tl,CarouselItem:ol,Collapse:cl,CollapseItem:fl,Cascader:kl,ColorPicker:tc,Transfer:lc,Container:dc,Header:gc,Aside:yc,Main:xc,Footer:Ec,Timeline:Oc,TimelineItem:Pc,Link:Bc,Divider:Hc,Image:sh,Calendar:gh,Backtop:wh,InfiniteScroll:Th,PageHeader:Ah,CascaderPanel:iu,Avatar:ou,Drawer:cu,Popconfirm:mu}}]).default},zQR9:function(e,t,i){"use strict";var n=i("h65t")(!0);i("vIB/")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},zTCi:function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){if(o.default.prototype.$isServer)return;if(!t)return void(e.scrollTop=0);var i=[],n=t.offsetParent;for(;n&&e!==n&&e.contains(n);)i.push(n),n=n.offsetParent;var r=t.offsetTop+i.reduce(function(e,t){return e+t.offsetTop},0),s=r+t.offsetHeight,a=e.scrollTop,l=a+e.clientHeight;r<a?e.scrollTop=r:s>l&&(e.scrollTop=s-e.clientHeight)};var n,r=i("7+uW"),o=(n=r)&&n.__esModule?n:{default:n}}});
//# sourceMappingURL=vendor.4941ec602ef86fc15adf.js.map